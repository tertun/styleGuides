(function(){function DC(){this.Zr={};this.Nt={}}DC.bu=[];DC.AZ=function(Q){var C=DC.bu;if(C.length!=0){var j=new P(t.E.ym);
for(var Z=0;Z<C.length;Z++)C[Z].Z(j)}window.requestAnimationFrame(DC.AZ)};window.requestAnimationFrame(DC.AZ);
DC.prototype.AY=function(Q){var C=this.Zr[Q];if(C==null)return!1;return C.length>0};DC.prototype.addEventListener=function(Q,C){this.p(Q,C,null)};
DC.prototype.p=function(Q,C,j){if(this.Zr[Q]==null){this.Zr[Q]=[];this.Nt[Q]=[]}this.Zr[Q].push(C);this.Nt[Q].push(j);
if(Q==t.E.ym){var Z=DC.bu;if(Z.indexOf(this)==-1)Z.push(this)}};DC.prototype.removeEventListener=function(Q,C){var j=this.Zr[Q];
if(j==null)return;var Z=j.indexOf(C);if(Z<0)return;var F=this.Nt[Q];j.splice(Z,1);F.splice(Z,1);if(Q==t.E.ym&&j.length==0){var _=DC.bu;
_.splice(_.indexOf(this),1)}};DC.prototype.Z=function(Q){Q.currentTarget=this;if(Q.target==null)Q.target=this;
var C=this.Zr[Q.type];if(C==null)return;var j=this.Nt[Q.type];for(var Z=0;Z<C.length;Z++){if(j[Z]==null)C[Z](Q);
else C[Z].call(j[Z],Q)}};function rA(){DC.call(this);this.ND={};this.Cn={};this.vje=0;this.vzl={};this.vqS=0;
rA.Qi=this}rA.prototype=new DC;rA.vXv=function(Q,C){var j=0,Z=rA.ne;while(j<Z.length){if((C>>>j&1)==1)break;
j++}if(C==0||Z[j][1]==""){if((C&15)!=0&&rA.Ah(Q,[33,126])>.7)j=0;else if(C==0)j=0;else{j=0}}return Z[j][1]};
rA.bk=120;rA.nd=20;rA.cols=16;rA.Tz=function(Q){var C=Q.name.postScriptName;if(C==null)return null;return C.replace(/ /g,"-")};
rA.Ac=function(Q){var C=Q.name,j=C.typoFamilyName?C.typoFamilyName:C.fontFamily,Z=C.typoSubfamilyName?C.typoSubfamilyName:C.fontSubfamily,F=rA.vBS,_=j.toLowerCase();
for(var $=0;$<F.length;$++){if(F[$]=="roman")continue;if(_.endsWith(" "+F[$])||_.endsWith("-"+F[$])){var L=j.length-F[$].length,D=j.slice(L);
j=j.slice(0,L-1);if(D!=""){if(Z=="Regular"||Z==j+" Regular")Z=D;else Z=D+" "+Z}break}}var d="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var $=0;$<d.length;$++)if(j.startsWith(d[$])){var D=j.slice(d[$].length);j=d[$];if(D.startsWith(" ")||D.startsWith("-"))D=D.slice(1);
if(D!=""){if(Z=="Regular")Z=D;else Z=D+" "+Z}break}var o={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},v=o[rA.Tz(Q)];
if(v)Z=v;return[j,Z]};rA.prototype.Xs=function(Q,C){if(this.ND[Q])return this.ND[Q];if(this.Cn[Q])return null;
var j=null,Z=this.am();if(Z[Q]!=null)j=Z[Q][5];if(j==null){var F=rA.vaJ[Q];if(F==null){var _="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),$=Q.toLowerCase(),L=0;
if($.indexOf("sans")!=-1)L=0;else if($.indexOf("serif")!=-1)L=4;var D=$.indexOf("bold")!=-1||$.indexOf("-black")!=-1,d=$.indexOf("italic")!=-1||$.indexOf("oblique")!=-1||$.endsWith("-it");
if(D&&d)L+=3;else if(d)L+=2;else if(D)L+=1;F=_[L]}if(C!=null&&C>128)F=this.Af(C,F);if(this.vzl[Q]==null){this.vzl[Q]=1;
var o=Date.now()-this.vje>2e3?2e3:0;this.vje=Date.now();alert(Q+" \u27A1 "+F,o)}return this.Xs(F,C)}this.Cn[Q]="a";
var v=new P(t.E.m,!0);v.data={$:t.i.PJ,Vh:{url:"rsrc/fonts/"+j}};this.Z(v)};rA.prototype.Af=function(Q,C,j){var Z=this.ND[C];
if(Z&&Typr.U.codeToGlyph(Z,Q)!=0)return C;var F=this.am(),_=rA.vXE(Q),$=_[0];if(F[C]&&(F[C][3]&$)==0){if(j)for(var L=0;
L<j.length;L++){var D=j[L].Name,d=F[D];if(d&&(d[3]&$)!=0)return D}var D=rA.ne[_[1]][4];if(F[D])return D}return C};
rA.vXE=function(Q){var C=rA.ne,j=[0];for(var Z=0;Z<C.length;Z++){var F=C[Z][2];for(var _=0;_<F.length;
_+=2)if(F[_]<=Q&&Q<=F[_+1]){j[0]+=1<<Z;j.push(Z)}}if(j.length==1)j.push(0);return j};rA.prototype.vXo=function(Q,C){if(C!=!0){var j=Date.now()-this.vqS>2e3?2e3:0;
this.vqS=Date.now();alert(rT.get([22,6,0])+" "+Q.name.fullName+" "+rT.get([23,0])+".",j)}var Z=rA.Tz(Q),F=this.am(),_=F[Z],$=rA.vXA(Q);
if(_==null){var L=document.createElement("canvas"),D=L.getContext("2d");L.width=rA.bk;L.height=rA.nd;
var d=rA.nd*1.2/Q.head.unitsPerEm;D.translate(4,rA.nd*.9);D.scale(d,-d);D.fillStyle="#000000";var o=Typr.U.shape(Q,rA.vXv(Q,$[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(Q,o),D);D.fill();$.vqx=L.toDataURL();this.AM($)}delete this.Cn[Z];
this.ND[Z]=Q};rA.vKo=function(){var Q=rA.ne,C=[];for(var j=0;j<Q.length;j++)C.push(Q[j][0]);return C};
rA.ne=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","",[1040,1119],.7,"DejaVuSans"],["Hebrew","",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"]];
rA.vXA=function(Q,C,j){var Z=Q.name,d=0;if(rA.Tz(Q)==null){console.log(Q);throw"No postScriptName!"}var F=rA.ne,_=[];
for(var $=0;$<F.length;$++){var L=F[$][2],D=F[$][3];_[$]=rA.Ah(Q,L)>D?1:0}for(var $=0;$<_.length;$++)d+=_[$]<<$;
var o=rA.Ac(Q);return[o[0],o[1],rA.Tz(Q),d,j,C]};rA.Ah=function(Q,C){var j=0,Z=0;for(var F=0;F<C.length;
F+=2){for(var _=C[F];_<=C[F+1];_++){var $=Typr.U.codeToGlyph(Q,_);if($==0)Z++;else j++}}return j/(j+Z)};
rA.vzW=function(Q,C){if(Q[2]<C[2])return-1;if(Q[2]>C[2])return 1;return 0};rA.vzz=function(Q,C){if(Q[5]=="fs/"+Q[2]+".otf")Q[5]="";
else if(Q[5]=="gf/"+Q[2]+".otf")Q[5]="a";if(Q[2]==(Q[0]+"-"+Q[1]).replace(/\s/g,"")){Q[2]=""}else if(Q[2]==Q[0].replace(/\s/g,"")){Q[2]="a"}if(C){if(Q[0]==C[0])Q[0]="";
if(Q[1]==C[1])Q[1]="";if(Q[3]==C[3])Q[3]="";if(Q[4]==C[4])Q[4]=""}return Q.join(",")};rA.vXn=function(Q,C){Q=Q.split(",");
if(Q[0]=="")Q[0]=C[0];if(Q[1]=="")Q[1]=C[1];if(Q[3]=="")Q[3]=C[3];else Q[3]=parseInt(Q[3]);if(Q[4]=="")Q[4]=C[4];
else Q[4]=parseInt(Q[4]);if(Q[2]=="")Q[2]=(Q[0]+"-"+Q[1]).replace(/\s/g,"");else if(Q[2]=="a")Q[2]=Q[0].replace(/\s/g,"");
if(Q[5]=="")Q[5]="fs/"+Q[2]+".otf";else if(Q[5]=="a")Q[5]="gf/"+Q[2]+".otf";return Q};rA.vaJ={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",Courier:"CourierPrime",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"SFProText-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic","":""};
rA.prototype.am=function(){if(FNTS.map==null){var Q=FNTS.list,C=[];for(var j=0;j<Q.length;j++){C[j]=rA.vXn(Q[j],C[j-1]);
C[j].BW=j;this.AM(C[j])}}return FNTS.map};rA.prototype.AM=function(Q){var C=Q[0],j=Q[1],Z=Q[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[Q[2]]=Q;if(FNTS.mapFS==null)FNTS.mapFS={};var F=FNTS.mapFS[C+"---"+j];FNTS.mapFS[C+"---"+j]=Q;
if(FNTS.mapSub==null)FNTS.mapSub={};var _=FNTS.mapSub[C];if(_==null)_=FNTS.mapSub[C]=[];var $=_.indexOf(j);
if($==-1)_.push(j);else _[$]=j};rA.vam=function(Q,C){return rA.Xm(Q)-rA.Xm(C)};rA.Xm=function(Q){Q=Q.toLowerCase();
var C=rA.vBQ(Q)+(rA.vmR(Q)<<1);if(Q.indexOf("cond")==-1)C+=1<<25;return C};rA.vBQ=function(Q){return Q.indexOf("italic")!=-1||Q.indexOf("oblique")!=-1?1:0};
rA.vBS="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
rA.vmb=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
rA.vmR=function(Q){var C=rA.vmb,j=-1,Z=-1;for(var F=0;F<C.length;F++){var _=C[F];if(_ instanceof Array)for(var $=0;
$<_.length;$++){var L=_[$];if(Q.indexOf(L)!=-1&&(j==-1||Z<L.length)){j=F;Z=L.length}}else if(Q.indexOf(_)!=-1&&(j==-1||Z<_.length)){j=F;
Z=_.length}}if(j==-1)j=8;return j};rA.UO=function(Q,C){var j=1e9,Z=null,F=rA.Xm(C);for(var _=0;_<Q.length;
_++){var $=Math.abs(rA.Xm(Q[_])-F);if($<j){j=$;Z=Q[_]}}return Z};rA.prototype.bp=function(Q,C){this.am();
return FNTS.mapFS[Q+"---"+C]};rA.prototype.Uv=function(Q){this.am();return FNTS.mapSub[Q]};rA.prototype.vmC=function(){this.am();
return FNTS.mapSub};var ra={uJ:0,Tq:null,nM:null,UD:null,U$:null,bE:null,UW:!0,Ur:0,bX:!1},_j=0;ra.un=function(){return ra.ZY()!=null&&ra.ZY()[t.$A("!&|'&50")]*200>Date.now()/5};
ra.FU=function(){return ra.vyF()!=null};ra.ZY=function(){return ra.bE};ra._w=function(Q){window.addEventListener("message",ra.vya,!1);
setInterval(ra.UQ,5e3);if(ra.FU()){ra.Tq=Q;ra.XF()}else setTimeout(Q,1)};ra.UQ=function(){if(ra.FU()&&ra.bX){ra.UK(ra.bG());
ra.bX=!1}};ra.bL=function(Q){ra.Tq=Q;var C="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
ra.UD=window.open(C,"_blank")};ra.vyk=function(){localStorage.removeItem(ra.uJ+"_uid");localStorage.removeItem(ra.uJ+"_provider");
localStorage.removeItem(ra.uJ+"_token");ra.bE=null};ra.vya=function(Q){if(Q.data instanceof ArrayBuffer||Q.data instanceof Object)return;
if(Q.data.charAt(0)!="{")return;var C=JSON.parse(Q.data);if(C.prms==null)return;var j=C.prms.split(",");
if(j[0]=="papi_logged_in"){localStorage[ra.uJ+"_uid"]=j[1];ra.Xy(j[2]);localStorage[ra.uJ+"_provider"]=j[3];
ra.UD.close();ra.XF()}if(j[0]=="payment_complete"){ra.U$.close();ra.XF()}};ra.vyF=function(){var Q=localStorage[ra.uJ+"_token"];
if(Q!=null&&Date.now()*.001+10<parseInt(Q.split("-")[0]))return Q;return null};ra.Xy=function(Q){var C=localStorage[ra.uJ+"_token"];
if(C!=null&&parseInt(Q.split("-")[0])<parseInt(C.split("-")[0]))return;localStorage[ra.uJ+"_token"]=Q;
clearTimeout(ra.Ur);ra.Ur=setTimeout(ra.vxy,Math.min(1e9,parseInt(Q.split("-")[0])*1e3-Date.now()-20*1e3))};
ra.vxy=function(){var Q=new XMLHttpRequest;Q.open("POST","https://www.photopea.com/papi/record_new.php",!0);
Q.onload=ra.vDg;var C=ra.bc()+"&read=2";Q.setRequestHeader("Content-type","application/x-www-form-urlencoded");
Q.send(C)};ra.XF=function(){var Q=new XMLHttpRequest;Q.open("POST","https://www.photopea.com/papi/record_new.php",!0);
Q.onload=ra.vOY;var C=ra.bc()+"&read=1";Q.setRequestHeader("Content-type","application/x-www-form-urlencoded");
Q.send(C)};ra.UK=function(Q){var C=new XMLHttpRequest;C.open("POST","https://www.photopea.com/papi/record_new.php",!0);
C.onload=ra.vDJ;var j=ra.bc()+"&read=0&score=0&spublic="+ra.UW+"&record="+encodeURIComponent(JSON.stringify(Q));
C.setRequestHeader("Content-type","application/x-www-form-urlencoded");C.send(j)};ra.vOY=function(Q){var C=JSON.parse(Q.target.response);
if(C.error){}else{ra.bE=C.user;var j=ra.bG(),Z=C.record;if(C.record){ra.UW=C.spublic;ra.UR(Z)}else if(j)ra.UK(j)}ra.Xy(C.token);
if(ra.Tq){ra.Tq();ra.Tq=null}if(ra.nM){ra.nM();ra.nM=null}};ra.vDg=function(Q){var C=JSON.parse(Q.target.response);
ra.Xy(C.token)};ra.vDJ=function(Q){var C=JSON.parse(Q.target.response);ra.Xy(C.token);if(ra.nM)ra.XF()};
ra.bc=function(){return"app="+ra.uJ+"&uid="+localStorage[ra.uJ+"_uid"]+"&token="+localStorage[ra.uJ+"_token"]};
ra.Ts=function(){return ra.bG()};ra.bh=function(Q,C){ra.UR(Q);ra.bX=!0;if(C){ra.nM=C;ra.UQ()}};ra.bG=function(){var Q=localStorage[ra.uJ+"_stateLocal"],C;
if(Q==null)return null;try{C=JSON.parse(Q)}catch(rG){return null}return C};ra.UR=function(Q){var C=JSON.stringify(Q);
localStorage[ra.uJ+"_stateLocal"]=C};ra.order=function(Q,C,j){ra.Tq=j;var Z="https://www.photopea.com/papi/order.php?ptype="+C+"&param="+Q+"&uid="+localStorage[ra.uJ+"_uid"]+"&token="+localStorage[ra.uJ+"_token"];
ra.U$=window.open(Z,"_blank")};var rT={};rT.XL=0;rT.bw={};rT.Uq=function(Q){var C=LNG.tables,j=C[Q];
if(typeof j=="string"){j=C[Q]=rT.hY(j)}return j};rT.hY=function(Q){var C=[],j=0,Z=0,F=[],_=Q.length;
while(Z!=_){var $=Q[Z];if($=="["){C.push(F);F=[];Z=j=Z+1}else if($=="]"){F.push(j==Z?null:Q.substring(j,Z));
var L=F;F=C.pop();F.push(L);Z=j=Z+1}else if($==";"){if(Q[Z-1]!="]")F.push(j==Z?null:Q.substring(j,Z));
Z=j=Z+1}else Z++}return F};rT.get=function(Q){if(typeof Q=="string")return Q;var C=JSON.stringify(Q),_=0;
if(rT.bw[C]!=null)return rT.bw[C];var j=rT.Uq(0),Z=rT.Uq(rT.XL),F=rT.Ul(Q,Z);if(F==null)F=rT.Ul(Q,j);
for(var $=0;$<Q.length;$++){var L=Q[$];if(typeof L!="number"){var D=rT.get(L),d=F.indexOf("VAR"+_);F=F.slice(0,d)+D+F.slice(d+4);
_++}}return F};rT.Ul=function(Q,C){for(var j=0;j<Q.length;j++){C=C[Q[j]];if(C==null)return null;else if(typeof C=="string")break}return C.split("::")[0]};
rT.vDe=function(){var Q=function(j,Z){var F=j.code,_=Z.code;if(F=="en")return-1;if(_=="en")return 1;
var $=navigator.languages,L=$.indexOf(F)!=-1,D=$.indexOf(_)!=-1;if(L&&D)return F>_?1:-1;if(L)return-1;
if(D)return 1;return F>_?1:-1},C=LNG.langs.slice(0);C.sort(Q);return C};rT.vDn=function(Q){rT.XL=Q};
rT.KD=function(Q){for(var C=0;C<LNG.langs.length;C++)if(LNG.langs[C].code==Q)rT.XL=C};rT.Uk=function(){return LNG.langs[rT.XL].code};
rT.v$Q=function(Q){for(var C=0;C<Q.length;C+=2)rT.bw[JSON.stringify(Q[C])]=Q[C+1]};rT.UJ=function(Q){var C=-1,j=LNG.langs;
for(var Z=0;Z<j.length;Z++)if(j[Z].code==Q)C=Z;return C};var t_={M_:!1};t_.XC=function(){return t.Cp[t.HX("vrt",2)]!=t.Cp[t.HX("xksn",5)]};
t_.KW=function(){var Q=t.$A,C=t.Cp[Q("u#z/*%1:")],j=C[Q("s#{3")],Z=Q("t&|{1%h2.94@I"),F=Q("xy+_)%0+7@qK~<"),_=Q("r$'\x7F+$f.283"),$=Q("#y$)3%f.283"),L=0,D=Q("$y+[145/+AC7"),d=Q("rx*\x7F+3("),o=t.ej("Y_5UDDB>&\x7F");
if(t.Cp[o]!=!0){L=1}var v=C[Z](Q("u}-"));v[D](Q("zx"),d);v[D](Q("$(0&\""),Q("(}{.%ZXVY<GmU@@GHL[$\" #fq7"));
j[_](v);v=C[F](d);if(v==null){L=2}else{if(!j[Q("t#%.~)19")](v)){L=3}else if(Math.round(v[Q("xy+\\,51*2:6uAA@LU6LMa")]()[Q("(}{.%")]-500)>5){L=4}j[$](v)}return L};
t_.v$R=function(){var Q=t.Cp[t.$A("t#% &20")],C=t.Cp[t.$A("$y+n&-(5>@")],j="FQi[VE];;J6@?18',!'*3$|*niu~hgcWhlOUU`LOIT53A-11/)~$'>-cvys~_]k[RQiYHEJMWH@N--E$++|!|~t*hht,{HaWP_NrcLBNWIDN>049?5(+3qq}3$pp{ZjkoMi6UEJCLAQ/.+47-09>Tspy|ru~(xAaVl2Tcm]|LMZ\\",Z=String.fromCharCode(32);
Q(t.ej(j)+Z+Z+t_.KW());if(!ra.un())C(t_.v$R,Math.round(Math.PI*1e4))};t_.v$z=function(Q,C,j,Z,F){t.pi(j);
var _=t.$A,$=_("r$'\x7F+$f.283"),L=_("$y+[145/+AC7"),D=_("rx{_3%1:u5BF:F@P"),d=_("#y'&~#("),o=_("$(0&\""),v=_("$&z"),f=_("r'0( "),U=_("%y/.`/1:.:C"),H=_("u}-"),B=t.Cp[_("u#z/*%1:")],m=_("t&|{1%h2.94@I"),Y=_("$w)#-4"),q="lor<%03.62D4=f?LFrX`aY{]okcwoxz7;54;&14/73E5>gAIVVUMhy{\\dt.kw~:qwC*%/759105DEmrtu~pu+rs\"7!.'lt%>{(/J\"(S:5?GEIA@ETU}#%&/{Z,^(p{~y\"}0 )R+82^DLMEgI[WOc[df#'! 'q| z#~1!*S-5BBA9TegHP`yWcj&]c/upz#!%|{!01Y^`ai\\av^_m#lyrX`p*gsz6ms?&!+315-,1@AinpqygFwJs\\gjemi{kt>v$}J0891S5GC;OGPRnrlkr]hkfnj|lu?x!..-%@QS4<LeCOVqIOza\\fnlphgl{|EJNPTHMbJKYnXe^DL\\uS_f\"Y_+qlv~|!xw|,-UZ^`dS2c6_HSVQYUgW`*boi6{$%|?!3/';3<>Z^XW^ITWRZVhXa+dlyyxp,=? (8Q/;B]5;fMHRZX\\TSXgh16:<A49N67EZDQJ08Ha?KRmEKv]XbjhldchwxAFJLQ?}O\"K4?B=EASCLuN[U\"goph+l~zr'~(*FJDCJ5@C>FBTDMvPXeed\\w)+ks$=z'.I!'R94>FDH@?DST|\"&). %:\"#1F0=6{$4M+7>Y17bIDNVTXPOTcd-269>+i;m7 +.)1-?/8a:GAmS[\\TvXjf^rjsu260/6!,/*2.@09b<DQQPHctvW_o)fry5lr>% *204,+0?@hmrorkp&mn|2{)\"go 9v#*E|#N50:B@D<;@OPx}# #vU'Y#kvyt|x+z$M&3-Y?GH@bDVRJ^V_a}\"{z\"lwzu}y,{%N(0==<4O`bCK[tR^e!X^*pku}{ wv{+,TY^[_W\\qYZh}gtmS[k%bnu1hn:!{&.,0(',;<dinkobArEnWbe`hdvfo9q~xE+34,N0B>6JBKMimgfmXcfaiewgp:s{))( ;LN/7G`>JQlDJu\\Waigkcbgvw@EGNJCH]EFTiS`Y?GWpNZa|TZ&lgqyw{srw'(PUW^ZN-0aZjmFXP\"Yj+**5k7h7o{\"+|\"113<X<6HeJRBOO\\TTdh'kfpxvzrqv&'J-,4V6BS`YCRUTZ${~jmp*fqtows&u~.#3:0-2C`9HImVFOyXd#^jq.my+81)v+;&14/73E5>Yy_JUXS[WiYb}}!'&+K3}),'/+=-6_8E?]}cNY\\W_[m]f0huo..17uz[C=+?OC=,HNVw|~ ( gaPlrz<ACDMD,&t17?`egnjw_JUXS[WiYb,dqk8}&'~A#51)=5>@\\`ZY`TN=Y_g).01:%E+u!$~'#5%.W159?GA2NT\\rt ,'328768:AqVFNSUV_Xb0D?IQOSKJyRabWogfv8190nIKLKBE][,]T^?GWpNZa|TZ&lgqyw{srw'(PUWXaSX`7=@2GW^TQV{^ilgok}mv@&.} &8OSVkS>ILGOK]MV em]_ew/3;t|*z~,(n75C;6D'MBHnr(or]hkfnj|lu?y&{ -)y/?F<9>Ofj es)Xcfaiewgp:r yF,45-O1C?7KCLNjnhgnb\\Kgmu7<>?G3S9$/2-51C3<e?CGMUO@\\bj!#.:5A@FEDFHO dT\\acdlfm>RMW_]aYX(`ope}ut%F?G>|U]ZYPifi:kblMUe~\\ho+bh4zu (&*\"!&56^cefnafnEKN@Uelb_d*lwzu}y,{%N4<,.4F]adyaLWZU]Yk[d.s{kms&=AI#+8)-:6|ECQIDR5[PV|!6}!kvyt|x+z$M(4*.;7(=MTJGL]tx.s\"7fqtows&u~H!.(T:BC;]?QMEYQZ\\x|vu|pjYu{$EJLSOAaG2=@;C?QAJsMQU[c]Njpx/1<HCONTSRTV].rbjoqxtt|L`[emkogf6n}~s,$#3TMUL+igpg^a}wHypz[cs-jv}9pvB)$.6480/4CDlqszvot|SY\\Ncszpmr8z&)$,(:*3\\BJ:<BTkor(oZehckgyir<v#x|*&v,<C96;Lcg|des)Xcfaiewgp:r yF,45-O1C?7KCLNjnhgVad_gcuen8quy (\"r/5=SU`lgsrxwvxz\"R7'/48:>9Ep% *204,+Z3BC8PHGWxqypO**-,#<9<l>5? (8Q/;B]5;fMHRZX\\TSXgh16:<@49Aw}!r(8?527\\?JMHPL^NW!fn^`fx047L{'*%-);+4]7;?EMG8TZbxz&2-98>=<>@Gw\\LTY]_d^g6JEOWUYQP Xgh]uml|>7?6tOORQH]ca2cZdEM]vT`g#Z`,rmw }\"yx}-.V[_afY^f=CF8M]dZW\\\"dormuq$s|F,4$&,>UY\\qALOJRN`PY#\\`djrl]y (>@KWR^]cbacel=\"qy~#&+$-[ojt|z~vuE}-.#;32Bc\\d[:ttwvm#)'W) *jr#<y&-H &Q83=ECG?>CRS{!%(-~$,bhk]r#* |\"G*583;7I9BkQYIKQcz~\"7fqtows&u~H\"&*082#?EMcep|w$#)(')+2bG7?DIFIIR!50:B@D<;jCRSH`XWg)\"*!_::=<3HNL|NEO08Ha?KRmEKv]XbjhldchwxAFKHKDIQ(.1#8HOEBGlOZ]X`\\n^g1v~npv)@DG\\,7:5=9K;DmGKOU]WHdjr)+6B=IHNMLNPW(l\\dinkonwFZU_geia`0hwxm&}|-NGOF%__baXmsqBsjtU]m'dpw3jp<#}(0.2*).=>fkpmqinvMSVH]mtjgl2t #}&\"4$-V<D46<Neil\"Q\\_Zb^p`i3myos!|m#3:0-2CZ^s[^abp&oN",r=t.lE(" u.$%\"86<"),x=t.lE("!#c$,&"),a=t.Cp[r][x];
if(!t_.XC()&&!t_.KW()&&a){var i=t.Cp[_("[gfh")][_("!u)-\"")](t.lE(q)),z=!1;if(!t_.M_){t_.M_=!0;var l=B[_("xy+_)%0+7@BtN,<E/ETO")](_("yyx~"))[0],M=B[m](Y);
M[L](v,i[1]);l[$](M);var M=B[m](Y);M[L](f,f);M[L](v,i[2]);l[$](M);var M=B[m](Y);M[U]=i[3];l[$](M)}var V=i[0],X=[V[F]],O=V[5];
if(F==2){X=[V[3],V[4]];if(C>=3*270+20)X=[V[3],V[4],V[5]];if(C>=4*270+20)X=[V[3],V[4],V[5],V[6]]}for(var y=0;
y<X.length;y++){var K=X[y],R=B[m](H);R[L](_("zx"),K[1]);R[L](o,_("~u)!&.P(8@CABrmnQ\\"));j[$](R);var M=B[m](Y);
M[U]=K[0];R[$](M)}if(F!=0){var W=B[m](H);W[L](o,_("~u)!&.]]9DOb"));W[L](_("zx"),_("$$&(0/59"))}if(z){var R=B[m](H);
R[L](_("zx"),O[1]);R[L](o,_("yy !%4]_Y<Gm"));var M=B[m](Y);M[U]=O[0];return[R,M,$]}}else{var N=[_("z!~I-0\":*8;`EFB")];
for(var y=0;y<N.length;y++){var I=B[m](_("z!~"));I[L](o,_("t))-,2]685=F:Jv"));I[D](_("t  }("),Z,!1);
I[L](v,N[y]);j[$](I)}}};var _n={Zc:0,Tx:{expires_at:0},KQ:[]};_n.Ms=function(Q){if(Q)_n.KQ.splice(0,0,Q);
if(_n.Zc==1)return;if(_n.Tx.expires_at>Date.now()*.001+30){while(_n.KQ.length>0)_n.KQ.pop()()}else{if(_n.Zc==0)_n.Zc=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:_n.Zc==2?!1:!0},_n.v$Y)}};
_n.v$Y=function(Q){if(Q&&!Q.error){_n.Tx=Q;_n.Zc=!1;_n.Ms()}else if(_n.Zc==1){_n.Zc=2;_n.Ms()}else alert("Error: "+Q.error)};
_n.UI=function(){return"access_token="+_n.Tx.access_token+"&token_type="+_n.Tx.token_type};_n.UE=function(){return _n.Tx.token_type+" "+_n.Tx.access_token};
function vX(){}vX.Ua={v$o:["PNG","JPG","SVG","GIF","PDF"],v$G:"EMF WEBP BMP PPM TIFF ICO DDS TGA RAW".split(" ")};
vX.Kl=function(Q){if(!(Q instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var C=new Uint8Array(Q),j=vX.UL,Z,F=0;
while(F<C.length&&(C[F]==9||C[F]==10||C[F]==13||C[F]==32))F++;if(j(C,[56,66,80,83]))Z="psd";if(j(C,[120,218,236]))Z="pxd";
if(j(C,[120,156,220]))Z="pxd";if(j(C,[103,105,109,112,32,120,99,102,32]))Z="xcf";if(j(C,[102,105,103,45,107,105,119,105]))Z="fig";
if(j(C,[137,80,78,71,13,10,26,10]))Z="png";if(j(C,[87,76]))Z="cdr";if(j(C,[82,73,70,70])){var _=Qe.ig(C),$=_.wH;
if($=="WEBP")Z="webp";else if($.slice(0,3)=="CDR")Z="cdr";else Z=$}if(j(C,[70,79,82,77])||j(C,[76,73,83,84])||j(C,[67,65,84,32])){var _=DW.ig(C),$=_.wH;
if($=="ILBM")Z="ilbm";else Z=$}if(j(C,[255,216,255]))Z="jpg";if(j(C,[0,0,0,12,106,80,32,32]))Z="jpg";
if(j(C,[48,0,1,0],4))Z="jpg";if(j(C,[71,73,70,56]))Z="gif";if(j(C,[0,0,0,2,121,102,113,76]))Z="msh";
if(j(C,[0,0,0,3,121,102,113,76]))Z="msh";if(j(C,[0,0,0,16]))Z="atn";if(j(C,[0,1]))Z="aco";if(j(C,[0,2]))Z="aco";
if([0,1].indexOf(C[1])!=-1&&[1,2,3,9,10,11].indexOf(C[2])!=-1&&[0,16,24,32].indexOf(C[7])!=-1)Z="tga";
if(j(C,[0,2,56,66,83,76]))Z="asl";if(j(C,[0,1,0,-1,0,2,0]))Z="abr";if(j(C,[0,2,0,-1,0,2,0]))Z="abr";
if(j(C,[0,6,0,1]))Z="abr";if(j(C,[0,6,0,2]))Z="abr";if(j(C,[0,7,0,2]))Z="abr";if(j(C,[0,9,0,2]))Z="abr";
if(j(C,[0,10,0,2]))Z="abr";if(j(C,[56,66,70,83]))Z="shc";if(j(C,[56,66,80,84]))Z="pat";if(j(C,[56,66,71,82]))Z="grd";
if(j(C,[56,66,84,80]))Z="tpl";if(j(C,[0,4,0,5]))Z="acv";if(j(C,[99,117,115,104]))Z="csh";if(j(C,[0,1,0,0,0]))Z="otf";
if(j(C,[79,84,84,79]))Z="otf";if(j(C,[116,116,99,102]))Z="otf";if(j(C,[68,68,83,32]))Z="dds";if(j(C,[80,86,82,3]))Z="pvr";
if(j(C,[0,0,1,0]))Z="ico";if(j(C,[66,77]))Z="bmp";if(j(C,[80,49]))Z="ppm";if(j(C,[80,50]))Z="ppm";if(j(C,[80,51]))Z="ppm";
if(j(C,[80,52]))Z="ppm";if(j(C,[80,53]))Z="ppm";if(j(C,[80,54]))Z="ppm";if(j(C,[73,73,42,0]))Z="tiff";
if(j(C,[77,77,0,42]))Z="tiff";if(j(C,[70,85,74,73,70,73,76,77]))Z="raf";if(j(C,[112]))Z="lif";if(j(C,[73,73,26,0]))Z="ciff";
if(j(C,[83,81,76,105]))Z="sketch";if(j(C,[80,75])){var L=UZIP.parse(Q,!0);if(L["document.json"])Z="sketch";
else if(L.manifest)Z="xd";else Z="zip"}if(j(C,[123]))Z="json";if(c.o(C,0)==C.length)Z="icc";if(j(C,[35]))Z="icc";
if(j(C,[84,73,84,76]))Z="icc";if(j(C,[60,63,120,109],F)){if(c.qQ(C,"<look>")!=-1)Z="icc";else Z="svg"}if(j(C,[60,115,118,103],F))Z="svg";
if(j(C,[60,33,100,111],F))Z="html";if(j(C,[60,33,68,79],F))Z="html";if(j(C,[37,33])||j(C,[197,208,211,198])){Z="eps"}if(j(C,[37,80,68,70],F))Z="pdf";
if(j(C,[215,205,198,154]))Z="wmf";if(j(C,[1,0,0,0]))Z="emf";if(j(C,[239,187,191]))Z="jsx";if(j(C,[10,10,10,10]))Z="jsx";
if(Z==null&&e.raw.zi(C.length)!=null)return"tiff";return Z};vX.UL=function(Q,C,j){if(j==null)j=0;for(var Z=0;
Z<C.length;Z++)if(C[Z]!=-1&&Q[j+Z]!=C[Z])return!1;return!0};vX.Xo=function(Q){return vX[Q.toUpperCase()]};
vX.hf=function(Q){var C=vX.Ua.v$o,j=vX.Ua.v$G,Z,F=[];if(Q==null)Z=C.concat(j);else Z=Q==0?C:j;for(var Q=0;
Q<Z.length;Q++)if(vX[Z[Q]].pU)F.push(Z[Q]);return F};vX.Kj=function(Q,C,j,Z,F){var _=vX.Md(Q,C,j,Z,F),$=vX.UY(_);
return $.buffer};vX.UY=function(Q){var C=atob(Q.split(",").pop()),j=new Uint8Array(C.length);for(var Z=0;
Z<C.length;Z++)j[Z]=C.charCodeAt(Z);return j};vX.Md=function(Q,C,j,Z,F,_){if(!(Q instanceof ArrayBuffer))throw"e";
if(Z==null)Z="png";if(Z=="png"&&_==!0){var $=vX.PNG.pU([[Q,0]],C,j);return"data:image/png;base64,"+vX.XA($)}var L=vX.zm;
if(L==null)L=vX.zm=t.e("canvas");if(L.width!=C||L.height!=j){L.width=C;L.height=j}var D=L.getContext("2d"),d=new ImageData(new Uint8ClampedArray(Q,0,C*j*4),C,j);
D.putImageData(d,0,0);return L.toDataURL("image/"+Z,F)};vX.vrO=function(Q,C,j,Z,F){if(F==null)F=0;var _="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",$="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+_+"<g transform=\"translate(64 64) scale("+.25*Math.round(t.s())+")\">";
if(Q==1)$+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
$+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+F+")\" xlink:href=\""+C+"\" x=\""+80*j+"\" y=\""+80*Z+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var L=new Uint8Array($.length);c.GX($,L,0);var D="data:image/svg+xml;base64,"+vX.XA(L.buffer);return{WV:D,z:new s(0,0,128,128),_H:new Wn(64,64)}};
vX.XA=function(Q){var C=new Uint8Array(Q),j="";for(var Z=0;Z<C.length;Z++)j+=String.fromCharCode(C[Z]);
return btoa(j)};vX.Uf=function(Q){var C=[],j=[];for(var Z=0;Z<Q.k.length;Z++){var F=Q.k[Z];if(F.getName().slice(0,3)=="_a_"){C.push(Z);
j.push(F.ow())}}return[C,j]};vX.TZ=function(Q,C,j,Z,F,_){if(j==null)j=Q.W;if(Z==null)Z=Q.C;C=C.toUpperCase();
var $=vX[C],L;if($.xG){Q.ln();L=$.pU(Q,j,Z,F,_)}else{var D=vX.Uf(Q),d=D[0],o=D[1];if(d.length<2){var v;
if(j==Q.W&&Z==Q.C)v=Q.ln().buffer;else{var f=G.S.Ia([Q.ln(),new s(0,0,Q.W,Q.C)],new rI(j/(Q.W+.001),0,0,Z/(Q.C+.001),0,0));
v=f.buffer.buffer}L=$.pU([[v,0,Q.zn,Q.vh]],j,Z,F)}else{var U=[];for(var H=0;H<d.length;H++){var B=d[H],v;
for(var m=0;m<d.length;m++)Q.k[d[m]].yh(d[m]==B);Q.Ed();Q.X();Q.GV();if(j==Q.W&&Z==Q.C)v=Q.ln().buffer.slice(0);
else{var f=G.S.Ia([Q.ln(),new s(0,0,Q.W,Q.C)],new rI(j/(Q.W+.001),0,0,Z/(Q.C+.001),0,0));v=f.buffer}var Y=Q.k[B].getName().split(",");
U.push([v,Y[1]?parseInt(Y[1]):50,Q.zn,Q.vh])}for(var H=0;H<d.length;H++)Q.k[d[H]].yh(o[H]);Q.X();Q.GV();
if(F){var q=F.length,r=F[q-1],x=F[q-3]/100;if(x!=1)for(var H=0;H<U.length;H++)U[H][1]=Math.round(U[H][1]/x);
if(r)U.reverse()}L=$.pU(U,j,Z,F)}}return L};vX.PNG={};vX.PNG.pU=function(Q,C,j,Z){if(Z==null)Z=[100,!1,0,0,0];
var F={sRGB:1,loop:Z[3]};if(Q[0][2]!=null){var _=Math.round(Q[0][2]*(1e4/254));F.pHYs=[_,_,1]}var $=Z[0],L=$==100?0:Math.max(2,Math.floor($*5));
if(L==5)L=4;var D=[],d=[];for(var o=0;o<Q.length;o++){D.push(Q[o][0]);d.push(Q[o][1])}var v=UPNG.encode(D,C,j,L,d,F,Z[1]);
return v};vX.PNG.vrQ=function(Q,C,j){return UPNG.encodeLL([Q],C,j,3,1,8)};vX.PNG.aJ=function(Q){var C=Date.now(),j=UPNG.decode(Q),Z=UPNG.toRGBA8(j),F=j.width,_=j.height,$=0;
if(j.tabs.pHYs)$=Math.round(j.tabs.pHYs[0]*254/1e4);if(Z.length==1)return[{Rm:new s(0,0,F,_),data:Z[0],zn:$}];
var L=[];for(var D=0;D<Z.length;D++){L.push({Nj:"_a_frm"+D+","+j.frames[D].delay,Rm:new s(0,0,F,_),data:Z[D],zn:$})}return L};
vX.PPM={};vX.PPM.pU=function(Q,C,j,Z){var F=new Uint8Array(Q[0][0]),_=C*j,$=_*3,L="P6\n"+C+" "+j+"\n255\n",D=L.length,d=e.Q(D+$,!0);
for(var o=0;o<D;o++)d[o]=L.charCodeAt(o);for(var o=0;o<_;o++){var v=o*4,f=o*3+D;d[f]=F[v];d[f+1]=F[v+1];
d[f+2]=F[v+2]}return d.buffer};vX.PPM.aJ=function(Q){Q=new Uint8Array(Q);var C=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],j=0,Z=String.fromCharCode(Q[0])+String.fromCharCode(Q[1]),F=[],_=0,$=Z=="P1"||Z=="P4"?2:3;
for(j=2;j<Q.length;j++){var L=Q[j],D=String.fromCharCode(L);if(L=="#".charCodeAt(0)){while(Q[j]!="\n".charCodeAt(0))j++;
continue}var d=C.indexOf(L)!=-1;if(_==0&&!d){F.push(D);_=1;continue}if(_==1&&!d){F[F.length-1]+=D;continue}if(_==1&&d){_=0;
if(F.length==$)break;continue}}var o=parseInt(F[0]),v=parseInt(F[1]),f=o*v*4,U=Z=="P1"||Z=="P4"?1:255/parseInt(F[2]),H=e.Q(f);
if(Z=="P1"||Z=="P2"||Z=="P3"){var B="",m=0,_=0,Y="#".charCodeAt(0);for(var q=j;q<Q.length;q++){var L=Q[q],D=String.fromCharCode(L),d=C.indexOf(L)!=-1;
if(L==Y){while(Q[q]!="\n".charCodeAt(0))q++}else if(_==0&&!d){B=D;_=1}else if(_==1){if(d){_=0;var r=parseInt(B);
B="";if(Z=="P1"){H[m]=H[m+1]=H[m+2]=(1-r)*255;H[m+3]=255;m+=4}if(Z=="P2"){H[m]=H[m+1]=H[m+2]=Math.round(r*U);
H[m+3]=255;m+=4}if(Z=="P3"){H[m]=Math.round(r*U);m++;if((m&3)==3){H[m]=255;m++}}}else B+=D}}}var x=o*v;
if(Z=="P4")for(var a=0;a<v;a++){var i=a*8*Math.ceil(o/8);for(var l=0;l<o;l++){var q=i+l,M=Q[j+1+(q>>3)];
M=M>>7-(q&7)&1;var z=a*o+l<<2;H[z]=H[z+1]=H[z+2]=(1-M)*255;H[z+3]=255}}if(Z=="P5")for(var q=0;q<x;q++){var z=4*q;
H[z]=H[z+1]=H[z+2]=Math.round(Q[j+1+q]*U);H[z+3]=255}if(Z=="P6")for(var q=0;q<x;q++){var z=4*q,V=j+1+3*q;
H[z]=Math.round(Q[V]*U);H[z+1]=Math.round(Q[V+1]*U);H[z+2]=Math.round(Q[V+2]*U);H[z+3]=255}return[{Rm:new s(0,0,o,v),data:H.buffer}]};
vX.DDS={};vX.DDS.pU=function(Q,C,j,Z){var F=new Uint8Array(Q[0][0]);if((C&3)!=0||(j&3)!=0){var _=C+(4-(C&3)),$=j+(4-(j&3)),L=new Uint8Array(_*$*4);
e.kM(L,4278190080);e.tW(F,new s(0,0,C,j),L,new s(0,0,_,$));F=L;C=_;j=$}return UTEX.DDS.encode(F.buffer,C,j)};
vX.DDS.aJ=function(Q){var C=UTEX.DDS.decode(Q)[0];return[{Rm:new s(0,0,C.width,C.height),data:C.image}]};
vX.JPG={};vX.JPG.pU=function(Q,C,j,Z){if(Z==null)Z=[70];var F=Q[0],_=new Uint8Array(F[0]);if(e.ai(_)){var $=new Uint8Array(_.length),L=new s(0,0,C,j);
e.kM($,4294967295);e.B.hW("norm",_,L,$,L,L,1);_=$}var D=new Uint8Array(vX.Kj(_.buffer,C,j,"jpeg",Z[0]/100));
if(F[2]!=null){var d=vX.JPG.Kz(D)[224][0]+2;d+=9;D[d]=1;c.cj(D,d+1,F[2]);c.cj(D,d+3,F[2])}if(F[3]!=null&&Z[1]==!0&&Object.keys(F[3]).length!=0){var o=$X.pO(F[3]),v=new Uint8Array(UTIF.encode([o])),f=4+6+v.length,U="http://ns.adobe.com/xap/1.0/",H=$X.vtp(F[3]),B=c.WH(H),m=4+U.length+1+B.length,Y=f+m,q=new Uint8Array(D.length+Y),x=20;
for(var r=0;r<20;r++)q[r]=D[r];for(var r=20;r<D.length;r++)q[r+Y]=D[r];q[x]=255;q[x+1]=225;c.cj(q,x+2,f-2);
c.Tp(q,x+4,"Exif");for(var r=0;r<v.length;r++)q[x+10+r]=v[r];x+=f;q[x]=255;q[x+1]=225;c.cj(q,x+2,m-2);
c.Tp(q,x+4,U);for(var r=0;r<B.length;r++)q[x+4+U.length+1+r]=B[r];D=q}return D.buffer};vX.JPG.Kz=function(Q){var C=0,j=[];
while(C<Q.length){while(Q[C]==255)C++;var Z=Q[C];C++;if(j[Z]==null)j[Z]=[];j[Z].push(C-2);if(Z==216)continue;
if(Z==217)break;if(224<=Z&&Z<=239||Z==218||Z==219||Z==192||Z==194||Z==196||Z==221||Z==254){var F=c.bS(Q,C);
C+=F;if(Z==218)while(Q[C]!=255||(Q[C+1]==0||208<=Q[C+1]&&Q[C+1]<=215))C++;continue}console.log("unknown marker ",Z.toString(16),C);
break}if(j[217]==null){console.log("EOI marker missing");var _=Q.length-2;Q[_]=255;Q[_+1]=217;j[217]=[_]}return j};
vX.JPG.vrk=function(Q){Q=new Uint8Array(Q);if(Q[0]!=255)return Q.buffer;var C=vX.JPG.UH(Q,vX.JPG.Kz(Q));
if(C.numComponents!=4)return Q.buffer;var j=C.width,Z=C.height,F=vX.JPG.UA(C,!0);return vX.JPG.pU([[F[0].data]],j,Z,[85])};
vX.JPG.UH=function(Q,C){var j=new PDFJS.JpegImage;j.parse(Q);var Z=C[225];if(Z)for(var F=0;F<Z.length;
F++)vX.JPG.vrE(Q,Z[F]+2,j);var _=C[217][0]+2;if(_!=Q.length)j.suffix=Q.slice(_);return j};vX.JPG.vrE=function(Q,C,j){var Z=C,F=c.bS(Q,Z);
Z+=2;var _=c.hX(Q,Z,4);if(_=="Exif"){Z+=6;var $=Q.slice(Z,Z+F-8);j.exif=UTIF.decode($.buffer,{parseMN:!1,debug:!1})}else if(_=="http"){var L=0;
while(Q[Z+L]!=0)L++;var D=c.hX(Q,Z,L);Z+=L+1;if(D=="http://ns.adobe.com/xmp/extension/"){var d=c.hX(Q,Z,32);
Z+=32;Z+=8;var o=C+F-Z;while(Q[Z+o-1]==0)o--;if(j.xmp_extn==null)j.xmp_extn="";try{j.xmp_extn+=c.hI(Q,Z,o)}catch(rG){}}else if(D=="http://ns.adobe.com/xap/1.0/"){var v=c.hI(Q.slice(Z,Z+F-L-3));
if(v[0]=="?")v="<"+v;j.xmp=v}}else console.log(_)};vX.JPG.UA=function(Q,C){var j=Q.width,Z=Q.height,F=j*Z,_=Q.getData({width:j,height:Z,forceRGB:!0,isSourcePDF:C}),$=72,L,D=[j,Z,1,0,0,0,1,0];
if(Q.jfif&&Q.jfif.densityUnits!=0)$=Math.round([72,1,2.54][Q.jfif.densityUnits]*Q.jfif.xDensity);else if(Q.exif&&Q.exif[0].t282!=null){var d=Q.exif[0].t282[0];
$=d[0]/d[1]}if(Q.exif){var o=Q.exif;L=$X.yr(o[0]);var v=o[0].t274;if(v)v=v[0];if(v!=null&&v>1&&v<20)D=e.raw.QJ(v,j,Z)}if(Q.xmp){L=$X.vQt(Q.xmp,L)}var f=e.Q(F*4);
for(var U=0;U<F;U++){var H=U<<2,B=H-U;f[H]=_[B];f[H+1]=_[B+1];f[H+2]=_[B+2];f[H+3]=255}var m=[{Rm:new s(0,0,j,Z),data:f.buffer,zn:$,vh:L}],L=Q.xmp_extn;
if(L){var Y=new DOMParser,q=Y.parseFromString(L,"image/svg+xml"),q=q.children[0].children[0].children[0],r=[q.getAttribute("GImage:Data"),q.getAttribute("GDepth:Data")];
for(var U=0;U<r.length;U++)if(r[U]){var x=atob(r[U]),a=new Uint8Array(x.length);c.Tp(a,0,x);a=a.buffer;
var i=vX.Kl(a),l=vX.Xo(i).aJ(a);m.push(l[0])}}if(Q.suffix){var M=Q.suffix,z=c.hX(M,4,4),V=c.qQ(M,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(vX.UL(M,[0,0,1,10,14,0,0,0])){var X=0;while(X!=M.length){var O=c.Ir(M,X+2);X+=4;var y={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[O];
if(y!=null){var K=c.BQ(M,X);X+=4;var R=c.hX(M,X,K);X+=K;var W=c.hX(M,X,y);X+=y;if(O==2608){var N=c.o(M,X+24);
X+=N+24;var I=c.o(M,X);X+=I;alert("Photopea found a "+Wc._W(N)+" MP4 video inside your image.",4e3)}}else if(O==18502){while(c.hX(M,X,4)!="SEFT")X+=4;
X+=4}else{break;console.log(c.FK(M,X,128));console.log(M.slice(X));throw O.toString(16)}}}else if(z=="ftyp"){alert("Photopea found a "+Wc._W(M.length)+" MP4 video inside your image.",4e3)}else if(c.hX(M,0,4)=="fixe"){alert("Unknown data - "+M.length+" B - at the end of the file",3e3);
var X=4,T=c.BQ(M,X);X+=4;var h=c.BQ(M,X);X+=4;var p=c.BQ(M,X);X+=4;console.log(T,h,p,M.slice(X,X+84));
X+=84;var u=c.hX(M,X,32);X+=32;X+=8;var u=c.hX(M,X,32);X+=32}else if(c.hX(M,8,13)=="FocusShot_Map"){var g=c.o(M,0),A=c.BQ(M,4),a=e.Q(F*4),w=e.Q(F*4);
for(var r$=0;r$<Z;r$++)for(var rW=0;rW<j;rW++){var U=r$*j+rW,H=U<<2,J=8+13+((r$>>>1)*j+rW>>>1),rr=M[J],r_=M[J+(F>>>2)];
a[H]=a[H+1]=a[H+2]=rr;a[H+3]=255;w[H]=w[H+1]=w[H+2]=r_;w[H+3]=255}m.push({Rm:new s(0,0,j,Z),data:a.buffer},{Rm:new s(0,0,j,Z),data:w.buffer})}else if(z=="edof"){var v=M[8+7];
console.log(v.toString(16));var X=8+16,rO=c.Ir(M,X),k=c.Ir(M,X+2),F=rO*k;X+=4;X+=32+16;var rv=e.Q(F*4);
for(var U=0;U<F;U++){var H=U<<2;rv[H]=rv[H+1]=rv[H+2]=M[X+U];rv[H+3]=255}if(v==16){}else if(v==19){var rb=rv.slice(0);
e.V.ik(rv,rb,rO,k);var rt=rO;rO=k;k=rt;e.V.vS_(rb,rv,rO,k)}else throw"Unknown orientation of a depth map";
m.push({Rm:new s(0,0,rO,k),data:rv.buffer})}else if(V!=-1&&!(M[0]==255&&M[1]==129)){try{if(V!=0)M=M.slice(V);
var l=vX.Xo("jpg").aJ(M.buffer);for(var U=0;U<l.length;U++)m.push(l[U])}catch(rG){}}}if(m.length>1){var rK=m[0].Rm;
m[0].Nj="Main";for(var U=1;U<m.length;U++){var rR=m[U].Rm;if(!rR.gm(rK)){var ri=rK.W/rR.W,ru=rK.C/rR.C,rS=new rI;
rS.scale(ri,ru);var rg=G.S.pI([new Uint8Array(m[U].data),rR],1,e.V.ij(rS));m[U]={Rm:rg.rect,data:rg.buffer}}m[U].Nj=U==1&&m.length==3?"Original":"Depth Map"}}if(D[2]!=1||D[6]!=1)for(var U=0;
U<m.length;U++){var rd=m[U],vO=new Uint8Array(rd.data),j=rd.Rm.W,Z=rd.Rm.C,rO=D[0],k=D[1],f=e.Q(rO*k*4);
for(var r$=0;r$<k;r$++)for(var rW=0;rW<rO;rW++){var ri=D[2]*rW+D[3]*r$+D[4],ru=D[5]*rW+D[6]*r$+D[7],B=r$*rO+rW<<2,J=ru*j+ri<<2;
f[B]=vO[J+0];f[B+1]=vO[J+1];f[B+2]=vO[J+2];f[B+3]=vO[J+3]}rd.Rm=new s(0,0,rO,k);rd.data=f.buffer}return m};
vX.JPG.aJ=function(Q,C,j){Q=new Uint8Array(Q);if(Q[0]==255){var Z=vX.JPG.Kz(Q);if(Z[195]==null){var F=vX.JPG.UH(Q,Z),_=vX.JPG.UA(F,!1);
return _}var $=c.bS(Q,Z[195][0]+5),L=c.bS(Q,Z[195][0]+7),D=UTIF.LosslessJpegDecode(Q),d=L*$,o=e.Q(d*4);
for(var v=0;v<d;v++){var f=v<<2,U=f-v;o[f]=D[U];o[f+1]=D[U+1];o[f+2]=D[U+2];o[f+3]=255}return[{Rm:new s(0,0,L,$),data:o.buffer}]}else if(Q[0]==0&&Q[4]==48&&Q[6]==1){var H=Q,F=new PDFJS.Jbig2Image,B=[];
if(C)B.push({data:C,start:0,end:C.length});B.push({data:H,start:0,end:H.length});var D=F.parseChunks(B);
if(!j)for(var v=0;v<D.length;v++)D[v]=~D[v];var L=c.o(Q,11),$=c.o(Q,15),m=Math.ceil(L/8),Y=e.Q(L*$*4);
for(var q=0;q<$;q++){var r=q*m;for(var x=0;x<L;x++){var f=(q*L+x)*4,a=D[r+(x>>>3)]>>>7-(x&7)&1,i=a*255;
Y[f]=i;Y[f+1]=i;Y[f+2]=i;Y[f+3]=255}}return[{Rm:new s(0,0,L,$),data:Y.buffer}]}else{var F=new PDFJS.JpxImage;
F.parse(Q);var L=F.width,$=F.height,l=F.tiles,M=F.componentsCount,z=new Uint8Array(L*$*4),V=new s(0,0,L,$);
for(var F=0;F<l.length;F++){var X=l[F],O=X.width,y=X.height,K=O*y,_j=X.items,R=new s(X.left,X.top,O,y),W=new Uint8Array(K*4);
if(M==1)for(var v=0;v<K;v++){var N=_j[v],f=v*4;W[f]=N;W[f+1]=N;W[f+2]=N;W[f+3]=255}else if(M==3)for(var v=0;
v<K;v++){var U=v*3,f=v*4;W[f]=_j[U];W[f+1]=_j[U+1];W[f+2]=_j[U+2];W[f+3]=255}else console.log("Unknown number of components: "+M);
e.tW(W,R,z,V)}return[{Rm:V,data:z.buffer}]}};vX.WEBP={};vX.WEBP.pU=function(Q,C,j,Z){if(Z==null)Z=[70,0,0,0];
var F=Z[0]/100,D=0;if(Q.length==1)return vX.Kj(Q[0][0],C,j,"webp",F);var _=c.JQ,$=c.I_,L=new _f;_(L,D,"RIFF    WEBPVP8X");
D+=16;$(L,D,10);D+=4;$(L,D,18);D+=4;$(L,D,C-1);D+=3;$(L,D,j-1);D+=3;_(L,D,"ANIM");D+=4;$(L,D,6);D+=4;
L.JW(D,4);L.data[D+3]=255;c.sl(L,D+4,Z[2]);D+=6;var d=[];for(var o=0;o<Q.length;o++){d.push(Q[o][0])}var v=UPNG.encode.compress(d,C,j,F==1?0:Math.max(2,Math.floor(F*500)),[!1,!0,!0,0,!0]).frames,f=new WebPDecoder;
for(var o=0;o<Q.length;o++){_(L,D,"ANMF");D+=4;var U=D;D+=4;var H=v[o],B=H.rect,m=[B.x>>>1,B.y>>>1,B.width-1,B.height-1,Q[o][1]];
for(var Y=0;Y<5;Y++)$(L,D+3*Y,m[Y]);D+=15;L.JW(D,1);L.data[D]=1-H.blend<<1|H.dispose;D++;var q=new Uint8Array(vX.Kj(H.img.buffer,B.width,B.height,"webp",1)),r=Qe.ig(q.buffer).sub,x=c.hX(q,12,4);
if(x!="VP8L"&&x!="VP8 "&&x!="VP8X")throw"e";var a=x=="VP8 "?0:x=="VP8L"?12:30,i=q.length-a;L.JW(D,i);
for(var Y=0;Y<i;Y++)L.data[D+Y]=q[a+Y];D+=i;var l=D-U-4;$(L,U,l);if((l&1)==1){L.JW(D,1);D++}}$(L,4,D-8);
return L.data.slice(0,D).buffer};vX.WEBP.aJ=function(Q){var C=new Uint8Array(Q),j=vX.WEBP.vrL(C),Z=vX.WEBP.vra,F=new WebPDecoder,_=Qe.ig(Q).sub;
if(_[0].rw!="VP8X")return[Z(F,j,_[0])];var $={};for(var L=0;L<_.length;L++)$[_[L].rw]=_[L];if($.ANIM==null){var D=$.ALPH?"ALPH":$["VP8 "]?"VP8 ":"VP8L";
return[Z(F,j,{f:$[D].f-8})]}var d=$.VP8X.f,o=1+(c.BQ(C,d+4)&16777215),v=1+(c.BQ(C,d+7)&16777215),f=[],U=new s(0,0,o,v),H=e.Q(o*v*4);
for(var L=0;L<_.length;L++){var B=_[L];if(B.rw!="ANMF")continue;var m=[];for(var Y=0;Y<5;Y++)m.push(c.BQ(C,B.f+Y*3)&16777215);
var q=new s(m[0]*2,m[1]*2,m[2]+1,m[3]+1),r=m[4],x=Z(F,j,{f:B.f+16}),a=new Uint8Array(x.data),i=C[B.f+15];
if(i>>>1==0)e.B.hW("norm",a,q,H,U,q,1);else e.tW(a,q,H,U);f.push({Nj:"_a_"+f.length+","+r,Rm:U.clone(),data:H.buffer.slice(0)});
if((i&1)==1){e.kM(a,0);e.tW(a,q,H,U)}}return f};vX.WEBP.vra=function(Q,C,j){var Z=[0],F=[0],_=Q.WebPDecodeRGBA(C,j.f,C.length-j.f,Z,F),$=_.length,L=new Uint8Array($);
for(var D=0;D<$;D++)L[D]=_[D];return{Rm:new s(0,0,Z[0],F[0]),data:L.buffer}};vX.WEBP.vrL=function(Q){var C=[],j=Q.length;
for(var Z=0;Z<j;Z++)C.push(Q[Z]);return C};vX.BMP={};vX.BMP.pU=function(Q,C,j,Z){var F=new Uint8Array(Q[0][0]),_=!1,$={fA:C,NE:j,NK:1,Nz:_?32:24,iN:_?3:0,vie:0},L=4*Math.floor(($.Nz*$.fA+31)/32),d=0;
$.size=L*$.NE+2;var D=new _f;c.JQ(D,d,"BM");d+=2;c.I_(D,d,L*j+16+40);d+=4;c.I_(D,d,0);d+=4;c.I_(D,d,54);
d+=4;D.JW(d,40);c.I_(D,d,40);d+=4;vX.BMP.v_s(D.data,d,$,L);d+=36;D.JW(d,L*j);for(var o=0;o<j;o++){var v=d+(j-1-o)*L;
for(var f=0;f<C;f++){var U=(o*C+f)*4,H=F[U+3]*(1/255);if(_){D.data[v+f*4+2]=F[U];D.data[v+f*4+1]=F[U+1];
D.data[v+f*4+0]=F[U+2];D.data[v+f*4+3]=F[U+3]}else{D.data[v+f*3+2]=F[U];D.data[v+f*3+1]=F[U+1];D.data[v+f*3+0]=F[U+2]}}}d+=L*j+2;
return D.data.slice(0,d).buffer};vX.BMP.aJ=function(Q){Q=new Uint8Array(Q);var C=0,j=c.hX(Q,C,2);C+=2;
if(j!="BM"){alert("Unsupported BMP format: "+j);return}var Z=c.BQ(Q,C);C+=4;C+=4;var F=c.BQ(Q,C);C+=4;
return[vX.BMP.UU(Q.buffer,C,F)]};vX.BMP.UU=function(Q,C,j){Q=new Uint8Array(Q);var Z=c.BQ(Q,C);C+=4;
var F=vX.BMP.v_p(Q,C);if(F.NK!=1)alert("unsupported number of color planes: "+F.NK);if(F.iN!=0&&F.iN!=3){alert("Unsupported BMP compression: "+F.iN);
return}C+=Z-4;var _=C;if(j==null)j=C;var $=4*Math.floor((F.Nz*F.fA+31)/32),L=F.fA,D=Math.abs(F.NE),d=new Uint8Array(L*D*4);
e.set(d,255);if(F.Nz==32)for(var o=0;o<D;o++){var v=j+(D-1-o)*$;for(var f=0;f<L;f++){var U=(o*L+f)*4;
d[U]=Q[v+f*4+2];d[U+1]=Q[v+f*4+1];d[U+2]=Q[v+f*4+0];d[U+3]=Q[v+f*4+3]}}else if(F.Nz==24)for(var o=0;
o<D;o++){var v=j+(D-1-o)*$;for(var f=0;f<L;f++){var U=(o*L+f)*4;d[U]=Q[v+f*3+2];d[U+1]=Q[v+f*3+1];d[U+2]=Q[v+f*3+0]}}else if(F.Nz==16)for(var o=0;
o<D;o++){var v=j+(D-1-o)*$;for(var f=0;f<L;f++){var U=(o*L+f)*4,H=Q[v+f*2+1]<<8|Q[v+f*2];d[U]=(H>>>11)*(255/31);
d[U+1]=(H>>>5&63)*(255/63);d[U+2]=(H&31)*(255/31)}}else if(F.Nz==8)for(var o=0;o<D;o++){var v=j+(D-1-o)*$;
for(var f=0;f<L;f++){var U=(o*L+f)*4,B=Q[v+f];d[U]=Q[_+4*B+2];d[U+1]=Q[_+4*B+1];d[U+2]=Q[_+4*B+0]}}else if(F.Nz==4)for(var o=0;
o<D;o++){var v=j+(D-1-o)*$;for(var f=0;f<L;f++){var U=(o*L+f)*4,B=Q[v+(f>>1)];B=B>>4-4*(f&1);B=B&15;
d[U]=Q[_+4*B+2];d[U+1]=Q[_+4*B+1];d[U+2]=Q[_+4*B+0]}}else if(F.Nz==1)for(var o=0;o<D;o++){var v=j+(D-1-o)*$;
for(var f=0;f<L;f++){var U=(o*L+f)*4,m=Q[v+(f>>3)];m=m>>7-(f&7);m=m&1;d[U]=Q[_+4*m+2];d[U+1]=Q[_+4*m+1];
d[U+2]=Q[_+4*m+0]}}else throw"Unknown bit depth "+F.Nz;if(F.NE<0){var Y=new Uint32Array(d.buffer),q=D>>>1;
for(var o=0;o<q;o++){var r=o*L,x=(D-o-1)*L;for(var f=0;f<L;f++){var a=Y[r+f];Y[r+f]=Y[x+f];Y[x+f]=a}}}return{Rm:new s(0,0,L,D),data:d.buffer}};
vX.BMP.v_p=function(Q,C){var j=c.SH,Z=c.BQ,F=c.Ir,_={};_.fA=j(Q,C);C+=4;_.NE=j(Q,C);C+=4;_.NK=F(Q,C);
C+=2;_.Nz=F(Q,C);C+=2;_.iN=Z(Q,C);C+=4;_.size=Z(Q,C);C+=4;var $=j(Q,C);C+=4;var L=j(Q,C);C+=4;_.vie=Z(Q,C);
C+=4;C+=4;return _};vX.BMP.v_s=function(Q,C,j,Z){c.Z$(Q,C,j.fA);C+=4;c.Z$(Q,C,j.NE);C+=4;c.sr(Q,C,j.NK);
C+=2;c.sr(Q,C,j.Nz);C+=2;c.Z$(Q,C,j.iN);C+=4;c.Z$(Q,C,j.size);C+=4;c.Z$(Q,C,2834);C+=4;c.Z$(Q,C,2834);
C+=4;c.Z$(Q,C,j.vie);C+=4;C+=4};vX.GIF={};vX.GIF.pU=function(Q,C,j,Z){if(Z==null)Z=[100,0,0,0];var F=[],_=[],$=C*j*4,m=null;
for(var L=0;L<Q.length;L++){var D=new Uint8Array(Q[L][0].slice(0));for(var d=0;d<$;d+=4){var o=D[d+3]=D[d+3]>127?255:0;
if(o==0)D[d]=D[d+1]=D[d+2]=0}F.push(D.buffer);_.push(Q[L][1])}var v=Math.round(2+254*Z[0]/100),f=UPNG.encode.compress(F,C,j,v,[!0,!1,!1,8,!1]),U=f.plte,H=new Uint8Array(4),B=new Uint32Array(H.buffer);
for(var d=0;d<U.length;d++){B[0]=U[d];var Y=H[0];H[0]=H[2];H[2]=Y;U[d]=B[0];if(B[0]==0)m=d}while(U.length<256)U.push(0);
var q=new Uint8Array(2e3+C*j*Q.length),r=Z[2],x={palette:U};if(r!=1)x.loop=r==0?0:r-1;var a=new GifWriter(q,C,j,x);
for(var d=0;d<Q.length;d++){var i=f.frames[d],l=i.rect,M=i.blend,z=i.dispose;a.addFrame(l.x,l.y,l.width,l.height,i.img,{transparent:m,disposal:z+1,delay:Math.round(_[d]/10)})}return q.slice(0,a.end()).buffer};
vX.GIF.aJ=function(Q){var C=new Uint8Array(Q),j=new GifReader(C),Z=[],F=j.numFrames(),_=j.width,$=j.height,L=e.Q(_*$*4),D=new s(0,0,_,$);
for(var d=0;d<F;d++){var o=j.frameInfo(d),v=o.disposal,f=v==3?L.slice(0):null;j.decodeAndBlitFrameRGBA(d,L);
Z.push({Rm:D.clone(),Nj:"_a_frm"+d+","+o.delay*10,data:L.slice(0).buffer});if(o.disposal==2){var U=e.Q(o.width*o.height*4);
e.tW(U,new s(o.x,o.y,o.width,o.height),L,D)}if(v==3){for(var H=0;H<L.length;H++)L[H]=f[H]}}return Z};
vX.ICO={};vX.ICO.pU=function(Q,C,j,Z){console.log(Q);if(C>256||j>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var F=Math.min(C,256),_=Math.min(j,256),$=new s(0,0,F,_),L=e.Q($.P()*4),D=new s(0,0,C,j),d=new Uint8Array(Q[0][0]);
e.tW(d,D,L,$);Q[0][0]=L.buffer;C=F;j=_}var o=new _f,v=0,f=Z&&Z[0]==!0;c.sl(o,v,0);v+=2;c.sl(o,v,f?2:1);
v+=2;c.sl(o,v,1);v+=2;var U=new Uint8Array(vX.PNG.pU(Q,C,j));o.JW(v,16);o.data[v]=C==256?0:C;v++;o.data[v]=j==256?0:j;
v++;v+=2;c.sl(o,v,f?Math.round(C/2):1);v+=2;c.sl(o,v,f?Math.round(j/2):32);v+=2;c.I_(o,v,U.length);v+=4;
c.I_(o,v,6+16);v+=4;o.JW(v,U.length);for(var H=0;H<U.length;H++)o.data[v+H]=U[H];v+=U.length;var B=new Uint8Array(v);
for(var H=0;H<v;H++)B[H]=o.data[H];return B.buffer};vX.ICO.aJ=function(Q){Q=new Uint8Array(Q);var C=4,j=c.Ir(Q,C);
C+=2;var Z=[];for(var F=0;F<j;F++){var _=vX.ICO.v_o(Q,C+F*16),$=Q.buffer.slice(_.offset,_.offset+_.size),L=vX.Kl($);
L=L?L:"bmp";if(L=="png"){var D=vX.Xo(L),d=D.aJ($);_.NR=d[0]}else{var o=vX.BMP.UU($,0),$=e.Q(_.fA*_.NE*4);
e.tW(new Uint8Array(o.data),new s(0,0,o.Rm.W,o.Rm.C),$,new s(0,_.NE,_.fA,_.NE));o.data=$.buffer;o.Rm.C=_.NE;
_.NR=o}Z.push(_)}Z.sort(function(v,f){if(v.fA!=f.fA)return v.fA-f.fA;return v.vlC-f.vlC});return[Z.pop().NR]};
vX.ICO.v_o=function(Q,C){var j={};j.fA=Q[C];C++;if(j.fA==0)j.fA=256;j.NE=Q[C];C++;if(j.NE==0)j.NE=256;
j.vDu=Q[C];C++;C++;j.vDk=c.Ir(Q,C);C+=2;j.vlC=c.Ir(Q,C);C+=2;j.size=c.BQ(Q,C);C+=4;j.offset=c.BQ(Q,C);
C+=4;return j};vX.TIFF={};vX.TIFF.aJ=function(Q){var C=Date.now(),Z;if(e.raw.zi(Q.byteLength))return[e.raw.vrS(Q)];
var j=UTIF.decode(Q);if(j[0].t33421)Z=j[0];else if(j[0].subIFD&&j[0].subIFD[0].t33421){Z=j[0].subIFD[0];
if(Z.t50706==null){if(Z.t258[0]==8)Z.t258[0]=12}}else if(j[0].subIFD&&j[0].subIFD[0]&&j[0].subIFD[0].t262&&j[0].subIFD[0].t262[0]==34892)Z=j[0].subIFD[0];
else if(j[0].subIFD&&j[0].subIFD[1]&&j[0].subIFD[1].t33421)Z=j[0].subIFD[1];else if(j[0].subIFD&&j[0].subIFD[2]&&j[0].subIFD[2].t33421)Z=j[0].subIFD[2];
else if(j[3]&&j[3].t50648){var F=j[0].exifIFD,_=F.makerNote;Z=j[3];var $=_.t224[1],L=_.t224[2];Z.t256=[$];
Z.t257=[L];Z.t258=[16];Z.t259=[7];Z.t262=[32803];Z.t277=[1];Z.t33421=[2,2];var D=Z.t50656[0],d=e.raw.bK[D];
if(d==null)throw"e";Z.t33422=d}if(Z){UTIF.decodeImage(Q,Z,j);for(var o in j[0])if((o[0]=="t"||o[0]=="e"||o[0]=="d")&&Z[o]==null)Z[o]=j[0][o];
Z.lD=j[0].t274?j[0].t274[0]:1;return[Z]}var v=[];for(var f=0;f<j.length;f++){var U=j[f],H=72;UTIF.decodeImage(Q,U,j);
var B=U.t282,m=U.t296;if(B!=null&&m!=null){H=B[0][0]/B[0][1];if(m[0]==3)H=Math.round(H/2.54)}if(U.width==null)continue;
var Y=UTIF.toRGBA8(U).buffer,q=$X.yr(U);v.push({Rm:new s(0,0,U.width,U.height),data:Y,zn:H,vh:q})}return v};
vX.TIFF.pU=function(Q,C,j,Z){if(Z==null)Z=[!1];var F={},_=Q[0];if(_[3]!=null&&Z[0])F=$X.pO(_[3]);if(_[2]!=null){F.t282=F.t283=[[Math.round(_[2]),1]];
F.t296=[2]}return UTIF.encodeImage(_[0],C,j,F)};vX.PSD={};vX.PSD.xG=!0;vX.PSD.aJ=function(Q,C){WY.ig(Q,C)};
vX.PSD.vQD=function(Q,C,j,Z){if(Z==null)Z=[!1,!1];if(!Z[0])Q.ln();var F=new _f,_=WY.TI(Q,F,Z);return[F.data.buffer,_]};
vX.PSD.pU=function(Q,C,j,Z){var F=vX.PSD.vQD(Q,C,j,Z),_=F[0],$=F[1];return _.byteLength==$?_:_.slice(0,$)};
vX.PXD={};vX.PXD.xG=!0;vX.PXD.aJ=function(Q,C){var j=pako.inflate(new Uint8Array(Q)),Z=4;C.W=c.o(j,Z);
Z+=4;C.C=c.o(j,Z);Z+=4;var F=c.bS(j,Z);Z+=2;Z+=4;for(var _=0;_<F;_++){var $=C.qg();C.k.push($);var L=c.o(j,Z),D=Z+4,d=c.bS(j,D);
D+=2;var o=c.hI(j,D,d);D+=d;$.sp(o);D++;$.rect.x=c.hS(j,D);D+=4;$.rect.y=c.hS(j,D);D+=4;$.rect.W=c.o(j,D);
D+=4;$.rect.C=c.o(j,D);D+=4;$.opacity=Math.round(255*j[D]/100);D++;$.yh(j[D]!=0);D++;$.gd="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[j[D]];
D++;D++;var v=c.o(j,D);D+=4;if(v!=$.rect.P()*4)throw"e";$.buffer=e.Q(v);for(var f=0;f<v;f+=4){$.buffer[f]=j[D+f+1];
$.buffer[f+1]=j[D+f+2];$.buffer[f+2]=j[D+f+3];$.buffer[f+3]=j[D+f+0]}D+=v;var U=c.o(j,D);D+=4;var H=j[D];
D++;var B=c.bS(j,D);D+=2;if(U!=0){$.A=new S.Xh;$.A.rect=$.rect.clone();$.A.channel=e.Q($.rect.P());for(var f=0;
f<U;f+=4)$.A.channel[f>>>2]=j[D+f+1];D+=U}if(H!=0){var m=JSON.parse(WM.default);$.add.lmfx=m;for(var f=0;
f<WM.order.length;f++)m[WM.zV[f]]={t:"VlLs",v:[]};var Y={"102":9,"101":2,"103":0,"104":3,"105":8};for(var f=0;
f<H;f++){var q=c.bS(j,D),r=D+q+4,x=j.slice(D,r),a=j[D+2];D+=3;var i=Y[a+""],l=JSON.parse(WM.oy[i]);m[WM.zV[i]].v.push({t:"Objc",v:l});
if(i!=0){l.Md.v.BlnM=rP.aO("norm");l.Opct.v.val=j[D];D++;if(i==9||i==2){l.Dstn.v.val=j[D+1];D+=2}else D+=2;
l.blur.v.val=Math.round(j[D]*1.2);D++;if(i==9||i==2){l.uglg.v=!1;l.lagl.v.val=180-c.bS(j,D);D+=2}l.Clr.v=e.q.mx({h:j[D+1],J:j[D+2],_:j[D+3]})}else{l.hglM.v.BlnM=l.sdwM.v.BlnM=rP.aO("norm");
D+=2;var M=j[D++],z=j[D++];l.blur.v.val=Math.round(Math.sqrt(z*M)*1.3);l.srgR.v.val=Math.round(100*M/z);
l.uglg.v=!1;l.lagl.v.val=180-c.bS(j,D);D+=2;l.hglO.v.val=j[D++];l.hglC.v=e.q.mx({h:j[D+1],J:j[D+2],_:j[D+3]});
D+=4;l.sdwO.v.val=j[D++];l.sdwC.v=e.q.mx({h:j[D+1],J:j[D+2],_:j[D+3]});D+=4}D=r}}if(D!=Z+4+L){var V=c.o(j,D),W=0;
D+=4;D++;var d=c.bS(j,D);D+=2;var X=c.hI(j,D,d);D+=d;X=X.replace(/\r/g,"\n");var d=c.bS(j,D);D+=2;var O=c.hI(j,D,d);
D+=d;var y=c.bS(j,D);D+=2;var K=$.rect.x,R=$.rect.W;if(V&4)W=1;if(V&2)W=2;var N=Math.round(y*.4);if(W==0||W==2)R+=N;
if(W==1||W==2){R+=N;K-=N}$.add.lnsr="rend";$.add.TySh=rD.dg(0,0);$.add.TySh.Vo=new s(0,0,100,100);$.add.TySh.M=new rI(1,0,0,1,K,$.rect.y+y*.25);
var I=$.add.TySh.Qp;rD.GL(I,1);rD.Cr(I,[0,0,R,$.rect.C]);rD.Gt(I,0,X);var T=rD.WW(I,0,1);T.hy.FontSize=y;
T.hy.FillColor={Type:1,Values:[1,j[D+1]/255,j[D+2]/255,j[D+3]/255]};D+=4;if(j[D+5])O+="-Bold";if(j[D+6])O+="-Italic";
rD._D(T,O);T.Cx.Justification=W;D+=8;rD.ey(I,0,X.length,T)}Z+=4+L}};vX.SKETCH={};vX.SKETCH.xG=!0;vX.SKETCH.aJ=function(Q,C){Da.ig(Q,C)};
vX.XD={};vX.XD.xG=!0;vX.XD.aJ=function(Q,C){vD.ig(Q,C)};vX.FIG={};vX.FIG.xG=!0;vX.FIG.aJ=function(Q,C){_A.ig(Q,C)};
vX.XCF={};vX.XCF.xG=!0;vX.XCF.aJ=function(Q,C){$a.ig(Q,C)};vX.SVG={};vX.SVG.xG=!0;vX.SVG.pU=function(Q,C,j,Z,F){if(Z==null)Z=[!0,!1,!1,!1,!0,!0];
var _=vI.Ry(Q,{vpq:Z[0],hidden:Z[1],vpV:Z[2],vpS:Z[3],names:Z[4],vgx:Z[5],vpJ:C,vpa:j},F.ho);return _};
vX.SVG.aJ=function(Q,C){vI.ig(Q,C)};vX.EPS={};vX.EPS.xG=!0;vX.EPS.aJ=function(Q,C){var j=150,Z=new rI(1,0,0,-1,0,0);
Z.scale(j/72,j/72);C.zn=j;var F=new vt(C,Z,!0);FromPS.Parse(Q,F)};vX.PDF={};vX.PDF.xG=!0;vX.PDF.pU=function(Q,C,j,Z,F){if(Z==null)Z=["",100,!1,!1,!1];
Z[5]=["jpg"];var _=new ToPDF;vH.Ry(Q,Z,_,F.ho);return _.buffer};vX.PDF.aJ=function(Q,C,j){var Z=(j?2:1)*72,F=new rI(1,0,0,-1,0,0);
F.scale(Z/72,Z/72);C.zn=Z;var _=new vt(C,F,!0);FromPDF.Parse(Q,_)};vX.WMF={};vX.WMF.xG=!0;vX.WMF.aJ=function(Q,C){var j=72,Z=new rI(1,0,0,1,0,0);
Z.scale(j/72,j/72);C.zn=j;var F=new vt(C,Z,!1);FromWMF.Parse(Q,F)};vX.EMF={};vX.EMF.o$=!0;vX.EMF.xG=!0;
vX.EMF.pU=function(Q,C,j,Z,F){if(Z==null)Z=["",!1,!1,!1];Z[4]=[];var _=new ToEMF;vH.Ry(Q,Z,_,F.ho);return _.buffer};
vX.EMF.aJ=function(Q,C){var j=72,Z=new rI(1,0,0,1,0,0);Z.scale(j/72,j/72);C.zn=j;var F=new vt(C,Z,!1);
FromEMF.Parse(Q,F)};vX.CDR={};vX.CDR.xG=!0;vX.CDR.aJ=function(Q,C){return __.ig(Q,C)};vX.ILBM={};vX.ILBM.aJ=function(Q,C){var j=DW.ig(Q),Z=new Uint8Array(Q),F=0,_,$,L,D,d,o,v,f,U=0,H=0,B=0,m=0,Y=0;
for(var q=0;q<j.sub.length;q++){var r=j.sub[q],F=r.f;if(r.rw=="BMHD"){var x=[];for(var a=0;a<4;a++)x[a]=c.bS(Z,F+2*a);
F+=8;D=x[2];d=x[3];$=x[0];L=x[1];_=e.Q($*L*4);o=Z[F++];v=Z[F++];f=Z[F++]}else if(r.rw=="CMAP")U=F;else if(r.rw=="CAMG"){var i=c.o(Z,F);
H=i&32768,B=i&4,m=i&2048;Y=i&128}else if(r.rw=="BODY"){var l=$+15>>>4<<1,M=o+v,z=e.Q(l*L*M),y,K,R;_u.zH(Z,F,r.size,z,0,z.length);
var V=o-2,X=(1<<V)-1,O=Math.round(255/X);for(var d=0;d<L;d++)for(var D=0;D<$;D++){var W=0;for(var N=0;
N<M;N++){var I=(d*M+N)*l*8+D,T=z[I>>>3]>>>7-(I&7)&1;W|=T<<N}var h=W>>>o,W=W&(1<<o)-1,a=d*$+D,p=a<<2;
if(U!=0){if(m!=0&&W>>>V!=0){var u=W>>>V,g=(W&X)*O;if(u==1)R=g;else if(u==2)y=g;else if(u==3)K=g}else{var g=U+W*3;
y=Z[g+0];K=Z[g+1];R=Z[g+2]}}else{y=W>>>0&255;K=W>>>8&255;R=W>>>16&255}_[p+0]=y;_[p+1]=K;_[p+2]=R;_[p+3]=255}}}return[{Rm:new s(0,0,$,L),data:_.buffer}]};
vX.TGA={};vX.TGA.xG=!1;vX.TGA.pU=function(Q,C,j,Z){var F=new Uint8Array(Q[0][0]),_=2,$=e.ai(F),L=$?4:3,D=new Uint8Array(C*j*L);
for(var d=0;d<j;d++)for(var o=0;o<C;o++){var v=d*C+o<<2,f=((j-d-1)*C+o)*L;D[f]=F[v+2];D[f+1]=F[v+1];
D[f+2]=F[v+0];if($)D[f+3]=F[v+3]}if(!0){var U=D.length,H=0,B=new Uint8Array(U*2),m=0,Y=0,q=C*L;while(Y<U){var r=Y,x=0,a=q*(Math.floor(Y/q)+1);
while(r<a&&x<128){var i=!0;for(var l=0;l<L;l++)i=i&D[Y+l]==D[r+l];if(!i)break;r+=L;x++}if(x==1){var M=1;
while(M<128&&Y+(M+1)*L<a){var i=!0,z=Y+M*L;for(var l=0;l<L;l++)i=i&D[z+l]==D[z+L+l];if(i)break;M++}B[m++]=M-1;
for(var V=0;V<M;V++)for(var l=0;l<L;l++)B[m++]=D[Y++]}else{B[m++]=127+x;for(var l=0;l<L;l++)B[m+l]=D[Y+l];
m+=L;Y+=L*x;H+=x}}D=B.slice(0,m);_+=8}var X=new Uint8Array(18+D.length+26);X[2]=_;c.sr(X,12,C);c.sr(X,14,j);
X[16]=L*8;X[17]=L==4?8:0;X.set(D,18);c.Tp(X,18+D.length+8,"TRUEVISION-XFILE.");return X.buffer};vX.TGA.aJ=function(Q){var C=new Uint8Array(Q),j=0,Z=C[0],F=C[1],_=C[2],$=C[4]*256+C[3],L=C[6]*256+C[5],D=C[7],d=C[9]*256+C[8],o=C[11]*256+C[10],v=C[13]*256+C[12],f=C[15]*256+C[14],U=C[16],H=C[17],B=H>>>4,m=c.hX(C,18,Z),Y=e.Q(v*f*4),j=18+Z+(L*D>>>3),q=new Uint8Array(C.buffer,j);
if(_>3){var r=0,x=C,a=new Uint8Array(v*f*U>>>3),i=j,l=0,M=C.length,z=U>>>3;while(l<a.length){var V=x[i];
i++;if(V<128)for(var X=0;X<V+1;X++){for(var O=0;O<z;O++){a[l]=x[i];l++;i++}}else{for(var X=0;X<V-127;
X++){for(var O=0;O<z;O++){a[l]=x[i+O];l++}}i+=z}}_-=8;q=a;j=i}else j+=v*f*U>>>3;var y=new Uint8Array(4),K=vX.TGA.vQ_;
for(var R=0;R<f;R++)for(var W=0;W<v;W++){var N=(B&2)==0?(f-R-1)*v+W:R*v+W,I=R*v+W,T,h,p,u=255,g=N*U>>>3;
if(_==1){var A=0;if(U==8)A=q[g];else throw"e";K(C,18+Z+$+(A*D>>>3),D,y);T=y[0];h=y[1];p=y[2];u=y[3]}else if(_==2){K(q,g,U,y);
T=y[0];h=y[1];p=y[2];u=y[3]}else if(_==3){if(U==8)T=h=p=q[g];else throw"e"}var w=I*4;Y[w]=T;Y[w+1]=h;
Y[w+2]=p;Y[w+3]=u}return[{Rm:new s(0,0,v,f),data:Y.buffer,Nj:m}]};vX.TGA.vQ_=function(Q,C,j,Z){var F,_,$,L=255;
if(j==24||j==32){$=Q[C];_=Q[C+1];F=Q[C+2];if(j==32)L=Q[C+3]}else if(j==16){var D=Q[C+1]<<8|Q[C+0];F=D>>>10&31;
_=D>>>5&31;$=D>>>0&31;F=Math.round(F*(255/31));_=Math.round(_*(255/31));$=Math.round($*(255/31))}else throw"e";
Z[0]=F;Z[1]=_;Z[2]=$;Z[3]=L};vX.LIF={};vX.LIF.aJ=function(Q){var C=new Uint8Array(Q),j=0,Z=112,F=42,_=c.BQ,o;
j+=8;var $=C[j];j++;if($!=F)throw"e";var L=_(C,j);j+=4;var D=c.SY(C,j,L);j+=L*2;var d=[];while(j<C.length){o=_(C,j);
j+=4;if(o!=Z)throw o;j+=4;o=C[j];j++;if(o!=F)throw o;var v=_(C,j);j+=4;var f=C[j];j++;if(f!=F){j-=5;
v=_(C,j);j+=8;o=C[j];j++;if(o!=F)throw o}var U=_(C,j)*2;j+=4;if(v>0)d.push(j+U);j+=U+v}var H=new DOMParser,B=H.parseFromString(D,"image/svg+xml").firstChild.firstChild,m=[];
vX.LIF.Un(B,C,d,m);return m};vX.LIF.Un=function(Q,C,j,Z){var F=Q.firstChild.firstChild;if(F.tagName=="Image"){var _=F.getElementsByTagName("ImageDescription")[0],$=_.children[0].children,L=_.children[1].children,D=j.shift(),d=[];
for(var o=0;o<L.length;o++)d.push(parseInt(L[o].getAttribute("NumberOfElements")));while(d.length>3)d[2]*=d.pop();
var v=$.length,f=d[0],U=d[1],H=d[2],B=parseInt(L[0].getAttribute("BytesInc"));for(var m=0;m<H;m++){var Y=e.Q(f*U*4);
e.kM(Y,4278190080);for(var q=0;q<v;q++){var r=e.Q(f*U);if(B==1)for(var x=0;x<r.length;x++)r[x]=C[D+x];
else if(B==2)for(var x=0;x<r.length;x++)r[x]=Math.min(255,(C[D+x*2+1]<<8|C[D+x*2])>>>2);else throw B;
if(q!=3)e.gG(r,Y,q);if(v==1){e.gG(r,Y,1);e.gG(r,Y,2)}D+=f*U*B}Z.push({Rm:new s(0,0,f,U),data:Y.buffer})}}else{var a=Q.children,i=0;
while(i<a.length&&a[i].tagName!="Children")i++;if(i==a.length)throw"e";a=a[i].children;for(var l=0;l<a.length;
l++)vX.LIF.Un(a[l],C,j,Z)}};vX.RAF={};vX.RAF.aJ=function(Q){var C=new Uint8Array(Q),j=16,Z=c.hX(C,j,4),_=32,Y=0,q=0,r=!1,T;
j+=4;var F=c.hX(C,j,8);j+=8;while(C[j+_-1]==0)_--;var $=c.hX(C,j,_);j+=32;var L=c.hX(C,j,4);j+=4;j+=20;
var D=c.o(C,j);j+=4;var d=c.o(C,j);j+=4;var o=c.o(C,j);j+=4;var v=c.o(C,j);j+=4;var f=c.o(C,j);j+=4;
var U=c.o(C,j);j+=4;var H="FujiFilm "+$,B=[0,1,1,2];if(H=="FujiFilm X10"){H="FujiFilm FinePix X10";B=[2,1,1,0]}var m={t271:["FujiFilm"],t272:[H],t277:[1],t33421:[2,2],t33422:B,lD:1};
j=o;var x=[],a=c.bS,i=c.o(C,j);j+=4;for(var l=0;l<i;l++){var M=a(C,j);j+=2;var z=a(C,j);j+=2;if(M==256){q=a(C,j);
Y=a(C,j+2)}else if(M==272){x=[a(C,j),a(C,j+2)]}else if(M==273){x.push(a(C,j),a(C,j+2))}else if(M==304){r=!(C[j]>>>7)}else if(M==305){var V=Math.round(Math.sqrt(z)),X=[];
for(var O=0;O<z;O++)X.push(C[j+O]);X.reverse();m.t33421=[V,V];m.t33422=X}else if(M==12272){var y=a(C,j),K=a(C,j+2),R=a(C,j+6);
m.t50728=[y/K,1,y/R]}j+=z}var W=Y<q,N=C.slice(f,f+U),I=Math.round(U*8/(Y*q));if(N[0]==73&&N[1]==73&&N[2]==42){T=UTIF.decode(N.buffer)[0].fujiIFD;
I=T.t61443[0];var h=T.t61454;m.t50728=[h[0]/h[1],1,h[0]/h[2]];var p=T.t61447[0];N=N.slice(p,p+T.t61448[0])}var U=N.length,u=U*8<Y*q*I;
if(u)alert("Compressed RAF is not supported yet :(");function g(J,rr,r_){r_=r_<<8-(rr&7);var rO=rr>>>3;
J[rO]|=r_>>>16;J[rO+1]|=r_>>>8;J[rO+2]|=r_}var A=U*8/(Y*q);if(A==16)for(var l=0;l<U;l+=2){var w=N[l];
N[l]=N[l+1];N[l+1]=w}else if(A==14){for(var l=0;l<U;l+=4){var w=N[l];N[l]=N[l+3];N[l+3]=w;w=N[l+1];N[l+1]=N[l+2];
N[l+2]=w}}else if(A==12)for(var l=0;l<U;l+=3){var r$=N[l+2]<<16|N[l+1]<<8|N[l+0];r$=r$>>>12|(r$&4095)<<12;
N[l]=r$>>>16&255;N[l+1]=r$>>>8&255;N[l+2]=r$&255}if(W)N=vX.RAF.vQl(N,Y,q);var rW=W?2:1;Y*=rW;m.t256=[Y];
m.t257=[q];m.t258=[I];m.t50719=[x[1],x[0]*rW];m.t50720=[x[3],x[2]*rW];m.width=Y;m.height=q;m.data=new Uint8Array(N.buffer);
return[m]};vX.RAF.vQl=function(Q,C,j){Q=new Uint16Array(Q.buffer);var Z=new Uint16Array(C*j*2);for(var F=0;
F<j;F+=2)for(var _=0;_<C;_++){var $=F*C+_,L=$*2,D=Q[$],d=Q[$+C];Z[L+1]=Z[L+2*C]=d;if(((F>>>1)+_&1)==0){Z[L]=D;
Z[L+2*C+1]=Q[$+1]}else{Z[L]=Q[$-1];Z[L+2*C+1]=D}}return Z};vX.RAW={};vX.RAW.o$=!0;vX.RAW.pU=function(Q,C,j,Z){var F=new Uint8Array(Q[0][0]),_=C*j,$=[1,3,4][Z[0]],L=8+8*Z[1],D=Z[2];
if($==1){var d=new Uint8Array(C*j);e.yq(F,d,0);F=d}if($==3){var d=new Uint8Array(C*j*3);for(var o=0;
o<_;o++){var v=o*4,f=o*3;d[f]=F[v];d[f+1]=F[v+1];d[f+2]=F[v+2]}F=d}if(L==16){var U=F.length,d=new Uint8Array(U*2);
for(var o=0;o<U;o++){var H=Math.round(F[o]*(65535/255));d[o*2+D]=H>>>8;d[o*2+1-D]=H&255}F=d}return F.buffer};
function e(){}e.Ev=document.createElement("canvas");e.L=e.Ev.getContext("2d");e.KV=function(Q,C,j,Z){Z=Math.log(Z)/Math.log(2);
Z=Math.round(Z);for(var F=0;F<j;F++)for(var _=0;_<C;_++){var $=F*C+_<<2,L=e.nD(F,_,Z);Q[$]=Q[$+1]=Q[$+2]=L;
Q[$+3]=255}};e.nD=function(Q,C,j){return 255-((Q>>>j)+(C>>>j)&1)*51};e.vY=function(Q){var C=Q.toString(16);
while(C.length<6)C="0"+C;return C};e.vQs=function(Q){return parseInt(Q,16)};e.Kk=function(Q){return.3*Q.h+.59*Q.J+.11*Q._};
e.XU=function(Q){return Math.max(Q.h,Q.J,Q._)-Math.min(Q.h,Q.J,Q._)};e.kg=function(Q,C,j){return.3*Q+.59*C+.11*j};
e.vzS=function(Q,C,j){return Math.max(Q,C,j)-Math.min(Q,C,j)};e.av=function(Q,C){var j=C-Q,Z=Math.abs(j),F=j-1,_=j+1;
if(Math.abs(F)<Z)j=F;else if(Math.abs(_)<Z)j=_;return j};e.uW=function(Q,C,j,Z){return(C-j)*Z/(Q-j)};
e.KT=function(Q){return Q<.0031308?12.92*Q:1.055*Math.pow(Q,1/2.4)-.055};e.vQE=function(Q){return Q<.04045?Q/12.92:Math.pow((Q+.055)/1.055,2.4)};
e.vzY=function(Q,C,j,Z){if(j<C)j+=Z;if(Q<C)Q+=Z;return(Q-C)/(j-C)};e.vQn=function(Q,C){var j=Math.min(Q.length,C.length);
for(var Z=0;Z<j;Z+=4){var F=Q[Z],_=Q[Z+1],$=Q[Z+2];C[Z]=16+Math.floor(65.481/255*F+128.553/255*_+24.966/255*$+.5);
C[Z+1]=128-Math.floor(37.797/255*F-74.203/255*_+112/255*$+.5);C[Z+2]=128+Math.floor(112/255*F-93.786/255*_-18.214/255*$+.5);
C[Z+3]=Q[Z+3]}};e.$h=function(Q,C,j){var Z=Math.max(Q,C,j),F=Math.min(Q,C,j),_=0,$=0,L=(Z+F)*.5;if(Z!=F){var D=Z-F;
$=L>.5?D/(2-(Z+F)):D/(Z+F);switch(Z){case Q:_=(C-j)/D+(C<j?6:0);break;case C:_=(j-Q)/D+2;break;case j:_=(Q-C)/D+4;
break}_*=1/6}return{NE:_,iC:$,qV:L}};e.LD=function(Q,C,j){var Z,F,_;if(C==0)Z=F=_=j;else{var $=j<.5?j*(1+C):j+C-j*C,L=2*j-$;
Z=e.Lq(L,$,Q+1/3);F=e.Lq(L,$,Q);_=e.Lq(L,$,Q-1/3)}return{h:Z,J:F,_:_}};e.Lq=function(Q,C,j){if(j<0)j+=1;
if(j>1)j-=1;if(j<1/6)return Q+(C-Q)*6*j;if(j<1/2)return C;if(j<2/3)return Q+(C-Q)*(2/3-j)*6;return Q};
e.kV=function(Q,C,j){var Z=Math.max(Q,C,j),F=Math.min(Q,C,j),_,$,L=Z,D=Z-F;$=Z==0?0:D/Z;if(Z==F)_=0;
else{switch(Z){case Q:_=(C-j)/D+(C<j?6:0);break;case C:_=(j-Q)/D+2;break;case j:_=(Q-C)/D+4;break}_*=1/6}return{NE:_,iC:$,dK:L}};
e.zj=function(Q,C,j){var Z,F,_,$,L,D,d,o;$=Math.floor(Q*6);L=Q*6-$;D=j*(1-C);d=j*(1-L*C);o=j*(1-(1-L)*C);
switch($%6){case 0:Z=j,F=o,_=D;break;case 1:Z=d,F=j,_=D;break;case 2:Z=D,F=j,_=o;break;case 3:Z=D,F=d,_=j;
break;case 4:Z=o,F=D,_=j;break;case 5:Z=j,F=D,_=d;break}return{h:Z,J:F,_:_}};e.Ku=function(){var Q=[],C=[];
for(var j=0;j<2e3;j++){var Z=j/1e3;Q[j]=e.vQE(Z);C[j]=Z>.008856?Math.pow(Z,1/3):(903.3*Z+16)*(1/116)}return[Q,C]}();
e.ZM=function(Q,C,j){var Z=e.Ku[0],F=e.Ku[1];Q=Z[~~(Q*(1e3/255))];C=Z[~~(C*(1e3/255))];j=Z[~~(j*(1e3/255))];
var _=e.U_.vkl,$=_[0]*Q+_[1]*C+_[2]*j,L=_[4]*Q+_[5]*C+_[6]*j,D=_[8]*Q+_[9]*C+_[10]*j;$=$*(100/96.72);
L=L*(100/100);D=D*(100/81.427);return e.nK($,L,D)};e.nK=function(Q,C,j){var Z=e.Ku[1],F=Z[~~(Q*1e3)],_=Z[~~(C*1e3)],$=Z[~~(j*1e3)];
return{m$:116*_-16,om:500*(F-_),_:200*(_-$)}};e.nR=function(Q,C,j){var Z=903.3,F=.008856,_=(Q+16)/116,$=_*_*_,L=_-j/200,D=L*L*L,d=C/500+_,o=d*d*d,v=D>F?D:(116*L-16)/Z,f=$>F?$:(116*_-16)/Z,U=o>F?o:(116*d-16)/Z,H=U*96.72,B=f*100,m=v*81.427,Y=e.U_.mR(e.U_.Re,[H/100,B/100,m/100,0]);
for(var q=0;q<4;q++)Y[q]=Math.max(0,Math.min(255,e.KT(Y[q])*255));return{h:Y[0],J:Y[1],_:Y[2]}};e.nz=function(Q,C,j,Z,F){var _=Q.m$,$=Q.om,L=Q._,D=(_<C.m$?C.m$-_:j.m$<_?j.m$-_:0)*(1/100),d=($<C.om?C.om-$:j.om<$?j.om-$:0)*(1/116),o=(L<C._?C._-L:j._<L?j._-L:0)*(1/116),v=Math.sqrt(D*D+d*d+o*o)*1.35;
return v<=Z?Math.min(1,1.17*(1-v*F)):0};e.uz=function(Q,C,j){var Z=C-e.Kk(Q);j.h=Q.h+Z;j.J=Q.J+Z;j._=Q._+Z;
e.vtO(j)};e.aK=function(Q,C,j){var Z=Q.h,F=Q.J,_=Q._;if(Z==F&&F==_){j.h=j.J=j._=0}else if(Z>F){if(Z>_){if(F>_){j.h=C;
j.J=e.uW(Z,F,_,C);j._=0}else{j.h=C;j._=e.uW(Z,_,F,C);j.J=0}}else{j._=C;j.h=e.uW(_,Z,F,C);j.J=0}}else{if(Z<_){if(F>_){j.J=C;
j._=e.uW(F,_,Z,C);j.h=0}else{j._=C;j.J=e.uW(_,F,Z,C);j.h=0}}else{j.J=C;j.h=e.uW(F,Z,_,C);j._=0}}};e.vtO=function(Q){var C=Q.h,j=Q.J,Z=Q._,F=e.kg(C,j,Z),_=Math.min(C,j,Z),$=Math.max(C,j,Z);
if(_<0){var L=F/(F-_);C=F+(C-F)*L;j=F+(j-F)*L;Z=F+(Z-F)*L}if($>1){var L=(1-F)/($-F);C=F+(C-F)*L;j=F+(j-F)*L;
Z=F+(Z-F)*L}Q.h=C;Q.J=j;Q._=Z};e.Mm=function(Q,C,j,Z,F,_){var $=new Uint32Array(Q.buffer),L=0;Z=Math.log(Z)/Math.log(2);
Z=Math.round(Z);for(var D=0;D<j;D++)for(var d=0;d<C;d++){$[L++]=(D+_>>Z)+(d+F>>Z)&1==1?4291348680:4294967295}};
e.vqv=function(Q,C,j){return(Q>>j)+(C>>j)&1==1?200:255};e.oS=function(Q,C){var j=Q.length;for(var Z=0;
Z<j;Z+=4)C[Z>>2]=Math.floor(Q[Z+0]*.3+Q[Z+1]*.59+Q[Z+2]*.11+.5)};e.KI=function(Q,C){var j=C.length;for(var Z=0;
Z<j;Z+=4){var F=Q[Z>>>2];C[Z]=F;C[Z+1]=F;C[Z+2]=F}};e.qb=function(Q,C){var j=Q.om,Z=Q.h,F=Q.J,_=Q._,$=Math.min(Q.om.length,C.buffer.byteLength>>>2),L=4*Math.floor($/4),D=new Uint32Array(C.buffer),d=new Uint32Array(j.buffer),o=new Uint32Array(Z.buffer),f=new Uint32Array(F.buffer),U=new Uint32Array(_.buffer);
for(var H=0;H<L;H+=4){var B=d[H>>2],m=U[H>>2],Y=f[H>>2],q=o[H>>2];D[H]=B<<24|(m&255)<<16|(Y&255)<<8|q&255;
D[H+1]=(B&65280)<<16|(m&65280)<<8|Y&65280|(q&65280)>>>8;D[H+2]=(B&16711680)<<8|m&16711680|(Y&16711680)>>>8|(q&16711680)>>>16;
D[H+3]=B&4278190080|(m&4278190080)>>>8|(Y&4278190080)>>>16|(q&4278190080)>>>24}for(var H=L;H<$;H++)D[H]=j[H]<<24|_[H]<<16|F[H]<<8|Z[H]};
e.vqW=function(Q,C,j,Z){var F=Q.om,_=Q.h,$=Q.J,L=Q._,D=new Uint32Array(C.buffer),d=Z.x-j.x,o=d+Z.W,v=Z.y-j.y,f=v+Z.C;
for(var U=v;U<f;U++){var H=U*j.W+d;for(var B=d;B<o;B++){D[H]=F[H]<<24|L[H]<<16|$[H]<<8|_[H];H++}}};e.oM=function(Q,C){var j=C.om,Z=C.h,F=C.J,_=C._,$=Math.min(C.om.length,Q.buffer.byteLength>>>2),L=4*Math.floor($/4),D=new Uint32Array(Q.buffer),d=new Uint32Array(j.buffer),o=new Uint32Array(Z.buffer),f=new Uint32Array(F.buffer),U=new Uint32Array(_.buffer);
for(var H=0;H<L;H+=4){var B=D[H],m=D[H+1],Y=D[H+2],q=D[H+3];o[H>>2]=B&255|(m&255)<<8|(Y&255)<<16|q<<24;
f[H>>2]=(B&65280)>>8|m&65280|(Y&65280)<<8|(q&65280)<<16;U[H>>2]=(B&16711680)>>16|(m&16711680)>>8|Y&16711680|(q&16711680)<<8;
d[H>>2]=B>>>24|m>>>24<<8|Y>>>24<<16|q&4278190080}for(var H=L;H<$;H++){var r=D[H];Z[H]=r>>0&255;F[H]=r>>8&255;
_[H]=r>>16&255;j[H]=r>>24&255}};e.yq=function(Q,C,j){var Z=new Uint8Array(Q.buffer),F=Math.min(Z.length/4,C.length);
for(var _=0;_<F;_++){C[_]=Z[(_<<2)+j]}};e.gG=function(Q,C,j){var Z=new Uint8Array(C.buffer),F=new Uint32Array(Q.buffer),_=Math.min(Z.length/4,Q.length),$=0;
while($+4<_){var L=F[$>>>2];Z[($<<2)+j]=L&255;Z[($<<2)+j+4]=L>>>8&255;Z[($<<2)+j+8]=L>>>16&255;Z[($<<2)+j+12]=L>>>24;
$+=4}while($<_){Z[($<<2)+j]=Q[$];$++}};e.clone=function(Q){return Q.slice(0)};e.uS=function(Q,C){e.set(Q.om,C);
e.set(Q.h,C);e.set(Q.J,C);e.set(Q._,C)};e.set=function(Q,C){C=Math.round(C);var j=C<<24|C<<16|C<<8|C,Z=new Uint32Array(Q.buffer),F=Z.length;
for(var _=0;_<F;_++)Z[_]=j};e.kM=function(Q,C,j){if(j==null)j=0;var Z=new Uint32Array(Q.buffer),F=Z.length;
for(var _=0;_<F;_++)Z[_]=Z[_]&j|C};e.vtm=function(Q,C,j,Z,F){if(F==null)F=0;var _=new Uint32Array(Q.buffer);
j=j.QU(C);var $=j.x-C.x,L=j.y-C.y,D=j.W,d=j.C,o=C.W;for(var v=0;v<d;v++){var f=(L+v)*o+$;for(var U=0;
U<D;U++){_[f]=_[f]&F|Z;f++}}};e.vqK=function(Q,C){e.W_(Q.om,C.om);e.W_(Q.h,C.h);e.W_(Q.J,C.J);e.W_(Q._,C._)};
e.W_=function(Q,C){var j=Math.min(Q.buffer.byteLength,C.buffer.byteLength),Z=j>>>2,Q=new Uint32Array(Q.buffer,0,Z),C=new Uint32Array(C.buffer,0,Z);
C.set(Q)};e.vqi=function(Q,C){return e.gm(Q.om,C.om)&&e.gm(Q.h,C.h)&&e.gm(Q.J,C.J)&&e.gm(Q._,C._)};e.gm=function(Q,C){var j=Q.buffer.byteLength,Z=C.buffer.byteLength,F=new Uint32Array(Q.buffer,0,j>>2),_=new Uint32Array(C.buffer,0,Z>>2);
if(j!=Z)return!1;var $=F.length;for(var L=0;L<$;L++)if(_[L]!=F[L])return!1;return!0};e.Ie=function(Q){var C=new Uint32Array(Q.buffer),j=C.length;
for(var Z=0;Z<j;Z++)C[Z]=~C[Z]};e.vql=function(Q){var C=Q.length;for(var j=3;j<C;j+=4)Q[j]=~Q[j]};e.vty=function(Q){return Q+(Q%4==0?0:4-Q%4)};
e.Q=function(Q,C){if(C==null)C=!1;if(!C)Q=e.vty(Q);try{var j=new Uint8Array(Q)}catch(rG){alert("Not enough RAM! (need "+Math.round(Q/(1<<20))+" MB)",7e3);
throw"low_ram"}return j};e.aR=function(Q){var C=Q.length,j=Q[C-2],Z=Q[C-1];while(Z.W>=2||Z.C>=2){var F=e.uB(j,Z);
Q.push(F.Dg,F.rect);j=F.Dg;Z=F.rect}};e.vqg=function(Q){var C=Q.length,j=Q[C-2],Z=Q[C-1];while(Z.W>=2||Z.C>=2){var F=e.ng(j,Z);
Q.push(F.Dg,F.rect);j=F.Dg;Z=F.rect}};e.uB=function(Q,C,j){var Z=C.W,F=C.C,_=Z>>1,$=F>>1,L=new s(C.x,C.y,_,$),D=j&&j.length==_*$*4?j:e.Q(_*$*4),d=new Uint32Array(Q.buffer),o=new Uint32Array(D.buffer);
for(var v=0;v<$;v++)for(var f=0;f<_;f++){var U=v*_+f,H=(v<<1)*Z+(f<<1),B=d[H],m=d[H+1],Y=d[H+Z],q=d[H+Z+1],r=B>>>24,x=m>>>24,a=Y>>>24,i=q>>>24,l=r+x+a+i;
if(l==1020){var M=(B>>>0&255)+(m>>>0&255)+(Y>>>0&255)+(q>>>0&255)+2>>>2,z=(B>>>8&255)+(m>>>8&255)+(Y>>>8&255)+(q>>>8&255)+2>>>2,V=(B>>>16&255)+(m>>>16&255)+(Y>>>16&255)+(q>>>16&255)+2>>>2;
o[U]=255<<24|V<<16|z<<8|M}else if(l==0)o[U]=0;else{var M=(B>>>0&255)*r+(m>>>0&255)*x+(Y>>>0&255)*a+(q>>>0&255)*i,z=(B>>>8&255)*r+(m>>>8&255)*x+(Y>>>8&255)*a+(q>>>8&255)*i,V=(B>>>16&255)*r+(m>>>16&255)*x+(Y>>>16&255)*a+(q>>>16&255)*i,X=1/l;
M=~~(M*X+.5);z=~~(z*X+.5);V=~~(V*X+.5);o[U]=l+2>>>2<<24|V<<16|z<<8|M}}return{rect:L,Dg:D}};e.ni=function(Q,C,j){var Z=C.W,F=C.C,_=Z>>1,$=F>>1,L=new s(C.x,C.y,_,$),D=j&&j.length==_*$*4?j:e.Q(_*$*4),d=new Uint32Array(Q.buffer),o=new Uint32Array(D.buffer);
for(var v=0;v<$;v++)for(var f=0;f<_;f++){var U=v*_+f,H=(v<<1)*Z+(f<<1),B=d[H],m=d[H+1],Y=d[H+Z],q=d[H+Z+1],r=2+(B>>>0&255)+(m>>>0&255)+(Y>>>0&255)+(q>>>0&255)>>>2,x=2+(B>>>8&255)+(m>>>8&255)+(Y>>>8&255)+(q>>>8&255)>>>2,a=2+(B>>>16&255)+(m>>>16&255)+(Y>>>16&255)+(q>>>16&255)>>>2;
o[U]=4278190080|a<<16|x<<8|r}return{rect:L,Dg:D}};e.vtc=function(Q,C,j){var Z=C.W,F=C.C,_=2*Math.floor(Z/3),$=2*Math.floor(F/3),L=new s(C.x,C.y,_,$),D=j&&j.length==_*$*4?j:e.Q(_*$*4),d=new Uint32Array(Q.buffer),o=new Uint32Array(D.buffer);
for(var v=0;v<$;v+=2)for(var f=0;f<_;f+=2){var U=v*_+f,H=(v*3>>>1)*Z+(f*3>>>1),B=d[H],m=d[H+1],Y=d[H+2],q=d[H+Z],r=d[H+1+Z],x=d[H+2+Z],a=d[H+Z+Z],i=d[H+1+Z+Z],l=d[H+2+Z+Z],M=B>>>24<<2,z=(B>>>16&255)*M,V=(B>>>8&255)*M,X=(B&255)*M,O=m>>>24<<1,y=(m>>>16&255)*O,K=(m>>>8&255)*O,R=(m&255)*O,W=Y>>>24<<2,N=(Y>>>16&255)*W,I=(Y>>>8&255)*W,T=(Y&255)*W,h=q>>>24<<1,p=(q>>>16&255)*h,u=(q>>>8&255)*h,g=(q&255)*h,A=r>>>24,w=(r>>>16&255)*A,r$=(r>>>8&255)*A,rW=(r&255)*A,J=x>>>24<<1,rr=(x>>>16&255)*J,r_=(x>>>8&255)*J,rO=(x&255)*J,k=a>>>24<<2,rv=(a>>>16&255)*k,rb=(a>>>8&255)*k,rt=(a&255)*k,rK=i>>>24<<1,rR=(i>>>16&255)*rK,ri=(i>>>8&255)*rK,ru=(i&255)*rK,rS=l>>>24<<2,rg=(l>>>16&255)*rS,rd=(l>>>8&255)*rS,vO=(l&255)*rS,rq=M+O+h+A,rL=W+O+J+A,rl=k+rK+h+A,rV=rS+rK+J+A,ry=rq==0?0:1/rq,vj=rL==0?0:1/rL,rp=rl==0?0:1/rl,rx=rV==0?0:1/rV,rF=0,DX=0,va=0,rB=0;
rF=~~(.5+(X+R+g+rW)*ry);DX=~~(.5+(V+K+u+r$)*ry);va=~~(.5+(z+y+p+w)*ry);rB=~~(.5+rq*(1/9));o[U]=rB<<24|va<<16|DX<<8|rF;
rF=~~(.5+(T+R+rO+rW)*vj);DX=~~(.5+(I+K+r_+r$)*vj);va=~~(.5+(N+y+rr+w)*vj);rB=~~(.5+rL*(1/9));o[U+1]=rB<<24|va<<16|DX<<8|rF;
rF=~~(.5+(rt+ru+g+rW)*rp);DX=~~(.5+(rb+ri+u+r$)*rp);va=~~(.5+(rv+rR+p+w)*rp);rB=~~(.5+rl*(1/9));o[U+_]=rB<<24|va<<16|DX<<8|rF;
rF=~~(.5+(vO+ru+rO+rW)*rx);DX=~~(.5+(rd+ri+r_+r$)*rx);va=~~(.5+(rg+rR+rr+w)*rx);rB=~~(.5+rV*(1/9));o[U+_+1]=rB<<24|va<<16|DX<<8|rF}return{rect:L,Dg:D}};
e.vtf=function(Q,C,j){var Z=C.W,F=C.C,_=2*Math.floor(Z/3),$=2*Math.floor(F/3),L=new s(C.x,C.y,_,$),D=j&&j.length==_*$*4?j:e.Q(_*$*4),d=new Uint32Array(Q.buffer),o=new Uint32Array(D.buffer);
for(var v=0;v<$;v+=2)for(var f=0;f<_;f+=2){var U=v*_+f,H=(v*3>>>1)*Z+(f*3>>>1),B=d[H],m=d[H+1],Y=d[H+2],q=d[H+Z],r=d[H+1+Z],x=d[H+2+Z],a=d[H+Z+Z],i=d[H+1+Z+Z],l=d[H+2+Z+Z],M=(B>>>16&255)<<2,z=(B>>>8&255)<<2,V=(B&255)<<2,X=(m>>>16&255)<<1,O=(m>>>8&255)<<1,y=(m&255)<<1,K=(Y>>>16&255)<<2,R=(Y>>>8&255)<<2,W=(Y&255)<<2,N=(q>>>16&255)<<1,I=(q>>>8&255)<<1,T=(q&255)<<1,h=r>>>16&255,p=r>>>8&255,u=r&255,g=(x>>>16&255)<<1,A=(x>>>8&255)<<1,w=(x&255)<<1,r$=(a>>>16&255)<<2,rW=(a>>>8&255)<<2,J=(a&255)<<2,rr=(i>>>16&255)<<1,r_=(i>>>8&255)<<1,rO=(i&255)<<1,k=(l>>>16&255)<<2,rv=(l>>>8&255)<<2,rb=(l&255)<<2,rt=0,rK=0,rR=0;
rt=~~(.5+(V+y+T+u)*(1/9));rK=~~(.5+(z+O+I+p)*(1/9));rR=~~(.5+(M+X+N+h)*(1/9));o[U]=255<<24|rR<<16|rK<<8|rt;
rt=~~(.5+(W+y+w+u)*(1/9));rK=~~(.5+(R+O+A+p)*(1/9));rR=~~(.5+(K+X+g+h)*(1/9));o[U+1]=255<<24|rR<<16|rK<<8|rt;
rt=~~(.5+(J+rO+T+u)*(1/9));rK=~~(.5+(rW+r_+I+p)*(1/9));rR=~~(.5+(r$+rr+N+h)*(1/9));o[U+_]=255<<24|rR<<16|rK<<8|rt;
rt=~~(.5+(rb+rO+w+u)*(1/9));rK=~~(.5+(rv+r_+A+p)*(1/9));rR=~~(.5+(k+rr+g+h)*(1/9));o[U+_+1]=255<<24|rR<<16|rK<<8|rt}return{rect:L,Dg:D}};
e.ai=function(Q){var C=255,j=Q.length;j-=j&31;for(var Z=3;Z<j;Z+=32)C=C&Q[Z]&Q[Z+4]&Q[Z+8]&Q[Z+12]&Q[Z+16]&Q[Z+20]&Q[Z+24]&Q[Z+28];
return C!=255};e.Ks=function(Q,C,j,Z){var F=e.uB,_=e.vtc,L=0;if(!e.ai(Q)){F=e.ni;_=e.vtf}var $={Dg:Q,rect:C},D=j;
while(D<.499){L++;D*=2}for(var d=0;d<L;d++)$=F($.Dg,$.rect,Z);if(D<.5001)$=F($.Dg,$.rect,Z);else $=_($.Dg,$.rect,Z);
return $};e.nl=function(Q,C,j,Z){var F=e.ng,_=e.vbZ,$={Dg:Q,rect:C},L=0,D=j;while(D<.499){L++;D*=2}for(var d=0;
d<L;d++)$=F($.Dg,$.rect,Z);if(D<.5001)$=F($.Dg,$.rect,Z);else $=_($.Dg,$.rect,Z);return $};e.ng=function(Q,C,j){var Z=C.W,F=C.C,_=Z>>1,$=F>>1,L=new s(C.x,C.y,_,$);
if(Q==null)return{rect:L};var D=j&&j.length>=_*$?j:e.Q(_*$);for(var d=0;d<$;d++){var o=d*_;for(var v=0;
v<_;v++){var f=(d<<1)*Z+(v<<1);D[o+v]=2+Q[f]+Q[f+1]+Q[f+Z]+Q[f+Z+1]>>>2}}return{rect:L,Dg:D}};e.vbZ=function(Q,C,j){var Z=C.W,F=C.C,_=2*Math.floor(Z/3),$=2*Math.floor(F/3),L=new s(C.x,C.y,_,$);
if(Q==null)return{rect:L};var D=j&&j.length>=_*$?j:e.Q(_*$);for(var d=0;d<$;d+=2)for(var o=0;o<_;o+=2){var v=d*_+o,f=(d*3>>>1)*Z+(o*3>>>1),U=Q[f]<<2,H=Q[f+1]<<1,B=Q[f+2]<<2,m=Q[f+Z]<<1,Y=Q[f+1+Z],q=Q[f+2+Z]<<1,r=Q[f+Z+Z]<<2,x=Q[f+1+Z+Z]<<1,a=Q[f+2+Z+Z]<<2;
D[v]=~~(.5+(U+H+m+Y)*(1/9));D[v+1]=~~(.5+(B+H+q+Y)*(1/9));D[v+_]=~~(.5+(r+x+m+Y)*(1/9));D[v+_+1]=~~(.5+(a+x+q+Y)*(1/9))}return{rect:L,Dg:D}};
e.pQ=function(Q,C,j,Z,F){var _=C.QU(Z);if(F)_=_.QU(F);var $=Math.max(0,_.x-C.x),L=Math.max(0,_.x-Z.x),D=Math.max(0,_.y-C.y),d=Math.max(0,_.y-Z.y),o=_.W,v=_.C;
for(var f=0;f<v;f++){var U=(D+f)*C.W+$,H=(d+f)*Z.W+L;for(var B=0;B<o;B++){j[H+B]=Q[U+B]}}};e.nu=function(Q,C,j,Z){if(C.gm(Z)){e.gG(Q,j,3);
return}var F=C.QU(Z),_=Math.max(0,F.x-C.x),$=Math.max(0,F.x-Z.x),L=Math.max(0,F.y-C.y),D=Math.max(0,F.y-Z.y),d=F.W,o=F.C;
for(var v=0;v<o;v++){var f=(L+v)*C.W+_,U=(D+v)*Z.W+$;for(var H=0;H<d;H++)j[(U+H<<2)+3]=Q[f+H]}};e.KE=function(Q,C,j,Z){var F=C.QU(Z),_=Math.max(0,F.x-C.x),$=Math.max(0,F.x-Z.x),L=Math.max(0,F.y-C.y),D=Math.max(0,F.y-Z.y),d=F.W,o=F.C;
for(var v=0;v<o;v++){var f=(L+v)*C.W+_,U=(D+v)*Z.W+$;for(var H=0;H<d;H++)j[U+H]=Q[(f+H<<2)+3]}};e.vqh=function(Q,C,j,Z){var F=C.QU(Z),_=Math.max(0,F.x-C.x),$=Math.max(0,F.x-Z.x),L=Math.max(0,F.y-C.y),D=Math.max(0,F.y-Z.y),d=F.W,o=F.C;
for(var v=0;v<o;v++){var f=(L+v)*C.W+_,U=(D+v)*Z.W+$;for(var H=0;H<d;H++)j[U++]=Q[f++]}};e.tW=function(Q,C,j,Z,F){if(C.gm(Z)&&(F==null||F.gm(Z))){e.W_(Q,j);
return}Q=new Uint32Array(Q.buffer),j=new Uint32Array(j.buffer);var _=C.QU(Z);if(F)_=_.QU(F);var $=Math.max(0,_.x-C.x),L=Math.max(0,_.x-Z.x),D=Math.max(0,_.y-C.y),d=Math.max(0,_.y-Z.y),o=_.W,v=_.C,f=o&3,U=f==0?o:o-f;
for(var H=0;H<v;H++){var B=(D+H)*C.W+$,m=(d+H)*Z.W+L,Y=0;while(Y<U){j[m+Y]=Q[B+Y];j[m+Y+1]=Q[B+Y+1];
j[m+Y+2]=Q[B+Y+2];j[m+Y+3]=Q[B+Y+3];Y+=4}if(f==1){j[m+Y]=Q[B+Y]}else if(f==2){j[m+Y]=Q[B+Y];j[m+Y+1]=Q[B+Y+1]}else if(f==3){j[m+Y]=Q[B+Y];
j[m+Y+1]=Q[B+Y+1];j[m+Y+2]=Q[B+Y+2]}}};e.Kd=function(Q,C,j,Z){var F=C.QU(Z),_=Math.max(0,F.x-C.x),$=Math.max(0,F.x-Z.x),L=Math.max(0,F.y-C.y),D=Math.max(0,F.y-Z.y),d=F.W,o=F.C,v=Q.om,f=Q.h,U=Q.J,H=Q._,B=j.om,m=j.h,Y=j.J,q=j._;
for(var r=0;r<o;r++){var x=(L+r)*C.W+_,a=(D+r)*Z.W+$;for(var i=0;i<d;i++){B[a+i]=v[x+i];m[a+i]=f[x+i];
Y[a+i]=U[x+i];q[a+i]=H[x+i]}}};e.vW=function(Q){var C=Q.length;for(var j=0;j<C;j+=4){var Z=Q[j+3];Q[j]=~~(Q[j]*Z*(1/255)+.5);
Q[j+1]=~~(Q[j+1]*Z*(1/255)+.5);Q[j+2]=~~(Q[j+2]*Z*(1/255)+.5)}};e.vj=function(Q){var C=Q.length;for(var j=0;
j<C;j+=4){var Z=Q[j+3];if(Z==0||Z==255)continue;var F=255/Z;Q[j]=~~(Q[j]*F+.5);Q[j+1]=~~(Q[j+1]*F+.5);
Q[j+2]=~~(Q[j+2]*F+.5)}};e.vqe=function(){var Q=new Uint8Array(256*256);for(var C=0;C<256;C++)for(var j=0;
j<256;j++)Q[j*256+C]=Math.round(255*C/j);return Q}();e.al=function(Q,C){for(var j=0;j<Q.length;j++)if(Q[j]!=C)return!1;
return!0};e.RL=function(Q){return Q+1+(Q>>>8)>>>8};e.round=function(Q,C){if(C==null)C=128;var j=Q.length;
for(var Z=0;Z<j;Z++)Q[Z]=Q[Z]<C?0:255};e.aV=function(Q,C){var j=Q.length;for(var Z=0;Z<j;Z++)Q[Z]=Math.round(Q[Z]*C)};
e.vqN=function(Q,C){var j=Q.length;for(var Z=0;Z<j;Z+=4)Q[Z+3]=Math.round(Q[Z+3]*C)};e.aA=function(Q,C){var j=new Uint32Array(Q.buffer),Z=new Uint32Array(C.buffer),F=j.length;
for(var _=0;_<F;_++){var $=j[_],L=Z[_];Z[_]=e.RL(($>>>24)*(L>>>24))<<24|e.RL(($>>>16&255)*(L>>>16&255))<<16|e.RL(($>>>8&255)*(L>>>8&255))<<8|e.RL(($&255)*(L&255))}};
e.nk=function(Q,C){var j=Q.length;for(var Z=0;Z<j;Z++)C[(Z<<2)+3]=e.RL(C[(Z<<2)+3]*Q[Z])};e.vbG=function(Q,C,j,Z){var F=Math.max(0,Z.x-C.x),_=Math.max(0,C.x-Z.x),$=Math.max(0,Z.y-C.y),L=Math.max(0,C.y-Z.y),D=Math.min(C.x+C.W,Z.x+Z.W)-Math.max(C.x,Z.x),d=Math.min(C.y+C.C,Z.y+Z.C)-Math.max(C.y,Z.y);
for(var o=0;o<d;o++){var v=($+o)*C.W+F,f=(L+o)*Z.W+_;for(var U=0;U<D;U++){j[f]=e.RL(j[f]*Q[v]);v++;f++}}};
e.qN=function(Q,C,j,Z){var F=Math.max(0,Z.x-C.x),_=Math.max(0,C.x-Z.x),$=Math.max(0,Z.y-C.y),L=Math.max(0,C.y-Z.y),D=Math.min(C.x+C.W,Z.x+Z.W)-Math.max(C.x,Z.x),d=Math.min(C.y+C.C,Z.y+Z.C)-Math.max(C.y,Z.y);
for(var o=0;o<d;o++){var v=($+o)*C.W+F,f=((L+o)*Z.W+_<<2)+3;for(var U=0;U<D;U++){j[f]=e.RL(j[f]*Q[v]);
v++;f+=4}}};e.KX=function(Q,C,j,Z){var F=Math.max(0,Z.x-C.x),_=Math.max(0,C.x-Z.x),$=Math.max(0,Z.y-C.y),L=Math.max(0,C.y-Z.y),D=Math.min(C.x+C.W,Z.x+Z.W)-Math.max(C.x,Z.x),d=Math.min(C.y+C.C,Z.y+Z.C)-Math.max(C.y,Z.y);
for(var o=0;o<d;o++){var v=(($+o)*C.W+F<<2)+3,f=((L+o)*Z.W+_<<2)+3;for(var U=0;U<D;U++){j[f]=e.RL(j[f]*Q[v]);
v+=4;f+=4}}};e.vqw=function(Q,C,j,Z){var F=1/255,_=Math.max(0,Z.x-C.x),$=Math.max(0,C.x-Z.x),L=Math.max(0,Z.y-C.y),D=Math.max(0,C.y-Z.y),d=Math.min(C.x+C.W,Z.x+Z.W)-Math.max(C.x,Z.x),o=Math.min(C.y+C.C,Z.y+Z.C)-Math.max(C.y,Z.y);
for(var v=0;v<o;v++){var f=(L+v)*C.W+_,U=(D+v)*Z.W+$;for(var H=0;H<d;H++){j[U]=F*j[U]*(255-Q[f]);f++;
U++}}};e.vi$=function(Q,C){var j=[];for(var Z=0;Z<256;Z++)j.push(0);var F=Q.length,_=1/255;for(var Z=0;
Z<F;Z++)j[Q[Z]]+=C[Z]*_;return j};e.uH=function(Q){var C=new Float64Array(256),j=new Float64Array(256),Z=new Float64Array(256),F=new Float64Array(256),_=Q.length;
for(var $=0;$<_;$+=4){var L=Q[$+3]*(1/255);j[Q[$+0]]+=L;Z[Q[$+1]]+=L;F[Q[$+2]]+=L}for(var $=0;$<256;
$++)C[$]=j[$]+Z[$]+F[$];return[C,j,Z,F,_>>>2]};e.nJ=function(Q,C){var j=new Uint32Array(Q.buffer),Z=j.length;
for(var F=0;F<Z;F++){var _=j[F],$=_&255,L=_>>8&255,D=_>>16&255,d=_>>24&255;j[F]=C[$]|C[L]<<8|C[D]<<16|C[d]<<24}};
e.vKv=function(Q,C,j,Z,F,_,$){var L=new Uint32Array(Q.buffer),D=new Uint32Array(C.buffer),d=L.length,o=0;
while(256<<o<j.length)o++;if(!$&&!_){for(var v=0;v!=d;v++){var f=L[v],U=(f&255)<<o,H=(f>>>8&255)<<o,B=(f>>>16&255)<<o,m=j[U],Y=Z[H],q=F[B];
D[v]=m|Y<<8|q<<16|f&4278190080}return}for(var v=0;v<d;v++){var f=L[v],U=(f&255)<<o,H=(f>>>8&255)<<o,B=(f>>>16&255)<<o;
if(_)U=H=B=Math.round(U*.3+H*.59+B*.11);var m=j[U],Y=Z[H],q=F[B];if($){var r=e.kg(U,H,B),x=e.kg(m,Y,q);
if(r>x){var a=(r-x)/(255-x);m+=a*(255-m);Y+=a*(255-Y);q+=a*(255-q)}else if(x==0)m=Y=q=0;else{var a=r/x;
m=a*m;Y=a*Y;q=a*q}}D[v]=m|Y<<8|q<<16|f&4278190080}};e.vir=function(Q){var C=new Uint32Array(256),Z=0;
for(var j=0;j<Q.length;j++)C[Q[j]]++;for(var j=0;j<256;j++)if(C[j]>C[Z])Z=j;return Z};e.Go=function(Q,C){var j=C.W,Z=C.C,top=0,F=0,_=0,$=0,L=0;
L=0;for(var D=0;D<Z;D++){var d=D*j;for(var o=0;o<j;o++)L|=Q[d+o];if(L!=0)break;top++}if(top==Z)return new s(0,0,0,0);
L=0;for(var D=Z-1;D>=0;D--){var d=D*j;for(var o=0;o<j;o++)L|=Q[d+o];if(L!=0)break;_++}var v=Z-_;L=0;
for(var o=0;o<j;o++){for(var D=top;D<v;D++)L|=Q[D*j+o];if(L!=0)break;F++}L=0;for(var o=j-1;o>=0;o--){for(var D=top;
D<v;D++)L|=Q[D*j+o];if(L!=0)break;$++}var f=new s(C.x+F,C.y+top,j-F-$,Z-top-_);return f};e.Ka=function(Q,C,j,Z){if(Z==null)Z=[!0,!0,!0,!0];
if(j==null)j=0;var F=new Uint32Array(Q.buffer),_=C.W,$=C.C,top=0,L=0,D=0,d=0,o=!1,v=[F[0],F[F.length-1],0][j];
o=!1;if(Z[0])for(var f=0;f<$;f++){var U=f*_;for(var H=0;H<_;H++)if(F[U+H]!=v)o=!0;if(o)break;top++}o=!1;
if(Z[2])for(var f=$-1;f>=0;f--){var U=f*_;for(var H=0;H<_;H++)if(F[U+H]!=v)o=!0;if(o)break;D++}o=!1;
if(Z[1])for(var H=0;H<_;H++){for(var f=0;f<$;f++)if(F[f*_+H]!=v)o=!0;if(o)break;L++}o=!1;if(Z[3])for(var H=_-1;
H>=0;H--){for(var f=0;f<$;f++)if(F[f*_+H]!=v)o=!0;if(o)break;d++}var B=new s(C.x+L,C.y+top,_-L-d,$-top-D);
return B.jJ()?new s(0,0,0,0):B};e.viz=function(Q){var C=255,j=Q.length;for(var Z=3;Z<j;Z+=4)C=C&Q[Z];
return C};e.Dx=function(Q){var C=e.Go(Q.channel,Q.rect);if(C.gm(Q.rect))return;var j=e.Q(C.P());e.pQ(Q.channel,Q.rect,j,C);
Q.channel=j;Q.rect=C};e.Bt=function(Q){var C=e.Q(Q.buffer.length>>2);e.yq(Q.buffer,C,3);var j=e.Go(C,Q.rect);
if(j.gm(Q.rect))return;var Z=new e.Q(j.P()*4);e.tW(Q.buffer,Q.rect,Z,j);Q.buffer=Z;Q.rect=j};e.extend=function(Q,C,j){if(Q.rect.yt(C))return;
var Z=Q.rect.fJ(C),F=e.Q(Z.P());if(j!=null)e.set(F,j);e.pQ(Q.channel,Q.rect,F,Z);Q.rect=Z;Q.channel=F};
e.vKS=function(Q,C){if(C.jJ()||Q.rect.yt(C))return;var j=Q.rect.fJ(C),Z=e.Q(j.P()*4);e.tW(Q.buffer,Q.rect,Z,j);
Q.rect=j;Q.buffer=Z};e.viq=function(Q,C,j){var Z=C.clone(),F=j.P(),_=Q.fJ(Z);while(_.P()/Q.P()<2&&_.P()<F){Z.ac(16,16);
_=_.fJ(Z).QU(j)}if(F/_.P()<2)_=j.clone();return _};e.nE=function(Q){var C=Q.length;for(var j=0;j<C;j+=4){var Z=Q[j+3];
if(Q[j]>Z)Q[j]=Z;if(Q[j+1]>Z)Q[j+1]=Z;if(Q[j+2]>Z)Q[j+2]=Z}};e.qx=function(Q,C,j){if(!j._p(Q))return!1;
var Z=Math.floor(Q.x)-j.x,F=Math.floor(Q.y)-j.y,_=F*j.W+Z;return C[_]>128};e.vKf=function(Q,C,j){if(!j._p(Q))return!1;
var Z=Math.floor(Q.x)-j.x,F=Math.floor(Q.y)-j.y,_=F*j.W+Z;return C[4*_+3]>128};e.KC=function(Q){if(e.BR.length<Q){e.BR=e.Q(Q);
e.set(e.BR,255)}return e.BR};e.BR=e.Q(0);e.WC=function(Q){if(e.KZ.length<Q)e.KZ=e.Q(Q);return e.KZ};
e.KZ=e.Q(0);e.mr=function(Q){this.om=e.Q(Q);this.h=e.Q(Q);this.J=e.Q(Q);this._=e.Q(Q)};e.mr.prototype.clone=function(){var Q=this.om.length,C=new e.mr(1);
C.om=e.clone(this.om);C.h=e.clone(this.h);C.J=e.clone(this.J);C._=e.clone(this._);return C};e.nX={vR_:function(Q,C){var j=Q.length;
Q.push(C);var Z=j>>>1;while(Z!=0&&Q[j][0]<Q[Z][0]){var F=Q[j];Q[j]=Q[Z];Q[Z]=F;j=Z;Z=j>>>1}},vRQ:function(Q){if(Q.length==2)return Q.pop();
var top=Q[1],C=1;Q[1]=Q.pop();var j=Q.length;while(!0){var Z=C<<1,F=Z+1,_=C;if(Z<j&&Q[Z][0]<Q[_][0])_=Z;
if(F<j&&Q[F][0]<Q[_][0])_=F;if(_==C)break;var $=Q[C];Q[C]=Q[_];Q[_]=$;C=_}return top},viB:function(Q){for(var C=1;
C<Q.length;C++){var j=C,Z=1e9;while(j!=0){var F=Q[j][0];if(F>Z){console.log(C);throw"e"}Z=F;j=j>>>1}}}};
e.B={};e.B.Bj=new Float64Array(256);e.B.YD=new Uint8Array(256*256);e.B.KY=new Uint8Array(256*256);(function(){for(var Q=0;
Q<256;Q++)e.B.Bj[Q]=255/Q;for(var Q=0;Q<256;Q++)for(var C=0;C<256;C++)e.B.YD[Q*256+C]=Q==0?0:Math.round(C*255/Q);
for(var Q=0;Q<256;Q++)for(var C=0;C<256;C++)e.B.KY[Q*256+C]=Math.round(Q*(255-C)/255)}());e.B.hW=function(Q,C,j,Z,F,_,$,L){if(L==null)L=rk.mN();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(Q)==-1){$=$*L.fill;L.fill=1;L.style=!1}var D="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),d="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),o=e.B[Q+"F"];
if(L.ao==null&&Q=="norm")e.B.vRx(C,j,Z,F,_,$,o,L.aY?1:0);else if(Q=="diss")e.B.vjf(C,j,Z,F,_,$,o,L.aY?1:0);
else if(D.indexOf(Q)!=-1)e.B.vj_(C,j,Z,F,_,$,o,L);else if(d.indexOf(Q)!=-1)e.B.vjc(C,j,Z,F,_,$,o,L)};
e.B.vRX=function(Q,C,j){var Z=Q*j+1-j;return Z<.001?0:1-Math.min(1,(1-C)/Z)};e.B.vRy=function(Q,C,j){return Q*j==1?1:Math.min(1,C/(1-Q*j))};
e.B.kh=function(Q){return Q<=.25?((16*Q-12)*Q+4)*Q:Math.sqrt(Q)};e.B.normF=function(Q,C,j){return Q};
e.B.darkF=function(Q,C,j){return Math.min(Q,C)};e.B["mul F"]=function(Q,C,j){return Q*C};e.B.idivF=function(Q,C,j){var Z=Q*j+1-j;
return C==1?1:1-C>=Z?0:1-(1-C)/Z};e.B.lbrnF=function(Q,C,j){return Math.max(0,Q*j+C-j)};e.B.dkClF=function(Q,C,j){var Z=e.Kk(Q)<e.Kk(C)?Q:C;
j.h=Z.h;j.J=Z.J;j._=Z._;return j};e.B.liteF=function(Q,C,j){return Math.max(Q,C)};e.B.scrnF=function(Q,C,j){return C+Q-C*Q};
e.B["div F"]=function(Q,C,j){Q*=j;return C==0?0:C>=1-Q?1:C/(1-Q)};e.B.lddgF=function(Q,C,j){Q*=j;return Math.min(1,Q+C)};
e.B.lgClF=function(Q,C,j){var Z=e.Kk(Q)>e.Kk(C)?Q:C;j.h=Z.h;j.J=Z.J;j._=Z._;return j};e.B.overF=function(Q,C,j){return e.B.hLitF(C,Q,j)};
e.B.sLitF=function(Q,C,j){return Q<=.5?C-(1-2*Q)*C*(1-C):C+(2*Q-1)*(e.B.kh(C)-C)};e.B.hLitF=function(Q,C,j){return Q<=.5?e.B["mul F"](2*Q,C,j):e.B.scrnF(2*Q-1,C,j)};
e.B.vLitF=function(Q,C,j){return Q<=.5?e.B.vRX(2*Q,C,j):e.B.vRy(2*Q-1,C,j)};e.B.lLitF=function(Q,C,j){return Q<=.5?e.B.lbrnF(2*Q,C,j):e.B.lddgF(2*Q-1,C,j)};
e.B.pLitF=function(Q,C,j){return Q<=.5?e.B.darkF(2*Q,C,j):e.B.liteF(2*Q-1,C,j)};e.B.hMixF=function(Q,C,j){if(j>.99)return Q+C<1?0:1;
return Math.min(1,Math.max(0,(C+Q*j-j)/(1-j+1e-6)))};e.B.diffF=function(Q,C,j){Q*=j;return Math.abs(Q-C)};
e.B.smudF=function(Q,C,j){return Q+C-2*Q*C};e.B.fsubF=function(Q,C,j){return Math.max(C-Q,0)};e.B.fdivF=function(Q,C,j){return Math.min(C/Q,1)};
e.B["hue F"]=function(Q,C,j){e.aK(Q,e.XU(C),j);e.uz(j,e.Kk(C),j)};e.B["sat F"]=function(Q,C,j){e.aK(C,e.XU(Q),j);
e.uz(j,e.Kk(C),j)};e.B.colrF=function(Q,C,j){e.uz(Q,e.Kk(C),j)};e.B["lum F"]=function(Q,C,j){e.uz(C,e.Kk(Q),j)};
e.B.vRx=function(Q,C,j,Z,F,_,$,L){var D=C.QU(Z).QU(F),d=Math.max(0,D.x-C.x),o=Math.max(0,D.x-Z.x),v=Math.max(0,D.y-C.y),f=Math.max(0,D.y-Z.y),U=D.W,H=D.C,B=C.W,m=Z.W,Y=e.B.YD,q=e.B.KY,r=new Uint32Array(Q.buffer),x=new Uint32Array(j.buffer);
for(var a=0;a<H;a++){var i=(v+a)*B+d,l=(f+a)*m+o;for(var M=0;M<U;M++){var z=r[i+M],O=255;if(z>>>24==0)continue;
if(z>>>24==255&&_==1&&L==0){x[l+M]=r[i+M];continue}var V=x[l+M],X=255*_&255;if(L==0){X=(z>>>24)*_&255;
O=V>>>24}var y=q[O<<8|X],K=X+y,R=z&255,W=z>>>8&255,N=z>>>16&255,I=V&255,T=V>>>8&255,h=V>>>16&255;x[l+M]=L*(V>>>24)+(1-L)*K<<24|Y[K<<8|e.RL(N*X+h*y)]<<16|Y[K<<8|e.RL(W*X+T*y)]<<8|Y[K<<8|e.RL(R*X+I*y)]}}};
e.B.vRF=function(Q,C,j,Z,F,_){var $=C.QU(Z).QU(F),L=Math.max(0,$.x-C.x),D=Math.max(0,$.x-Z.x),d=Math.max(0,$.y-C.y),o=Math.max(0,$.y-Z.y),v=$.W,f=$.C,U=C.W,H=Z.W,B=e.B.YD,m=e.B.KY,Y=new Uint32Array(Q.buffer),q=new Uint32Array(j.buffer),r=Math.floor(Math.random()*16777215),x=0;
for(var a=0;a<f;a++){var i=(d+a)*U+L,l=(o+a)*H+D;for(var M=0;M<v;M++){var z=Y[i+M];if(z>>>24==0)continue;
if(z>>24==255&&_==1){q[l+M]=z;continue}var V=q[l+M],X=(z>>>24)*_*(1/255),O=(V>>>24)*(1/255),y=O*(1-X),K=X+y,R=z&255,W=z>>>8&255,N=z>>>16&255,I=V&255,T=V>>>8&255,h=V>>>16&255;
x>>>=8;if((M&3)==0)x=e.B.iW(l+M+r);var p=K==0?0:1/K,u=Math.floor(K*(256*255))+(x&255)>>>8,g=Math.floor((N*X+h*y)*p+.5),A=Math.floor((W*X+T*y)*p+.5),w=Math.floor((R*X+I*y)*p+.5);
q[l+M]=u<<24|g<<16|A<<8|w}}};e.B.Bg=function(Q,C,j,Z,F,_,$,L){var D=e.kg(Q,C,j),d=e.kg(Z,F,_),o=Math.min,v=e.B.vRf,f=v(D,L,0);
f=o(f,v(Q,L,8));f=o(f,v(C,L,16));f=o(f,v(j,L,24));var U=v(d,L,4);U=o(U,v(Z,L,12));U=o(U,v(F,L,20));U=o(U,v(_,L,28));
U=Math.max(U,1-$);var H=Math.min(f,U);return H<0?0:H>1?1:H};e.B.vRf=function(Q,C,j){return Math.min((Q-C[j])*C[j+1],(Q-C[j+3])*C[j+2])};
e.B.vj_=function(Q,C,j,Z,F,_,$,L){var D=1/255,d=D*_,o=L.aY?1:0,v=L.fill,f=L.style,U=C.QU(Z).QU(F),H=Math.max(0,U.x-C.x),B=Math.max(0,U.x-Z.x),m=Math.max(0,U.y-C.y),Y=Math.max(0,U.y-Z.y),q=U.W,r=U.C,x=C.W,a=Z.W,i=new Uint32Array(Q.buffer),l=new Uint32Array(j.buffer);
for(var M=0;M<r;M++){var z=(m+M)*x+H,V=(Y+M)*a+B;for(var X=0;X<q;X++,z++,V++){var O=i[z],p=1;if(O>>>24==0)continue;
var y=l[V],K=(O&255)*D,R=(O>>>8&255)*D,W=(O>>>16&255)*D,N=(y&255)*D,I=(y>>>8&255)*D,T=(y>>>16&255)*D,h=_;
if(o==0){h=(O>>>24)*d;p=(y>>>24)*D}if(L.ao)h*=e.B.Bg(K,R,W,N,I,T,p,L.ao);var u=p*(1-h),g=h+u,A=255/g,w=f?1:h,r$=((1-p)*h*K+(1-w)*p*N+w*p*$(K,N,(1+h-w)*v))*A,rW=((1-p)*h*R+(1-w)*p*I+w*p*$(R,I,(1+h-w)*v))*A,J=((1-p)*h*W+(1-w)*p*T+w*p*$(W,T,(1+h-w)*v))*A;
g=h*v+p*(1-h*v);var rr=Math.round(g*255);l[V]=o*(y>>>24)+(1-o)*rr<<24|J<<16|rW<<8|r$}}};e.B.vjc=function(Q,C,j,Z,F,_,$,L){var D=1/255,d=D*_,o=L.aY?1:0,v=C.QU(Z).QU(F),f=Math.max(0,v.x-C.x),U=Math.max(0,v.x-Z.x),H=Math.max(0,v.y-C.y),B=Math.max(0,v.y-Z.y),m=v.W,Y=v.C,q=new Uint32Array(Q.buffer),r=new Uint32Array(j.buffer),x={h:0,J:0,_:0},a={h:0,J:0,_:0},i={h:0,J:0,_:0};
for(var l=0;l<Y;l++){var M=(H+l)*C.W+f,z=(B+l)*Z.W+U;for(var V=0;V<m;V++,M++,z++){var X=q[M],O=r[z],y=(X&255)*D,K=(X>>>8&255)*D,R=(X>>>16&255)*D,W=(O&255)*D,N=(O>>>8&255)*D,I=(O>>>16&255)*D,T=_,h=1;
if(o==0){T=(X>>>24)*d;h=(O>>>24)*D}if(L.ao)T*=e.B.Bg(y,K,R,W,N,I,h,L.ao);var p=h*(1-T),u=T+p,g=255/u;
x.h=y;x.J=K;x._=R;a.h=W;a.J=N;a._=I;$(x,a,i);var A=(((1-h)*y+h*i.h)*T+W*p)*g,w=(((1-h)*K+h*i.J)*T+N*p)*g,r$=(((1-h)*R+h*i._)*T+I*p)*g,rW=o*(O>>>24)+(1-o)*Math.round(u*255);
r[z]=rW<<24|r$<<16|w<<8|A}}};e.B.ax=function(Q){Q=Q^61^Q>>>16;Q=Q+(Q<<3);Q=Q^Q>>>4;Q=Q*668265261;Q=Q^Q>>15;
return(Q&16777215)*(1/16777215)};e.B.iW=function(Q){Q=Q^61^Q>>>16;Q=Q+(Q<<3);Q=Q^Q>>>4;Q=Q*668265261;
Q=Q^Q>>>15;return Q};e.B.Kc=function(Q){this.ts=Q};e.B.Kc.prototype.get=function(){var Q=this.ts=e.B.iW(this.ts);
return(Q&16777215)*(1/16777215)};e.B.vjf=function(Q,C,j,Z,F,_,$,L){var D=1/255,d=D*_,o=Math.round(_*(256*256*256/255)),v=C.QU(Z).QU(F),f=Math.max(0,v.x-C.x),U=Math.max(0,v.x-Z.x),H=Math.max(0,v.y-C.y),B=Math.max(0,v.y-Z.y),m=v.W,Y=v.C,q=new Uint32Array(Q.buffer),r=new Uint32Array(j.buffer);
for(var x=0;x<Y;x++){var a=(H+x)*C.W+f,i=(B+x)*Z.W+U;for(var l=0;l<m;l++,a++,i++){var M=q[a],z=r[i],V=L*255+(1-L)*(M>>>24);
if((e.B.iW(a)&16777215)>=V*o)continue;r[i]=M&16777215|L*(z>>>24)+(1-L)*255<<24}}};e.B.vim=function(Q,C,j){for(var Z=0;
Z<Q.length;Z+=4){var F=j[Z>>>2];if(F==0)continue;var _=F*(1/255),$=1/_,L=C[Z],D=C[Z+1],d=C[Z+2],o=Q[Z],v=Q[Z+1],f=Q[Z+2];
C[Z]=Math.min(255,Math.max(0,Math.round((L-(1-_)*o)*$)));C[Z+1]=Math.min(255,Math.max(0,Math.round((D-(1-_)*v)*$)));
C[Z+2]=Math.min(255,Math.max(0,Math.round((d-(1-_)*f)*$)));C[Z+3]=255}};e.B.lh=function(Q,C,j,Z,F,_,$,L,D,d){if(d==null)d=!1;
if(F&&!C.gm(_)){var o=e.Q(C.P()*4);e.set(o,$);e.pQ(F,_,o,C);F=o;_=C}if(d){if(F==null)e.B.vzy(Q,C,j,Z,F,L,D);
else e.B.vzc(Q,C,j,Z,F,L,D)}else{if(F==null)e.B.vjw(Q,C,j,Z,F,L,D);else e.B.vzx(Q,C,j,Z,F,L,D)}};e.B.vjw=function(Q,C,j,Z,F,_,$){var L=1/255,D=C.QU(Z).QU(_),d=Math.max(0,D.x-C.x),o=Math.max(0,D.x-Z.x),v=Math.max(0,D.y-C.y),f=Math.max(0,D.y-Z.y),U=D.W,H=D.C,B=new Uint32Array(Q.buffer),m=new Uint32Array(j.buffer),Y=e.B.YD,q=$*255&255;
for(var r=0;r<H;r++){var x=(v+r)*C.W+d,a=(f+r)*Z.W+o;for(var i=0;i<U;i++,x++,a++){var l=B[x],M=m[a],z=l>>>24,V=M>>>24,X=e.RL(q*z+(255-q)*V),O=e.RL(z*q),y=e.RL(V*(255-q)),K=l&255,R=l>>>8&255,W=l>>>16&255,N=M&255,I=M>>>8&255,T=M>>>16&255,h=O*K+N*y,p=O*R+I*y,u=O*W+T*y;
h=Y[X<<8|e.RL(h)];p=Y[X<<8|e.RL(p)];u=Y[X<<8|e.RL(u)];m[a]=X<<24|u<<16|p<<8|h}}};e.B.vzy=function(Q,C,j,Z,F,_,$){var L=1/255,D=C.QU(Z).QU(_),d=Math.max(0,D.x-C.x),o=Math.max(0,D.x-Z.x),v=Math.max(0,D.y-C.y),f=Math.max(0,D.y-Z.y),U=D.W,H=D.C,B=new Uint32Array(Q.buffer),m=new Uint32Array(j.buffer),Y=e.B.YD,q=$*16777215&16777215;
for(var r=0;r<H;r++){var x=(v+r)*C.W+d,a=(f+r)*Z.W+o;for(var i=0;i<U;i++,x++,a++){if((e.B.iW(x)&16777215)<q)m[a]=B[x]}}};
e.B.vzx=function(Q,C,j,Z,F,_,$){var L=1/255,D=C.QU(Z).QU(_),d=Math.max(0,D.x-C.x),o=Math.max(0,D.x-Z.x),v=Math.max(0,D.y-C.y),f=Math.max(0,D.y-Z.y),U=D.W,H=D.C,B=new Uint32Array(Q.buffer),m=new Uint32Array(j.buffer),Y=e.B.YD;
for(var q=0;q<H;q++){var r=(v+q)*C.W+d,x=(f+q)*Z.W+o;for(var a=0;a<U;a++,r++,x++){var i=F[r]*$&255;if(i==0)continue;
if(i==255){m[x]=B[r];continue}var l=B[r],M=m[x],z=l>>>24,V=M>>>24,X=e.RL(i*z+(255-i)*V),O=e.RL(z*i),y=e.RL(V*(255-i)),K=l&255,R=l>>>8&255,W=l>>>16&255,N=M&255,I=M>>>8&255,T=M>>>16&255,h=Y[X<<8|e.RL(O*K+N*y)],p=Y[X<<8|e.RL(O*R+I*y)],u=Y[X<<8|e.RL(O*W+T*y)];
m[x]=X<<24|u<<16|p<<8|h}}};e.B.vzc=function(Q,C,j,Z,F,_,$){var L=1/255,D=C.QU(Z).QU(_),d=Math.max(0,D.x-C.x),o=Math.max(0,D.x-Z.x),v=Math.max(0,D.y-C.y),f=Math.max(0,D.y-Z.y),U=D.W,H=D.C,B=new Uint32Array(Q.buffer),m=new Uint32Array(j.buffer),Y=e.B.YD,q=Math.round($*257);
for(var r=0;r<H;r++){var x=(v+r)*C.W+d,a=(f+r)*Z.W+o;for(var i=0;i<U;i++,x++,a++){var l=F[x]*q;if((e.B.iW(x)&65535)<l)m[a]=B[x]}}};
e.B.na=function(Q,C,j,Z,F,_,$){var L=1/255,D=C.QU(Z).QU(_),d=Math.max(0,D.x-C.x),o=Math.max(0,D.x-Z.x),v=Math.max(0,D.y-C.y),f=Math.max(0,D.y-Z.y),U=D.W,H=D.C,B=new Uint32Array(Q.buffer),m=new Uint32Array(j.buffer),Y=Math.floor(Math.random()*Z.P()),q=e.B.vzN;
for(var r=0;r<H;r++){var x=(v+r)*C.W+d,a=(f+r)*Z.W+o;for(var i=0;i<U;i++){var l=F[x+i]*$;if(l==0)continue;
if(l==255){m[a+i]=B[x+i];continue}var M=B[x+i],z=m[a+i],V=M>>>24,X=z>>>24,O=V*l*(1/255),y=X*(255-l)*(1/255),K=M&255,R=M>>>8&255,W=M>>>16&255,N=z&255,I=z>>>8&255,T=z>>>16&255,h=e.B.iW(a+i+Y),p=Math.floor((O+y)*256+.5)+(h>>>0&255)>>>8,u=p==0?0:256/(O+y),g=K*O+N*y,A=R*O+I*y,w=W*O+T*y,r$=Math.floor(g*u+.5)+(h>>>8&255)>>>8,rW=Math.floor(A*u+.5)+(h>>>16&255)>>>8,J=Math.floor(w*u+.5)+(h>>>21&248)>>>8;
m[a+i]=p<<24|J<<16|rW<<8|r$}}};e.B.vzN=function(Q){return Math.floor(Q+Math.random())};e.B.kW=function(Q,C,j,Z,F,_,$){var L=1/255,D=C.QU(Z).QU(_),d=Math.max(0,D.x-C.x),o=Math.max(0,D.x-Z.x),v=Math.max(0,D.y-C.y),f=Math.max(0,D.y-Z.y),U=D.W,H=D.C;
for(var B=0;B<H;B++){var m=(v+B)*C.W+d,Y=(f+B)*Z.W+o;for(var q=0;q<U;q++,m++,Y++){var r=$*F[m]*L;if(r==0)continue;
if(r==1){j[Y]=Q[m];continue}j[Y]=Q[m]*r+j[Y]*(1-r)}}};e.aZ={};e.aZ.vzw=function(Q,C,j,Z,F,_){e.aZ.Kf(Q,C,j,Z,F,_,null,0)};
e.aZ.vqz=function(Q,C,j,Z,F){e.aZ.Kf(Q,C,j,Z,F,null,null,0)};e.aZ.vqq=function(Q,C,j,Z,F,_,$){e.aZ.Kf(Q,C,j,Z,F,null,_,$*.5)};
e.aZ.Kf=function(Q,C,j,Z,F,_,$,L){var D=0,y=0,K=1e9,R=0,W=1e9,N=0,I=1e9,T=0,h=0,p=0,u=0;if(_){D=F*.5;
F=3+Math.round((F-3)*.75)}if($){F=Math.round(F*2.2)}var d=1/F,o=Math.floor(C*d)+1,v=Math.floor(j*d)+1,f=[],U=new Uint8Array(o*v*4),H=$?.5:1,B=_?64:0;
for(var m=0;m<v;m++){var Y=$?.5*(m&1):0;for(var q=0;q<o;q++){var r=(q+Math.random()*H+Y)*F,x=(m+Math.random()*H)*F;
f.push(r,x);var a=Math.min(C-1,Math.floor(r)),i=Math.min(j-1,Math.floor(x)),l=(i*C+a)*4,M=(m*o+q)*4;
for(var z=0;z<4;z++)U[M+z]=Math.max(0,Math.min(255,Math.floor(Q[l+z]+(Math.random()-.5)*B)))}}var V=_?_:$?$:[0,0,0],X=o*v*2,O=[-o-1,-o,-o+1,-1,0,1,o-1,o,o+1];
for(var m=0;m<j;m++){p=0;for(var q=0;q<C;q++){var g=q+.5,A=m+.5,w=Math.floor(A*d),r$=Math.floor(g*d),rW=w*o+r$,r_=0,rO=0;
if(p>1+L){K=e.aZ.nB(f,y,g,A);T=Math.sqrt(K);p--;u++}else{K=W=I=1e9;for(var z=0;z<O.length;z++){var J=(rW+O[z])*2;
if(J<0||J>=X)continue;var rr=e.aZ.nB(f,J,g,A);if(rr<I){if(rr<W){if(rr<K){N=R;I=W;R=y;W=K;y=J;K=rr}else{N=R;
I=W;R=J;W=rr}}else{N=J;I=rr}}}T=Math.sqrt(K);h=Math.sqrt(W);p=h-(T+h)*.5}if($==null){var k=(T+h)*.5,rv=_?Math.max(0,k-D):0;
r_=Math.max(0,Math.min(1,.5+k-T-rv));rO=Math.max(0,Math.min(1,1-(.5+k-T)-rv))}else{var rb=Math.min(e.aZ.nx(f,y,R,g,A),e.aZ.nx(f,y,N,g,A));
r_=Math.max(0,Math.min(1,rb-L*.5));if(g<L||C-L<g||A<L||j-L<A)r_=0;rO=0}var rt=1-rO-r_,M=m*C+q<<2,rK=y<<1,rR=R<<1;
Z[M+0]=Math.floor(.5+r_*U[rK+0]+rO*U[rR+0]+rt*V[0]);Z[M+1]=Math.floor(.5+r_*U[rK+1]+rO*U[rR+1]+rt*V[1]);
Z[M+2]=Math.floor(.5+r_*U[rK+2]+rO*U[rR+2]+rt*V[2]);Z[M+3]=Q[M+3]}}};e.aZ.nB=function(Q,C,j,Z){var F=j-Q[C],_=Z-Q[C+1];
return F*F+_*_};e.aZ.nx=function(Q,C,j,Z,F){var _=Q[C],$=Q[C+1],L=Q[j],D=Q[j+1],d=(_+L)*.5,o=($+D)*.5,v=d+(D-$),f=o-(L-_),U=f-o,H=v-d;
return Math.abs(U*Z-H*F+v*o-f*d)/Math.sqrt(H*H+U*U)};e.blur={};e.blur.vi=function(Q){if(e.blur.Bs.length<Q)e.blur.Bs=e.Q(Q);
return e.blur.Bs};e.blur.Bs=e.Q(0);e.blur.nL=function(Q){if(e.blur.Kh.length<Q)e.blur.Kh=new Float32Array(Q);
return e.blur.Kh};e.blur.Kh=new Float32Array(0);e.blur.Pt=function(Q,C,j,Z){var F=j.W,_=j.C;e.blur.vqp(Q,C,F,_,Z)};
e.blur.vqT=function(Q,C,j){var Z=C.W,F=C.C;e.blur.vqd(Q,Z,F,j)};e.blur.YX=function(Q,C,j,Z,F){var _=j.W,$=j.C;
e.blur.vqy(Q,C,_,$,Z,F)};e.blur.nC=function(Q,C,j,Z){var F=j.W,_=j.C;Z=Math.round(Z);var $=e.blur.vi(F*_);
e.W_(Q,C);e.blur.BP(C,$,F,_,Z)};e.blur.nZ=function(Q,C,j){var Z=C.W,F=C.C;j=Math.round(j);var _=e.blur.vi(Z*F*4);
e.blur.Be(Q,_,Z,F,j)};e.blur.vg=function(Q,C,j,Z){var F=j.W,_=j.C;Z=Math.round(Z);var $=e.blur.nL(F*_);
e.W_(Q,C);e.blur.no(C,$,F,_,Z)};e.blur.nc=function(Q,C,j){var Z=C.W,F=C.C;j=Math.round(j);var _=e.blur.vi(Z*F*4);
e.blur.nG(Q,_,Z,F,j);e.W_(_,Q)};e.blur.Bd=function(Q,C){var j=Math.sqrt(12*Q*Q/C+1),Z=Math.floor(j);
if(Z%2==0)Z--;var F=Z+2,_=(12*Q*Q-C*Z*Z-4*C*Z-3*C)/(-4*Z-4),$=Math.round(_),L=[];for(var D=0;D<C;D++)L.push(D<$?Z:F);
return L};e.blur.vqp=function(Q,C,j,Z,F){var _=e.blur.Bd(F,3),$=e.blur.vi(j*Z);e.W_(Q,C);e.blur.BP(C,$,j,Z,_[0]-1>>1);
e.blur.BP(C,$,j,Z,_[1]-1>>1);e.blur.BP(C,$,j,Z,_[2]-1>>1)};e.blur.vqd=function(Q,C,j,Z){var F=e.blur.Bd(Z,3),_=e.blur.vi(C*j*4);
e.blur.Be(Q,_,C,j,F[0]-1>>1);e.blur.Be(Q,_,C,j,F[1]-1>>1);e.blur.Be(Q,_,C,j,F[2]-1>>1)};e.blur.vqy=function(Q,C,j,Z,F,_){if(_==null)_=3;
var $=e.blur.Bd(F,_),L=e.blur.nL(j*Z);e.W_(Q,C);for(var D=0;D<_;D++)e.blur.no(C,L,j,Z,($[0]-1)/2)};e.blur.BP=function(Q,C,j,Z,F){e.blur.viK(Q,C,j,Z,F);
e.blur.vVR(C,Q,j,Z,F)};e.blur.Be=function(Q,C,j,Z,F){e.blur.nG(Q,C,j,Z,F);e.blur.vVS(C,Q,j,Z,F)};e.blur.no=function(Q,C,j,Z,F){e.blur.vlr(Q,C,j,Z,F);
e.blur.vVJ(C,Q,j,Z,F)};e.blur.KG=[];e.blur.BH=function(Q){if(e.blur.KG[Q])return e.blur.KG[Q];var C=1/(Q+Q+1),j=(Q+Q+1)*256,Z=e.Q(j);
for(var F=0;F<j;F++)Z[F]=Math.round(F*C);e.blur.KG[Q]=Z;return Z};e.blur.viK=function(Q,C,j,Z,F){var _=1/(F+F+1),$=j-F-F-1,L=e.blur.BH(F);
for(var D=0;D<Z;D++){var d=D*j,o=d,v=d+F,f=Q[d],U=Q[d+j-1],H=(F+1)*f;for(var B=0;B<F;B++)H+=Q[d+B];for(var B=0;
B<=F;B++){H+=Q[v+B]-f;C[d+B]=L[H]}v+=F+1;d+=F+1;for(var B=0;B<$;B++){H+=Q[v+B]-Q[o+B];C[d+B]=L[H]}v+=$;
o+=$;d+=$;for(var B=j-F;B<j;B++){H+=U-Q[o++];C[d++]=L[H]}}};e.blur.nG=function(Q,C,j,Z,F){var _=j<<2,$=F<<2,L=1/(F+F+1),D=j-F-F-1,d=D<<2,o=e.blur.BH(F);
for(var v=0;v<Z;v++){var f=v*_,U=f,H=f+$,B=f+_,m=Q[f],q=Q[f+1],r=Q[f+2],x=Q[f+3],a=(F+1)*m,i=(F+1)*q,l=(F+1)*r,M=(F+1)*x;
for(var z=0;z<$;z+=4){a+=Q[f+z];i+=Q[f+z+1];l+=Q[f+z+2];M+=Q[f+z+3]}for(var z=0;z<=$;z+=4){a+=Q[H]-m;
C[f]=o[a];i+=Q[H+1]-q;C[f+1]=o[i];l+=Q[H+2]-r;C[f+2]=o[l];M+=Q[H+3]-x;C[f+3]=o[M];H+=4;f+=4}for(var z=0;
z<d;z+=4){a+=Q[H+z]-Q[U+z];C[f+z]=o[a];i+=Q[H+z+1]-Q[U+z+1];C[f+z+1]=o[i];l+=Q[H+z+2]-Q[U+z+2];C[f+z+2]=o[l];
M+=Q[H+z+3]-Q[U+z+3];C[f+z+3]=o[M]}H+=d;U+=d;f+=d;m=Q[B-4];q=Q[B-3];r=Q[B-2];x=Q[B-1];for(var z=j-F;
z<j;z++){a+=m-Q[U];C[f]=o[a];i+=q-Q[U+1];C[f+1]=o[i];l+=r-Q[U+2];C[f+2]=o[l];M+=x-Q[U+3];C[f+3]=o[M];
U+=4;f+=4}}};e.blur.vlr=function(Q,C,j,Z,F){var _=1/(F+F+1),$=j-F-F-1,L=0,D=0,d=0;for(var o=0;o<Z;o++){L=o*j;
D=L;d=L+F;var v=Q[L],f=Q[L+j-1],U=(F+1)*v;for(var H=0;H<F;H++){U+=Q[L+H]}for(var H=0;H<=F;H++){U+=Q[d++]-v;
C[L++]=U*_}for(var H=0;H<$;H++){U+=Q[d+H]-Q[D+H];C[L+H]=U*_}d+=$;D+=$;L+=$;for(var H=j-F;H<j;H++){U+=f-Q[D++];
C[L++]=U*_}}};e.blur.vVR=function(Q,C,j,Z,F){var _=1/(F+F+1),$=Z-F-F-1,L=e.blur.BH(F);for(var D=0;D<j;
D++){var d=D,o=d,v=d+F*j,f=Q[d],U=Q[d+j*(Z-1)],H=(F+1)*f;for(var B=0;B<F;B++)H+=Q[d+B*j];for(var B=0;
B<=F;B++){H+=Q[v]-f;C[d]=L[H];v+=j;d+=j}for(var B=0;B<$;B++){var m=B*j;H+=Q[v+m]-Q[o+m];C[d+m]=L[H]}o+=$*j;
v+=$*j;d+=$*j;for(var B=Z-F;B<Z;B++){H+=U-Q[o];C[d]=L[H];o+=j;d+=j}}};e.blur.vVS=function(Q,C,j,Z,F){var _=j<<2,$=F<<2,L=1/(F+F+1),D=Z-F-F-1,d=D<<2,o=e.blur.BH(F);
for(var v=0;v<j;v++){var f=v<<2,U=f,H=f+F*_,B=f+_*(Z-1),m=Q[f],q=Q[f+1],r=Q[f+2],x=Q[f+3],a=(F+1)*m,i=(F+1)*q,l=(F+1)*r,M=(F+1)*x;
for(var z=0;z<F;z++){var V=f+z*_;a+=Q[V];i+=Q[V+1];l+=Q[V+2];M+=Q[V+3]}for(var z=0;z<=F;z++){a+=Q[H]-m;
C[f]=o[a];i+=Q[H+1]-q;C[f+1]=o[i];l+=Q[H+2]-r;C[f+2]=o[l];M+=Q[H+3]-x;C[f+3]=o[M];H+=_;f+=_}for(var z=0;
z<D;z++){var X=z*_;a+=Q[H+X]-Q[U+X];C[f+X]=o[a];i+=Q[H+X+1]-Q[U+X+1];C[f+X+1]=o[i];l+=Q[H+X+2]-Q[U+X+2];
C[f+X+2]=o[l];M+=Q[H+X+3]-Q[U+X+3];C[f+X+3]=o[M]}U+=D*_;H+=D*_;f+=D*_;m=Q[B];q=Q[B+1];r=Q[B+2];x=Q[B+3];
for(var z=Z-F;z<Z;z++){a+=m-Q[U];C[f]=o[a];i+=q-Q[U+1];C[f+1]=o[i];l+=r-Q[U+2];C[f+2]=o[l];M+=x-Q[U+3];
C[f+3]=o[M];U+=_;f+=_}}};e.blur.vVJ=function(Q,C,j,Z,F){var _=1/(F+F+1),$=Z-F-F-1;for(var L=0;L<j;L++){var D=L,d=D,o=D+F*j,v=Q[D],f=Q[D+j*(Z-1)],U=(F+1)*v;
for(var H=0;H<F;H++)U+=Q[D+H*j];for(var H=0;H<=F;H++){U+=Q[o]-v;C[D]=U*_;o+=j;D+=j}for(var H=0;H<$;H++){var B=H*j;
U+=Q[o+B]-Q[d+B];C[D+B]=U*_}d+=$*j;o+=$*j;D+=$*j;for(var H=Z-F;H<Z;H++){U+=f-Q[d];C[D]=U*_;d+=j;D+=j}}};
e.tl={};e.tl.Q=function(Q,C,j,Z){var F=[];for(var _=0;_<4;_++)for(var $=0;$<4;$++)F.push(Q+j*$/3,C+Z*_/3);
return F};e.tl.nP=function(Q,C){var j=Q.slice(0);for(var Z=0;Z<4;Z++)for(var F=0;F<4;F++){var _=2*(Z*4+F),$=2*(F*4+(3-Z));
if(C){var L=_;_=$;$=L}j[$]=Q[_];j[$+1]=Q[_+1]}return j};e.tl.vVI=new Float64Array(16);e.tl.drawImage=function(Q,C,j,Z,F,_,$){if($==null)$=!1;
var L=_.W,D=_.C,f=2;F=new Uint32Array(F.buffer);C=new Uint32Array(C.buffer);var d=e.tl.n.MO(Q,0,1,0,1,j,Z),o=d.lW,v=d.Nl,U=1/f,H=e.tl.Bw,B=new Float64Array(2),m=new Uint32Array(30);
for(var Y=0;Y<D;Y++)for(var q=0;q<L;q++){var r=q+_.x+.5,x=Y+_.y+.5,a=e.tl.n.vVs(o,v,r,x,m),O=0,y=0,K=0,R=0;
if(a==0)continue;var i=Y*L+q,l=e.tl.qx(Q,r,x,o,m,a,!0),M=H[0]*j,z=H[1]*Z;if($){if(l!=-1&&0<M&&M<j&&0<z&&z<Z){var V=Math.floor(z)*j+Math.floor(M);
F[i]=C[V]}continue}var X=l!=-1&&(1<M&&M<j-1)&&(1<z&&z<Z-1);if(o[l+8]<.95){e.V.JB(M,z,C,j,Z,F,i,0);continue}for(var W=0;
W<f;W++)for(var N=0;N<f;N++){var r=q+_.x+(W+.5)*U,x=Y+_.y+(N+.5)*U,l=0;l=e.tl.qx(Q,r,x,o,m,a,!0);if(l!=-1){var M=H[0],z=H[1],M=Math.floor(M*j);
z=Math.floor(z*Z);var I=C[z*j+M],T=I>>>24;O+=(I&255)*T;y+=(I>>>8&255)*T;K+=(I>>>16&255)*T;R+=T}}if(R!=0){var h=1/R;
O=~~(O*h+.5);y=~~(y*h+.5);K=~~(K*h+.5);R=~~(R*U*U+.5);F[i]=R<<24|K<<16|y<<8|O}}};e.tl.Bw=new Float64Array(5*20);
e.tl.vVp=new Uint32Array(5*5*20);e.tl.qx=function(Q,C,j,Z,F,_,$){var L=e.tl.Bw,D=e.tl.vVp,d=0,o=0;for(var v=0;
v<_;v++){var f=F[v],U=d;d=e.tl.KU(Q,C,j,Z,f+4,$,L,d);if(d!=U){D[o]=f;o+=5}}if(d==0)return-1;else if(d==5)return D[0];
else{var H=0;for(var v=0;v<d;v+=5)if(L[v+4]<L[H+4])H=v;L[0]=L[H];L[1]=L[H+1];L[2]=L[H+2];L[3]=L[H+3];
return D[H]}};e.tl.kR=new Array(10);e.tl.KU=function(Q,C,j,Z,F,_,$,L){var D=e.tl.kR,d=0,o=0,v=0,f=0,U=0,H=0,B=0,m=Z[F],Y=Z[F+1],q=Z[F+2],r=Z[F+3],x=(q-C)*(q-C)+(r-j)*(r-j);
for(var a=0;a<5&&x>.05;a++){e.tl.kP(D,0,Y);e.tl.kI(D,4,m);e.tl.Ya(Q,D);d=D[8];o=D[9];e.tl.kI(D,0,Y);
e.tl.kP(D,4,m);e.tl.Ya(Q,D);v=D[8];f=D[9];U=1/(d*f-o*v);H=(q-C)*U;B=(r-j)*U;m+=-f*H+v*B;Y+=+o*H-d*B;
e.tl.KM(Q,m,Y,D);q=D[8];r=D[9];x=(q-C)*(q-C)+(r-j)*(r-j)}if(_&&(m<0||m>1||Y<0||Y>1||x>.25))return L;
$[L]=m;$[L+1]=Y;$[L+2]=q;$[L+3]=r;$[L+4]=d*f-o*v;return L+5};e.tl.apply=function(Q,C,j){var Z=j.x,F=j.y,_=1/j.W,$=1/j.C,L=e.tl.kR;
for(var D=0;D<C.length;D+=2){var d=(C[D]-Z)*_,o=(C[D+1]-F)*$;e.tl.KM(Q,d,o,L);C[D]=L[8];C[D+1]=L[9]}};
e.tl.KM=function(Q,C,j,Z){e.tl.kP(Z,0,j);e.tl.kP(Z,4,C);e.tl.Ya(Q,Z)};e.tl.kI=function(Q,C,j){var Z=1-j;
Q[C]=-3*(Z*Z);Q[C+1]=3*(Z*Z)-6*(j*Z);Q[C+2]=6*(j*Z)-3*(j*j);Q[C+3]=3*(j*j)};e.tl.kP=function(Q,C,j){var Z=1-j;
Q[C]=Z*(Z*Z);Q[C+1]=3*j*(Z*Z);Q[C+2]=3*(j*j)*Z;Q[C+3]=j*j*j};e.tl.Ya=function(Q,C){var j=0,Z=0,F=0;F=C[0]*C[4];
j+=Q[0]*F;Z+=Q[1]*F;F=C[0]*C[5];j+=Q[2]*F;Z+=Q[3]*F;F=C[0]*C[6];j+=Q[4]*F;Z+=Q[5]*F;F=C[0]*C[7];j+=Q[6]*F;
Z+=Q[7]*F;F=C[1]*C[4];j+=Q[8]*F;Z+=Q[9]*F;F=C[1]*C[5];j+=Q[10]*F;Z+=Q[11]*F;F=C[1]*C[6];j+=Q[12]*F;Z+=Q[13]*F;
F=C[1]*C[7];j+=Q[14]*F;Z+=Q[15]*F;F=C[2]*C[4];j+=Q[16]*F;Z+=Q[17]*F;F=C[2]*C[5];j+=Q[18]*F;Z+=Q[19]*F;
F=C[2]*C[6];j+=Q[20]*F;Z+=Q[21]*F;F=C[2]*C[7];j+=Q[22]*F;Z+=Q[23]*F;F=C[3]*C[4];j+=Q[24]*F;Z+=Q[25]*F;
F=C[3]*C[5];j+=Q[26]*F;Z+=Q[27]*F;F=C[3]*C[6];j+=Q[28]*F;Z+=Q[29]*F;F=C[3]*C[7];j+=Q[30]*F;Z+=Q[31]*F;
C[8]=j;C[9]=Z};e.tl.n={};e.tl.n.kh=12;e.tl.n.nH=new Uint32Array(50);e.tl.n.vVs=function(Q,C,j,Z,F){var _=0,$=e.tl.n.nH,L=1;
$[0]=0;while(L!=0){var D=$[--L];if(Q[D+0]<=j&&Q[D+1]<=Z&&j<Q[D+2]&&Z<Q[D+3]){if(C[D+D+18]==0){F[_]=D;
_++}else{$[L]=C[D+D+18];$[L+1]=C[D+D+19];L+=2}}}return _};e.tl.n.vVX=function(Q,C,j,Z,F){var _=0,$=e.tl.n.RO,L=e.tl.n.nH,D=1,d=0,o=999999999999;
L[0]=0;while(D!=0){var v=L[--D],f=$(j,Z,Q[v+0],Q[v+1]),U=$(j,Z,Q[v+0],Q[v+3]),H=$(j,Z,Q[v+2],Q[v+1]),B=$(j,Z,Q[v+2],Q[v+3]),m=Math.min(f,Math.min(U,Math.min(H,B))),Y=Math.max(f,Math.max(U,Math.max(H,B)));
if(m>o)continue;if(C[v+v+18]==0){if(Y<o){o=Y;d=v}}else{L[D]=C[v+v+18];L[D+1]=C[v+v+19];D+=2}}F[_]=d;
_++;return _};e.tl.n.RO=function(Q,C,j,Z){return(j-Q)*(j-Q)+(Z-C)*(Z-C)};e.tl.n.vu=null;e.tl.n.nA=null;
e.tl.n.MO=function(Q,C,j,Z,F,_,$){if(_==null){_=1;$=1}e.tl.n.nA=Q;if(e.tl.n.vu==null){e.tl.n.vu={lW:new Float64Array(15e3*8),Nl:null};
e.tl.n.vu.Nl=new Uint32Array(e.tl.n.vu.lW.buffer)}var L=e.tl.n.vu;e.tl.n.Rv(Q,C,j,Z,F,0,L.lW,L.Nl,0,_,$);
return L};e.tl.n.Rv=function(Q,C,j,Z,F,_,$,L,D,d,o){var v=e.g.NM(Q),f=D,U=e.tl.n.nA,H=(C+j)/2,B=(Z+F)/2,m=e.tl.kR,Y=e.tl.Bw,q=e.tl.vVI,r$,rW,J;
e.tl.KM(U,H,B,m);var r=m[8],x=m[9];q[0]=H;q[1]=B;q[2]=r;q[3]=x;e.tl.KU(U,r+1,x,q,0,!1,Y,0);var a=(H-Y[0])*d,i=(B-Y[1])*o,l=Math.sqrt(a*a+i*i);
e.tl.KU(U,r,x+1,q,0,!1,Y,0);var M=(H-Y[0])*d,z=(B-Y[1])*o,V=Math.sqrt(M*M+z*z);$[f]=v.x;$[f+1]=v.y;$[f+2]=v.x+v.W;
$[f+3]=v.y+v.C;$[f+4]=H;$[f+5]=B;$[f+6]=r;$[f+7]=x;$[f+8]=.5*(l+V);L[f+f+18]=0;L[f+f+19]=0;D+=10;e.tl.kP(m,0,.1);
e.tl.kI(m,4,.1);e.tl.Ya(Q,m);var X=m[8],O=m[9];e.tl.kI(m,0,.1);e.tl.kP(m,4,.7);e.tl.Ya(Q,m);var y=m[8],K=m[9];
e.tl.kP(m,0,.8);e.tl.kI(m,4,.8);e.tl.Ya(Q,m);var R=m[8],W=m[9];e.tl.kI(m,0,.9);e.tl.kP(m,4,.2);e.tl.Ya(Q,m);
var N=m[8],I=m[9],T=(R-X)*(R-X)+(N-y)*(N-y)+(W-O)*(W-O)+(I-K)*(I-K);if(D>=$.length){console.log("Buffer not long enough");
throw"e"}if(_==e.tl.n.kh||T<2)return D;var h=e.tl.n.Mv(Q,!0),p=e.g.NM(h[0]),u=e.g.NM(h[1]),g=e.tl.n.Mv(Q,!1),A=e.g.NM(g[0]),w=e.g.NM(g[1]);
if(p.W+p.C+u.W+u.C<A.W+A.C+w.W+w.C){J=!0;r$=h[0];rW=h[1]}else{J=!1;r$=g[0];rW=g[1]}var rr=(C+j)/2,r_=(Z+F)/2,rO=C,k=Z,rv=j,rb=F,rt=C,rK=Z,rR=j,ri=F;
if(J){rv=rt=rr}else{rb=rK=r_}L[f+f+18]=D;D=e.tl.n.Rv(r$,rO,rv,k,rb,_+1,$,L,D,d,o);L[f+f+19]=D;D=e.tl.n.Rv(rW,rt,rR,rK,ri,_+1,$,L,D,d,o);
var ru=L[f+f+18],rS=L[f+f+19];$[f]=Math.min($[ru],$[rS]);$[f+1]=Math.min($[ru+1],$[rS+1]);$[f+2]=Math.max($[ru+2],$[rS+2]);
$[f+3]=Math.max($[ru+3],$[rS+3]);return D};e.tl.n.Mv=function(Q,C){var j=0,Z=0,F=0,_=0,$=0,L=0,D=0,d=0,o=Q.slice(0),v=Q.slice(0);
for(var f=0;f<4;f++){j=C?Q[f*8+2*0]:Q[0*8+2*f];Z=C?Q[f*8+2*0+1]:Q[0*8+2*f+1];F=C?Q[f*8+2*1]:Q[1*8+2*f];
_=C?Q[f*8+2*1+1]:Q[1*8+2*f+1];$=C?Q[f*8+2*2]:Q[2*8+2*f];L=C?Q[f*8+2*2+1]:Q[2*8+2*f+1];D=C?Q[f*8+2*3]:Q[3*8+2*f];
d=C?Q[f*8+2*3+1]:Q[3*8+2*f+1];var U=(j+F)/2,H=(Z+_)/2,B=(F+$)/2,m=(_+L)/2,Y=($+D)/2,q=(L+d)/2,r=(U+B)/2,x=(H+m)/2,a=(B+Y)/2,i=(m+q)/2,l=(r+a)/2,M=(x+i)/2;
if(C){o[f*8+2*0]=j;o[f*8+2*0+1]=Z;o[f*8+2*1]=U;o[f*8+2*1+1]=H;o[f*8+2*2]=r;o[f*8+2*2+1]=x;o[f*8+2*3]=l;
o[f*8+2*3+1]=M;v[f*8+2*0]=l;v[f*8+2*0+1]=M;v[f*8+2*1]=a;v[f*8+2*1+1]=i;v[f*8+2*2]=Y;v[f*8+2*2+1]=q;v[f*8+2*3]=D;
v[f*8+2*3+1]=d}else{o[0*8+2*f]=j;o[0*8+2*f+1]=Z;o[1*8+2*f]=U;o[1*8+2*f+1]=H;o[2*8+2*f]=r;o[2*8+2*f+1]=x;
o[3*8+2*f]=l;o[3*8+2*f+1]=M;v[0*8+2*f]=l;v[0*8+2*f+1]=M;v[1*8+2*f]=a;v[1*8+2*f+1]=i;v[2*8+2*f]=Y;v[2*8+2*f+1]=q;
v[3*8+2*f]=D;v[3*8+2*f+1]=d}}return[o,v]};e.XD={};e.XD.vVa=function(Q,C,j){var Z=e.XD.vVh(C,j),F=e.XD.vVc(Z,Q,C,j);
return{Fu:Z,qV:F}};e.XD.vVB=function(Q,C,j){var Z=Math.round(Q.length/8),F=new Uint32Array(Z),_=new Uint8Array(Z),$=new Uint32Array(Z);
e.kM(F,4294967295,0);F[j]=0;var L=new tY(Z);L.push(j,F[j]);var D={Fu:Q,qV:C,lj:F,NB:_,aG:$,m$:L,vDA:j};
return D};e.XD.Rj=function(Q,C){var j=Q.Fu,Z=Q.qV,F=Q.lj,_=Q.NB,$=Q.aG,L=Q.m$;while(!L.jJ()&&(C==null||_[C]==0)){var D=L.pop();
_[D]=1;for(var d=0;d<8;d++){var o=j[8*D+d];if(o==-1||_[o])continue;var v=F[D]+Z[8*D+d];if(L.contains(o)&&v<F[o])L.remove(o,F[o]);
if(!L.contains(o)){F[o]=v;$[o]=D;L.push(o,F[o])}}}};function tY(Q){this.Zl=new Uint32Array(Q);this.list=[];
this.lr=0;this.Zx=4294967295}tY.prototype.jJ=function(){return this.lr==0};tY.prototype.push=function(Q,C){var j=this.list;
if(j[C]==null)j[C]=[];j[C].push(Q);this.lr++;this.Zl[Q]=j[C].length-1+1;this.Zx=Math.min(this.Zx,C)};
tY.prototype.pop=function(){this.lr--;var Q=this.list,C=this.Zx,j=Q[C].pop();if(Q[C].length==0)Q[C]=null;
this.MD();this.Zl[j]=0;return j};tY.prototype.contains=function(Q){return this.Zl[Q]!=0};tY.prototype.remove=function(Q,C){this.lr--;
var j=this.list,Z=this.Zl[Q]-1;if(Z==j[C].length-1)j[C].pop();else{var F=j[C].pop();j[C][Z]=F;this.Zl[F]=Z+1}if(j[C].length==0)j[C]=null;
this.Zl[Q]=0;this.MD()};tY.prototype.MD=function(){if(this.lr==0){this.Zx=4294967295;return}var Q=this.Zx,C=this.list;
while(C[Q]==null)Q++;this.Zx=Q};e.XD.vVm=function(Q,C,j){var Z=new Float32Array(C*j);for(var F=0;F<j;
F++)for(var _=0;_<C;_++){var $=F*C+_,L=-16*Q[$];if(1<_&&_<C-2&&1<F&&F<j-2){L+=Q[$-C-C];L+=Q[$-C-1]+2*Q[$-C]+Q[$-C+1];
L+=Q[$-2]+2*Q[$-1]+2*Q[$+1]+Q[$+2];L+=Q[$+C-1]+2*Q[$+C]+Q[$+C+1];L+=Q[$+C+C]}Z[$]=L/16}return Z};e.XD.vVZ=function(Q,C,j){var Z=new Float32Array(C*j),F=0,_=0;
for(var $=0;$<j;$++)for(var L=0;L<C;L++){var D=0,d=0;if(0<L&&L<C-1)D=Q[F+1]-Q[F-1];if(0<$&&$<j-1)d=Q[F+C]-Q[F-C];
Z[F]=Math.sqrt(D*D+d*d);if(Z[F]>_)_=Z[F];F++}var o=C*j,v=_==0?0:1/_;for(var F=0;F<o;F++)Z[F]=1-Z[F]*v;
return Z};e.XD.vVY=function(Q,C,j){var Z=new Float32Array(C*j*2),F=0;for(var _=0;_<j;_++)for(var $=0;
$<C;$++){var L=0,D=0;if(0<$&&$<C-1&&0<_&&_<j-1){L=2*Q[F+1]-2*Q[F-1];D=2*Q[F+C]-2*Q[F-C]}var d=Math.sqrt(L*L+D*D);
if(d!=0){Z[2*F]=L/d;Z[2*F+1]=D/d}else{Z[2*F]=L;Z[2*F+1]=D}F++}return Z};e.XD.vVc=function(Q,C,j,Z){var F=e.XD.vVm(C,j,Z),_=e.XD.vVZ(C,j,Z),$=e.XD.vVY(C,j,Z),L=256,D=new Float32Array(L);
for(var d=0;d<L;d++)D[d]=Math.acos(-1+2*d/(L-1));var o=[-1,0,1,1,1,0,-1,-1],v=[-1,-1,-1,0,1,1,1,0],f=1/Math.sqrt(2),U=new Uint8Array(j*Z*8),H=j*Z;
for(var B=0;B<H;B++){var m=F[B],Y=$[2*B+1],q=-$[2*B];for(var r=0;r<8;r++){var x=8*B+r,a=Q[x];if(a==-1)U[x]=-1;
else{var i=(r&1)==0,l=m*F[a]>=0?0:1,M=_[a]*(i?1:f),z=1,V=$[2*a+1],X=-$[2*a];if(!(Y==0&&q==0||V==0&&X==0)){var O=o[r],y=v[r];
if(Y*o[r]+q*v[r]<0){O=-O;y=-y}if(i){O*=f;y*=f}var K=Y*O+q*y,R=V*O+X*y,W=2/(3*Math.PI)*(D[Math.floor((.5+.5*K)*(L-1))]+D[Math.floor((.5+.5*R)*(L-1))]);
z=W}var N=Math.round(20*(.43*l+.43*z+.14*M));U[x]=Math.max(1,Math.min(255,N))}}}console.log(U);return U};
e.XD.vVh=function(Q,C){var j=new Int32Array(Q*C*8),Z=j,F=0,_=0;Z.fill(-1);for(var $=0;$<C;$++)for(var L=0;
L<Q;L++){if($>0&&L>0)Z[_+0]=F-Q-1;if($>0)Z[_+1]=F-Q;if($>0&&L<Q-1)Z[_+2]=F-Q+1;if(L<Q-1)Z[_+3]=F+1;if($<C-1&&L<Q-1)Z[_+4]=F+Q+1;
if($<C-1)Z[_+5]=F+Q;if($<C-1&&L>0)Z[_+6]=F+Q-1;if(L>0)Z[_+7]=F-1;F++;_+=8}return j};e.qq={};e.qq.viy=function(Q,C){var j=Q.slice(0);
for(var Z=0;Z<Q.length;Z++)j[Z]*=C;return j};e.qq.kp=function(Q){var C=Q.slice(0),j=0;for(var Z=0;Z<Q.length;
Z++)j+=Q[Z];for(var Z=0;Z<Q.length;Z++)C[Z]/=j;return C};e.qq.viF=function(Q,C,j,Z,F){var _=F.length,$=_>>>1,L=$,D=j-$;
for(var d=0;d<Z;d++)for(var o=L;o<D;o++){var v=0,f=d*j+o;for(var U=0;U<_;U++)v+=F[U]*Q[f-$+U];C[f]=v}};
e.qq.vih=function(Q,C,j,Z,F){var _=F.length,$=_>>>1,L=$,D=Z-$;for(var d=L;d<D;d++)for(var o=0;o<j;o++){var v=0,f=d*j+o;
for(var U=0;U<_;U++)v+=F[U]*Q[f+(-$+U)*j];C[f]=v}};e.qq.vVw=function(Q,C,j,Z,F){var _=[-j-1,-j,-j+1,-1,0,1,j-1,j,j+1],$=Z-1,L=j-1;
for(var D=1;D<$;D++)for(var d=1;d<L;d++){var o=D*j+d,v=e.qq.kn(Q,o,j,F);C[o]=~~(v+.5)}};e.qq.kn=function(Q,C,j,Z){return Q[C-j-1]*Z[0]+Q[C-j]*Z[1]+Q[C-j+1]*Z[2]+Q[C-1]*Z[3]+Q[C]*Z[4]+Q[C+1]*Z[5]+Q[C+j-1]*Z[6]+Q[C+j]*Z[7]+Q[C+j+1]*Z[8]};
e.qq.Yf=function(Q,C,j,Z,F,_,$){if($==null)$=!1;var L=Math.floor(Math.sqrt(F.length)),D=L-1>>>1,d=new Uint32Array(Q.buffer),C=new Uint8ClampedArray(C.buffer);
for(var o=0;o<Z;o++)for(var v=0;v<j;v++){var f=0,U=0,H=0,B=0;for(var m=0;m<L;m++)for(var Y=0;Y<L;Y++){var q=F[m*L+Y];
if(q==0)continue;var r=Math.min(j-1,Math.max(0,v-D+Y)),x=Math.min(Z-1,Math.max(0,o-D+m)),a=d[x*j+r];
f+=(a&255)*q;U+=(a>>>8&255)*q;H+=(a>>>16&255)*q;B+=(a>>>24&255)*q}if($){if(f<0)f=-f;if(U<0)U=-U;if(H<0)H=-H;
if(B<0)B=-B}var i=o*j+v<<2;C[i]=~~(.5+f);C[i+1]=~~(.5+U);C[i+2]=~~(.5+H);C[i+3]=255-_&C[i+3]|_&~~(.5+B)}};
e.qq.vVU=function(){function Q($,L,D,d,o,v,f){if(o==0){L.set($);return}var U=e.Q(D*d),H=e.Q(D*d);if(e.ai($)){var B=[e.qq.RT,e.qq.Rg],m=B.indexOf(v),Y=m!=-1?B[1-m]:v;
C($,L,D,d,o,v,f);e.yq($,U,3);e.qq.Ri(U,H,D,d,o,Y,f);e.gG(H,L,3)}else{for(var q=0;q<3;q++){e.yq($,U,q);
e.qq.Ri(U,H,D,d,o,v,f);e.gG(H,L,q)}}}function C($,L,D,d,o,v,f){var U=0,H=new ArrayBuffer(512*4*3),B=[new Int32Array(H,0),new Int32Array(H,2048),new Int32Array(H,2*2048)],m=1+2*Math.round(Math.sqrt(o)),Y=m>>>1,q=new Array(m),r=new Array(m);
for(var x=0;x<m;x++){var H=new ArrayBuffer(512*4*3);q[x]=[new Int32Array(H,0),new Int32Array(H,2048),new Int32Array(H,2*2048)];
r[x]=q[x][0]}var a=v[0],i=v[1],l=B[0];for(var M=0;M<D;M++)if(M<o||M>D-o-m-1){l.fill(0);var z=Math.max(M-o,0),V=Math.min(D,M+o+1),X=V-z;
for(var O=0;O<o;O++)Z(l,$,O*D+z,O*D+V,1);for(var O=0;O<d;O++){var y=O-o-1,K=O+o;if(K<d)Z(l,$,K*D+z,K*D+V,1);
if(y>=0)Z(l,$,y*D+z,y*D+V,-1);var R=O*D+M<<2;U=l[300];if(U!=0)for(var x=0;x<3;x++)L[R+x]=a(B[x],$[R+x],U,f)}}else{for(var x=0;
x<m;x++)r[x].fill(0);var z=M-o+Y,V=M+o+1+Y;for(var O=0;O<o;O++)j(r,$,O*D+z,O*D+V,1,Y);for(var O=0;O<d;
O++){var y=O-o-1,K=O+o;if(y>=0)j(r,$,y*D+z,y*D+V,-1,Y);if(K<d)j(r,$,K*D+z,K*D+V,1,Y);var W=q[Y];U=W[0][300];
for(var x=0;x<Y;x++){var N=Y-1-x,I=Y+1+x,T=q[N],h=q[I],p=U+T[0][300],u=U+h[0][300],g=O*D+M+N<<2,A=O*D+M+I<<2;
if(p!=0)for(var w=0;w<3;w++)L[g+w]=i(W[w],T[w],$[g+w],p,f);if(u!=0)for(var w=0;w<3;w++)L[A+w]=i(W[w],h[w],$[A+w],u,f)}var R=O*D+M+Y<<2;
if(U!=0)for(var w=0;w<3;w++)L[R+w]=a(W[w],$[R+w],U,f)}M+=m-1}}function j($,L,D,d,o,v){var f=F,U=D<<2,H=d<<2;
f($[v-1],L,D-1<<2,o);f($[v-1],L,d-1<<2,-o);f($[v+1],L,d<<2,o);f($[v+1],L,D<<2,-o);for(var B=1;B<v;B++){var m=$[v-B-1],Y=$[v+B+1];
for(var q=0;q<=B;q++){var r=q<<2;f(m,L,D-1-q<<2,o);f(m,L,d-1-q<<2,-o);f(Y,L,d+q<<2,o);f(Y,L,D+q<<2,-o)}}Z($[v],L,D,d,o)}function Z($,L,D,d,o){var v=D<<2,f=d<<2;
while(v<f){F($,L,v,o);v+=4}}function F($,L,D,d){var o=d*L[D+3];$[300]+=o;_($,L[D],0,o);_($,L[D+1],512,o);
_($,L[D+2],1024,o)}function _($,L,D,d){$[D|L]+=d;$[D|256|L>>>4]+=d}return Q}();e.qq.Ri=function(){function Q(v,f,U,H,B,m,Y){if(B==0){f.set(v);
return}if(B<=80)C(v,f,U,H,B,m,Y);else _(v,f,U,H,B,m,Y)}function C(v,f,U,H,B,m,Y){var q=0,r=new Int32Array(512),x=1+2*Math.round(Math.sqrt(B)),a=x>>>1,i=new Array(x);
for(var l=0;l<x;l++)i[l]=new Int32Array(512);var M=m[0],z=m[1];for(var V=0;V<U;V++)if(V<B||V>U-B-x-1){r.fill(0);
q=0;var X=Math.max(V-B,0),O=Math.min(U,V+B+1),y=O-X;for(var K=0;K<B;K++){q+=y;Z(r,v,K*U+X,K*U+O,1)}for(var K=0;
K<H;K++){var R=K-B-1,W=K+B;if(R>=0){q-=y;Z(r,v,R*U+X,R*U+O,-1)}if(W<H){q+=y;Z(r,v,W*U+X,W*U+O,1)}var N=M(r,v[K*U+V],q,Y);
f[K*U+V]=N}}else{for(var l=0;l<x;l++)i[l].fill(0);q=0;var X=V-B+a,O=V+B+1+a,y=O-X;for(var K=0;K<B;K++){q+=y;
j(i,v,K*U+X,K*U+O,1,a)}for(var K=0;K<H;K++){var R=K-B-1,W=K+B;if(R>=0){q-=y;j(i,v,R*U+X,R*U+O,-1,a)}if(W<H){q+=y;
j(i,v,W*U+X,W*U+O,1,a)}for(var l=0;l<a;l++){var I=a-1-l,T=a+1+l;f[K*U+V+I]=z(i[a],i[I],v[K*U+V+I],q,Y);
f[K*U+V+T]=z(i[a],i[T],v[K*U+V+T],q,Y)}f[K*U+V+a]=M(i[a],v[K*U+V+a],q,Y)}V+=x-1}}function j(v,f,U,H,B,m){var Y=F;
Y(v[m-1],f[U-1],0,B);Y(v[m-1],f[H-1],0,-B);Y(v[m+1],f[H],0,B);Y(v[m+1],f[U],0,-B);for(var q=1;q<m;q++){var r=v[m-q-1],x=v[m+q+1];
for(var a=0;a<=q;a++){Y(r,f[U-1-a],0,B);Y(r,f[H-1-a],0,-B);Y(x,f[H+a],0,B);Y(x,f[U+a],0,-B)}}Z(v[m],f,U,H,B)}function Z(v,f,U,H,B){while(U<H)F(v,f[U++],0,B)}function F(v,f,U,H){v[U|f]+=H;
v[U|256|f>>>4]+=H}function _(v,f,U,H,B,m,Y){var q=0,r=new Int32Array(512),x=new Int32Array(1*U),a=new Int32Array(512*U),i=Math.min(B,U),l=Math.min(B,H),M=m[0];
for(var z=0;z<l;z++)$(a,x,v,U,z,1);for(var z=0;z<H;z++){if(z+B<H)$(a,x,v,U,z+B,1);if(z-B-1>=0)$(a,x,v,U,z-B-1,-1);
r.fill(0);q=0;for(var V=0;V<i;V++){q+=x[V];L(r,a,V)}for(var V=0;V<U;V++){var X=V-B-1,O=V+B;if(X>=0&&x[X]!=0){q-=x[X];
D(r,a,X)}if(O<U&&x[O]!=0){q+=x[O];L(r,a,O)}var y=q==0?0:M(r,v[z*U+V],q,Y);f[z*U+V]=y}}}function $(v,f,U,H,B,m){var Y=B*H;
for(var q=0;q<H;q++){F(v,U[Y+q],q<<9,m);f[q]+=m}}function L(v,f,U){for(var H=0;H<16;H++){var B=f[U<<9|256|H];
if(B==0)continue;v[256|H]+=B;var m=H<<4,Y=U<<9|m;d(v,f,m,Y);d(v,f,m+4,Y+4);d(v,f,m+8,Y+8);d(v,f,m+12,Y+12)}}function D(v,f,U){for(var H=0;
H<16;H++){var B=f[U<<9|256|H];if(B==0)continue;v[256|H]-=B;var m=H<<4,Y=U<<9|m;o(v,f,m,Y);o(v,f,m+4,Y+4);
o(v,f,m+8,Y+8);o(v,f,m+12,Y+12)}}function d(v,f,U,H){v[U]+=f[H];v[U+1]+=f[H+1];v[U+2]+=f[H+2];v[U+3]+=f[H+3]}function o(v,f,U,H){v[U]-=f[H];
v[U+1]-=f[H+1];v[U+2]-=f[H+2];v[U+3]-=f[H+3]}return Q}();e.qq.Rg=[function(Q,C,j,Z){var F=15;while(Q[256|F]==0&&F>0)F--;
F=(F<<4)+15;while(Q[F]==0&&F>0)F--;return F},function(Q,C,j,Z,F){var _=15;while(Q[256|_]+C[256|_]==0&&_>0)_--;
_=(_<<4)+15;while(Q[_]+C[_]==0&&_>0)_--;return _}];e.qq.RT=[function(Q,C,j,Z){var F=0;while(Q[256|F]==0&&F<15)F++;
F=F<<4;while(Q[F]==0&&F<255)F++;return F},function(Q,C,j,Z,F){var _=0;while(Q[256|_]+C[256|_]==0&&_<15)_++;
_=_<<4;while(Q[_]+C[_]==0&&_<255)_++;return _}];e.qq.vJ=.5;e.qq.RI=[function(Q,C,j,Z){var F=~~(.5+e.qq.vJ*j),_=0,$=256;
while(_+Q[$]<=F)_+=Q[$++];$=$-256<<4;while(_<=F)_+=Q[$++];return $-1},function(Q,C,j,Z,F){var _=~~(.5+e.qq.vJ*Z),$=0,L=256;
while($+Q[L]+C[L]<=_){$+=Q[L]+C[L];L++}L=L-256<<4;while($<=_){$+=Q[L]+C[L];L++}return L-1}];e.qq.MW=[function(Q,C,j,Z){var F=Z[0],_=0,$=0,L=Math.max(0,C-F),D=Math.min(256,C+F+1);
while(L<D){var d=Q[L];_+=L*d;$+=d;L++}return $==0?0:_/$},function(Q,C,j,Z,F){var _=F[0],$=0,L=0,D=Math.max(0,j-_),d=Math.min(256,j+_+1);
while(D<d){var o=Q[D]+C[D];$+=D*o;L+=o;D++}return L==0?0:$/L}];e.V={};e.V.Mr=function(Q){var C=G.S.wN(Q.Trnf),j=Q.Sz.v,Z=e.V.xT(C,new s(0,0,j.Wdth.v,j.Hght.v));
return e.V.rk(Z)};e.V.xT=function(Q,C){var Q=Q.slice(0),j=Q[0],Z=Q[1],F=Q[2],_=Q[3],$=Q[6],L=Q[7],D=Q[4],d=Q[5],o=0,v=0,f=1,U=0,H=0,B=1,m=1,Y=1;
if(C){o=C.x;v=C.y;f=C.x+C.W;U=C.y;H=C.x;B=C.y+C.C;m=C.x+C.W;Y=C.y+C.C}var q=[[o,v,1,0,0,0,-o*j,-v*j,j],[0,0,0,o,v,1,-o*Z,-v*Z,Z],[f,U,1,0,0,0,-f*F,-U*F,F],[0,0,0,f,U,1,-f*_,-U*_,_],[H,B,1,0,0,0,-H*$,-B*$,$],[0,0,0,H,B,1,-H*L,-B*L,L],[m,Y,1,0,0,0,-m*D,-Y*D,D],[0,0,0,m,Y,1,-m*d,-Y*d,d]],r=[0,0,0,0,0,0,0,0],x=e.ZU.NO.vN(q,r);
if(x!=0)r=[0,0,0,0,0,0,0,0];return r};e.V.mO=function(Q){return Math.abs(Q[6])<1e-10&&Math.abs(Q[7])<1e-10};
e.V.rk=function(Q){return new rI(Q[0],Q[3],Q[1],Q[4],Q[2],Q[5])};e.V.ij=function(Q){return[Q.om,Q.ug,Q._Y,Q._,Q.xP,Q.Rf,0,0]};
e.V.apply=function(Q,C){var j=new Float64Array(2);for(var Z=0;Z<C.length;Z+=2){var F=C[Z],_=C[Z+1];e.V.Rs(F,_,Q,j);
C[Z]=j[0];C[Z+1]=j[1]}};e.V.Rs=function(Q,C,j,Z){var F=1/(j[6]*Q+j[7]*C+1);Z[0]=(j[0]*Q+j[1]*C+j[2])*F;
Z[1]=(j[3]*Q+j[4]*C+j[5])*F};e.V.MQ=function(Q,C){var j=new Float64Array(2);e.V.Rs(C.x,C.y,Q,j);return new Wn(j[0],j[1])};
e.V.ik=function(Q,C,j,Z){Q=new Uint32Array(Q.buffer);C=new Uint32Array(C.buffer);for(var F=0;F<Z;F++){for(var _=0;
_<j;_++){C[_*Z+F]=Q[F*j+_]}}};e.V.vS_=function(Q,C,j,Z){Q=new Uint32Array(Q.buffer);C=new Uint32Array(C.buffer);
for(var F=0;F<Z;F++){for(var _=0;_<j;_++){C[F*j+_]=Q[F*j+j-1-_]}}};e.V.MR=function(Q){return Math.abs(Q[6])<1e-9&&Math.abs(Q[7])<1e-9};
e.V.Mj=function(Q){return Math.abs(Q[0])<1e-9&&Math.abs(Q[4])<1e-9||Math.abs(Q[1])<1e-9&&Math.abs(Q[3])<1e-9};
e.V.drawImage=function(Q,C,j,Z,F,_,$,L,D){if($==null)$=!1;if(L==null)L=!1;var d=e.V.Ie(Q),o=!0,v=0,f=1/Math.sqrt(Math.abs(Q[0]/j*Q[4]/Z-Q[1]/j*Q[3]/Z));
for(var U=0;U<8;U++){var H=Math.round(Q[U]);if(U!=2&&U!=5)v+=Math.abs(H);if(Math.abs(H-Q[U])>1e-9)o=!1}var B=e.V.MR(Q),m=e.V.Mj(Q)&&B,Y=m?1:0;
if($||o&&v==j+Z&&B){e.V.vSd(d,C,j,Z,F,_,L,B,D);return}var q=_.W,r=_.C,x=new Float64Array(2);F=new Uint32Array(F.buffer);
C=new Uint32Array(C.buffer);for(var a=0;a<r;a++)for(var i=0;i<q;i++){var l=a*q+i,M,z,V,X,r$=0,rW=0,J=0,rr=0;
F[l]=0;var O=i+_.x+.5,y=a+_.y+.5;M=O;z=y;V=d;X=1/(V[6]*M+V[7]*z+1);var K=(V[0]*M+V[1]*z+V[2])*X,R=(V[3]*M+V[4]*z+V[5])*X,W=K*j,N=R*Z,I=W<-1||W>j+1||N<-1||N>Z+1;
if(L){W=Math.max(.001,Math.min(j-1,W));N=Math.max(.001,Math.min(Z-1,N))}else if(I)continue;var T=f;if(!B){var h=0,p=0;
V=Q;M=K+1/j;z=R;X=1/(V[6]*M+V[7]*z+1);h=(V[0]*M+V[1]*z+V[2])*X-O;p=(V[3]*M+V[4]*z+V[5])*X-y;var u=h*h+p*p;
M=K;z=R+1/Z;X=1/(V[6]*M+V[7]*z+1);h=(V[0]*M+V[1]*z+V[2])*X-O;p=(V[3]*M+V[4]*z+V[5])*X-y;var g=h*h+p*p;
T=1/Math.sqrt(Math.max(u,g))}if(T<1.1){e.V.JB(W,N,C,j,Z,F,l,Y);continue}var A=Math.round(T*2.3);if(!L&&(W<.6||W>j-.6||N<.6||N>Z-.6)){A=Math.max(A,5)}if(L&&I)A=1;
var w=1/A,r_=_.x+i,rO=_.y+a;V=d;for(var U=0;U<A;U++)for(var k=0;k<A;k++){M=r_+(U+.5)*w;z=rO+(k+.5)*w;
X=1/(V[6]*M+V[7]*z+1);var W=(V[0]*M+V[1]*z+V[2])*X,N=(V[3]*M+V[4]*z+V[5])*X;if(L){W=Math.max(.001,Math.min(.999,W));
N=Math.max(.001,Math.min(.999,N))}else if(W<0||W>=1||N<0||N>=1)continue;W=Math.floor(W*j);N=Math.floor(N*Z);
var rv=N*j+W,rb=C[rv],rt=rb>>>24;r$+=(rb&255)*rt;rW+=(rb>>>8&255)*rt;J+=(rb>>>16&255)*rt;rr+=rt}if(rr!=0){var rK=1/rr;
r$=~~(r$*rK+.5);rW=~~(rW*rK+.5);J=~~(J*rK+.5);rr=~~(rr*w*w+.5);F[l]=rr<<24|J<<16|rW<<8|r$}}};e.V.vSd=function(Q,C,j,Z,F,_,$,L,D){if(L&&!$&&_.P()>4e6&&D){e.V.vSC(Q,C,j,Z,F,_,$,L,D);
return}var d=_.x+_.W,o=_.y+_.C,v=0,f=new Uint32Array(F.buffer),U=new Uint32Array(C.buffer),H=Q[0]*j,B=Q[1]*j,m=Q[2]*j,Y=Q[3]*Z,q=Q[4]*Z,r=Q[5]*Z,x=Q[6],a=Q[7];
if(L&&!$)for(var i=_.y+.5;i<o;i++)for(var l=_.x+.5;l<d;l++){var M=H*l+B*i+m,z=Y*l+q*i+r;if(0<M&&M<j&&0<z&&z<Z){var V=~~z*j+~~M;
f[v]=U[V]}else f[v]=0;v++}else for(var i=_.y+.5;i<o;i++)for(var l=_.x+.5;l<d;l++){var X=1/(x*l+a*i+1),M=(H*l+B*i+m)*X,z=(Y*l+q*i+r)*X;
if($){M=Math.max(.001,Math.min(j-1,M));z=Math.max(.001,Math.min(Z-1,z))}if(0<M&&M<j&&0<z&&z<Z){var V=Math.floor(z)*j+Math.floor(M);
f[v]=U[V]}else f[v]=0;v++}};e.V.vSC=function(Q,C,j,Z,F,_,$,L,D){var d=new Uint32Array(F.buffer),o=new Uint32Array(C.buffer),a=0;
if(D&&(_.W&3)!=0)throw"e";var v=Q[0]*j,f=Q[1]*j,U=Q[2]*j,H=Q[3]*Z,B=Q[4]*Z,m=Q[5]*Z,Y=Q[6],q=Q[7],r=_.W,x=_.C,i=_.x+.5,l=_.y+.5,M=(r>>>2<<2)-1e-9,z=-.1+(x>>>1<<1)-1e-9,V=~~j,X=v==0?0:1/v,O=H==0?0:1/H;
for(var y=0;y<x;y++){var K=i*v+f*(y+l)+U,R=i*H+B*(y+l)+m,W=0,N=r;if(v==0){}else if(X>0){W=Math.max(W,-K*X);
N=Math.min(N,(j-K)*X)}else{N=Math.min(N,-K*X);W=Math.max(W,(j-K)*X)}if(H==0){}else if(O>0){W=Math.max(W,-R*O);
N=Math.min(N,(Z-R)*O)}else{N=Math.min(N,-R*O);W=Math.max(W,(Z-R)*O)}if(N<0)N=0;if(W>N)W=N;W=Math.ceil(W);
N=~~N;a=~~(y*r);for(var I=0;I<W;I++)d[a++]=0;for(var I=W;I<N;I+=4){var T=v*I+K,h=H*I+R,p=~~h*V+~~T;d[a++]=d[a++]=d[a++]=d[a++]=o[p]}for(var I=N;
I<r;I++)d[a++]=0}};e.V.Ie=function(Q){var C=Q[4]-Q[5]*Q[7],j=Q[2]*Q[7]-Q[1],Z=Q[1]*Q[5]-Q[2]*Q[4],F=Q[5]*Q[6]-Q[3],_=Q[0]-Q[2]*Q[6],$=Q[3]*Q[2]-Q[0]*Q[5],L=Q[3]*Q[7]-Q[4]*Q[6],D=Q[1]*Q[6]-Q[0]*Q[7],d=1/(Q[0]*Q[4]-Q[1]*Q[3]);
return[C*d,j*d,Z*d,F*d,_*d,$*d,L*d,D*d]};e.V.uY=function(Q,C){var j=Q[0],Z=Q[1],F=Q[2],_=Q[3],$=Q[4],L=Q[5],D=Q[6],d=Q[7],o=C[0],v=C[1],f=C[2],U=C[3],H=C[4],B=C[5],m=C[6],Y=C[7],q=[j*o+Z*U+F*m,j*v+Z*H+F*Y,j*f+Z*B+F,_*o+$*U+L*m,_*v+$*H+L*Y,_*f+$*B+L,D*o+d*U+m,D*v+d*H+Y],r=1/(D*f+d*B+1);
for(var x=0;x<8;x++)q[x]*=r;return q};e.V.JB=function(Q,C,j,Z,F,_,$,L){var D=Q,d=C,f=0,U=0,H=0,B=0;Q-=.499999;
C-=.499999;var o=Math.floor(Q),v=Math.floor(C);if(L==0){var m=v*Z+o,Y=o>=0&&o<Z,q=o+1>=0&&o+1<Z,r=v>=0&&v<F,x=v+1>=0&&v+1<F;
if(Y&&r)f=j[m];if(q&&r)U=j[m+1];if(Y&&x)H=j[m+Z];if(q&&x)B=j[m+Z+1]}else if(L==1){var a=o<0?0:o>Z-1?Z-1:o,i=o<-1?0:o>Z-2?Z-1:o+1,l=v<0?0:v>F-1?F-1:v,M=v<-1?0:v>F-2?F-1:v+1;
f=j[l*Z+a];U=j[l*Z+i];H=j[M*Z+a];B=j[M*Z+i]}else{var a=(o+50*Z)%Z,i=(o+50*Z)%Z,l=(v+50*F)%F,M=(v+50*F)%F;
f=j[l*Z+a];U=j[l*Z+i];H=j[M*Z+a];B=j[M*Z+i]}var z=Q-o,V=C-v,X=(1-V)*(1-z)*(f>>>24),O=(1-V)*z*(U>>>24),y=V*(1-z)*(H>>>24),K=V*z*(B>>>24),R=X+O+y+K,W=X*(f&255)+O*(U&255)+y*(H&255)+K*(B&255),N=X*(f>>>8&255)+O*(U>>>8&255)+y*(H>>>8&255)+K*(B>>>8&255),I=X*(f>>>16&255)+O*(U>>>16&255)+y*(H>>>16&255)+K*(B>>>16&255);
if(R==0)_[$]=0;else{var T=1/R;W=~~(W*T+.5);N=~~(N*T+.5);I=~~(I*T+.5);R=~~(R+.5);_[$]=R<<24|I<<16|N<<8|W}};
e.V.Mq=function(Q,C,j,Z,F,_){var $=Q-.499999,L=C-.499999,D=~~$,d=~~L,o=$-D,v=L-d,f=(1-v)*(1-o),U=(1-v)*o,H=v*(1-o),B=v*o,m=d*Z+D<<2,Y=(d+1)*Z+D<<2,q=f*j[m]+U*j[m+4]+H*j[Y]+B*j[Y+4],r=f*j[m+1]+U*j[m+5]+H*j[Y+1]+B*j[Y+5],x=f*j[m+2]+U*j[m+6]+H*j[Y+2]+B*j[Y+6],a=f*j[m+3]+U*j[m+7]+H*j[Y+3]+B*j[Y+7];
_[0]=q;_[1]=r;_[2]=x;_[3]=a};e.V.Mi=function(Q,C,j,Z,F,_,$,L,D,d,o,v){var f=new Uint32Array(Q.buffer),U=new Uint32Array(Z.buffer),H=(1+2*d)/F,B=[],m=[];
for(var Y=0;Y<F;Y++){var q=-.25+d-Y*H;B.push(Math.cos(2*Math.PI*q)*v/o);B.push(Math.sin(2*Math.PI*q)/o)}$*=C;
L*=j;for(var r=0;r<_;r++){var x=Math.pow(r/_,D)*_;for(var Y=0;Y<F;Y++){var a=$+B[Y<<1]*x,i=L+B[(Y<<1)+1]*x,l=~~(.5+(a<0?0:a>C-1?C-1:a)),M=~~(.5+(i<0?0:i>j-1?j-1:i));
U[r*F+Y]=f[M*C+l]}}};e.V.Mg=function(Q,C,j,Z,F,_,$,L,D,d,o,v){var f=new Uint32Array(Q.buffer),U=new Uint32Array(Z.buffer),H=1/v,B=[],m=j*4,Y=1/m;
for(var q=0;q<m;q++)B.push(Math.pow(q*Y,1/D)*j*o);$*=F;L*=_;for(var q=0;q<_;q++)for(var r=0;r<F;r++){var x=H*(r-$),a=q-L,i=1.75-Math.atan2(a,x)*(1/(2*Math.PI));
i=i-~~i;i=(i+d)*(1/(1+2*d));var l=Math.sqrt(x*x+a*a);l=B[~~(l*4)];e.V.JB(i*C+.5,l+.5,f,C,j,U,q*F+r,1)}};
e.q={Jn:function(Q,C){var j=~~(.499+Q*C);return j<0?0:j>C?C:j},vSY:function(Q,C,j,Z,F,_,$,L){var D=j[0],d=j[1],o=j[2],v=j[3],f=Z.W,U=Z.C,H=new Float64Array(f*4+8),B=new Float64Array(f*4+8);
for(var m=0,Y=0;m<U;m++){var q=H;H=B;B=q;B.fill(0);for(var r=0;r<f;r++,Y++){var x=r+F,a=m+_,i=D*x+d*a,l=o*x+v*a,M=0,X=0;
if(L==0)M=i+.5;else if(L==1)M=2*Math.sqrt(i*i+l*l);else if(L==2)M=(Math.PI+Math.atan2(-l,-i))/(2*Math.PI);
else if(L==3)M=Math.abs(i*2);else if(L==4)M=2*(Math.abs(i)+Math.abs(l));var z=e.q.Jn(M,$)*4,V=r*4;for(var O=0;
O<4;O++){var y=Math.max(0,Math.min(254.999,C[z+O]+H[V+4+O])),K=Math.floor(y);if(Math.random()<y-K)K++;
var R=y-K;H[V+8+O]=R*(7/16);B[V+0+O]=R*(3/16);B[V+4+O]=R*(5/16);B[V+8+O]=R*(1/16);X|=K<<O*8}Q[Y]=X}}},n:[function(Q,C,j,Z,F,_,$){var L=j[0],D=j[1],d=j[2],o=j[3],v=Z.W,f=Z.C;
for(var U=0,H=0;U<f;U++)for(var B=0;B<v;B++,H++){var m=B+F,Y=U+_,q=L*m+D*Y,r=d*m+o*Y,x=q+.5;Q[H]=C[e.q.Jn(x,$)]}},function(Q,C,j,Z,F,_,$){var L=j[0],D=j[1],d=j[2],o=j[3],v=Z.W,f=Z.C;
for(var U=0,H=0;U<f;U++)for(var B=0;B<v;B++,H++){var m=B+F,Y=U+_,q=L*m+D*Y,r=d*m+o*Y,x=2*Math.sqrt(q*q+r*r);
Q[H]=C[e.q.Jn(x,$)]}},function(Q,C,j,Z,F,_,$){var L=j[0],D=j[1],d=j[2],o=j[3],v=Z.W,f=Z.C;for(var U=0,H=0;
U<f;U++)for(var B=0;B<v;B++,H++){var m=B+F,Y=U+_,q=L*m+D*Y,r=d*m+o*Y,x=(Math.PI+Math.atan2(-r,-q))/(2*Math.PI);
Q[H]=C[e.q.Jn(x,$)]}},function(Q,C,j,Z,F,_,$){var L=j[0],D=j[1],d=j[2],o=j[3],v=Z.W,f=Z.C;for(var U=0,H=0;
U<f;U++)for(var B=0;B<v;B++,H++){var m=B+F,Y=U+_,q=L*m+D*Y,r=d*m+o*Y,x=Math.abs(q*2);Q[H]=C[e.q.Jn(x,$)]}},function(Q,C,j,Z,F,_,$){var L=j[0],D=j[1],d=j[2],o=j[3],v=Z.W,f=Z.C;
for(var U=0,H=0;U<f;U++)for(var B=0;B<v;B++,H++){var m=B+F,Y=U+_,q=L*m+D*Y,r=d*m+o*Y,x=2*(Math.abs(q)+Math.abs(r));
Q[H]=C[e.q.Jn(x,$)]}}]};e.q.viA=function(Q,C){return Q+.5};e.q.viU=function(Q,C){return 2*Math.sqrt(Q*Q+C*C)};
e.q.vin=function(Q,C){return(Math.PI+Math.atan2(-C,-Q))/(2*Math.PI)};e.q.viM=function(Q,C){return Math.abs(Q*2)};
e.q.vl$=function(Q,C){return 2*(Math.abs(Q)+Math.abs(C))};e.q.vx=function(Q,C,j,Z,F,_,$,L,D,d,o,v){if(Q.Clrs==null)return;
var f=new Uint32Array(C.buffer),U=1023,H=e.q.mW(Q.Clrs.v,D,d);if(v){var B=e.q.vTr(Q,H,U+1,$);e.q.vSY(f,B,Z,j,j.x-F,j.y-_,U,L);
return}var m=e.q.MV(Q,H,U+1,$);if(L<5){e.q.n[L](f,m,Z,j,j.x-F,j.y-_,U)}else{var Y=new Uint8Array(m.buffer),q=j.W,r=j.C,x=o.sX-o.dW,a=1/x,i=o.uR.W-j.W>>1,l=o.uR.C-j.C>>1,M=o.uR.W,z=-.6*a,V=(-.6+.4)*a,X=(-.6+2*.4)*a,O=(-.6+3*.4)*a;
for(var y=0,K=0;y<r;y++)for(var R=0;R<q;R++,K+=4){var W=0,N=0,I=0,T=0,h=(y+l)*M+R+i,p=(o.lq[h]-o.dW)*a,u=0;
if(p<=0||p>=1){u=(p<=0?0:U)<<2;C[K]=Y[u];C[K+1]=Y[u+1];C[K+2]=Y[u+2];C[K+3]=Y[u+3];continue}u=Math.max(0,Math.min(U-1,Math.round((p+z)*U)))<<2;
N+=Y[u];I+=Y[u+1];T+=Y[u+2];W+=Y[u+3];u=Math.max(0,Math.min(U-1,Math.round((p+V)*U)))<<2;N+=Y[u];I+=Y[u+1];
T+=Y[u+2];W+=Y[u+3];u=Math.max(0,Math.min(U-1,Math.round((p+X)*U)))<<2;N+=Y[u];I+=Y[u+1];T+=Y[u+2];W+=Y[u+3];
u=Math.max(0,Math.min(U-1,Math.round((p+O)*U)))<<2;N+=Y[u];I+=Y[u+1];T+=Y[u+2];W+=Y[u+3];C[K]=N>>>2;
C[K+1]=I>>>2;C[K+2]=T>>>2;C[K+3]=W>>>2}}};e.q.mW=function(Q,C,j){var Z=[];for(var F=0;F<Q.length;F++){var _;
if(Q[F].v.Type.v.Clry=="FrgC")_={h:C>>16&255,J:C>>8&255,_:C&255};else if(Q[F].v.Type.v.Clry=="BckC")_={h:j>>16&255,J:j>>8&255,_:j&255};
else _=e.q.Xa(Q[F].v.Clr.v);Z.push(_)}return Z};e.q.Xa=function(Q){var C,j=Q.classID;if(j=="RGBC")C={h:Q.Rd.v,J:Q.Grn.v,_:Q.Bl.v};
else if(j=="HSBC"){C=e.zj(Q.H.v.val/360,Q.Strt.v/100,Q.Brgh.v/100);C.h*=255;C.J*=255;C._*=255}else if(j=="CMYC"){var Z=100-Q.Cyn.v,F=100-Q.Mgnt.v,_=100-Q.Ylw.v,$=100-Q.Blck.v,L=255*Z*$*1e-4,D=255*(.2*Z+.8*F)*$*1e-4,d=255*(.2*F+.8*_)*$*1e-4;
C={h:L,J:D,_:d}}else if(j=="Grsc")C={h:255-Q.Gry.v,J:255-Q.Gry.v,_:255-Q.Gry.v};else if(j=="LbCl"){C=e.nR(Q.Lmnc.v,Q.A.v,Q.B.v)}else console.log(Q);
if(isNaN(C.h))C.h=C.J=C._=0;return C};e.q.mx=function(Q){return{classID:"RGBC",Rd:{t:"doub",v:Q.h},Grn:{t:"doub",v:Q.J},Bl:{t:"doub",v:Q._}}};
e.q.vTr=function(Q,C,j,Z){var F=[],_=1/(j-0);for(var $=0;$<j;$++){var L=$*4,D=e.q.Mk(Q,C,(Z?j-1-$:$)*_);
F[L]=D[0];F[L+1]=D[1];F[L+2]=D[2];F[L+3]=D[3]}return F};e.q.MV=function(Q,C,j,Z){var F=new Uint32Array(j),_=1/(j-0);
for(var $=0;$<j;$++)F[$]=e.q.FT(Q,C,(Z?j-1-$:$)*_);return F};e.q.Mk=function(Q,C,j){var Z=4096,F=1/4096,_=Q.Intr.v*F,$=Q.Clrs.v,L=Q.Trns.v,D=$.length-1,d=L.length-1,o=-1,v=0,f=0,U=0,H=0;
while(o<d&&L[o+1].v.Lctn.v<=j*Z)o++;if(o==-1){v=L[0].v.Opct.v.val*(255/100)}else if(o==d){v=L[o].v.Opct.v.val*(255/100)}else{var B=e.q.MI(L,F,o,j,_);
v=(B*L[o].v.Opct.v.val+(1-B)*L[o+1].v.Opct.v.val)*(255/100)}o=-1;while(o<D&&$[o+1].v.Lctn.v<=j*Z)o++;
if(o==-1){var m=C[0];f=m.h;U=m.J;H=m._}else if(o==D){var m=C[o];f=m.h;U=m.J;H=m._}else{var Y=C[o],q=C[o+1],r=e.q.MI($,F,o,j,_);
f=r*Y.h+(1-r)*q.h;U=r*Y.J+(1-r)*q.J;H=r*Y._+(1-r)*q._}return[f,U,H,v]};e.q.FT=function(Q,C,j){var Z=e.q.Mk(Q,C,j),F=~~(.5+Z[0]),_=~~(.5+Z[1]),$=~~(.5+Z[2]),L=~~(.5+Z[3]);
return L<<24|$<<16|_<<8|F};e.q.MI=function(Q,C,j,Z,F){if(Q.length==2)F*=.5;var _=Q[j].v.Lctn.v*C,$=Q[j+1].v.Lctn.v*C,L=_+Q[j+1].v.Mdpn.v*.01*($-_),D;
if(Z<L)D=.5*(Z-_)/(L-_);else D=.5+.5*(Z-L)/($-L);D=.5+.5*(F*Math.cos(Math.PI*D)+(1-F)*(1-2*D));return D};
e.q.Rd=function(Q,C){var j=Math.PI*Q.Angl.v.val/180,Z=Q.Scl.v.val/100,F=Q.Ofst.v,_=F.Hrzn.v.val/100,$=F.Vrtc.v.val/100,L=Math.cos(j),D=-Math.sin(j),d=.5*C.C,o=d*(L/D),v=Math.sqrt(d*d+o*o),f=.5*C.W,U=f*(D/L),H=Math.sqrt(f*f+U*U),B=Math.min(v,H)*Z,m=C.x+C.W/2+_*C.W,Y=C.y+C.C/2+$*C.C;
return[new Wn(m,Y),new Wn(m+L*B,Y+D*B)]};e.q.m_=function(Q,C,j,Z){var F=C.x-Q.x,_=-(C.y-Q.y),$=Math.sqrt(F*F+_*_),L=Math.atan2(_,F),D=Math.cos(L),d=-Math.sin(L),o=.5*j.C,v=o*(D/d),f=Math.sqrt(o*o+v*v),U=.5*j.W,H=U*(d/D),B=Math.sqrt(U*U+H*H),m=$/Math.min(f,B),Y=(Q.x-j.x-j.W/2)/j.W,q=(Q.y-j.y-j.C/2)/j.C;
Z.Angl.v.val=180*L/Math.PI;Z.Scl.v.val=m*100;var r=Z.Ofst.v;r.Hrzn.v.val=Y*100;r.Vrtc.v.val=q*100};e.q.vF=function(Q,C){for(var j=0;
j<Q.length;j++){var Z=Q[j],F=Math.round(Z[0]*4096),_=Z[1],$=Z[2];if($==null)$=1;var L=e.q.mx({h:_[0]*255,J:_[1]*255,_:_[2]*255});
C.Clrs.v[j]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:F},Mdpn:{t:"long",v:50},Clr:{t:"Objc",v:L},Type:{t:"enum",v:{Clry:"UsrS"}}}};
C.Trns.v[j]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:F},Mdpn:{t:"long",v:50},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round($*100)}}}}}};
e.$v={};e.$v.vL=function(Q,C,j,Z,F){var _=!1,H=1,K=0,R=0,g=0,ru=0;if(!C.yt(F)){var $=C.fJ(F),L=e.Q($.P()*4);
e.tW(Q,C,L,$);Q=L;C=$}var D=e.Q(C.P());e.pQ(j,F,D,C);e.round(D);F=F.QU(C);var d=F.W,o=F.C,v=d*3<o?2:1,f=o*3<d?2:1;
if(F.P()*(v*2+1)*(f*2+1)<C.P()){var $=new s(F.x-d*v,F.y-o*v,d*(v*2+1),o*(f*2+1)).QU(C),L=e.Q($.P()*4);
e.tW(Q,C,L,$);var U=e.Q($.P());e.pQ(D,C,U,$);C=$;Q=L;D=U}while((C.W+C.C)/2/H>400)H++;var B=Q,m=C,Y=D,q=Math.floor(m.W/H),r=Math.floor(m.C/H);
Q=e.Q(q*r*4);e.scale.IQ(B,m.W,m.C,Q,q,r,1/H);D=e.Q(q*r);e.scale.yT(Y,m.W,m.C,D,q,r,1/H);e.round(D,1);
var x=e.Go(D,new s(0,0,q,r));if(x.jJ())return;var a=Math.round((x.W+x.C)/2/15),i=Date.now(),l=e.Q(q*r*4);
e.vQn(Q,l);var M=Int16Array,z=new M(q*r*24),V=new M(64),X=new M(64),O=new M(64),y=new M(64);for(var W=3;
W<r-4;W++)for(var N=3;N<q-4;N++){var I=W*q+N;if(D[I]==255)continue;if(e.$v.vuL(l,D,N,W,q,r,V,X,O)!=0)continue;
e.$v.RZ(V,y);z[K]=N;z[K+1]=W;e.$v.W_(V,z,K+4,12);K+=16;e.$v.RZ(X,y);e.$v.W_(X,z,K,4);K+=4;e.$v.RZ(O,y);
e.$v.W_(O,z,K,4);K+=4;var T=z[K-24+5],h=z[K-24+6];z[K-24+5]=z[K-24+20];z[K-24+6]=z[K-24+16];z[K-24+16]=T;
z[K-24+20]=h;R++}if(R==0)return;if(_)console.log(Date.now()-i,"FWHT computed");i=Date.now();var p=[];
e.$v.RB(0,R-1,p,z,new M(2*24));if(_)console.log(Date.now()-i,"KD tree computed");i=Date.now();var u=new Float32Array(q*r*4);
for(var A=0;A<R;A++){var w=A,r$=e.$v.vuV(w,z,p,a);if(r$==-1)continue;var rW=w*24,J=r$*24,rr=z[rW],r_=z[rW+1],rO=z[J],k=z[J+1];
g+=e.$v.getError(J,rW,z,1e99);var rv=rO-rr,rb=k-r_;u[(r+rb)*2*q+(q+rv)]+=1}if(_)console.log(Date.now()-i,"NN found");
i=Date.now();var rt=[],rK=1/(2*q);for(var A=0;A<u.length;A++){if(u[A]>0){var W=Math.floor(A*rK),N=A-W*2*q;
rt.push({x:N-q,y:W-r,O:u[A],Z_:-1})}}rt.sort(function(rB,vW){return vW.O-rB.O});var rR=new Int32Array(q*r),ri=[];
for(var A=0;A<q*r;A++){if(D[A]==255){rR[A]=ru;ri.push(A%q,Math.floor(A/q));ru++}else if(Q[(A<<2)+3]<200){rR[A]=-2}else{rR[A]=-1}}var rS=e.$v.vul(q,r,rt,rR,ri,ru);
if(rS==null){return}var rg=rS.uv,top=rS.top;rg=e.$v.vTS(rg,Q,q,r,top,rR,ri,ru);if(_)console.log(Date.now()-i,"optimal labeling found");
i=Date.now();var $=F.clone();$.ac(1,1);$=$.QU(m);var rd=e.Q($.P()*4),vO=e.Q($.P());e.tW(B,m,rd,$);var rq=m.W,rL=m.C;
for(var W=0;W<rL;W++)for(var N=0;N<rq;N++){if(Y[W*rq+N]==0)continue;var rl=Math.min(Math.floor(N/H),q-1),rV=Math.min(Math.floor(W/H),r-1),ry=rR[rV*q+rl],vj=rg[ry],rp=top[vj],rx=N+rp.x*H,rF=W+rp.y*H,DX=rF*rq+rx<<2,va=(W-$.y+m.y)*$.W+(N-$.x+m.x)<<2;
rd[va]=B[DX];rd[va+1]=B[DX+1];rd[va+2]=B[DX+2];rd[va+3]=B[DX+3];rd[va+3]=B[DX+3];vO[va>>2]=vj+1}if(_)console.log(Date.now()-i,"copied back");
i=Date.now();e.yW.vL(rd,vO,$,null,1e3);if(_)console.log(Date.now()-i,"poisson smooth");i=Date.now();
e.tW(rd,$,Z,F)};e.$v.Mp=function(Q,C,j,Z,F,_){return e.$v.mQ(Q+F.x,C+F.y,j,Z)&&_[(C+F.y)*j+(Q+F.x)]==-1?0:1e9};
e.$v.vTS=function(Q,C,j,Z,top,F,_,$){var L=Date.now(),D=[-1,0,0,-1,1,0,0,1],d=1e99,o=[],v=[],f=2*($*2*3+$*2),U=null,H=0,B=0,m=0,Y=1e99;
while(!0&&Date.now()<L+12e3){m++;var q=null,r=d;for(var x=0;x<top.length;x++){var a=top[x],i=0,l=$+2,M=0;
for(var z=0;z<$;z++){var V=_[z*2],X=_[z*2+1],O=top[Q[z]],y=e.$v.Mp(V,X,j,Z,a,F),K=Q[z]==x?1e9:e.$v.Mp(V,X,j,Z,O,F);
for(var R=0;R<4;R++){if(R==0&&V==0||R==1&&X==0||R==2&&V==j-1||R==3&&X==Z-1)continue;var W=D[2*R],N=D[2*R+1],I=V+W,T=X+N,h=F[T*j+I];
if(h==-2){}else if(h==-1){y+=3*e.$v.rp(I+a.x,T+a.y,I,T,j,Z,C,F);y+=2*e.$v.rp(I+a.x+W,T+a.y+N,I+W,T+N,j,Z,C,F);
K+=3*e.$v.rp(I+O.x,T+O.y,I,T,j,Z,C,F);K+=2*e.$v.rp(I+O.x+W,T+O.y+N,I+W,T+N,j,Z,C,F)}else if(R>1){if(Q[z]==Q[h]){var p=0;
p+=e.$v.rp(V+O.x,X+O.y,V+a.x,X+a.y,j,Z,C,F);p+=e.$v.rp(I+O.x,T+O.y,I+a.x,T+a.y,j,Z,C,F);o[i]=z;o[i+1]=h;
v[i]=p;v[i+1]=p;i+=2}else{var u=top[Q[h]],g=l,A=0,w=0,r$=0;l++;A+=e.$v.rp(V+O.x,X+O.y,V+a.x,X+a.y,j,Z,C,F);
A+=e.$v.rp(I+O.x,T+O.y,I+a.x,T+a.y,j,Z,C,F);w+=e.$v.rp(V+u.x,X+u.y,V+a.x,X+a.y,j,Z,C,F);w+=e.$v.rp(I+u.x,T+u.y,I+a.x,T+a.y,j,Z,C,F);
r$+=e.$v.rp(V+u.x,X+u.y,V+O.x,X+O.y,j,Z,C,F);r$+=e.$v.rp(I+u.x,T+u.y,I+O.x,T+O.y,j,Z,C,F);o[i]=z;o[i+1]=g;
v[i]=A;v[i+1]=A;i+=2;o[i]=h;o[i+1]=g;v[i]=w;v[i+1]=w;i+=2;o[i]=g;o[i+1]=$+1;v[i]=r$;v[i+1]=0;i+=2}}}o[i]=$;
o[i+1]=z;v[i]=y;v[i+1]=0;i+=2;o[i]=z;o[i+1]=$+1;v[i]=K;v[i+1]=0;i+=2;M+=Math.min(y,K)}if(M>r)continue;
var rW=e.LM.vN(l,i,$,$+1,o,v,r);if(rW.lj<r){r=rW.lj;var J=Q.slice(0);e.$v.vTM(J,i,o,rW.Zb,x,$);q=J}}if(r*1>=d){break}d=r;
Q=q;if((m&3)==0){if(r*1.03>=Y)break;Y=r}if((m&3)==0){var rr=0*top.length;for(var z=0;z<top.length&&top.length>rr;
z++){if(Q.indexOf(z)!=-1)continue;top.splice(z,1);for(var h=0;h<Q.length;h++)if(Q[h]>z)Q[h]--;z--}}}return Q};
e.$v.vTM=function(Q,C,j,Z,F,_){for(var $=0;$<Z.length;$++){var L=Z[$]<<1,D=0,d=0;if(L<C){D=j[L];d=j[L+1]}else{d=j[L];
D=j[L+1]}if(D==_&&Q[d]!=F)Q[d]=F}};e.$v.Ma=function(top,Q,C,j,Z,F,_,$,L){for(var D=0;D<C.length;D++){var d=C[D],o=!0;
if($!=null&&!(e.$v.mQ($+d.x,L+d.y,F,_)&&j[F*(L+d.y)+$+d.x]==-1))continue;if(d.Z_==-1)d.Z_=e.$v.vuz(d,j,Z,F,_);
if(d.Z_<=0)continue;for(var v=0;v<top.length;v++){var f=top[v],U=d.x-f.x,H=d.y-f.y;if(U*U+H*H<Q){o=!1;
break}}if(o)return d}return null};e.$v.vuz=function(Q,C,j,Z,F){var _=0;for(var $=0;$<j.length;$+=2){var L=j[$]+Q.x,D=j[$+1]+Q.y;
if(e.$v.mQ(L,D,Z,F)&&C[Z*D+L]==-1)_++}return _/(j.length>>1)};e.$v.vul=function(Q,C,j,Z,F,_){var top=[];
for(var $=0;$<60;$++){var L=e.$v.Ma(top,25,j,Z,F,Q,C);if(L==null)break;else top.push(L)}if(top.length==0)return null;
var D=[];for(var $=0;$<_;$++){var d=F[$*2],o=F[$*2+1],v=-1,f=0;while(!0){f++;var U=Math.random();v=Math.floor(U*.99999*top.length);
var H=top[v],B=d+H.x,m=o+H.y;if(e.$v.mQ(B,m,Q,C)&&Z[m*Q+B]==-1)break;if(f>100){var L;L=e.$v.Ma(top,0,j,Z,F,Q,C,d,o);
if(L==null)return null;top.push(L);f=0}}D.push(v)}return{top:top,uv:D}};e.$v.rp=function(Q,C,j,Z,F,_,$,L){if(Q==j&&C==Z)return 0;
if(Q<0||C<0||Q>=F||C>=_||j<0||Z<0||j>=F||Z>=_||L[C*F+Q]!=-1||L[Z*F+j]!=-1)return 1e7;var D=C*F+Q<<2,d=Z*F+j<<2,o=$[D]-$[d],v=$[D+1]-$[d+1],f=$[D+2]-$[d+2];
return 1+(o*o+v*v+f*f)};e.$v.mQ=function(Q,C,j,Z){return Q>=0&&Q<j&&C>=0&&C<Z};e.$v.vuV=function(Q,C,j,Z){var F=24*Q,_=C[F],$=C[F+1],L=Z*Z,D=0,f=1e9;
while(j[D]!=99)if(C[F+j[D]]<j[D+1])D=j[D+2];else D=j[D+3];var d=j[D+1],o=j[D+2],v=-1;for(var U=d;U<=o;
U++){var D=U,H=D*24,B=C[H],m=C[H+1];if((B-_)*(B-_)+(m-$)*(m-$)<L)continue;var Y=e.$v.getError(H,F,C,f);
if(Y<f){f=Y;v=D}}return v};e.$v.getError=function(Q,C,j,Z){var F=0;for(var _=4;_<24;_+=4){var $=j[C+_]-j[Q+_],L=j[C+_+1]-j[Q+_+1],D=j[C+_+2]-j[Q+_+2],d=j[C+_+3]-j[Q+_+3];
F+=$*$+L*L+D*D+d*d;if(F>=Z)return F+1}return F};e.$v.RB=function(Q,C,j,Z,F){var _=16,U=0;if(C-Q<=_){j.push(99,Q,C);
return}e.$v.NM(Q,C,Z,F);var $=-1,L=-1;for(var D=4;D<24;D++){var d=F[2*D+1]-F[2*D];if(d>L){L=d;$=D}}var o=Q+C>>1,v=e.$v.vup(o,Q,C,Z,$),f=-1;
for(var D=Q;D<=C;D++)if(Z[24*D+$]==v){if(f==-1)f=D;U=D}if(Q+8<f&&f-Q>C-U)o=f;else if(U+1<C-8)o=U+1;else if(C-Q<64){j.push(99,Q,C);
return}else o=o;var H=j.length;j.push($,v,0,0);j[H+2]=H+4;e.$v.RB(Q,o-1,j,Z,F);j[H+3]=j.length;e.$v.RB(o,C,j,Z,F)};
e.$v.NM=function(Q,C,j,Z){for(var F=0;F<48;F+=4){Z[F]=3e4;Z[F+1]=-3e4;Z[F+2]=3e4;Z[F+3]=-3e4}for(var F=Q;
F<=C;F++){var _=F*24;for(var $=0;$<24;$++){var L=j[_+$],D=Z[$<<1],d=Z[($<<1)+1];if(L<D)Z[$<<1]=L;if(L>d)Z[($<<1)+1]=L}}};
e.$v.Rx=function(Q,C,j){var Z=0,F=0;Z=j[Q+F];j[Q+F]=j[C+F];j[C+F]=Z;F++;Z=j[Q+F];j[Q+F]=j[C+F];j[C+F]=Z;
F++;Z=j[Q+F];j[Q+F]=j[C+F];j[C+F]=Z;F++;Z=j[Q+F];j[Q+F]=j[C+F];j[C+F]=Z;F++;Z=j[Q+F];j[Q+F]=j[C+F];j[C+F]=Z;
F++;Z=j[Q+F];j[Q+F]=j[C+F];j[C+F]=Z;F++;Z=j[Q+F];j[Q+F]=j[C+F];j[C+F]=Z;F++;Z=j[Q+F];j[Q+F]=j[C+F];j[C+F]=Z;
F++;Z=j[Q+F];j[Q+F]=j[C+F];j[C+F]=Z;F++;Z=j[Q+F];j[Q+F]=j[C+F];j[C+F]=Z;F++;Z=j[Q+F];j[Q+F]=j[C+F];j[C+F]=Z;
F++;Z=j[Q+F];j[Q+F]=j[C+F];j[C+F]=Z;F++;Z=j[Q+F];j[Q+F]=j[C+F];j[C+F]=Z;F++;Z=j[Q+F];j[Q+F]=j[C+F];j[C+F]=Z;
F++;Z=j[Q+F];j[Q+F]=j[C+F];j[C+F]=Z;F++;Z=j[Q+F];j[Q+F]=j[C+F];j[C+F]=Z;F++;Z=j[Q+F];j[Q+F]=j[C+F];j[C+F]=Z;
F++;Z=j[Q+F];j[Q+F]=j[C+F];j[C+F]=Z;F++;Z=j[Q+F];j[Q+F]=j[C+F];j[C+F]=Z;F++;Z=j[Q+F];j[Q+F]=j[C+F];j[C+F]=Z;
F++;Z=j[Q+F];j[Q+F]=j[C+F];j[C+F]=Z;F++;Z=j[Q+F];j[Q+F]=j[C+F];j[C+F]=Z;F++;Z=j[Q+F];j[Q+F]=j[C+F];j[C+F]=Z;
F++;Z=j[Q+F];j[Q+F]=j[C+F];j[C+F]=Z;F++};e.$v.RC=function(Q,C,j,Z){var F=j+Z>>>1,_=Q[24*F+C];while(j<=Z){while(Q[24*j+C]<_)j++;
while(Q[24*Z+C]>_)Z--;if(j<=Z){if(Q[24*j+C]!=Q[24*Z+C])e.$v.Rx(j*24,Z*24,Q);j++;Z--}}return j};e.$v.vup=function(Q,C,j,Z,F){var _=0;
while(C!=j){_=e.$v.RC(Z,F,C,j);if(Q<_)j=_-1;else C=_}return Z[Q*24+F]};e.$v.W_=function(Q,C,j,Z){for(var F=0;
F<Z;F++)C[j+F]=Q[F]};e.$v.vuL=function(Q,C,j,Z,F,_,$,L,D){var d=(Z-3)*F+(j-3),o=d<<2;for(var v=0;v<8;
v++){if(C[d]+C[d+1]+C[d+2]+C[d+3]+C[d+4]+C[d+5]+C[d+6]+C[d+7]!=0||Q[o+3]<200||Q[o+7]<200||Q[o+11]<200||Q[o+15]<200||Q[o+19]<200||Q[o+23]<200||Q[o+27]<200||Q[o+31]<200)return 1;
var f=v<<3;$[f+0]=Q[o+0];L[f+0]=Q[o+1];D[f+0]=Q[o+2];$[f+1]=Q[o+4];L[f+1]=Q[o+5];D[f+1]=Q[o+6];$[f+2]=Q[o+8];
L[f+2]=Q[o+9];D[f+2]=Q[o+10];$[f+3]=Q[o+12];L[f+3]=Q[o+13];D[f+3]=Q[o+14];$[f+4]=Q[o+16];L[f+4]=Q[o+17];
D[f+4]=Q[o+18];$[f+5]=Q[o+20];L[f+5]=Q[o+21];D[f+5]=Q[o+22];$[f+6]=Q[o+24];L[f+6]=Q[o+25];D[f+6]=Q[o+26];
$[f+7]=Q[o+28];L[f+7]=Q[o+29];D[f+7]=Q[o+30];o+=F<<2;d+=F}return 0};e.$v.RZ=function(Q,C){C[0]=Q[32]+Q[0];
C[1]=Q[33]+Q[1];C[2]=Q[34]+Q[2];C[3]=Q[35]+Q[3];C[4]=Q[36]+Q[4];C[5]=Q[37]+Q[5];C[6]=Q[38]+Q[6];C[7]=Q[39]+Q[7];
C[8]=Q[40]+Q[8];C[9]=Q[41]+Q[9];C[10]=Q[42]+Q[10];C[11]=Q[43]+Q[11];C[12]=Q[44]+Q[12];C[13]=Q[45]+Q[13];
C[14]=Q[46]+Q[14];C[15]=Q[47]+Q[15];C[16]=Q[48]+Q[16];C[17]=Q[49]+Q[17];C[18]=Q[50]+Q[18];C[19]=Q[51]+Q[19];
C[20]=Q[52]+Q[20];C[21]=Q[53]+Q[21];C[22]=Q[54]+Q[22];C[23]=Q[55]+Q[23];C[24]=Q[56]+Q[24];C[25]=Q[57]+Q[25];
C[26]=Q[58]+Q[26];C[27]=Q[59]+Q[27];C[28]=Q[60]+Q[28];C[29]=Q[61]+Q[29];C[30]=Q[62]+Q[30];C[31]=Q[63]+Q[31];
C[32]=Q[0]-Q[32];C[33]=Q[1]-Q[33];C[34]=Q[2]-Q[34];C[35]=Q[3]-Q[35];C[36]=Q[4]-Q[36];C[37]=Q[5]-Q[37];
C[38]=Q[6]-Q[38];C[39]=Q[7]-Q[39];C[40]=Q[8]-Q[40];C[41]=Q[9]-Q[41];C[42]=Q[10]-Q[42];C[43]=Q[11]-Q[43];
C[44]=Q[12]-Q[44];C[45]=Q[13]-Q[45];C[46]=Q[14]-Q[46];C[47]=Q[15]-Q[47];C[48]=Q[16]-Q[48];C[49]=Q[17]-Q[49];
C[50]=Q[18]-Q[50];C[51]=Q[19]-Q[51];C[52]=Q[20]-Q[52];C[53]=Q[21]-Q[53];C[54]=Q[22]-Q[54];C[55]=Q[23]-Q[55];
C[56]=Q[24]-Q[56];C[57]=Q[25]-Q[57];C[58]=Q[26]-Q[58];C[59]=Q[27]-Q[59];C[60]=Q[28]-Q[60];C[61]=Q[29]-Q[61];
C[62]=Q[30]-Q[62];C[63]=Q[31]-Q[63];Q[0]=C[16]+C[0];Q[1]=C[17]+C[1];Q[2]=C[18]+C[2];Q[3]=C[19]+C[3];
Q[4]=C[20]+C[4];Q[5]=C[21]+C[5];Q[6]=C[22]+C[6];Q[7]=C[23]+C[7];Q[8]=C[24]+C[8];Q[9]=C[25]+C[9];Q[10]=C[26]+C[10];
Q[11]=C[27]+C[11];Q[12]=C[28]+C[12];Q[13]=C[29]+C[13];Q[14]=C[30]+C[14];Q[15]=C[31]+C[15];Q[16]=C[0]-C[16];
Q[17]=C[1]-C[17];Q[18]=C[2]-C[18];Q[19]=C[3]-C[19];Q[20]=C[4]-C[20];Q[21]=C[5]-C[21];Q[22]=C[6]-C[22];
Q[23]=C[7]-C[23];Q[24]=C[8]-C[24];Q[25]=C[9]-C[25];Q[26]=C[10]-C[26];Q[27]=C[11]-C[27];Q[28]=C[12]-C[28];
Q[29]=C[13]-C[29];Q[30]=C[14]-C[30];Q[31]=C[15]-C[31];C[0]=Q[8]+Q[0];C[1]=Q[9]+Q[1];C[2]=Q[10]+Q[2];
C[3]=Q[11]+Q[3];C[4]=Q[12]+Q[4];C[5]=Q[13]+Q[5];C[6]=Q[14]+Q[6];C[7]=Q[15]+Q[7];C[8]=Q[0]-Q[8];C[9]=Q[1]-Q[9];
C[10]=Q[2]-Q[10];C[11]=Q[3]-Q[11];C[12]=Q[4]-Q[12];C[13]=Q[5]-Q[13];C[14]=Q[6]-Q[14];C[15]=Q[7]-Q[15];
Q[0]=C[4]+C[0];Q[1]=C[5]+C[1];Q[2]=C[6]+C[2];Q[3]=C[7]+C[3];Q[4]=C[0]-C[4];Q[5]=C[1]-C[5];Q[6]=C[2]-C[6];
Q[7]=C[3]-C[7];Q[8]=C[12]+C[8];Q[9]=C[13]+C[9];Q[10]=C[14]+C[10];Q[11]=C[15]+C[11];Q[12]=C[8]-C[12];
Q[13]=C[9]-C[13];Q[14]=C[10]-C[14];Q[15]=C[11]-C[15];C[0]=Q[2]+Q[0];C[1]=Q[3]+Q[1];C[2]=Q[0]-Q[2];C[3]=Q[1]-Q[3];
C[4]=Q[6]+Q[4];C[5]=Q[7]+Q[5];C[6]=Q[4]-Q[6];C[7]=Q[5]-Q[7];C[8]=Q[10]+Q[8];C[9]=Q[11]+Q[9];C[10]=Q[8]-Q[10];
C[11]=Q[9]-Q[11];C[12]=Q[14]+Q[12];C[13]=Q[15]+Q[13];C[14]=Q[12]-Q[14];C[15]=Q[13]-Q[15];Q[0]=C[1]+C[0];
Q[1]=C[0]-C[1];Q[2]=C[3]+C[2];Q[3]=C[2]-C[3];Q[4]=C[5]+C[4];Q[5]=C[4]-C[5];Q[6]=C[7]+C[6];Q[7]=C[6]-C[7];
Q[8]=C[9]+C[8];Q[9]=C[8]-C[9];Q[10]=C[11]+C[10];Q[11]=C[10]-C[11];Q[12]=C[13]+C[12];Q[13]=C[12]-C[13];
Q[14]=C[15]+C[14];Q[15]=C[14]-C[15]};e.$v.vl_=function(){var Q="",C=64,j="v",Z="t",F="a",_=5,$,L,D;for($=C>>1;
$>0;$>>=1,_--){for(L=0;L<C;L++){D=(L>>_&1)!=0;if(D){Q+=Z+"["+L+"] = "+j+"["+(-$+L)+"] - "+j+"["+L+"];  "}else{Q+=Z+"["+L+"] = "+j+"["+($+L)+"] + "+j+"["+L+"];  "}}F=j;
j=Z;Z=F;Q+="\n"}console.log(Q)};e.$v.vlK=function(Q,C,j){var Z=C,F=j,_=Z,$=0,D,d,o;while(Q>>$!=2)$++;
var L=$;for(D=Q>>1;D>0;D>>=1,$--){for(d=0;d<Q;d++){o=(d>>$&1)!=0;if(o)F[d]=Z[-D+d]-Z[d];else F[d]=Z[D+d]+Z[d]}_=Z;
Z=F;F=_}if((L&1)==1)for(D=0;D<Q;D++)j[D]=Z[D]};e.qJ={};e.qJ.RY=function(Q,C,j,Z,F,_,$,L,D){var d=Date.now(),o=new Uint32Array(Q.buffer),v=new Uint32Array(C.buffer),f=$/j,U=L/Z,H=1/f,B=1/U,m=new Float64Array(2),Y=3,q=1/Y,r=1/(Y*Y),x=0,a=0,i=j,l=Z;
if(F){x=F.x;a=F.y;i=F.W;l=F.C}for(var M=0;M<l;M++)for(var z=0;z<i;z++){var V=x+z,X=a+M,O=X*j+V,y=O<<1,K=O<<2;
e.qJ.vuG(_,$,L,(V+.5)*f,(X+.5)*U,m);var R=m[0]*H,W=m[1]*B;if(R==0&&W==0)v[O]=o[O];else{e.V.JB(V+R+.5,X+W+.5,o,j,Z,v,O,D)}}};
e.qJ.vuG=function(Q,C,j,Z,F,_){Z-=.499999;F-=.499999;var $=~~Z,L=~~F,D=Z-$,d=F-L,o=(1-d)*(1-D),v=(1-d)*D,f=d*(1-D),U=d*D,H=$<C-1?$+1:$,B=L<j-1?L+1:L,m=L*C+$<<1,Y=L*C+H<<1,q=B*C+$<<1,r=B*C+H<<1;
_[0]=o*Q[m]+v*Q[Y]+f*Q[q]+U*Q[r];_[1]=o*Q[m+1]+v*Q[Y+1]+f*Q[q+1]+U*Q[r+1]};e.qJ.vkj=function(Q,C,j,Z,F){var _=1/Q,$=[-1,1,-Q,Q],L=Z.length;
for(var D=0;D<L;D++){var d=Z[D],o=d<<1,v=D<<1,f=~~(d*_),U=d-Q*f,H=j[o],B=j[o+1],m=0,Y=0;if(U!=0&&U!=Q-1){var q=d-1<<1,r=d+1<<1,x=j[q],a=j[r],i=j[q+1],l=j[r+1],M=H-(x+a)*.5,z=B-(i+l)*.5;
m-=M*F;Y-=z*F}if(f!=0&&f!=C-1){var q=d-Q<<1,r=d+Q<<1,x=j[q],a=j[r],i=j[q+1],l=j[r+1],M=H-(x+a)*.5,z=B-(i+l)*.5;
m-=M*F;Y-=z*F}j[o]=H+m;j[o+1]=B+Y}};e.qJ.vkz=function(Q,C){var j=Q+","+C;if(e.qJ.Mx==j)return e.qJ.ML;
var Z=e.qJ.ML=[];e.qJ.Mx=j;for(var F=0;F<=1e3;F++){var _=F*.001,$=Math.sqrt(_),L=Math.exp(-4*$),D=.96*(1-$*$),d=C*((1-Q)*L+Q*D);
Z[F]=d}return Z};e.qJ.Mx="";e.qJ.ML=[];e.qJ.vkq=function(Q,C,j,Z,F,_,$,L,D,d,o,v,f){var U=Math.max(0,Math.floor(F-$-1)),H=Math.min(C,Math.ceil(F+$+1)),B=Math.max(0,Math.floor(_-$-1)),m=Math.min(j,Math.ceil(_+$+1)),Y=2*C,q=$*$,r=1/$,x=0;
if(f&&(Z==3||Z==6))D=-D;var a=e.qJ.vkz(L,D);for(var i=B;i<m;i++)for(var l=U;l<H;l++){var M=i*C+l,z=M<<1,V=(F-l)*r,X=(_-i)*r,O=V*V+X*X;
if(O<1){v[x]=M;var y=a[~~(O*1e3)];if(Z==1){Q[z]=Q[z]*(1-y*.05);Q[z+1]=Q[z+1]*(1-y*.05)}else{var K=0,R=0,I,T,h,p;
if(Z==0){K=d*y;R=o*y}else if(Z==2){}else if(Z==3){K=y*X;R=-y*V}else if(Z==4){K=y*V;R=y*X}else if(Z==5){K=-y*V;
R=-y*X}else if(Z==6){K=o*y;R=-d*y}var W=Q[z],N=Q[z+1];if(l==0||l!=C-1&&K<0){I=1+Q[z+2]-W;h=Q[z+3]-N}else{I=W-Q[z-2]+1;
h=N-Q[z-1]}if(i==0||i!=j-1&&R<0){T=Q[z+Y]-W;p=1+Q[z+Y+1]-N}else{T=W-Q[z-Y];p=N-Q[z-Y+1]+1}Q[z]=-(I*K+T*R-W);
Q[z+1]=-(h*K+p*R-N)}x++}}};e.qJ.vlR=function(Q){var C=Q[0],j=Q[0],Z=Q[1],F=Q[1];for(var _=0;_<Q.length;
_+=2){var $=Q[_],L=Q[_+1];if($<C)C=$;else if($>j)j=$;if(L<Z)Z=L;else if(L>F)F=L}return[C,Z,j,F]};e.vki=function(Q,C,j,Z,F){function _(rO,k,rv,rb){return Math.sqrt((rO-rv)*(rO-rv)+(k-rb)*(k-rb))}function $(rO,k){return rO>=0&&rO<C&&k>=0&&k<j}function L(rO){if(rO<0)return 0;
if(rO>=C)return C-1;return rO}function D(rO){if(rO<0)return 0;if(rO>=j)return j-1;return rO}function d(A,rO){var k=rO[3]*(1/255),rv=Z[A]+rO[0]*k;
if(rv>255)rv=255;Z[A]=rv;rv=Z[A+1]+rO[1]*k;if(rv>255)rv=255;Z[A+1]=rv;rv=Z[A+2]+rO[2]*k;if(rv>255)rv=255;
Z[A+2]=rv}function o(rO,k,rv){if(!p(rO,k))return;if(rv[3]<0)rv[3]=0;d((k*C+rO)*4,rv)}function v(rO){var k=rO.slice(0,3);
k[3]=0;return k}var f=C/800;function U(rO){return Math.round(rO*f)}function H(){for(var A=0;A<=300;A++){g[A]=B(A)}}function B(j){var rO=.8,k=.2,rv=rO*k,rb=j/60%2-1,rt=rv*(1-rb*rb),rK=k-rv,rR;
if(j<60){rR=[rv+rK,rt,0]}else if(j<120){rR=[rt,rv,0]}else if(j<180){rR=[0,rv,rt]}else if(j<240){rR=[0,rt,rv]}else if(j<300){rR=[rt,0,rv]}else{rR=[rv,0,rt]}return[(rR[0]+rK)*255,(rR[1]+rK)*255,(rR[2]+rK)*255]}function m(j){return g[~~j]}function Y(rO){return 1-q(rO)}function q(rO){return rO-~~rO}function r(rO,k,rv,rb){T(rO,k,rv,0,k+1,1,rb)}function x(rO,k,rv,rb,rt,rK){T(rO,k,rv,0,rb,1,rt,rK)}function a(rO){for(var A=0;
A<Z.length;A+=4){d(A,rO)}}function i(rO,k,rv,rb,rt,rK,rR,ru){l(rO,k,rv,rb,rt,1,rK,rR,ru)}function l(rO,k,rv,rb,rt,rK,rR,ru,rS){if(rK==null)rK=.5;
if(rR==null)rR=0;if(ru==null)ru=0;if(rS==null)rS=!1;var rg=rO.x,rd=rO.y,vO=rv.slice(0),rq=~~(rv[3]*r$);
rb=rb*r$;if(!rS){k=h(k);rt=h(rt);rR=h(rR);ru=h(ru)}var rL=L(rg-k),rl=L(rg+k);for(var rV=rL;rV<=rl;rV++){var ry=rV-rg,vj=Math.floor(Math.sqrt(k*k-ry*ry)),rp=D(rd-vj),rx=D(rd);
for(var rF=rp;rF<=rx;rF++){var DX=_(rV,rF,rg,rd);if(DX>k||DX<=k-rt)break;var va=(DX-k+rt)/rt;vO[3]=rq-rb*(rK==1?va:Math.pow(va,rK));
d((rF*C+rV)*4,vO)}rp=D(rd+vj);for(var rF=rp;rF>rx;rF--){var DX=_(rV,rF,rg,rd);if(DX>k||DX<=k-rt)break;
var va=(DX-k+rt)/rt;vO[3]=rq-rb*(rK==1?va:Math.pow(va,rK));d((rF*C+rV)*4,vO)}}if(rR>0){T(rO,k+rR,vO,vO[3],rR,1,0,0,!0)}if(ru>0){T(rO,k-rt,u(rv),-rv[3],ru,1,0,0,!0)}}function M(rO,k,rv,rb,rt,rK){T(rO,k,rv,rv[3],k+1,1,rb,rt,rK)}function z(rO,k,rv,rb,rt){if(rt==null)rt=!1;
var rK=rO.x,rR=rO.y;rb*=r$;if(!rt){k=h(k);rv=h(rv)}var ru=L(rK-k),rS=L(rK+k);for(var rg=ru;rg<rS;rg++){var rd=rg-rK,vO=~~Math.sqrt(k*k-rd*rd),rq=D(rR-vO),rL=D(rR);
for(var rl=rq;rl<=rL;rl++){var rV=_(rg,rl,rK,rR);if(rV>k||rV<=k-rv)break;var ry=(k-rV)/rv,vj=m(300*ry);
vj[3]=rb;d((rl*C+rg)*4,vj)}rq=D(rR+vO);for(var rl=rq;rl>rL;rl--){var rV=_(rg,rl,rK,rR);if(rV>k||rV<=k-rv)break;
var ry=(k-rV)/rv,vj=m(300*ry);vj[3]=rb;d((rl*C+rg)*4,vj)}}}function V(w,rO){var k=w.lY,rv=w.Zj,rb=rO.slice(0),rt=rO[3]*r$,rK=Math.abs(rv.y-k.y)>Math.abs(rv.x-k.x);
if(rK){var rR=k.x;k.x=k.y;k.y=rR;rR=rv.x;rv.x=rv.y;rv.y=rR}if(k.x>rv.x){var rR=k;k=rv;rv=rR}var ru=rv.x-k.x,rS=rv.y-k.y,rg=ru==0?1:rS/ru,rd=Math.round(k.x),vO=k.y+rg*(rd-k.x),rq=Y(k.x+.5),rL=rd,rl=~~vO;
if(rK){rb[3]=rt*Y(vO)*rq;o(rl,rL,rb);rb[3]=rt*q(vO)*rq;o(rl+1,rL,rb)}else{rb[3]=rt*Y(vO)*rq;o(rL,rl,rb);
rb[3]=rt*q(vO)*rq;o(rL,rl+1,rb)}var rV=vO-rg;rd=Math.round(rv.x);vO=rv.y+rg*(rd-rv.x);rq=q(rv.x+.5);
var ry=rd,vj=~~vO;if(rK){rb[3]=rt*Y(vO)*rq;o(vj,ry,rb);rb[3]=rt*q(vO)*rq;o(vj+1,ry,rb)}else{rb[3]=rt*Y(vO)*rq;
o(ry,vj,rb);rb[3]=rt*q(vO)*rq;o(ry,vj+1,rb)}if(rK){for(var rp=rL+1;rp<=ry-1;rp++){rb[3]=rt*Y(rV);o(~~rV,rp,rb);
rb[3]=rt*q(rV);o(~~rV+1,rp,rb);rV+=rg}}else{for(var rp=rL+1;rp<=ry-1;rp++){rb[3]=rt*Y(rV);o(rp,~~rV,rb);
rb[3]=rt*q(rV);o(rp,~~rV+1,rb);rV+=rg}}}function X(rO,k,rv,rb){for(var A=0;A<4;A++){var rt=rO.li(k+1.3*A,rv);
V(rt,rb,1)}}function Wn(rO,k){this.x=Math.round(rO);this.y=Math.round(k)}var O=Math.PI/180;Wn.prototype.li=function(rO,k){rO=rO*O;
var rv=this.x+k*Math.cos(rO),rb=this.y+k*Math.sin(rO);return new y(this.x,this.y,rv,rb)};Wn.prototype.vkD=function(rO,k){rO=rO*O;
var rv=this.fu+k*Math.cos(rO),rb=this.vKU+k*Math.sin(rO);return new Wn(rv,rb)};function y(rO,k,rv,rb){this.lY=new Wn(rO,k);
this.Zj=new Wn(rv,rb)}y.prototype.CM=function(rO){var k=rO*this.lY.x+(1-rO)*this.Zj.x,rv=rO*this.lY.y+(1-rO)*this.Zj.y;
return new Wn(k,rv)};var K=i,R=M,W=r,N=x,I=z,T=l,h=U,p=$,u=v,g=[];H();for(var A=0;A<Q.length;A++){Z[A]=Q[A]}var w=new y(C*F[2],j*F[3],C/2,j/2),r$=F[1],rW=[];
rW[0]=function J(){var rO=[80,40,15,60],rv=0,rb=0;W(w.CM(1.4),260,rO,10);W(w.CM(1),100,[240,50,50,30],30);
R(w.CM(1),60,[255,40,0,40]);var k=[255,255,255,255];T(w.CM(1),70,k,k[3],58,.5);W(w.CM(1),12,k);k[3]=40;
K(w.CM(1),150,k,k[3],150);for(var A=0;A<40;A++){rv+=Math.random()*25;rb=Math.random()*h(300)+h(100);
var rt=w.CM(1).li(rv,rb);V(w.CM(1).li(rv,rb),[110,110,110,30])}R(w.CM(1),130,[255,255,255,8]);var rK=[170,30,23,70];
N(w.CM(1),70,rK,1,3,3);var rR=[60,60,130,40];W(w.CM(.47),44,rR,5);W(w.CM(.43),22,rR,3);rR[3]=16;W(w.CM(.53),15,rR,2);
var ru=[138,94,42,100];W(w.CM(.2),16,ru,2);var rS=[130,255,170,180];R(w.CM(0),4,rS);R(w.CM(-.25),5,rS);
ru=[150,90,0,50];K(w.CM(-.45),55,u(ru),-ru[3],40,2);W(w.CM(-.42),35,ru,2);W(w.CM(-.5),15,ru,2);I(w.CM(-1.28),145,11,70);
var rg=m(0);rg[3]=50;K(w.CM(-1.28),149,rg,rg[3],4);rg=m(300);rg[3]=50;K(w.CM(-1.28),155-1,u(rg),-rg[3],3);
var rd=[130,130,10,50];N(w.CM(-1),73,rd,3,2);var vO=[40,130,70,40];K(w.CM(-1),70,u(vO),-vO[3],35);vO=[40,170,60,50];
W(w.CM(-.7),25,vO,4);var vO=[70,110,50,60];K(w.CM(1.3),30,u(vO),-vO[3],11,3);rR=[0,50,210,80];R(w.CM(-.72),20,rR)};
rW[1]=function rr(){R(w.CM(1),150,[240,70,70,60]);W(w.CM(1),100,[200,60,60,40],30);var rO=[255,255,255,255],k=0,rv=0;
T(w.CM(1),75,rO,rO[3],63);W(w.CM(1),12,rO);R(w.CM(1),270,[200,200,200,20],10);for(var A=0;A<10;A++){k+=10+Math.random()*40;
rv=Math.random()*h(250)+h(80);var rb=w.CM(1).li(k,rv);V(rb,[110,110,110,35])}k=5;rv=100;for(var A=0;
A<12;A++){k+=30;X(w.CM(1),k,rv,[90,90,90,40])}var rt=[150,40,23,100];N(w.CM(1),70,rt,1,3,3);var rK=[30,100,60,40];
R(w.CM(-.9),180,[255,255,255,20]);W(w.CM(-.9),140,rK,15);var rR=[170,80,25,15];N(w.CM(-.9),120,rR,1,4,4);
var ru=[110,240,190,200];R(w.CM(-.6),3,ru);ru[3]=100;R(w.CM(-.6),7,ru);var rS=[230,120,40,85];R(w.CM(-.73),9,rS);
var rg=[60,60,190,50];W(w.CM(.3),28,rg,6);rg[3]=25;W(w.CM(.34),20,rg,3)};rW[2]=function r_(){var rO=[255,255,255,255],rv=0,rb=0;
W(w.CM(1),13,rO);T(w.CM(1),150,rO,rO[3],137);var k=[120,80,35,20];W(w.CM(1.4),260,k,10);for(var A=0;
A<40;A++){rv+=5+Math.random()*30;rb=Math.random()*h(300);V(w.CM(1).li(rv,rb),[110,110,110,20])}var rt=[10,30,255,30];
W(w.CM(1),70,rt,50);var rK=[15,90,170,15];W(w.CM(1.5),60,rK);var rR=[220,220,20,50];W(w.CM(-1.15),8,rR,2);
var rO=[255,255,255,40];R(w.CM(-1.18),6,rO);R(w.CM(-1.18),4,rO);rR=[110,110,10,8];K(w.CM(-1.2),32,u(rR),-rR[3],20,3);
var ru=[5,0,16,255];for(var A=0;A<4;A++){W(w.CM(-1.36),10,ru,3)}var rS=[90,200,150,20],rg=rS.slice(0);
rg[3]*=2;W(w.CM(-1.32),7,rg,3);W(w.CM(-1.36),7,rg,3);W(w.CM(-1.4),7,rg,3);var rO=[230,230,230,100];R(w.CM(-1.36),2,rO);
rO[3]=3;W(w.CM(-.55),10,rO);rR=[120,100,10,18];W(w.CM(-.55),160,rR,8);W(w.CM(-.55),80,rR,4);rS[3]=3;
rg[3]=6;K(w.CM(-.49),13,u(rg),-rg[3],13,2);K(w.CM(-.55),13,u(rg),-rg[3],13,2);rS[3]=20;W(w.CM(.15),25,rS,3);
rR[3]=100;R(w.CM(-.52),3,rR);rR=[200,200,50,40];W(w.CM(.27),1,rR,4);var rd=[150,40,23,30];K(w.CM(1),80,u(rd),-rd[3],2,1)};
return rW[F[0]]()};e.U_={};e.U_.MC=function(Q){var C=~~(Q+.5);return C<0?0:C>255?255:C};e.U_.transform=function(Q,C,j){var Z=e.U_.MC,F=Q.h.length;
for(var _=0;_<F;_++){var $=Q.h[_],L=Q.J[_],D=Q._[_];C.h[_]=Z(j[0]*$+j[1]*L+j[2]*D+j[3]*255);C.J[_]=Z(j[4]*$+j[5]*L+j[6]*D+j[7]*255);
C._[_]=Z(j[8]*$+j[9]*L+j[10]*D+j[11]*255)}};e.U_.Rc=function(Q,C,j){var Z=e.U_.MC,F=Q.length;for(var _=0;
_<F;_+=4){var $=Q[_],L=Q[_+1],D=Q[_+2];C[_]=Z(j[0]*$+j[1]*L+j[2]*D+j[3]*255);C[_+1]=Z(j[4]*$+j[5]*L+j[6]*D+j[7]*255);
C[_+2]=Z(j[8]*$+j[9]*L+j[10]*D+j[11]*255)}};e.U_.RP=function(Q){var C=Q[0]+Q[1]+Q[2],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(C==1){var Z=Q.indexOf(1);j[Z]=j[Z+4]=j[Z+8]=1}else{j[0]=Q[0];j[5]=Q[1];j[10]=Q[2]}return j};e.U_.vc=function(Q,C,j){return[1,0,0,Q,0,1,0,C,0,0,1,j,0,0,0,1]};
e.U_.vG=function(Q,C,j){return[Q,0,0,0,0,C,0,0,0,0,j,0,0,0,0,1]};e.U_.vlJ=function(Q){return[Q[0],Q[1],Q[2],Q[4],Q[5],Q[6],Q[8],Q[9],Q[10]]};
e.U_.YH=function(Q){return[Q[0],Q[1],Q[2],0,Q[3],Q[4],Q[5],0,Q[6],Q[7],Q[8],0,0,0,0,1]};e.U_.mR=function(Q,C){return[Q[0]*C[0]+Q[1]*C[1]+Q[2]*C[2]+Q[3]*C[3],Q[4]*C[0]+Q[5]*C[1]+Q[6]*C[2]+Q[7]*C[3],Q[8]*C[0]+Q[9]*C[1]+Q[10]*C[2]+Q[11]*C[3],Q[12]*C[0]+Q[13]*C[1]+Q[14]*C[2]+Q[15]*C[3]]};
e.U_.ik=function(Q){var C=[];C[0]=Q[0];C[1]=Q[4];C[2]=Q[8];C[3]=Q[12];C[4]=Q[1];C[5]=Q[5];C[6]=Q[9];
C[7]=Q[13];C[8]=Q[2];C[9]=Q[6];C[10]=Q[10];C[11]=Q[14];C[12]=Q[3];C[13]=Q[7];C[14]=Q[11];C[15]=Q[15];
return C};e.U_.multiply=function(Q,C){var j=[];j[0]=Q[0]*C[0]+Q[1]*C[4]+Q[2]*C[8]+Q[3]*C[12];j[1]=Q[0]*C[1]+Q[1]*C[5]+Q[2]*C[9]+Q[3]*C[13];
j[2]=Q[0]*C[2]+Q[1]*C[6]+Q[2]*C[10]+Q[3]*C[14];j[3]=Q[0]*C[3]+Q[1]*C[7]+Q[2]*C[11]+Q[3]*C[15];j[4]=Q[4]*C[0]+Q[5]*C[4]+Q[6]*C[8]+Q[7]*C[12];
j[5]=Q[4]*C[1]+Q[5]*C[5]+Q[6]*C[9]+Q[7]*C[13];j[6]=Q[4]*C[2]+Q[5]*C[6]+Q[6]*C[10]+Q[7]*C[14];j[7]=Q[4]*C[3]+Q[5]*C[7]+Q[6]*C[11]+Q[7]*C[15];
j[8]=Q[8]*C[0]+Q[9]*C[4]+Q[10]*C[8]+Q[11]*C[12];j[9]=Q[8]*C[1]+Q[9]*C[5]+Q[10]*C[9]+Q[11]*C[13];j[10]=Q[8]*C[2]+Q[9]*C[6]+Q[10]*C[10]+Q[11]*C[14];
j[11]=Q[8]*C[3]+Q[9]*C[7]+Q[10]*C[11]+Q[11]*C[15];j[12]=Q[12]*C[0]+Q[13]*C[4]+Q[14]*C[8]+Q[15]*C[12];
j[13]=Q[12]*C[1]+Q[13]*C[5]+Q[14]*C[9]+Q[15]*C[13];j[14]=Q[12]*C[2]+Q[13]*C[6]+Q[14]*C[10]+Q[15]*C[14];
j[15]=Q[12]*C[3]+Q[13]*C[7]+Q[14]*C[11]+Q[15]*C[15];return j};e.U_.Ie=function(Q){var C=[];C[0]=Q[5]*Q[10]*Q[15]-Q[5]*Q[14]*Q[11]-Q[6]*Q[9]*Q[15]+Q[6]*Q[13]*Q[11]+Q[7]*Q[9]*Q[14]-Q[7]*Q[13]*Q[10];
C[1]=-Q[1]*Q[10]*Q[15]+Q[1]*Q[14]*Q[11]+Q[2]*Q[9]*Q[15]-Q[2]*Q[13]*Q[11]-Q[3]*Q[9]*Q[14]+Q[3]*Q[13]*Q[10];
C[2]=Q[1]*Q[6]*Q[15]-Q[1]*Q[14]*Q[7]-Q[2]*Q[5]*Q[15]+Q[2]*Q[13]*Q[7]+Q[3]*Q[5]*Q[14]-Q[3]*Q[13]*Q[6];
C[3]=-Q[1]*Q[6]*Q[11]+Q[1]*Q[10]*Q[7]+Q[2]*Q[5]*Q[11]-Q[2]*Q[9]*Q[7]-Q[3]*Q[5]*Q[10]+Q[3]*Q[9]*Q[6];
C[4]=-Q[4]*Q[10]*Q[15]+Q[4]*Q[14]*Q[11]+Q[6]*Q[8]*Q[15]-Q[6]*Q[12]*Q[11]-Q[7]*Q[8]*Q[14]+Q[7]*Q[12]*Q[10];
C[5]=Q[0]*Q[10]*Q[15]-Q[0]*Q[14]*Q[11]-Q[2]*Q[8]*Q[15]+Q[2]*Q[12]*Q[11]+Q[3]*Q[8]*Q[14]-Q[3]*Q[12]*Q[10];
C[6]=-Q[0]*Q[6]*Q[15]+Q[0]*Q[14]*Q[7]+Q[2]*Q[4]*Q[15]-Q[2]*Q[12]*Q[7]-Q[3]*Q[4]*Q[14]+Q[3]*Q[12]*Q[6];
C[7]=Q[0]*Q[6]*Q[11]-Q[0]*Q[10]*Q[7]-Q[2]*Q[4]*Q[11]+Q[2]*Q[8]*Q[7]+Q[3]*Q[4]*Q[10]-Q[3]*Q[8]*Q[6];C[8]=Q[4]*Q[9]*Q[15]-Q[4]*Q[13]*Q[11]-Q[5]*Q[8]*Q[15]+Q[5]*Q[12]*Q[11]+Q[7]*Q[8]*Q[13]-Q[7]*Q[12]*Q[9];
C[9]=-Q[0]*Q[9]*Q[15]+Q[0]*Q[13]*Q[11]+Q[1]*Q[8]*Q[15]-Q[1]*Q[12]*Q[11]-Q[3]*Q[8]*Q[13]+Q[3]*Q[12]*Q[9];
C[10]=Q[0]*Q[5]*Q[15]-Q[0]*Q[13]*Q[7]-Q[1]*Q[4]*Q[15]+Q[1]*Q[12]*Q[7]+Q[3]*Q[4]*Q[13]-Q[3]*Q[12]*Q[5];
C[11]=-Q[0]*Q[5]*Q[11]+Q[0]*Q[9]*Q[7]+Q[1]*Q[4]*Q[11]-Q[1]*Q[8]*Q[7]-Q[3]*Q[4]*Q[9]+Q[3]*Q[8]*Q[5];C[12]=-Q[4]*Q[9]*Q[14]+Q[4]*Q[13]*Q[10]+Q[5]*Q[8]*Q[14]-Q[5]*Q[12]*Q[10]-Q[6]*Q[8]*Q[13]+Q[6]*Q[12]*Q[9];
C[13]=Q[0]*Q[9]*Q[14]-Q[0]*Q[13]*Q[10]-Q[1]*Q[8]*Q[14]+Q[1]*Q[12]*Q[10]+Q[2]*Q[8]*Q[13]-Q[2]*Q[12]*Q[9];
C[14]=-Q[0]*Q[5]*Q[14]+Q[0]*Q[13]*Q[6]+Q[1]*Q[4]*Q[14]-Q[1]*Q[12]*Q[6]-Q[2]*Q[4]*Q[13]+Q[2]*Q[12]*Q[5];
C[15]=Q[0]*Q[5]*Q[10]-Q[0]*Q[9]*Q[6]-Q[1]*Q[4]*Q[10]+Q[1]*Q[8]*Q[6]+Q[2]*Q[4]*Q[9]-Q[2]*Q[8]*Q[5];var j=Q[0]*C[0]+Q[1]*C[4]+Q[2]*C[8]+Q[3]*C[12];
for(var Z=0;Z<16;Z++)C[Z]/=j;return C};e.U_.vls=function(Q){var C=[],j=Q[5]*Q[10]*Q[15]-Q[5]*Q[14]*Q[11]-Q[6]*Q[9]*Q[15]+Q[6]*Q[13]*Q[11]+Q[7]*Q[9]*Q[14]-Q[7]*Q[13]*Q[10],Z=-Q[4]*Q[10]*Q[15]+Q[4]*Q[14]*Q[11]+Q[6]*Q[8]*Q[15]-Q[6]*Q[12]*Q[11]-Q[7]*Q[8]*Q[14]+Q[7]*Q[12]*Q[10],F=Q[4]*Q[9]*Q[15]-Q[4]*Q[13]*Q[11]-Q[5]*Q[8]*Q[15]+Q[5]*Q[12]*Q[11]+Q[7]*Q[8]*Q[13]-Q[7]*Q[12]*Q[9],_=-Q[4]*Q[9]*Q[14]+Q[4]*Q[13]*Q[10]+Q[5]*Q[8]*Q[14]-Q[5]*Q[12]*Q[10]-Q[6]*Q[8]*Q[13]+Q[6]*Q[12]*Q[9];
return Q[0]*j+Q[1]*Z+Q[2]*F+Q[3]*_};e.U_.Re=e.U_.YH([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
e.U_.vlX=e.U_.YH([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
e.U_.vkl=e.U_.Ie(e.U_.Re);e.LM={};e.LM.IW=new Uint32Array(1);e.LM.MZ=function(Q,C,j,Z,F,_){var $=new Uint32Array(Q),L=0,D=e.LM.IW;
if(D.length<C*4)e.LM.IW=D=new Uint32Array(C*4);var d=new Float64Array(D.buffer);for(var o=0;o<C;o+=2){var v=F[o],f=F[o+1],U=_[o],H=_[o+1];
D[L]=f;d[L+2>>1]=U;D[L+1]=$[v];$[v]=L+1;L+=4;D[L]=v;d[L+2>>1]=H;D[L+1]=$[f];$[f]=L+1;L+=4}return{NB:D,vVl:d,vST:$}};
e.LM.vN=function(Q,C,j,Z,F,_,$){var L=1,D=e.LM.MZ(Q,C,j,Z,F,_),d=D.NB,o=D.vVl,v=D.vST,f=new Uint32Array(Q),U=new e.LM.jv(Q),B=1,x=0;
U.push(j);U.push(Z);var H=new e.LM.jv(Q),m=new Uint8Array(Q),Y=new Uint32Array(Q);m[j]=1;m[Z]=2;var q=new Uint32Array(Q),r=new Uint32Array(Q);
r[j]=r[Z]=0;q[j]=q[Z]=1;while(!0){var a=-1,O=0,N=1e30;while(!U.mj()&&a==-1){var i=U.top(),l=m[i],M=v[i]-1;
while(M!=-1){var z=d[M],V=m[z],X=M^l-1<<2;if(o[X+2>>1]!=0){if(V==0){e.LM.jO(i,M,z,m,Y,r,q);U.push(z)}else if(V==l&&q[z]<=q[i]&&r[z]>r[i])e.LM.jO(i,M,z,m,Y,r,q);
else if(V!=l){a=X}}M=d[M+1]-1}if(a!=-1)break;U.pop()}if(a==-1){break}B++;var y=a;while(y!=-1){f[O]=y;
O++;y=Y[d[y^4]]-1}var K=O>>1;for(var R=0;R<K;R++){var W=f[R];f[R]=f[O-R-1];f[O-R-1]=W}y=Y[d[a]]-1;while(y!=-1){f[O]=y^4;
O++;y=Y[d[y^4]]-1}for(var R=0;R<O;R++)N=Math.min(N,o[f[R]+2>>1]);x+=N;if(x>=$)return{Zb:null,lj:x};for(var R=0;
R<O;R++){var I=f[R],T=I^4,i=d[T],z=d[I];o[I+2>>1]-=N;o[T+2>>1]+=N;if(o[I+2>>1]==0&&m[i]==m[z]){if(m[i]==1){Y[z]=0;
H.push(z)}if(m[i]==2){Y[i]=0;H.push(i)}}}while(!H.mj()){var i=H.pop(),l=m[i],M=v[i]-1,h=l==1?4:0,p=0,u=0,g=1e9;
while(M!=-1){var z=d[M],A=M^4,X=M^h;if(m[z]==l&&o[X+2>>1]>0&&e.LM.vky(z,j,Z,Y,d,B,q,r)+1<g){p=z;u=A;
g=r[z]+1}M=d[M+1]-1}if(u!=0){e.LM.jO(p,u,i,m,Y,r,q);continue}M=v[i]-1;while(M!=-1){var z=d[M],X=M^h;
if(m[z]==l){if(o[X+2>>1]>0){U.push(z)}if(Y[z]==M+1){Y[z]=0;H.push(z)}}M=d[M+1]-1}m[i]=0;U.remove(i)}}var w=[];
for(var R=0;R<C;R+=2){var i=F[R],z=F[R+1];if(m[i]==1&&m[z]!=1){w.push(R>>1)}if(m[z]==1&&m[i]!=1){w.push(C+R>>1)}}return{Zb:w,lj:x}};
e.LM.jO=function(Q,C,j,Z,F,_,$){Z[j]=Z[Q];F[j]=C+1;_[j]=_[Q]+1;$[j]=$[Q]};e.LM.vky=function(Q,C,j,Z,F,_,$,L){var D=Q,d=Z[Q]-1,o=0;
while(d!=-1&&$[Q]!=_){Q=F[d^4];d=Z[Q]-1;o++}if(d==-1&&Q!=C&&Q!=j)return 1e9;var v=L[Q]+o;o=0;d=Z[D]-1;
while(D!=Q){L[D]=v-o;o++;$[D]=_;D=F[d^4];d=Z[D]-1}return v};e.LM.vly=function(Q,C,j,Z,F,_){var $=e.LM.MZ(Q,C,j,Z,F,_),L=$.NB,D=$.vVl,d=$.vST,o=0,v=0,f=new Uint32Array(Q*2),U=new e.LM.MY(Q),H=0;
while(!0){U.reset();U.push(j);for(var B=0;B<Q;B++)f[B<<1]=0;while(!U.mj()){var m=U.pop(),Y=d[m]-1;while(Y!=-1){H=L[Y];
if(f[H<<1]==0&&D[Y+2>>1]>0&&H!=j){f[H<<1]=m+1;f[(H<<1)+1]=Y;U.push(H)}Y=L[Y+1]-1}if(f[Z<<1]!=0){break}}if(f[Z<<1]==0){break}var q=1e30;
H=Z;while(!0){var r=f[H<<1]-1;if(r==-1)break;var x=f[(H<<1)+1];q=Math.min(q,D[x+2>>1]);H=r}H=Z;while(!0){var r=f[H<<1]-1;
if(r==-1)break;var x=f[(H<<1)+1],a=x^4;D[x+2>>1]-=q;D[a+2>>1]+=q;H=r}o+=q}var i=[];for(var B=0;B<C;B+=2){var r=F[B],H=F[B+1];
if((f[r<<1]!=0||r==j)&&f[H<<1]==0&&H!=j){i.push(B>>1)}if((f[H<<1]!=0||H==j)&&f[r<<1]==0&&r!=j){i.push(C+B>>1)}}return{Zb:i,lj:o}};
e.LM.MY=function(Q){Q|=Q>>1;Q|=Q>>2;Q|=Q>>4;Q|=Q>>8;Q|=Q>>16;this.Xe=new Uint32Array(Q+1);this.Qb=Q;
this.aU=0;this.aM=0};e.LM.MY.prototype={push:function(Q){var C=this.aM;this.Xe[C]=Q;this.aM=C+1&this.Qb},pop:function(){var Q=this.aU,C=this.Xe[Q];
this.aU=Q+1&this.Qb;return C},mj:function(){return this.aU==this.aM},reset:function(){this.aU=0;this.aM=0}};
e.LM.jv=function(Q){Q|=Q>>1;Q|=Q>>2;Q|=Q>>4;Q|=Q>>8;Q|=Q>>16;this.Xe=new Uint32Array(Q+1);this.Zf=new Uint32Array(Q+1);
this.Qb=Q;this.aU=0;this.aM=0};e.LM.jv.prototype={top:function(){return this.Xe[this.aU]},vlx:function(){return this.Xe[this.aM]},push:function(Q){if(this.Zf[Q]!=0)return;
this.Zf[Q]=this.aM+1;var C=this.aM;this.Xe[C]=Q;this.aM=C+1&this.Qb},pop:function(){var Q=this.aU,C=this.Xe[Q];
this.Zf[C]=0;this.aU=Q+1&this.Qb;return C},mj:function(){return this.aU==this.aM},remove:function(Q){var C=this.Zf[Q]-1;
if(C==-1)return;this.Zf[Q]=0;if(C==this.aU){this.pop();return}var j=this.pop();this.Xe[C]=j;this.Zf[j]=C+1},gI:function(Q){return Q+this.Qb+1&this.Qb}};
e.LM.Mf=function(Q,C,j){var Z=e.LM.RC(Q,C,j);if(C<Z-1)e.LM.Mf(Q,C,Z-1);if(Z<j)e.LM.Mf(Q,Z,j)};e.LM.RC=function(Q,C,j){var Z=Q[C+j>>>1];
while(C<=j){while(Q[C]<Z)C++;while(Q[j]>Z)j--;if(C<=j){e.LM.Rx(Q,C,j);C++;j--}}return C};e.LM.Rx=function(Q,C,j){var Z=Q[C];
Q[C]=Q[j];Q[j]=Z};e.Ky={};e.Ky.vkC=function(Q){for(var C=0;C<Q.length;C++)e.Ky.mC(Q,C)};e.Ky.mC=function(Q,C){Q[C].v.keyShapeInvalidated={t:"bool",v:!0}};
e.Ky.vkM=function(Q){for(var C=0;C<Q.length;C++)Q[C].v.keyOriginIndex.v=C};e.Ky.WC=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
e.Ky.MH=function(Q){Q=Q.v;var C={Rctn:2,Ln:4,Elps:5},j=C[Q.classID],Z=Q.topLeft?e.Ky.MN(Q):null,F=null,_=0;
if(j==4){var $=Q.Strt.v,L=Q.End.v;F=[$.Hrzn.v.val,$.Vrtc.v.val,L.Hrzn.v.val,L.Vrtc.v.val];_=Q.Wdth.v.val}if(j==null)return null;
return e.Ky.rU(j,j==4?null:e.Ky.jr(Q),Z,F,_)};e.Ky.fV=function(Q,C,j,Z,F,_){var $={classID:Q,unitValueQuadVersion:{t:"long",v:1}};
if(C)e.Ky.JR($,["Left","Top","Rght","Btom"],C);if(j)e.Ky.JR($,["topLeft","topRight","bottomRight","bottomLeft"],j);
if(Q=="Ln"){$.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:Z[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:Z[1]}}}},$.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:Z[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:Z[3]}}}},$.Wdth={t:"UntF",v:{type:"#Pxl",val:F}}}if(_)$.Nm={t:"TEXT",v:_};
return{t:"Objc",v:$}};e.Ky.rU=function(Q,C,j,Z,F){var _=e.Ky.WC(),$=_.v;delete $.keyShapeInvalidated;
$.keyOriginType={t:"long",v:Q};$.keyOriginResolution={t:"doub",v:75};if(Q==4){$.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:Z[0]},Vrtc:{t:"doub",v:Z[1]}}};
$.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:Z[2]},Vrtc:{t:"doub",v:Z[3]}}};C=[Math.min(Z[0],Z[2]),Math.min(Z[1],Z[3]),Math.max(Z[0],Z[2]),Math.max(Z[1],Z[3])];
$.keyOriginLineWeight={t:"doub",v:F},$.keyOriginLineArrowSt={t:"bool",v:!1};$.keyOriginLineArrowEnd={t:"bool",v:!1};
$.keyOriginLineArrWdth={t:"doub",v:0};$.keyOriginLineArrLngth={t:"doub",v:0};$.keyOriginLineArrConc={t:"long",v:0}}var L={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
$.keyOriginShapeBBox={t:"Objc",v:L};e.Ky.jt($,C);if(j!=null){var D={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
$.keyOriginRRectRadii={t:"Objc",v:D};e.Ky.jj($,j)}return _};e.Ky.M=function(Q,C,j,Z){var F=e.V.Mj(C),_=e.V.MR(C),$=Math.max(Math.abs(C[0]),Math.abs(C[1])),L=Math.max(Math.abs(C[3]),Math.abs(C[4]));
for(var D=0;D<Q.length;D++){var d=Q[D].v,o=d.keyShapeInvalidated;if(o&&o.v||d.keyOriginType==null)continue;
if(j.length!=0&&j.indexOf(D)==-1)continue;var v=d.keyOriginType.v;if(!F||!_||Z&&v==2&&Math.abs(1-$/L)>.01){e.Ky.mC(Q,D);
continue}var f=e.Ky.mc(d);e.V.apply(C,f);e.Ky.jt(d,[Math.min(f[0],f[2]),Math.min(f[1],f[3]),Math.max(f[0],f[2]),Math.max(f[1],f[3])]);
if(v==2){var U=e.Ky.jR(d),H=new rI(C[0],C[1],C[3],C[4],0,0);H.SL();if(H.om==0){U.push(U.shift());H.rotate(Math.PI/2);
H.SL()}if(H.om<0){var B=U[0];U[0]=U[1];U[1]=B;B=U[2];U[2]=U[3];U[3]=B}if(H.xP<0){var B=U[0];U[0]=U[3];
U[3]=B;B=U[1];U[1]=U[2];U[2]=B}if(Z)for(var m=0;m<4;m++)U[m]=U[m]*$;e.Ky.jj(d,U)}if(v==4){d.keyOriginLineWeight.v*=$;
var Y=e.Ky.Mw(d);e.V.apply(C,Y);e.Ky.vJJ(d,Y)}}};e.Ky.mY=function(Q,C){var j=C.G;for(var Z=0;Z<Q.length;
Z++){var F=Q[Z].v,_=F.keyShapeInvalidated,f;if(_&&_.v||F.keyOriginType==null)continue;var $=F.keyOriginType.v,L=e.Ky.mc(F),D=L[0],d=L[1],o=L[2],v=L[3];
if($==1)f=e.D._K.Rect(D,d,o-D,v-d,0);else if($==2){var U=e.Ky.jR(F);f=e.D._K.Rect(D,d,o-D,v-d,U)}else if($==4){var H=e.Ky.Mw(F);
f=e.D._K.Id(H[0],H[1],H[2],H[3],F.keyOriginLineWeight.v)}else if($==5)f=e.D._K.Cm(D,d,o-D,v-d);var B=e.D.Jj(j,Z),m=e.D.jn(j,Z);
f[2].rh=j[B].rh;var Y=j;j=j.slice(0,B);for(var q=2;q<f.length;q++)j.push(f[q]);for(var q=B+m;q<Y.length;
q++)j.push(Y[q])}C.G=j;C.CZ=!0};e.Ky.xT=function(Q){var C=1e9,j=-C,Z=1e9,F=-Z,_=null,$=Q.Uh(),L=$[0],D=$[1];
for(var d=0;d<D.length;d++){var o=L[D[d]],v=o.add.vogk;if(v==null)continue;var f=o.add.vmsk.H;for(var U=0;
U<v.length;U++){var H=v[U].v,B=H.keyShapeInvalidated;if(B&&B.v||H.keyOriginType==null)continue;if(D.length==1&&f.length!=0&&f.indexOf(U)==-1)continue;
var m=H.keyOriginType.v;if(m!=4){var Y=e.Ky.mc(H);C=Math.min(C,Y[0]);Z=Math.min(Z,Y[1]);j=Math.max(j,Y[2]);
F=Math.max(F,Y[3])}if(m==2&&_==null){_=e.Ky.jR(H)}}}return[C<j?[C,Z,j,F]:null,_]};e.Ky.vJl=function(Q,C,j){var Z=e.Ky.xT(Q)[0],F;
if(Z){var _=new rI;_.translate(-Z[0],-Z[1]);_.scale(1/(Z[2]-Z[0]),1/(Z[3]-Z[1]));_.scale(C[2]-C[0],C[3]-C[1]);
_.translate(C[0],C[1]);F=e.V.ij(_)}var $=Q.Uh(),L=$[0],D=$[1];for(var d=0;d<D.length;d++){var o=L[D[d]],v=o.add.vogk;
if(v==null)continue;var f=o.add.vmsk.H;for(var U=0;U<v.length;U++){var H=v[U].v,B=H.keyShapeInvalidated;
if(B&&B.v||H.keyOriginType==null)continue;if(D.length==1&&f.length!=0&&f.indexOf(U)==-1)continue;var m=H.keyOriginType.v;
if(m!=4&&C[0]!=null){var C=e.Ky.mc(H);e.V.apply(F,C);e.Ky.jt(H,C)}if(m==2&&j!=null){e.Ky.jj(H,j)}}}};
e.Ky.mc=function(Q){return e.Ky.jr(Q.keyOriginShapeBBox.v)};e.Ky.jr=function(Q){var C=Q.Left.v.val,j=Q.Rght.v.val,Z=Q.Top.v.val,F=Q.Btom.v.val;
return[C,Z,j,F]};e.Ky.jt=function(Q,C){e.Ky.JR(Q.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],C)};
e.Ky.jR=function(Q){return e.Ky.MN(Q.keyOriginRRectRadii.v)};e.Ky.MN=function(Q){var C=[],j=["topLeft","topRight","bottomRight","bottomLeft"];
for(var Z=0;Z<4;Z++)C.push(Q[j[Z]].v.val);return C};e.Ky.jj=function(Q,C){e.Ky.JR(Q.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],C)};
e.Ky.JR=function(Q,C,j){for(var Z=0;Z<4;Z++)if(j[Z]!=null)Q[C[Z]]={t:"UntF",v:{type:"#Pxl",val:j[Z]}}};
e.Ky.Mw=function(Q){var C=Q.keyOriginLineStart.v,j=Q.keyOriginLineEnd.v;return[C.Hrzn.v,C.Vrtc.v,j.Hrzn.v,j.Vrtc.v]};
e.Ky.vJJ=function(Q,C){var j=Q.keyOriginLineStart.v,Z=Q.keyOriginLineEnd.v;j.Hrzn.v=C[0];j.Vrtc.v=C[1];
Z.Hrzn.v=C[2];Z.Vrtc.v=C[3]};e.g={};e.g.clone=function(Q){return{u:Q.u.slice(0),b:Q.b.slice(0)}};e.g.MA=function(Q){if(Q.length<6)return!0;
var C=Q.length-4;for(var j=0;j<C;j+=2)if(!e.g.jq(Q[j],Q[j+1],Q[j+2],Q[j+3],Q[j+4],Q[j+5]))return!1;if(!e.g.jq(Q[C],Q[C+1],Q[C+2],Q[C+3],Q[0],Q[1]))return!1;
if(!e.g.jq(Q[C+2],Q[C+3],Q[0],Q[1],Q[2],Q[3]))return!1;return!0};e.g.jq=function(Q,C,j,Z,F,_){return(C-Z)*(F-j)+(j-Q)*(_-Z)>=0};
e.g.ji=function(Q){var C={},j=null,Z=0,F={M:2,L:2,Q:4,C:6};for(var _=0;_<Q.u.length;_++){var $=Q.u[_];
if($.charAt(0)=="#"){if(C[$]==null)C[$]={b:[],u:[]};j=C[$]}else if($!="X"){j.u.push($);var L=F[$];if(L==null)L=0;
for(var D=0;D<L;D++)j.b.push(Q.b[Z+D]);Z+=L}}return C};e.g.er=function(Q,C){Q=e.g.Dv(Q);var j=Q.b,Z=Q.u,F=0,_=[],$=null;
for(var L=0;L<Z.length;L++){var D=Z[L];if(D=="M"){$={vSA:F,Vv:0,Nx:!1};_.push($);F+=2}if(D=="C"){$.Vv++;
F+=6}if(D=="Z"){$.Nx=!0}}var d=[];for(var L=0;L<_.length;L++)if(_[L].Vv!=0)d.push(_[L]);_=d;for(var L=0;
L<_.length;L++){var o=_[L],v=o.vSA,f=v+2+o.Vv*6,H=0;o.LT=e.g.NM(j,v,f);var U=j[v]==j[f-2]&&j[v+1]==j[f-1];
for(var B=0;B<o.Vv;B++){var m=v+B*6,Y=m+6;H+=(j[Y]-j[m])*(j[Y+1]+j[m+1])}if(o.Vv==2){var q=function(w,r$,rW){var J=1-rW;
return J*J*J*w[r$]+3*J*J*rW*w[r$+2]+3*J*rW*rW*w[r$+4]+rW*rW*rW*w[r$+6]},r=j[v],x=j[v+1],a=j[v+6],i=j[v+7],l=j[v+6],M=j[v+7],z=q(j,v,.5),V=q(j,v+1,.5),X=q(j,v+6,.5),O=q(j,v+7,.5);
H=(z-r)*(V-x)+(a-z)*(i-V)+(X-a)*(O-i)+(l-X)*(M-O)}if(!U)H+=(j[v]-j[f-2])*(j[v+1]+j[f-1]);o.NF=H<=0}for(var L=0;
L<_.length-1;L++)for(var m=L+1;m<_.length;m++){var y=_[L],K=_[m];if(K.LT.yt(y.LT)){_[L]=K;_[m]=y}}var R=_.length==0?!0:_[0].NF,W=[{type:6},{type:8,all:0}];
for(var L=0;L<_.length;L++){var o=_[L],v=o.vSA,f=v+2+o.Vv*6,U=j[v]==j[f-2]&&j[v+1]==j[f-1],N=o.Nx||U?0:3,I=o.NF==R&&!C?1:0;
if(!C&&L!=0){if(_[L-1].LT.yt(o.LT)&&_[L-1].NF!=o.NF)I=0;for(var m=0;m<_.length;m++)if(m!=L&&_[m].LT.yt(o.LT))I=0}W.push({type:N,length:o.Vv+(U?0:1),rh:I,Vy:2});
for(var m=0;m<o.Vv;m++){var F=v+m*6,T=new Wn(j[F],j[F+1]),h=new Wn(j[F+2],j[F+3]),p;if(m==0){if(U)p=new Wn(j[f-4],j[f-3]);
else p=T.clone()}else p=new Wn(j[F-2],j[F-1]);W.push({type:N+2,$_:p,d:T,jk:h})}if(!U){var u=new Wn(j[f-2],j[f-1]);
W.push({type:N+2,$_:new Wn(j[f-4],j[f-3]),d:u,jk:u.clone()})}}for(var m=0;m<W.length;m++){var g=W[m];
if(g.type>5||g.type==0||g.type==3)continue;var A=g.$_.gm(g.d)||g.jk.gm(g.jk);if(!A){var y=g.$_.x*(g.d.y-g.jk.y)+g.d.x*(g.jk.y-g.$_.y)+g.jk.x*(g.$_.y-g.d.y);
if(Math.abs(y)<1e-6)A=!0}if(A)g.type--}return W};e.g.eV=function(){function Q(Z,F,_,$){if(!$&&Z.jk.gm(Z.d)&&F.$_.gm(F.d)){_.b.push(F.d.x,F.d.y);
_.u.push("L")}else{_.b.push(Z.jk.x,Z.jk.y,F.$_.x,F.$_.y,F.d.x,F.d.y);_.u.push("C")}}function C(Z,F,_,$,L,D){var d=F[_];
Z.b.push(d.d.x,d.d.y);Z.u.push("M");for(var o=_;o<_+$-1;o++)Q(F[o],F[o+1],Z,D);if(!L)Q(F[o],F[_],Z,D)}function j(Z,F){if(F==null)F=!1;
var _={b:[],u:[]};for(var $=0;$<Z.length;$++){if(Z[$].type>5)continue;var L=Z[$].length;if(L==0)continue;
if($==Z.length-1)break;var D=Z[$].type==3;C(_,Z,$+1,L,D,F);if(!D)_.u.push("Z");$+=L}return _}return j}();
e.g.vgv=function(Q){var C=Q.b,j=[],Z,F=0;for(var _=0;_<Q.u.length;_++){var $=Q.u[_];if($=="C"){Z.push(C[F++],C[F++],C[F++],C[F++],C[F++],C[F++])}else if($=="Z"){}else{Z=[];
if($!="M"){Z.push($);_++}Z.push(C[F++],C[F++]);j.push(Z)}}return j};e.g.y$=function(Q,C,j,Z){if(Z==null)Z=1e9;
var F=1e9,_=0;for(var $=0;$<Q.length;$+=2){var L=C-Q[$],D=j-Q[$+1],d=L*L+D*D;if(d<F){F=d;_=$>>>1}}return F<Z*Z?_:-1};
e.g.jg=function(Q,C,j,Z){for(var F=0;F<Q.length;F+=2){var _=Q[F],$=Q[F+1],L=C[F],D=C[F+1];j[F]=_+(L-_)*Z;
j[F+1]=$+(D-$)*Z}};e.g.M=function(Q,C,j){for(var Z=0;Z<Q.length;Z+=2){var F=Q[Z],_=Q[Z+1];j[Z]=F*C.om+_*C.ug+C._Y;
j[Z+1]=F*C._+_*C.xP+C.Rf}};e.g.NM=function(Q,C,j){if(C==null)C=0;if(j==null)j=Q.length;var Z=99999999999,F=-Z,_=99999999999,$=-_;
for(var L=C;L<j;L+=2){var D=Q[L],d=Q[L+1];Z=Math.min(Z,D);_=Math.min(_,d);F=Math.max(F,D);$=Math.max($,d)}return new s(Z,_,F-Z,$-_)};
e.g.MU=function(Q,C){var j=Math.max(C.x,Math.min(C.x+C.W,Q.x)),Z=Math.max(C.y,Math.min(C.y+C.C,Q.y)),F=Q.x-j,_=Q.y-Z;
return Math.sqrt(F*F+_*_)};e.g.fx=function(Q){if(Q.jJ())return new s(Math.floor(Q.x),Math.floor(Q.y),Math.ceil(Q.W),Math.ceil(Q.C));
var C=Math.floor(Q.x),j=Math.ceil(Q.x+Q.W),Z=Math.floor(Q.y),F=Math.ceil(Q.y+Q.C);return new s(C,Z,j-C,F-Z)};
e.g.eI=function(Q){return e.g.fx(e.g.NM(Q))};e.g.iq=function(Q){var C=Q.x,j=Q.y,Z=Q.x+Q.W,F=Q.y+Q.C;
return{u:["M","L","L","L","Z"],b:[C,j,Z,j,Z,F,C,F]}};e.g.concat=function(Q,C,j){if(j==null)j=new rI;
for(var Z=0;Z<C.b.length;Z+=2){var F=C.b[Z],_=C.b[Z+1];Q.b.push(F*j.om+_*j.ug+j._Y);Q.b.push(F*j._+_*j.xP+j.Rf)}for(var Z=0;
Z<C.u.length;Z++)Q.u.push(C.u[Z])};e.g.Dv=function(Q){var C=Q.b,j=[],Z=[],F=0,_=0,$=0,L=0,D=0,d=0,o=0,v=0,f=0;
for(var U=0;U<Q.u.length;U++){var H=Q.u[U];if(H=="M"){_=C[F];$=C[F+1];F+=2;Z.push(H);j.push(_,$)}else if(H=="C"){L=C[F];
D=C[F+1];d=C[F+2];o=C[F+3];v=C[F+4];f=C[F+5];F+=6;Z.push(H);j.push(L,D,d,o,v,f);_=v;$=f}else if(H=="Q"){L=C[F];
D=C[F+1];d=C[F+2];o=C[F+3];F+=4;var B=L-_,m=D-$,Y=d-L,q=o-D;Z.push("C");j.push(_+2/3*B,$+2/3*m,L+1/3*Y,D+1/3*q,d,o);
_=d;$=o}else if(H=="L"){L=C[F];D=C[F+1];F+=2;var r=L-_,x=D-$;Z.push("C");j.push(_,$,L,D,L,D);_=L;$=D}else Z.push(H)}return{u:Z,b:j}};
e.g.vJE=function(Q){var C=Q.b,j=[],Z=[],F=0;for(var _=0;_<Q.u.length;_++){var $=Q.u[_];if($=="Q"){var L=C[F-2],D=C[F-1],d=C[F],o=C[F+1],v=C[F+2],f=C[F+3];
F+=4;var U=d-L,H=o-D,B=v-d,m=f-o;Z.push("C");j.push(L+2/3*U,D+2/3*H,d+1/3*B,o+1/3*m,v,f)}else{var Y=0;
if($=="M"||$=="L")Y=2;else if($=="C")Y=6;for(var q=0;q<Y;q++)j.push(C[F+q]);F+=Y;Z.push($)}}return{u:Z,b:j}};
e.g.D$=function(Q,C){var j=Q.b,Z=[],F=[],_=0,$=0,L=0,D=0,d=0,o=0,v=0,f=0,U=0;for(var H=0;H<Q.u.length;
H++){var B=Q.u[H];if(B=="M"){$=j[_];L=j[_+1];_+=2;F.push(B);Z.push($,L)}else if(B=="C"){D=j[_];d=j[_+1];
o=j[_+2];v=j[_+3];f=j[_+4];U=j[_+5];_+=6;e.g.jV($,L,D,d,o,v,f,U,C,F,Z,0);$=f;L=U}else F.push(B)}return{u:F,b:Z}};
e.g.jV=function(Q,C,j,Z,F,_,$,L,D,d,o,v){var f=Math.sqrt(($-Q)*($-Q)+(L-C)*(L-C)),U=Math.sqrt(($-F)*($-F)+(L-_)*(L-_))+Math.sqrt((F-j)*(F-j)+(_-Z)*(_-Z))+Math.sqrt((j-Q)*(j-Q)+(Z-C)*(Z-C)),H=(f+U)/2;
if(H<=D){d.push("C");o.push(j,Z,F,_,$,L)}else{var B=0,m=0,Y=0,q=0,r=0,x=0,a=0,i=0,l=0,M=0,z=0,V=0,X=0;
m=(Q+j)/2;Y=(C+Z)/2;q=(j+F)/2;r=(Z+_)/2;x=(F+$)/2;a=(_+L)/2;i=(m+q)/2;l=(Y+r)/2;M=(q+x)/2;z=(r+a)/2;
V=(i+M)/2;X=(l+z)/2;e.g.jV(Q,C,m,Y,i,l,V,X,D,d,o,v+1);e.g.jV(V,X,M,z,x,a,$,L,D,d,o,v+1)}};e.g.jp=function(Q,C){var j=Q.length-2,Z=Q[0],F=Q[1],_=Q[j],$=Q[j+1],L=_-Z,D=$-F,d=1/Math.sqrt(L*L+D*D),o=_*F-$*Z,v=-1,f=-1;
for(var U=2;U<j;U+=2){var H=Q[U],B=Q[U+1],m=Math.abs(D*H-L*B+o)*d;if(m>f){f=m;v=U}}if(f<C)return[Z,F,_,$];
var Y=e.g.jp(Q.slice(0,v+2),C),q=e.g.jp(Q.slice(v),C);for(var U=2;U<q.length;U++)Y.push(q[U]);return Y};
e.g.vJZ=function(){var Q=function(Z,F,_,$,L,D){return(F-$)*(L-_)+(_-Z)*(D-$)>=0},C=function(Z,F,_,$,L,D,d,o){var v=d-_,f=o-$,U=L-_,H=D-$,B=Z-_,m=F-$,Y=v*v+f*f,q=v*U+f*H,r=v*B+f*m,x=U*U+H*H,a=U*B+H*m,i=1/(Y*x-q*q),l=(x*r-q*a)*i,M=(Y*a-q*r)*i;
return l>=0&&M>=0&&l+M<1},j=function(Z){var F=Z.length>>>1,L=0;if(F<3)return[];var _=[],$=[];for(var L=0;
L<F;L++)$.push(L);var D=F;while(D>3){var d=$[(L+0)%D],o=$[(L+1)%D],v=$[(L+2)%D],f=Z[2*d],U=Z[2*d+1],H=Z[2*o],B=Z[2*o+1],m=Z[2*v],Y=Z[2*v+1],q=!1;
if(Q(f,U,H,B,m,Y)){q=!0;for(var r=0;r<D;r++){var x=$[r];if(x==d||x==o||x==v)continue;if(C(Z[2*x],Z[2*x+1],f,U,H,B,m,Y)){q=!1;
break}}}if(q){_.push(d,o,v);$.splice((L+1)%D,1);D--;L=0}else if(L++>3*D)break}_.push($[0],$[1],$[2]);
return _};return j}();e.g.vIt=function(Q,C){var j={},Z={u:[],b:[]};for(var F=0;F<C.length;F+=3){var _=C[F]*2,$=C[F+1]*2,L=C[F+2]*2;
e.g.js(Q,_,$,Z,j);e.g.js(Q,_,L,Z,j);e.g.js(Q,$,L,Z,j)}return Z};e.g.js=function(Q,C,j,Z,F){if(C>j){var _=j;
j=C;C=_}if(F[C+","+j])return;F[C+","+j]=!0;Z.u.push("M","L");Z.b.push(Q[C],Q[C+1],Q[j],Q[j+1])};e.g.Mn=function(Q,C){var j=[],Z=Q.length;
for(var F=0;F<Z;F+=2){var _=Q[F],$=Q[F+1],L=Q[(F+2)%Z],D=Q[(F+3)%Z];if(D<$){var d=$;$=D;D=d}if($<C&&C<D){var o=(C-$)/(D-$);
j.push(_+o*(L-_))}}j.sort(function(v,f){return v-f});return j};e.g.vIe=function(Q,C){var j=C.slice(0),Z=Q.length/2,F=[],_=[];
for(var $=0;$<Z;$++){var L=($+1)%Z,D=Q[2*$]-Q[2*L],d=Q[2*$+1]-Q[2*L+1];_[$]=Math.sqrt(D*D+d*d)}for(var $=0;
$<Z;$++){var o=($-1+Z)%Z,L=($+1)%Z,v=C[$],f=v+C[o],U=v+C[L];if(f!=0)j[$]=Math.min(j[$],_[o]*v/f);if(U!=0)j[$]=Math.min(j[$],_[$]*v/U)}for(var $=0;
$<Z;$++){var L=($+1)%Z,H=($+2)%Z,B=j[$],m=j[L],Y=Q[2*$],q=Q[2*$+1],r=Q[2*L],x=Q[2*L+1],a=Q[2*H],i=Q[2*H+1],l=_[$],M=_[L],z=e.g.Dp(Y,q,r,x,a,i,B,m,l,M);
F.push(z[0],z[1],z[0],z[1],z[2],z[3]);F.push(z[2],z[3],z[4],z[5],z[6],z[7])}return F};e.g.Dp=function(Q,C,j,Z,F,_,$,L,D,d){if(D==null)D=Math.sqrt((j-Q)*(j-Q)+(Z-C)*(Z-C));
if(d==null)d=Math.sqrt((F-j)*(F-j)+(_-Z)*(_-Z));var o=.553,v=0,f=0,U=0,H=0;if(D!=0){v=(j-Q)/D;f=(Z-C)/D}if(d!=0){U=(F-j)/d;
H=(_-Z)/d}var B=Q+$*v,m=C+$*f,Y=j-L*v,q=Z-L*f;return[B,m,Y,q,j-L*v*(1-o),Z-L*f*(1-o),j+L*U*(1-o),Z+L*H*(1-o),j+L*U,Z+L*H]};
e.yW=function(){};e.yW.vL=function(Q,C,j,Z,F){var _=j.W,$=j.C,L=_*$,D=new Int32Array(L),d=0;for(var o=0;
o<L;o++)if(C[o]!=0){D[o]=d;d++}else if(Q[(o<<2)+3]<200){D[o]=-2}else D[o]=-1;if(d==0)return;var v=new e.xr(d,d),f=new Array(3*d),U=new Array(3*d);
for(var o=0;o<U.length;o++)U[o]=f[o]=0;var H=1/255,B=[-_,-1,1,_],m=[],Y=[];for(var q=0;q<$;q++)for(var r=0;
r<_;r++){var x=q*_+r,a=x<<2,o=D[x],i=o*3,l=0,M=0,z=0;if(o==-1||o==-2)continue;for(var V=0;V<4;V++){if(V==2){M=z;
m[z]=0;Y[z]=o;z++}var X=x+B[V],O=X<<2,y=D[X];if(V==0&&q==0||V==1&&r==0||V==2&&r==_-1||V==3&&q==$-1||y==-2)continue;
l++;if(y==-1){f[i+0]+=Q[O+0];f[i+1]+=Q[O+1];f[i+2]+=Q[O+2]}else{m[z]=-1;Y[z]=y;z++;if(C[x]==C[X]){f[i+0]+=Q[a+0]-Q[O+0];
f[i+1]+=Q[a+1]-Q[O+1];f[i+2]+=Q[a+2]-Q[O+2]}}}m[M]=l;v.Hu(m,Y,z)}for(var o=0;o<L;o++)if(D[o]!=-1){var K=o<<2,R=D[o],W=R*3;
U[W]=Q[K+0];U[W+1]=Q[K+1];U[W+2]=Q[K+2]}var N=Date.now();v.vdV(U,f,Z,F);console.log(Date.now()-N);for(var o=0;
o<L;o++){var R=D[o],I=R*3,K=o<<2;if(R==-1||Q[K+3]!=255)continue;Q[K+0]=~~(.5+Math.max(0,Math.min(255,U[I+0])));
Q[K+1]=~~(.5+Math.max(0,Math.min(255,U[I+1])));Q[K+2]=~~(.5+Math.max(0,Math.min(255,U[I+2])))}};e.rect={};
e.rect.Da=function(Q,C){var j=[Q],Z=[];for(var F=0;F<C.length;F++){var _=C[F],$=!1;for(var L=F+1;L<C.length;
L++){var D=C[L];if(D[0]<=_[0]&&D[1]<=_[1]&&_[2]<=D[2]&&_[3]<=D[3]){$=!0;break}}if(!$)Z.push(_)}C=Z;for(var F=0;
F<C.length;F++){var _=C[F];for(var L=0;L<j.length;L++){var D=j[L],d=Math.max(_[0],D[0]),o=Math.min(_[2],D[2]),v=Math.max(_[1],D[1]),f=Math.min(_[3],D[3]);
if(d<o&&v<f){var U=[];if(D[1]<_[1]){var H=D.slice(0);H[3]=_[1];U.push(H)}if(D[0]<_[0]){var B=D.slice(0);
B[1]=v;B[2]=_[0];U.push(B)}if(_[2]<D[2]){var m=D.slice(0);m[1]=v;m[0]=_[2];U.push(m)}if(_[3]<D[3]){var Y=[d,f,o,D[3]];
U.push(Y)}if(U.length!=0){j[L]=U[0];for(var q=1;q<U.length;q++)j.push(U[q])}}}j.push(_);j=e.rect.vpv(j)}j.sort(function(_,D){return _[1]!=D[1]?_[1]-D[1]:_[0]-D[0]});
return j};e.rect.vpv=function(Q){Q=Q.slice(0);for(var C=0;C<Q.length;C++){var j=Q[C],Z=null;if(j[4]!=null)continue;
for(var F=0;F<Q.length;F++){var _=Q[F];if(C==F||_[4]!=null)continue;var $=j[0]==_[0],L=j[1]==_[1],D=j[2]==_[2],d=j[3]==_[3];
if(L&&d&&(j[2]==_[0]||j[0]==_[2])){Z=[Math.min(j[0],_[0]),j[1],Math.max(j[2],_[2]),j[3]]}if($&&D&&(j[3]==_[1]||j[1]==_[3])){Z=[j[0],Math.min(j[1],_[1]),j[2],Math.max(j[3],_[3])]}if(Z){Q[C]=Z;
Q.splice(F,1);break}}if(Z){C--}}return Q};e.rect.yR=function(Q){var C=new s;for(var j=0;j<Q.length;j++)C=C.fJ(Q[j]);
return C};e.rect.vpW=function(Q,C){var j=e.rect.yR,Z=new UnionFind(Q.length),z=1e3,V=1e3;for(var F=0;
F<Q.length;F++)for(var _=F+1;_<Q.length;_++){if(!C)continue;var $=Q[F],L=Q[_],f=1e9,U=1e9;if($.nY(L)){Z.link(F,_);
continue}var D=$.x+$.W,d=$.y+$.C,o=L.x+L.W,v=L.y+L.C;if((D<L.x||o<$.x)&&(d<L.y||v<$.y))continue;if(!(d<L.y||v<$.y))f=Math.min(Math.abs(D-L.x),Math.abs($.x-o));
if(!(D<L.x||o<$.x))U=Math.min(Math.abs(d-L.y),Math.abs($.y-v));var B=Math.min(f,U),m=Math.min($.W,$.C,L.W,L.C);
if(B<.3*m)Z.link(F,_)}var q=[],r={};for(var F=0;F<Q.length;F++){var x=Z.find(F),a=Q[F];if(r[x]==null){r[x]=q.length;
q.push([])}q[r[x]].push(a)}var i=[],l=[];for(var F=0;F<q.length;F++){i.push(j(q[F]));var M=j(q[F]);M.gI=F;
l.push(M)}l.sort(function(h,p){return Math.max(p.C,p.W)-Math.max(h.C,h.W)});var X=new NETXUS.RectanglePacker(z,V);
while(!0){var O=!1;X.reset(z,V);for(var F=0;F<l.length;F++){var y=X.findCoords(l[F].W,l[F].C);if(y){l[F].x=y.x;
l[F].y=y.y}else{z=Math.floor(z*1.1);V=Math.floor(V*1.1);O=!0;break}}if(O)continue;break}for(var F=0;
F<q.length;F++){var K=l[F],R=K.gI,W=i[R],N=q[R],I=K.x-W.x,T=K.y-W.y;for(var _=0;_<N.length;_++)N[_].offset(I,T)}};
e.oD=function(){};e.oD.h$=Math.floor(16*window.devicePixelRatio);e.oD.jd={};e.oD.fw=0;e.oD.D_=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
e.oD.vpt=["px","in","cm","mm","%"];e.oD.De=function(Q,C,j){var Z=C.zn,F=[1,Z,Z/2.54,Z/25.4,C.W/100][j];
return Q*F};e.oD.ef=function(Q,C,j,Z,F){var _=j.ZD.xc,$=[1,C,C/2.54,C/25.4,Z/100][_],L=[2,3,2,1,2][_];
Q=Q/$;var D=Math.round(Q),d=_==0&&Math.abs(Q-D)<1e-6?D+"":Q.toFixed(L);if(F)d+=" "+e.oD.vpt[_];return d};
e.oD.vpj=function(Q,C,j,Z){var F=j.ZD.xc,_=[1,C,C/2.54,C/25.4,Z/100][F];Q=parseFloat(Q)*_;return Q};
e.oD.vpz=function(Q,C){var j=Math.round(e.oD.h$*.5);e.oD.fw=j;var Z=document.createElement("canvas");
Z.width=Z.height=j;var F=Z.getContext("2d");F.font=j*1.5+"px monospace";var _="0 1 2 3 4 5 6 7 8 9 -".split(" ");
for(var $=0;$<_.length;$++){F.fillStyle="#"+e.vY(C);F.fillRect(0,0,j,j);F.fillStyle="#"+e.vY(Q);F.fillText(_[$],0,j);
e.oD.jd[_[$]]=F.getImageData(0,0,j,j).data}};e.oD.vpZ=function(Q,C,j){var Z=0,F=0,_=4*e.oD.h$;for(var $=9;
$>=0;$--){var L=Math.pow(10,$);if(5*L*Q<=_){Z=5*L;F=10;break}if(2*L*Q<=_){Z=2*L;F=4;break}if(1*L*Q<=_){Z=1*L;
F=10;break}}if(Z==0){Z=1;F=10}var D=Math.ceil(Z*Q),d=e.Q(D*e.oD.h$*4);e.kM(d,4278190080|j);for(var $=0;
$<e.oD.h$;$++)e.oD.jB(d,4*$*D,C);for(var $=0;$<D;$++)e.oD.jB(d,4*((e.oD.h$-1)*D+$),C);if(Z==2)F=2;if(Z==5)F=5;
if(Z>1||Z==1&&D>20)for(var $=1;$<F;$++)e.oD.vpe(d,$*(D/F),D,($&1)==1?.8:.7,C);return{WV:d,step:Z}};e.oD.vpe=function(Q,C,j,Z,F){var C=Math.round(C);
for(var _=Math.round(e.oD.h$*Z);_<e.oD.h$-1;_++)e.oD.jB(Q,4*(_*j+C),F)};e.oD.jB=function(Q,C,j){Q[C+0]=j>>16&255;
Q[C+1]=j>>8&255;Q[C+2]=j&255};e.oD.vsO=function(Q,C,j){var Z=C&255,F=C>>8&255,_=C>>16&255,Y,q,r,x;C=Math.round(Z*.6)<<16|Math.round(F*.6)<<8|Math.round(_*.6);
e.oD.vpz(Math.round(Z*.8)<<16|Math.round(F*.8)<<8|Math.round(_*.8),j);var $=this.vpZ(Q.l,C,j),L=Q.gx(0,0),D=Q.gx(Q.L.W,Q.L.C),d=Math.floor(L.x/$.step)*$.step,o=Math.ceil(D.x/$.step)*$.step,v=Math.floor(L.y/$.step)*$.step,f=Math.ceil(D.y/$.step)*$.step,U=Q.Br(d,v),H=Q.Br(o,v),B=$.step*Q.l,m=Math.ceil(B);
Y=Q.ZA.data;q=new s(0,0,Q.L.W,e.oD.h$);r=new s(0,0,m,e.oD.h$);x=new s(0,Math.round(e.oD.h$*.08),e.oD.fw,e.oD.fw);
for(var a=0;a<(o-d)/$.step;a++){r.x=Math.round(U.x+a*B);e.tW($.WV,r,Y,q,r);var i=(d+a*$.step).toString(10);
for(var l=0;l<i.length;l++){x.x=r.x+3+l*Math.round(e.oD.fw*.8);var M=e.oD.jd[i[l]];e.tW(M,x,Y,q,x)}}var z=new Uint32Array($.WV.buffer),V=new Uint32Array($.WV.length);
for(var X=0;X<m;X++)for(var O=0;O<e.oD.h$;O++){V[X*e.oD.h$+O]=z[O*m+X]}$.WV=new Uint8Array(V.buffer);
Y=Q.lc.data;q=new s(0,0,e.oD.h$,Q.L.C);r=new s(0,0,e.oD.h$,m);x=new s(Math.round(e.oD.h$*.2),0,e.oD.fw,e.oD.fw);
for(var a=0;a<(f-v)/$.step;a++){r.y=Math.round(U.y+a*B);e.tW($.WV,r,Y,q,r);var i=Math.abs(v+a*$.step).toString(10);
for(var l=0;l<i.length;l++){x.y=r.y+3+l*Math.round(e.oD.fw*1.15);var M=e.oD.jd[i[l]];e.tW(M,x,Y,q,x)}}};
e.scale={};e.scale.bn=document.createElement("canvas");e.scale.Dn=e.scale.bn.getContext("2d");e.scale.vsz=document.createElement("canvas");
e.scale.vgD=e.scale.vsz.getContext("2d");e.scale.eM=function(Q,C,j){var Z=e.scale.bn,F=e.scale.Dn;Z.width=C;
Z.height=j;var _=new ImageData(new Uint8ClampedArray(Q.buffer),C,j);F.putImageData(_,0,0);return F.createPattern(Z,"repeat")};
e.scale.vgK=function(Q,C,j,Z,F,_,$,L){var D=e.scale.DA(Q,j,Z,F,_,$,L);e.oM(D.data,C)};e.scale.vsk=function(Q,C,j,Z,F,_,$,L){var D=e.scale.DA(Q,j,Z,F,_,$,L);
e.W_(D.data,C)};e.scale.DA=function(Q,C,j,Z,F,_,$){var L=e.scale.bn,D=e.scale.Dn;L.width=C;L.height=j;
D.rect(0,0,C,j);D.translate(_,$);D.scale(Z,F);D.fillStyle=Q;D.fill();return D.getImageData(0,0,C,j)};
e.scale.yT=function(Q,C,j,Z,F,_,$){if($<1)e.scale.vsm(Q,C,j,Z,F,_,Math.round(1/$));else e.scale.vsd(Q,C,j,Z,F,_,$)};
e.scale.IQ=function(Q,C,j,Z,F,_,$,L){if(L)L=L.QU(new s(0,0,C,j));Q=new Uint32Array(Q.buffer);Z=new Uint32Array(Z.buffer);
if($<1)e.scale.vED(Q,C,j,Z,F,_,Math.round(1/$),L);else e.scale.vsY(Q,C,j,Z,F,_,$)};e.scale.vsd=function(Q,C,j,Z,F,_,$){for(var L=0;
L<j;L++)for(var D=0;D<C;D++){var d=Q[L*C+D],o=Math.min($,F-D*$),v=Math.min($,_-L*$);for(var f=0;f<v;
f++)for(var U=0;U<o;U++)Z[($*L+f)*F+$*D+U]=d}};e.scale.vsm=function(Q,C,j,Z,F,_,$){for(var L=0;L<_;L++)for(var D=0;
D<F;D++){var d=0,o=Math.min($,C-D*$),v=Math.min($,j-L*$);for(var f=0;f<v;f++)for(var U=0;U<o;U++)d+=Q[($*L+f)*C+($*D+U)];
Z[L*F+D]=Math.round(d/(o*v))}};e.scale.vsY=function(Q,C,j,Z,F,_,$){for(var L=0;L<j;L++)for(var D=0;D<C;
D++){var d=Q[L*C+D],o=Math.min($,F-D*$),v=Math.min($,_-L*$);for(var f=0;f<v;f++)for(var U=0;U<o;U++)Z[($*L+f)*F+$*D+U]=d}};
e.scale.vED=function(Q,C,j,Z,F,_,$,L){var D=0,d=F,o=0,v=_;if(L){D=Math.floor(L.x/$);d=Math.ceil((L.x+L.W)/$);
o=Math.floor(L.y/$);v=Math.ceil((L.y+L.C)/$)}for(var f=o;f<v;f++)for(var U=D;U<d;U++){var H=0,B=0,m=0,Y=0,q=Math.min($,C-U*$),r=Math.min($,j-f*$);
for(var x=0;x<r;x++)for(var a=0;a<q;a++){var i=Q[($*f+x)*C+$*U+a],l=i>>>24;H+=l;B+=l*(i>>>16&255);m+=l*(i>>>8&255);
Y+=l*(i&255)}if(H!=0){var M=1/H;Z[f*F+U]=H/(q*r)<<24|B*M<<16|m*M<<8|Y*M}else Z[f*F+U]=0}};e.v={};e.v.vEK=function(Q,C,j){var Z=128,F=0,_=j.W,$=j.C;
for(var L=0;L<$;L++)for(var D=0;D<_;D++){if(Q[F]>=Z&&(D==0||Q[F-1]<Z||(D==_-1||Q[F+1]<Z)||(L==0||Q[F-_]<Z)||(L==$-1||Q[F+_]<Z)))C[F]=255;
F++}};e.v.vEq=function(Q,C,j,Z){var F=new Uint32Array([4278190080,4294967295]),_=j.W,$=j.C,L=0,D=0,d=_,o=$;
if(Z){L=Z.x-j.x;D=Z.y-j.y;d=L+Z.W;o=D+Z.C}var v=new Uint8Array(C.buffer),f=new Uint32Array(C.buffer);
for(var U=D;U<o;U++)for(var H=L;H<d;H++){var B=U*_+H;if((Q[B]&128)!=0&&(U==0||(Q[B-_]&128)==0||H==0||(Q[B-1]&128)==0||H==_-1||(Q[B+1]&128)==0||U==$-1||(Q[B+_]&128)==0)){f[B]=F[(H+U&4)>>>2]}}};
e.v.vES=function(Q,C,j,Z,F,_){var $=j.W,L=j.C,D=0,d=0,o=$,v=L;if(Z){D=Z.x-j.x;d=Z.y-j.y;o=D+Z.W;v=d+Z.C}var f=new Uint8Array(C.buffer),U=new Uint32Array(C.buffer);
for(var H=d;H<v;H++)for(var B=D;B<o;B++){var m=H*$+B,Y=Q[m];if(F==1)U[m]=255-Y>>>1<<24|_;else U[m]=255<<24|(Y<<16|Y<<8|Y)}};
e.mh={};e.mh.jx=function(Q,C,j){var Z,F;if(j=="front"){Z=Q.rect.clone();F=e.mh.vET}if(j=="union"){Z=Q.rect.fJ(C.rect);
F=e.mh.fJ}if(j=="difference"){Z=C.rect.clone();F=e.mh.vdl}if(j=="intersection"){Z=Q.rect.QU(C.rect);
F=e.mh.QU}if(j=="xor"){Z=Q.rect.fJ(C.rect);F=e.mh.vdg}if(Z.jJ())return null;var _=e.Q(Z.P());e.pQ(C.channel,C.rect,_,Z);
var $=e.Q(Z.P());e.pQ(Q.channel,Q.rect,$,Z);F($,_,_);var L=e.Go(_,Z);if(L.jJ())return null;if(!L.gm(Z)){var D=e.Q(L.P());
e.pQ(_,Z,D,L);_=D;Z=L}return{channel:_,rect:Z}};e.mh.vET=function(Q,C,j){for(var Z=0;Z<Q.length;Z++)j[Z]=Q[Z]};
e.mh.fJ=function(Q,C,j){for(var Z=0;Z<Q.length;Z++)j[Z]=Math.min(Q[Z]+C[Z],255)};e.mh.vdl=function(Q,C,j){for(var Z=0;
Z<Q.length;Z++)j[Z]=Math.max(C[Z]-Q[Z],0)};e.mh.QU=function(Q,C,j){var Z=1/255;for(var F=0;F<Q.length;
F++)j[F]=Q[F]*C[F]*Z};e.mh.vdg=function(Q,C,j){var Z=1/255;for(var F=0;F<Q.length;F++)j[F]=Math.min(Q[F]+C[F],255)-Q[F]*C[F]*Z};
e.xr=function(Q,C){this.i=[];this.uI=[0];this.XH=[];this.Zn=[];this.lM=[0];this.gW=[];this.Y_=[];this.rows=Q;
this.cols=C};e.xr.prototype.clone=function(){var Q=this,C=Q.rows,j=Q.cols,Z=new e.xr(C,j);Z.i=Q.i.slice(0);
Z.uI=Q.uI.slice(0);Z.XH=Q.XH.slice(0);Z.Zn=Q.Zn.slice(0);Z.lM=Q.lM.slice(0);Z.gW=Q.gW.slice(0);Z.Y_=Q.Y_.slice(0);
return Z};e.xr.prototype.Hu=function(Q,C,j){var Z=this.uI.length-1;for(var F=0;F<j;F++){var _=Q[F],$=C[F];
this.i.push(_);this.XH.push($);if($==Z){this.Y_.push(_==0?0:1/_)}else{this.Zn.push(_);this.gW.push($)}}this.uI.push(this.i.length);
this.lM.push(this.Zn.length)};e.xr.prototype.Dq=function(Q,C){var j=this,Z=j.rows,F=j.i,_=j.XH;if(C==null)C=new Array(Z);
for(var $=0;$<Z;$++){var L=j.uI[$],D=j.uI[$+1],d=0;while((D-L&3)!=0){d+=F[L]*Q[_[L]];L++}for(var o=L;
o<D;o+=4)d+=F[o]*Q[_[o]]+F[o+1]*Q[_[o+1]]+F[o+2]*Q[_[o+2]]+F[o+3]*Q[_[o+3]];C[$]=d}return C};e.xr.prototype.multiply=function(Q){return this.jF(Q.ik())};
e.xr.prototype.jF=function(Q){var C=this,j=C.rows,Z=C.cols,F=Q.rows,_=new e.xr(j,F),$=C.XH,L=Q.XH;for(var D=0;
D<j;D++){var d=[],o=[],v=C.uI[D],f=C.uI[D+1];for(var U=0;U<F;U++){var H=Q.uI[U],B=Q.uI[U+1],m=0,Y=v,q=H;
while(Y<f&&q<B){var r=Math.max($[Y],L[q]);while(Y<f&&$[Y]<r)Y++;while(q<B&&L[q]<r)q++;if(Y<f&&q<B&&$[Y]==L[q])m+=C.i[Y++]*Q.i[q++]}if(m!=0){d.push(m);
o.push(U)}}_.Hu(d,o,d.length)}return _};e.xr.prototype.ik=function(){var Q=this.rows,C=this.cols,j=[];
for(var Z=0;Z<C;Z++)j.push([[],[]]);var F=this.i,_=this.uI,$=this.XH;for(var Z=0;Z<Q;Z++){var L=_[Z],D=_[Z+1];
for(var d=L;d<D;d++){var o=j[$[d]];o[0].push(F[d]);o[1].push(Z)}}var v=new e.xr(C,Q);for(var Z=0;Z<C;
Z++)v.Hu(j[Z][0],j[Z][1],j[Z][1].length);return v};e.xr.prototype.KC=function(){var Q=this.rows,C=this.cols,j=new Array(Q),Z=this.i,F=this.uI,_=this.XH;
for(var $=0;$<Q;$++){var L=j[$]=new Array(C);for(var D=0;D<C;D++)L[D]=0;var d=F[$],o=F[$+1];for(var v=d;
v<o;v++)L[_[v]]=Z[v]}return j};e.xr.prototype.jL=function(Q,C,j,Z,F){function _(l,C,M,z){var V=l.length;
for(var X=0;X<V;X++)z[X]=l[X]-C[X]*M}function $(l,C,M,z){var V=l.length,X=0;while((V-X&3)!=0){z[X]=l[X]+C[X]*M;
X++}for(var O=X;O<V;O+=4){z[O]=l[O]+C[O]*M;z[O+1]=l[O+1]+C[O+1]*M;z[O+2]=l[O+2]+C[O+2]*M;z[O+3]=l[O+3]+C[O+3]*M}}function L(l,C,M){var z=l.length;
for(var V=0;V<z;V++)M[V]=l[V]*C[V]}function D(l,C){var M=l.length,z=0,V=0;while((M-z&3)!=0){V+=l[z]*C[z];
z++}for(var X=z;X<M;X+=4)V+=l[X]*C[X]+l[X+1]*C[X+1]+l[X+2]*C[X+2]+l[X+3]*C[X+3];return V}var d=Z!=null?2:1,o=Date.now(),v=0,f=this,U=Q.slice(0),H=Q.slice(0);
f.Dq(Q,H);_(C,H,1,U);var B=this.Y_;if(d==0){B=U.slice(0);B.fill(1)}var m=U.slice(0);L(B,U,m);var Y=m.slice(0),q=D(U,m);
while(!0){f.Dq(Y,H);var r=q/D(Y,H);$(Q,Y,r,Q);_(U,H,r,U);if((v&7)==0&&Math.sqrt(D(U,U))<j)break;if(d<=1)L(B,U,m);
else{var x=U.slice(0);Z.v$e(x,U);F.v$H(m,x)}var a=D(U,m),i=a/q;$(m,Y,i,Y);q=a;v++}};e.xr.prototype.vgR=function(Q,C,j,Z){var F=Date.now(),_=1.96,D=0;
if(j==null)j=5e-6;if(Z==null)Z=1e9;var $=1-_,L=this.rows,d=this.Zn,o=this.lM,v=this.gW,f=this.Y_;while(!0){var U=0;
for(var H=0;H<L;H++){var B=C[H],m=o[H],Y=o[H+1];if(Y-m==4)B-=d[m]*Q[v[m]]+d[m+1]*Q[v[m+1]]+d[m+2]*Q[v[m+2]]+d[m+3]*Q[v[m+3]];
else for(var q=m;q<Y;q++)B-=d[q]*Q[v[q]];var r=Q[H]*$+f[H]*B*_,x=r-Q[H];U+=x*x;Q[H]=r}if(U/L<j||Date.now()>F+Z)break}};
e.xr.prototype.vdV=function(Q,C,j,Z){var F=Date.now(),_=1.96,D=0;if(j==null)j=5e-5;if(Z==null)Z=1e9;
var $=1-_,L=this.rows,d=this.Zn,o=this.lM,v=this.gW,f=this.Y_;while(!0){var U=0;for(var H=0;H<L;H++){var B=H*3,m=C[B],Y=C[B+1],q=C[B+2],r=o[H],x=o[H+1];
for(var a=r;a<x;a++){var i=d[a],l=v[a]*3;m-=i*Q[l+0];Y-=i*Q[l+1];q-=i*Q[l+2]}var M=f[H]*_,z=Q[B+0]*$+m*M,V=Q[B+1]*$+Y*M,X=Q[B+2]*$+q*M,O=z-Q[B+0],y=V-Q[B+1],K=X-Q[B+2];
U+=.4*O*O+.5*y*y+.1*K*K;Q[B+0]=z;Q[B+1]=V;Q[B+2]=X}if(U/L<j||Date.now()>F+Z)break}};e.ZU={};e.ZU.fM=function(Q,C,j){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:Q},Vrtc:{t:"doub",v:C},Cnty:{t:"bool",v:j}}}};
e.ZU.M=function(Q,C){for(var j=0;j<Q.length;j++){var Z=Q[j].v,F=C.IV(new Wn(Z.Hrzn.v,Z.Vrtc.v));Z.Hrzn.v=Math.round(F.x);
Z.Vrtc.v=Math.round(F.y)}};e.ZU.NO={};e.ZU.NO.vN=function(Q,C){var j=Q.length;for(var Z=0;Z<j;Z++){var F=0,_=Number.NEGATIVE_INFINITY;
for(var $=Z;$<j;$++)if(Math.abs(Q[$][Z])>_){F=$;_=Math.abs(Q[$][Z])}e.ZU.NO.vdB(Q,Z,F);for(var $=Z+1;
$<j;$++){if(Q[Z][Z]==0)return 1;var L=Q[$][Z]/Q[Z][Z];for(var D=Z;D<j+1;D++)Q[$][D]-=Q[Z][D]*L}}for(var $=j-1;
$>=0;$--){if(Q[$][$]==0)return 1;var d=Q[$][j]/Q[$][$];C[$]=d;for(var D=$-1;D>=0;D--){Q[D][j]-=Q[D][$]*d;
Q[D][$]=0}}return 0};e.ZU.NO.vdu=function(Q,C){var j=[];for(var Z=0;Z<Q;Z++){j.push([]);for(var F=0;
F<C;F++)j[Z].push(0)}return j};e.ZU.NO.vgg=function(Q){for(var C=0;C<Q.length;C++)console.log(JSON.stringify(Q[C]))};
e.ZU.NO.vdB=function(Q,C,j){var Z=Q[C];Q[C]=Q[j];Q[j]=Z};e.ZU.$$=function(Q,C,j){var Z=Q.length-1,F=e.ZU.NO.vdu(Z+1,Z+2);
for(var _=1;_<Z;_++){F[_][_-1]=1/(Q[_]-Q[_-1]);F[_][_]=2*(1/(Q[_]-Q[_-1])+1/(Q[_+1]-Q[_]));F[_][_+1]=1/(Q[_+1]-Q[_]);
F[_][Z+1]=3*((C[_]-C[_-1])/((Q[_]-Q[_-1])*(Q[_]-Q[_-1]))+(C[_+1]-C[_])/((Q[_+1]-Q[_])*(Q[_+1]-Q[_])))}F[0][0]=2/(Q[1]-Q[0]);
F[0][1]=1/(Q[1]-Q[0]);F[0][Z+1]=3*(C[1]-C[0])/((Q[1]-Q[0])*(Q[1]-Q[0]));F[Z][Z-1]=1/(Q[Z]-Q[Z-1]);F[Z][Z]=2/(Q[Z]-Q[Z-1]);
F[Z][Z+1]=3*(C[Z]-C[Z-1])/((Q[Z]-Q[Z-1])*(Q[Z]-Q[Z-1]));e.ZU.NO.vN(F,j)};e.ZU.vXQ=function(Q,C,j,Z){if(Q<=C[0])return j[0];
if(Q>=C[C.length-1])return j[C.length-1];var F=1;while(C[F]<Q)F++;var _=C[F],$=C[F-1],L=j[F],D=j[F-1],d=(Q-$)/(_-$),o=Z[F-1]*(_-$)-(L-D),v=-Z[F]*(_-$)+(L-D),f=(1-d)*D+d*L+d*(1-d)*(o*(1-d)+v*d);
return f};e.ZU.$r=function(Q,C,j,Z){var F={uA:[Q[0]],ku:[C[0]],NL:[]};Z[0]=F;for(var _=1;_<Q.length-1;
_++){F.uA.push(Q[_]);F.ku.push(C[_]);if(j[_]==!1){e.ZU.$$(F.uA,F.ku,F.NL);F={uA:[Q[_]],ku:[C[_]],NL:[]}}Z[_]=F}F.uA.push(Q[_]);
F.ku.push(C[_]);e.ZU.$$(F.uA,F.ku,F.NL);Z[_]=F};e.ZU.$t=function(Q,C,j,Z){if(Q<=C[0])return j[0];if(Q>=C[C.length-1])return j[C.length-1];
var F=1;while(C[F]<Q)F++;var _=Z[F-1];return e.ZU.vXQ(Q,_.uA,_.ku,_.NL)};e.ZU.$j=function(Q){var C={uA:[],ku:[],Yu:[]};
for(var j=0;j<Q.length;j++){C.uA[j]=Q[j].v.Hrzn.v;C.ku[j]=Q[j].v.Vrtc.v;C.Yu[j]=Q[j].v.Cnty?Q[j].v.Cnty.v:!0}return C};
e.ZU.DS=function(Q,C,j){var Z=0,F=255;if(j){Z=-1e9;F=1e9}var _=e.ZU.$j(Q),$=[];e.ZU.$r(_.uA,_.ku,_.Yu,$);
var L=[];for(var D=0;D<C;D++)L[D]=1/255*Math.max(Z,Math.min(F,e.ZU.$t(D*(255/(C-1)),_.uA,_.ku,$)));return L};
e.ZU.vXt=function(Q,C,j){var Z=Math.round(Q.length/20),F=C-Q.length,_=j?(Q[Z]-Q[0])/Z:0,$=j?Q[0]-F*_:Q[Q.length-1],L=[];
for(var D=0;D<F;D++)L.push($+D*_);return j?L.concat(Q):Q.concat(L)};e.ZU.Ij=function(Q,C,j){var Z=e.ZU.$j(Q),F=[];
e.ZU.$r(Z.uA,Z.ku,Z.Yu,F);var _=new Uint8Array(C),$=C/256;for(var L=0;L<C;L++)_[L]=Math.max(0,Math.min(C-1,e.ZU.$t(L*$,Z.uA,Z.ku,F)));
if(j){_[0]=0;if(_[1]>100)_[1]=.4*_[1];if(_[2]>150)_[1]=.7*_[2]}return _};e.ZU.$p=function(Q,C){var j=new Uint8Array(Q.length);
for(var Z=0;Z<Q.length;Z++)j[Z]=C[Q[Z]];return j};e.ZU.ww=function(Q,C,j){var Z=t.e("canvas","");Z.width=C;
Z.height=j;var F=Z.getContext("2d"),_=e.ZU.Ij(Q,256);F.scale(C/255,j/255);F.fillStyle="#fff";F.fillRect(0,0,255,255);
F.fillStyle="#333";F.beginPath();F.moveTo(0,255);for(var $=0;$<_.length;$++)F.lineTo($,255-_[$]);F.lineTo(255,255);
F.closePath();F.fill();return Z.toDataURL()};e.style={};e.style.stroke=function(Q,C,j,Z){var F=j.W,_=j.C,$=new Float64Array(F*_);
e.style.II(Q,$,F,_);e.style.jC(C,j,$,j,Z)};e.style.jC=function(Q,C,j,Z,F){var _=C.QU(Z),$=_.W,L=_.C;
F+=.5;var D=_.x-C.x,d=_.y-C.y,o=C.W,v=_.x-Z.x,f=_.y-Z.y,U=Z.W;for(var H=0;H<L;H++){var B=(H+f)*U+v,m=(H+d)*o+D;
for(var Y=0;Y<$;Y++){var q=Math.max(0,Math.min(1,F-j[B+Y]));Q[m+Y]=Math.round(q*255)}}};e.style.vgU=function(Q,C,j,Z){for(var F=0;
F<j;F++)for(var _=0;_<C;_++){var $=F*C+_,L=0,D=0,d=Q[$];if(_==0||F==0){L=Q[$+1]-d;D=Q[$+C]-d}else if(_==j-1||F==C-1){L=d-Q[$-1];
D=d-Q[$-C]}else{L=Q[$+1]-Q[$-1];D=Q[$+C]-Q[$-C]}if(L!=0||D!=0){var o=1/Math.sqrt(L*L+D*D);L*=o;D*=o}Z[$+$]=L;
Z[$+$+1]=D}};e.style.II=function(Q,C,j,Z){var F=0,_=j*Z;for(var $=0;$<_;$++)F|=Q[$];if(F==0){C.fill(1e9);
return}var L=e.style.jZ(Q,j,Z);for(var D=0;D<Z;D++)for(var d=0;d<j;d++){var $=D*j+d,o=L[$*2],v=L[$*2+1],f=(D+v)*j+d+o;
if(o==0&&v==0){C[$]=0;continue}var U=Math.sqrt(o*o+v*v),H=Q[f]*(1/255),B=1/U,m=Math.abs(o)*B,Y=Math.abs(v)*B;
if(Y>m){var q=Y;Y=m;m=q}C[$]=U+e.style.vXb(m,Y,H)}};e.style.vXb=function(Q,C,j){return(.5-j)*Q};e.style.jZ=function(Q,C,j,Z){if(Z==null){Z=!0;
for(var F=0;F<Q.length;F++)Z=Z&&(Q[F]==0||Q[F]==255)}var _=new Int16Array(C*j*2);if(Z)e.style.vXR(Q,_,C,j);
else e.style.vXK(Q,_,C,j);return _};e.style.vXK=function(Q,C,j,Z){var F=j*Z;for(var _=0;_<F;_++)if(Q[_]==0){C[_*2]=16383;
C[_*2+1]=16383}for(var $=1;$<=Z-1;$++){var _=$*j;for(var L=0;L<=j-1;L++)e.style.$a(C,Q,j,_+L<<1,-1);
for(var L=1;L<=j-1;L++)e.style.yJ(C,Q,j,_+L<<1,-1);for(var L=j-2;L>=0;L--)e.style.yJ(C,Q,j,_+L<<1,1)}for(var $=Z-2;
$>=0;$--){var _=$*j;for(var L=0;L<=j-1;L++)e.style.$a(C,Q,j,_+L<<1,1);for(var L=1;L<=j-1;L++)e.style.yJ(C,Q,j,_+L<<1,-1);
for(var L=j-2;L>=0;L--)e.style.yJ(C,Q,j,_+L<<1,1)}};e.style.yJ=function(Q,C,j,Z,F){var _=(Z>>>1)+F<<1,$=Q[Z],L=Q[Z+1],D=Q[_]+F,d=Q[_+1],o=D*D+d*d,v=$*$+L*L;
if(d!=16383&&($==16383||Math.sqrt(o)+(.5-C[(Z>>>1)+d*j+D]*(1/255))<Math.sqrt(v)+(.5-C[(Z>>>1)+L*j+$]*(1/255)))){Q[Z]=D;
Q[Z+1]=d}};e.style.$a=function(Q,C,j,Z,F){var _=(Z>>>1)+F*j<<1,$=Q[Z],L=Q[Z+1],D=Q[_],d=Q[_+1]+F,o=D*D+d*d,v=$*$+L*L;
if(D!=16383&&($==16383||Math.sqrt(o)+(.5-C[(Z>>>1)+d*j+D]*(1/255))<Math.sqrt(v)+(.5-C[(Z>>>1)+L*j+$]*(1/255)))){Q[Z]=D;
Q[Z+1]=d}};e.style.vXR=function(Q,C,j,Z){var F=j*Z;for(var _=0;_<F;_++)if(Q[_]==0){C[_*2]=16383;C[_*2+1]=16383}for(var $=1;
$<=Z-1;$++){var _=$*j;for(var L=0;L<=j-1;L++)e.style.$x(C,Q,j,_+L<<1,-1);for(var L=1;L<=j-1;L++)e.style.yd(C,Q,j,_+L<<1,-1);
for(var L=j-2;L>=0;L--)e.style.yd(C,Q,j,_+L<<1,1)}for(var $=Z-2;$>=0;$--){var _=$*j;for(var L=0;L<=j-1;
L++)e.style.$x(C,Q,j,_+L<<1,1);for(var L=1;L<=j-1;L++)e.style.yd(C,Q,j,_+L<<1,-1);for(var L=j-2;L>=0;
L--)e.style.yd(C,Q,j,_+L<<1,1)}};e.style.yd=function(Q,C,j,Z,F){var _=(Z>>>1)+F<<1,$=Q[Z],L=Q[Z+1],D=Q[_]+F,d=Q[_+1],o=D*D+d*d,v=$*$+L*L;
if(d!=16383&&($==16383||o<v)){Q[Z]=D;Q[Z+1]=d}};e.style.$x=function(Q,C,j,Z,F){var _=(Z>>>1)+F*j<<1,$=Q[Z],L=Q[Z+1],D=Q[_],d=Q[_+1]+F,o=D*D+d*d,v=$*$+L*L;
if(D!=16383&&($==16383||o<v)){Q[Z]=D;Q[Z+1]=d}};e.style.vVK=function(Q,C,j,Z,F){var _=j*Z,$=(j+Z+1)*1.01;
for(var L=0;L<_;L++)if(Q[L]<=F)C[L]=$;for(var D=1;D<j;D++)C[D]=Math.min(C[D],C[D-1]);for(var d=1;d<Z;
d++){var L=d*j;C[L]=Math.min(C[L],Math.min(C[L-j]+1,C[L-j+1]+Math.SQRT2));for(var D=1;D<j-1;D++){var o=C[++L],v=Math.min(C[L-1]+1,Math.min(C[L-j-1]+Math.SQRT2,Math.min(C[L-j]+1,C[L-j+1]+Math.SQRT2)));
if(v<o)C[L]=v}L++;C[L]=Math.min(C[L],Math.min(C[L-1]+1,Math.min(C[L-j-1]+Math.SQRT2,C[L-j]+1)))}for(var D=j-2;
D>=0;D--)C[D+_-j]=Math.min(C[D+_-j],C[D+_-j+1]);for(var d=Z-2;d>=0;d--){var L=d*j+j-1;C[L]=Math.min(C[L],Math.min(C[L+j]+1,C[L+j-1]+Math.SQRT2));
for(var D=j-2;D>=1;D--){var o=C[--L],v=Math.min(C[L+1]+1,Math.min(C[L+j-1]+Math.SQRT2,Math.min(C[L+j]+1,C[L+j+1]+Math.SQRT2)));
if(v<o)C[L]=v}L--;C[L]=Math.min(C[L],Math.min(C[L+1]+1,Math.min(C[L+j]+1,C[L+j+1]+Math.SQRT2)))}};e.style.vVd=function(Q,C,j,Z,F){var _=new Int32Array(j*Z);
e.style.vXj(Q,_,j,Z,F);e.style.vXM(_,C,j,Z)};e.style.vXj=function(Q,C,j,Z,F){var _=new Int32Array(Z);
for(var $=0;$<j;$++){var L=j+Z;for(var D=Z-1;D>=0;D--){if(Q[D*j+$]>F)L=0;else L++;_[D]=L}L=j+Z;for(var D=0;
D<Z;D++){if(Q[D*j+$]>F)L=0;else L++;C[D*j+$]=L<_[D]?-L:_[D]}}};e.style.vXM=function(Q,C,j,Z){var F=(j+Z)*(j+Z),_=new Float64Array(j),$=new Uint16Array(j);
for(var L=0;L<Z;L++){var D=L*j,d=0;$[0]=0;_[0]=-F;_[1]=+F;for(var o=1;o<j;o++){var v=Q[o+D]*Q[o+D]+o*o,f=(v-(Q[$[d]+D]*Q[$[d]+D]+$[d]*$[d]))/(2*o-2*$[d]);
while(f<=_[d]){d--;f=(v-(Q[$[d]+D]*Q[$[d]+D]+$[d]*$[d]))/(2*o-2*$[d])}d++;$[d]=o;_[d]=f;_[d+1]=F}d=0;
for(var o=0;o<j;o++){while(_[d+1]<o)d++;var U=$[d]-o,H=Q[$[d]+D],B=L*j+o<<1;C[B]=U;C[B+1]=H}}};e.style.jY=function(Q,C,j){if(j)for(var Z=0;
Z<Q.length;Z++){var F=Q[Z];if(F>0)Q[Z]=Math.max(0,Math.min(255,F+C*2*(e.style.ax(Z)-128)))}else for(var Z=0;
Z<Q.length;Z++){var F=Q[Z];if(F>0)Q[Z]=Math.max(0,Math.min(255,F+Math.min(F*3,C*2*(e.style.ax(Z)-128))))}};
e.style.ax=function(Q){Q=Q^61^Q>>16;Q=Q+(Q<<3);Q=Q^Q>>4;Q=Q*668265261;Q=Q^Q>>15;return Q&255};e.Ca={};
e.Ca.N$=function(Q,C,j){var Z=Q.canvas,F=t.s(),_=Math.floor;if(Z.width!=_(C*F)||Z.height!=_(j*F))t.lZ(Z,C,j,Q)};
e.Ca.DY=function(Q,C,j,Z,F,_){e.Ca.N$(Q,C,j);if(_==null)_=!1;var $=F.channel,L=F.rect,D=!F.isEnabled;
C=Math.floor(C*t.s());j=Math.floor(j*t.s());if(C*j==0)return;var d=Q.createImageData(C,j),o=d.data,v=1/C,f=1/j;
for(var U=0;U<j;U++)for(var H=0;H<C;H++){var B=U*C+H,m=B*4,Y=Math.round(Z.x+H*v*Z.W),q=Math.round(Z.y+U*f*Z.C),r=0;
if(Y<L.x||Y>=L.x+L.W||q<L.y||q>=L.y+L.C)r=F.color;else r=$[(q-L.y)*L.W+(Y-L.x)];r=255*(255-F.To)+r*F.To>>>8;
if(_)r=170+Math.round(.4*(r-170));o[m]=r;o[m+1]=r;o[m+2]=r;o[m+3]=255}Q.putImageData(d,0,0);if(D)e.Ca.jc(Q,C,j)};
e.Ca.vaO=function(Q,C,j,Z){Q.fillStyle="#eeeeee";Q.fillRect(.6*C,.6*j,C,j);Q.lineWidth=1.5;var F=.65*C,_=.95*C,$=.65*j,L=.95*j,D=.75*C,d=.85*C,o=.75*j,v=.85*j;
Q.beginPath();Q.moveTo(F,$);Q.lineTo(_,$);Q.lineTo(_,L);Q.lineTo(F,L);Q.lineTo(F,$);Q.moveTo(D,o);Q.lineTo(d,o);
Q.lineTo(d,v);Q.lineTo(D,v);Q.lineTo(D,o);Q.closePath();Q.stroke()};e.Ca.$c=[];e.Ca.vaE=function(Q,C,j){var Z,F,_,$=t.s();
C=Math.floor($*C);j=Math.floor($*j);Z=Math.ceil(Math.max(C,j)*.35);F=C-Z;_=j-Z;var L=e.Ca.$c[Z];if(L==null){Q.save();
Q.scale(1/$,1/$);Q.fillStyle="#eeeeee";Q.fillRect(F,_,C,j);Q.lineWidth=1;Q.strokeRect(F+2.5,_+2.5,C-F-5,j-_-5);
var D=Q.createImageData(3,3);e.kM(D.data,4278190080);D.data[4*4]=D.data[4*4+1]=D.data[4*4+2]=238;Q.putImageData(D,F+1,_+1);
Q.putImageData(D,C-4,_+1);Q.putImageData(D,F+1,j-4);Q.putImageData(D,C-4,j-4);Q.restore();e.Ca.$c[Z]=Q.getImageData(F,_,C,j)}else Q.putImageData(L,F,_)};
e.Ca.vay=function(Q,C,j,Z,F){e.Ca.N$(Q,C,j);C=Math.floor(C*t.s());j=Math.floor(j*t.s());var _=C/Z.W;
if(C*j==0)return;Q.fillStyle="#999999";Q.setTransform(1,0,0,1,0,0);Q.clearRect(0,0,C,j);var $=e.Ca.Qj;
if($==null){$=e.Ca.Qj=JSON.parse(JSON.stringify(WM.oj.default));$.strokeEnabled.v=!0}$.strokeStyleLineWidth.v.val=1*t.s()/_;
Q.fillStyle="#ffffff";Q.scale(_,_);e.D.zO(F.G,Q,0,0);e.D.zO(F.G,Q,0,0,$)};e.Ca.wD=null;e.Ca.Dc=function(Q,C,j,Z,F,_,$,L){e.Ca.N$(Q,C,j);
C=Math.floor(C*t.s());j=Math.floor(j*t.s());if(C*j==0)return;var D=Math.max(C,j),d=e.Ca.wD;if(d==null||d.width<D||d.height<D){e.Ca.wD=d=Q.createImageData(D,D)}D=d.width;
var o=d.data,v=Z.W/C,f=Z.C/j,U=1/255,H=_.x,B=_.x+_.W,m=_.y,Y=_.y+_.C;for(var q=0;q<j;q++)for(var r=0;
r<C;r++){var x=q*D+r,a=x*4,i=~~(Z.x+r*v),l=~~(Z.y+q*f),M=e.nD(q,r,2);if(i<H||i>=B||l<m||l>=Y){o[a]=M;
o[a+1]=M;o[a+2]=M;o[a+3]=255}else{var z=(l-_.y)*_.W+(i-_.x)<<2,V=F[z+3]*U;o[a]=F[z+0]*V+M*(1-V);o[a+1]=F[z+1]*V+M*(1-V);
o[a+2]=F[z+2]*V+M*(1-V);o[a+3]=255}}if(L!=null)for(var q=0;q<o.length;q+=4)o[q]=o[q+1]=o[q+2]=o[q+L];
Q.putImageData(d,0,0);if($)e.Ca.jc(Q,C,j)};e.Ca.vaL=function(Q,C,j,Z){e.Ca.N$(Q,C,j);Q.fillStyle=e.Ca.Xa(Z.Clr.v);
Q.fillRect(0,0,C,j);e.Ca.jG(Q,C,j)};e.Ca.$f=null;e.Ca.vaP=function(Q,C,j,Z){e.Ca.N$(Q,C,j);var F=Q.canvas.width,_=Q.canvas.height,$=e.Ca.$f;
if($==null||$.width!=F||$.height!=_){Q.fillStyle="#ffffff";Q.fillRect(0,0,C,j);Q.fillStyle="#000000";
Q.font=""+j*.7+"px serif";Q.fillText("T",(C-j*.43)/2,j*.75);Q.fillText("T",(C-j*.43)/2,j*.75);e.Ca.$f=Q.getImageData(0,0,F,_)}else Q.putImageData($,0,0)};
e.Ca.vaw=function(Q,C,j){e.Ca.N$(Q,C,j);Q.clearRect(0,0,C,j);Q.font=j*.7+"px serif";Q.fillText(":(",(C-j*.43)/2,j*.7)};
e.Ca.vaM=function(Q,C,j,Z){e.Ca.N$(Q,C,j);var F=rY.get(Z),_=rT.get(rY.names[F]).substring(0,3);Q.fillStyle="#ffffff";
Q.fillRect(0,0,C,j);Q.fillStyle="#000000";Q.font=j*.55+"px sans-serif";var $=Q.measureText(_);Q.fillText(_,(C-$.width)/2,j*.67);
Q.fillRect(0,0,C,j*.1);Q.fillRect(0,j*.9,C,j*.1)};e.Ca.vBO=function(Q,C,j,Z){e.Ca.N$(Q,C,j);var F=Q.canvas.width,_=Q.canvas.height,$=Q.getImageData(0,0,F,_);
e.q.vx(Z.Grad.v,new Uint8Array($.data.buffer),new s(0,0,F,_),[1/F,0,0,1/_],F/2,_/2,!1,0,16711680,65280);
Q.putImageData($,0,0);e.Ca.jG(Q,C,j)};e.Ca.vBD=function(Q,C,j,Z,F){e.Ca.N$(Q,C,j);var _=Q,$=rk.Fw(Z.Ptrn.v,F.add.Patt);
if($==null)return;var L=$.z;e.Ca.Dc(Q,C,j,L,$.Dg,L,!1);e.Ca.jG(_,C,j)};e.Ca.jc=function(Q,C,j){Q.strokeStyle="#bb0000";
Q.lineWidth=3;Q.beginPath();Q.moveTo(C*.15,j*.15);Q.lineTo(C*.85,j*.85);Q.moveTo(C*.85,j*.15);Q.lineTo(C*.15,j*.85);
Q.closePath();Q.stroke()};e.Ca.jc=function(Q,C,j){Q.strokeStyle="#bb0000";Q.lineWidth=3;Q.beginPath();
Q.moveTo(C*.15,j*.15);Q.lineTo(C*.85,j*.85);Q.moveTo(C*.85,j*.15);Q.lineTo(C*.15,j*.85);Q.closePath();
Q.stroke()};e.Ca.jG=function(Q,C,j){Q.fillStyle="#eeeeee";Q.fillRect(0,j*.75,C,j*.25);Q.beginPath();
Q.moveTo(0,j*.75);Q.lineTo(C,j*.75);Q.moveTo(C*.1,j*.875);Q.lineTo(C*.9,j*.875);Q.moveTo(C*.65,j*.825);
Q.lineTo(C*.65,j*.95);Q.closePath();Q.stroke()};e.Ca.Xa=function(Q){var C=e.q.Xa(Q),j=Math.round(C.h)<<16|Math.round(C.J)<<8|Math.round(C._);
return"#"+e.vY(j)};e.D={};e.D.hR=function(Q,C,j){var Z=[],F=-1;for(var _=0;_<Q.length;_++){var $=Q[_];
if(($.type==0||$.type==3)&&$.rh!=-1)F++;if($.type>5||$.type==0||$.type==3)continue;if(C!=null&&C.indexOf(F)==-1)continue;
if(j!=null&&j.indexOf(_)==-1)continue;Z.push($.$_.x);Z.push($.$_.y);Z.push($.d.x);Z.push($.d.y);Z.push($.jk.x);
Z.push($.jk.y)}return Z};e.D.jA=function(Q,C,j,Z){var F=0,_=-1;for(var $=0;$<C.length;$++){var L=C[$];
if((L.type==0||L.type==3)&&L.rh!=-1)_++;if(L.type>5||L.type==0||L.type==3)continue;if(j!=null&&j.indexOf(_)==-1)continue;
if(Z!=null&&Z.indexOf($)==-1)continue;L.$_.KL(Q[F],Q[F+1]);L.d.KL(Q[F+2],Q[F+3]);L.jk.KL(Q[F+4],Q[F+5]);
F+=6}};e.D.gw=function(Q,C,j,Z){var F=e.D.hR(Q,j,Z);e.g.M(F,C,F);e.D.jA(F,Q,j,Z)};e.D.vBb=function(Q,C,j,Z){var F=e.D.hR(Q,j,Z);
e.V.apply(C,F);e.D.jA(F,Q,j,Z)};e.D.vBV=function(Q,C,j,Z){if(j==null&&Z==null){var F=e.D.vBu(Q,40);for(var _=0;
_<F.length;_++)Q[_]=F[_]}var $=e.D.hR(Q,j,Z);e.tl.apply(C,$,e.g.NM($));e.D.jA($,Q,j,Z)};e.D.vBu=function(Q,C){var j=[];
for(var Z=0;Z<Q.length;Z++){var F=Q[Z];if(F.type>5){j.push(JSON.parse(JSON.stringify(F)));continue}var _=e.D.vBB(Q,Z+1,F.length);
_=e.g.D$(_,C);var $=e.D.vBm(_);Z+=F.length;F=JSON.parse(JSON.stringify(F));F.length=$.length;j.push(F);
for(var L=0;L<$.length;L++)j.push($[L])}return j};e.D.vBB=function(Q,C,j){var Z={u:["M"],b:[]},F=Q[C],_=Q[C+j-1];
Z.b.push(F.d.x,F.d.y);for(var $=1;$<j;$++){var L=Q[C+$-1],D=Q[C+$];Z.u.push("C");Z.b.push(L.jk.x,L.jk.y,D.$_.x,D.$_.y,D.d.x,D.d.y)}Z.u.push("C");
Z.b.push(_.jk.x,_.jk.y,F.$_.x,F.$_.y,F.d.x,F.d.y);return Z};e.D.vBm=function(Q){var C=[],j=Q.u,Z=Q.b,F=0,_=Z.length;
C.push({type:2,$_:new Wn(Z[_-4],Z[_-3]),d:new Wn(Z[0],Z[1]),jk:new Wn(Z[2],Z[3])});for(var $=0;$<j.length-2;
$++){var L=$*6+4;C.push({type:2,$_:new Wn(Z[L],Z[L+1]),d:new Wn(Z[L+2],Z[L+3]),jk:new Wn(Z[L+4],Z[L+5])})}return C};
e.D.vBy=function(Q){for(var C=0;C<Q.length;C++){if(Q[C].type>5)continue;var j=Q[C].length;if(!(j==4||j==6||j==8)){C+=j;
continue}for(var Z=0;Z<j;Z++){var F=Q[C+1+Z],_=Q[C+1+(Z+1)%j],$=Math.min(F.d.x,_.d.x),L=Math.min(F.d.y,_.d.y),D=0,d=0;
if(F.d.x<_.d.x){D=F.d.y-L;d=D-(_.d.x-$)}else{D=_.d.y-L;d=D-(F.d.x-$)}if(Math.abs(d)<.2*D)return D}}return-1};
e.D.kd=function(Q,C){var j=null,Z=-1;for(var F=0;F<Q.length;F++){if(Q[F].type>5)continue;var _=Q[F].length;
if((Q[F].type==0||Q[F].type==3)&&Q[F].rh!=-1)Z++;if(C!=null&&C.indexOf(Z)==-1)continue;if(F==Q.length-1)break;
var $=Q[F].type==3;if(j==null)j=e.D.$P(Q,F+1,_,$);else{var L=e.D.$P(Q,F+1,_,$);if(C!=null||Q[F].rh==0||Q[F].rh==-1||Q[F].rh==1){var D=Math.min(j.x,L.x),d=Math.min(j.y,L.y),o=Math.max(j.x+j.W,L.x+L.W),v=Math.max(j.y+j.C,L.y+L.C);
j.x=D;j.y=d;j.W=o-D;j.C=v-d}else if(Q[F].rh==2)j=j;else if(Q[F].rh==3)j=j.QU(L)}F+=_}if(j==null||j.W<0||j.C<0)j=new s(0,0,0,0);
return j};e.D.vBf=new Float64Array(4);e.D.$P=function(Q,C,j,Z){var F=e.D.vBf;F[0]=1e30;F[1]=1e30;F[2]=-1e30;
F[3]=-1e30;var _=Q[C+j-1];if(!Z)e.D.$N(_.d.x,_.d.y,_.jk.x,_.jk.y,Q[C].$_.x,Q[C].$_.y,Q[C].d.x,Q[C].d.y,F);
for(var $=C;$<C+j-1;$++){var L=Q[$],D=Q[$+1];if(L.d.gm(L.jk)&&D.$_.gm(D.d)){F[0]=Math.min(F[0],Math.min(L.d.x,D.d.x));
F[1]=Math.min(F[1],Math.min(L.d.y,D.d.y));F[2]=Math.max(F[2],Math.max(L.d.x,D.d.x));F[3]=Math.max(F[3],Math.max(L.d.y,D.d.y))}else e.D.$N(L.d.x,L.d.y,L.jk.x,L.jk.y,D.$_.x,D.$_.y,D.d.x,D.d.y,F)}return new s(F[0],F[1],F[2]-F[0],F[3]-F[1])};
e.D.$N=function(Q,C,j,Z,F,_,$,L,D){var d=1e30,o=1e30,v=-1e30,f=-1e30,U=40,H=j-Q,B=Z-C,m=F-j,Y=_-Z,q=$-F,r=L-_,x=1/U;
for(var a=0;a<U+1;a++){var i=a*x,l=Q+i*H,M=C+i*B,z=j+i*m,V=Z+i*Y,X=F+i*q,O=_+i*r,y=l+i*(z-l),K=M+i*(V-M),R=z+i*(X-z),W=V+i*(O-V),N=y+i*(R-y),I=K+i*(W-K);
if(N<d)d=N;if(I<o)o=I;if(N>v)v=N;if(I>f)f=I}D[0]=Math.min(D[0],d);D[1]=Math.min(D[1],o);D[2]=Math.max(D[2],v);
D[3]=Math.max(D[3],f)};e.D.$n=function(Q,C){var j=Q.length-3,Z=C%j,F=Math.floor(Z);if(C<0||F>=j)return null;
var _=Q[3+F],$=Q[3+(F+1)%j],L=_.d,D=_.jk,d=$.$_,o=$.d,v=Z-F,f=1-v,U=f*f*f*L.x+3*f*f*v*D.x+3*f*v*v*d.x+v*v*v*o.x,H=f*f*f*L.y+3*f*f*v*D.y+3*f*v*v*d.y+v*v*v*o.y;
return new Wn(U,H)};e.D.WK=function(Q){var C=2,j=e.D.iJ(Q),Z=!1,F=!1;for(var _=2;_<Q.length;_++){var $=Q[_].rh;
if($!=null){if($==2||$==0)Z=!0;if($==-1)F=!0}}if(F){var L=e.g.eV(Q);return{Zi:Typr.U.pathToSVG({crds:L.b,cmds:L.u},C),Cj:Z?1:0}}if(Z&&Q.length<5e3&&j>1)Q=e.D.jU(Q);
var L=e.g.eV(Q);return{Zi:Typr.U.pathToSVG({crds:L.b,cmds:L.u},C),Cj:Z?1:0}};e.D.jU=function(Q){e.D.Df();
var C,j=e.D.jM(Q),Z=[];for(var F=0;F<j.length;F++){var _=j[F][0],$=j[F][1];if(Math.abs(_.area)<1e-5)Z.push(_);
else if(C==null)C=_;else{C=C[$](_);C.remove()}}if(C==null)C=new paper.CompoundPath(Z);else{if(C.segments)C=new paper.CompoundPath(C);
for(var F=0;F<Z.length;F++){C.children.push(Z[F])}}var L=Q.slice(0,2);L=L.concat(e.D.rA(C));if(L[2])L[2].rh=1;
for(var F=3;F<L.length;F++)if(L[F].rh!=null)L[F].rh=-1;return L};e.D.Df=function(){if(e.D.vpx==null){var Q=t.e("canvas");
paper.setup(Q);e.D.vpx=!0}};e.D.vmI=function(Q,C){e.D.Df();var j=[],Z=e.D.jM(Q),F=new paper.Path.Rectangle(new paper.Rectangle(C.x,C.y,C.W,C.C));
F.remove();F.fillColor=new paper.Color(1,0,0);for(var _=0;_<Z.length;_++)if(F.intersects(Z[_][0])||F.contains(Z[_][0].segments[0].point))j.push(_);
return j};e.D.qx=function(Q,C,j,Z){e.D.Df();var F=j?{curves:!0,tolerance:Z}:null,_=new paper.Point(C.x,C.y),$=e.D.jM(Q);
for(var L=$.length-1;L>=0;L--){var D=$[L][0],d=D.hitTest(_,F);if(d!=null)return{BW:L,uq:j?d.location.index:null}}return{BW:-1}};
e.D.ya=function(Q,C){var j=[[],[],[]];for(var Z=0;Z<Q.length;Z++){var F=Q[Z];if(F.type>5||F.type==0||F.type==3)continue;
if(C._p(F.d))j[0].push(Z);if(C._p(F.$_))j[1].push(Z);if(C._p(F.jk))j[2].push(Z)}return j};e.D.vmF=function(Q,C,j){var Z=j.slice(0),F=[null,null],_=-1,D=null;
for(var $=2;$<Q.length;$++){if((Q[$].type==0||Q[$].type==3)&&Q[$].rh!=-1)_++;F[$]=j[_]}j=F;var L=Q.slice(0,2);
F=j.slice(0,2);for(var $=2;$<Q.length;$++){if(Q[$].type==0||Q[$].type==3){D=Q[$];L.push(D);F.push(j[$])}else{if(C.indexOf($)==-1){L.push(Q[$]);
F.push(j[$])}else{D.length--;e.Ky.mC(j,$)}}}for(var $=2;$<L.length;$++){var d=L[$];if(d.type!=0&&d.type!=3)continue;
if(d.length==0){if(L[$+1]&&L[$+1].rh==-1){L[$+1].rh=d.rh}F.splice($,1);L.splice($,1);$--}}for(var $=0;
$<Z.length;$++)if(F.indexOf(Z[$])==-1){Z.splice($,1);$--}return L};e.D.vmc=function(Q,C){var j=Q.slice(0,2),Z=-1;
for(var F=2;F<Q.length;F++){if((Q[F].type==0||Q[F].type==3)&&Q[F].rh!=-1)Z++;if(C.indexOf(Z)==-1)j.push(Q[F])}return j};
e.D.vmG=function(Q,C){var j=Q.slice(0,2),Z=-1;for(var F=2;F<Q.length;F++){if((Q[F].type==0||Q[F].type==3)&&Q[F].rh!=-1)Z++;
if(C.indexOf(Z)!=-1)j.push(Q[F])}return j};e.D.vSu=function(Q){var C=0;for(var j=0;j<Q.length;j++)if(Q[j].type==0||Q[j].type==3)C=j;
return Q[C]};e.D.iJ=function(Q){var C=-1;for(var j=0;j<Q.length;j++)if((Q[j].type==0||Q[j].type==3)&&Q[j].rh!=-1)C++;
return C+1};e.D.Jj=function(Q,C){var j=-1;for(var Z=0;Z<Q.length;Z++)if((Q[Z].type==0||Q[Z].type==3)&&Q[Z].rh!=-1){j++;
if(j==C)return Z}return-1};e.D.WX=function(Q,C){var j=-1;for(var Z=0;Z<Q.length;Z++)if((Q[Z].type==0||Q[Z].type==3)&&Q[Z].rh!=-1){if(Z>=C)return j;
j++}return j};e.D.jn=function(Q,C){var j=-1,Z=0;for(var F=0;F<Q.length;F++){if((Q[F].type==0||Q[F].type==3)&&Q[F].rh!=-1)j++;
if(j==C)Z++}return Z};e.D.rA=function(Q){var C=Q.segments?[Q]:Q.children,j=[];for(var Z=0;Z<C.length;
Z++){var F=C[Z],_=F.segments,$=F.closed?0:3,L=j.length,D=null;if(_.length<=1)continue;j.push({type:$,length:_.length,rh:0,Vy:2});
for(var d=0;d<_.length;d++){var o=_[d],v=new Wn(o.handleIn.x,o.handleIn.y),f=new Wn(o.handleOut.x,o.handleOut.y),U=new Wn(o.point.x,o.point.y),H={type:$+1,$_:U.add(v),d:U,jk:U.add(f)};
if(D==null)D=H;j.push(H);if(d+1==_.length&&Wn.iQ(D.d,H.d)<1e-5){j.pop();j[L].length--;D.$_=H.$_;if($==3)for(var B=L;
B<j.length;B++)j[B].type-=3}}}return j};e.D.jM=function(Q){e.D.Df();var C=[],j,Z=new paper.Color(1,0,0);
for(var F=0;F<Q.length;F++){if(Q[F].type>5)continue;var _=Q[F].length,$;if(F==Q.length-1)break;var L=Q[F].type==3;
if(F==2){if(!e.D.$q(Q))$="subtract";else $="unite"}else{if(Q[F].rh==0)$="exclude";if(Q[F].rh==1)$="unite";
if(Q[F].rh==2)$="subtract";if(Q[F].rh==3)$="intersect"}if(Q[F].rh!=-1)j=[];for(var D=0;D<_;D++){var d=Q[F+1+D],o=d.$_.qF(d.d),v=d.jk.qF(d.d);
j.push([[d.d.x,d.d.y],[o.x,o.y],[v.x,v.y]])}if(Q[F+1+_]==null||Q[F+1+_].rh!=-1){var f=new paper.Path(j);
f.remove();f.closed=!L;f.fillRule="evenodd";f.fillColor=Z;C.push([f,$])}F+=_}return C};e.D.yx=function(Q){for(var C=0;
C<Q.length;C++){var j=Q[C];if(j.d==null)continue;if(!j.d.gm(j.$_)||!j.d.gm(j.jk))return!1}return!0};
e.D.vSk=function(Q){if(Q.length<=5)return 0;var C=0,j=Q.length-3-1;for(var Z=0;Z<j;Z++){var F=Q[3+Z],_=Q[3+Z+1];
if(F.type==0||_.type==0)return 0;C+=(_.d.x-F.d.x)*(F.d.y+_.d.y)}C+=(Q[3].d.x-Q[3+j].d.x)*(Q[3+j].d.y+Q[3+1].d.y);
return-C*.5};e.D.$q=function(Q){if(Q.length==2)return Q[1].all==0;var C=Q[2];if(Q[1].all==1){if(C.rh==1||C.rh==3)return!0;
return!1}else{if(C.rh==1||C.rh==3||C.rh==0)return!0;return!1}};e.D.vmH=0;e.D.rn=0;e.D.vSJ=0;e.D.vmN=function(Q,C,j,Z){if(j.jJ())return;
var F=j.P(),x=16384;e.D.vmH+=F;if(F>e.D.rn){e.D.rn=F}var _=j.W,$=j.C;if(Z==null&&e.D.yx(Q)){var L=!0;
for(var D=2;D<Q.length;)if(Q[D].length==2)D+=3;else{L=!1;break}if(L){return}if(e.D.rM(Q)){C.fill(255);
var d=e.D.kd(Q);if(d.P()!=F){var o=1-(d.x-j.x),v=1-(d.y-j.y),f=1-(j.x+j.W-(d.x+d.W)),U=1-(j.x+j.C-(d.x+d.C)),H=~~(o*255),B=~~(f*255),m=~~(v*255),Y=~~(U*255);
C.fill(m,0,_);C[0]=~~(o*v*255);C[_-1]=~~(f*v*255);for(var D=_;D<F;D+=_){C[D]=H;C[D+_-1]=B}C.fill(Y,($-1)*_,$*_);
C[F-_]=~~(o*U*255);C[F-1]=~~(f*U*255)}return}}var q=e.Ev,r=e.L,a=Math.ceil(_/x),i=Math.ceil($/x),l=Math.ceil(_/a),M=Math.ceil($/ i),z=Date.now();
for(var V=0;V<i;V++)for(var X=0;X<a;X++){var O=X*l,y=V*M,K=l,R=M;q.width=K;q.height=R;if(!e.D.$q(Q))r.fillRect(0,0,K,R);
e.D.zO(Q,r,-j.x-O,-j.y-y,Z);var W=new Uint8Array(r.getImageData(0,0,K,R).data.buffer);if(K==_&&R==$)e.yq(W,C,3);
else e.KE(W,new s(O,y,K,R),C,new s(0,0,_,$))}};e.D.zO=function(Q,C,j,Z,F){if(F!=null&&F.fillEnabled.v){var _=!1,$=!1,L=0;
for(var D=0;D<Q.length;D++){var d=Q[D].rh;if(d!=null)L++;if(d==-1)_=!0;if(d>0)$=!0}if(!_&&L<20)Q=e.D.jU(Q)}for(var D=0;
D<Q.length;D++){if(Q[D].type>5)continue;var o=Q[D].length;if(o==0)continue;if(D==Q.length-1)break;var v=Q[D].type==3;
if(D==2){if(!e.D.$q(Q))C.globalCompositeOperation="destination-out";else C.globalCompositeOperation="source-over"}else{var d=Q[D].rh;
if(d!=-1&&F==null){var f=["xor","source-over","destination-out","source-in"][d];C.globalCompositeOperation=f}}if(Q[D].rh!=-1){C.beginPath();
if(F){var U=F.strokeStyleLineWidth.v.val,H=F.strokeStyleLineAlignment.v.strokeStyleLineAlignment,B=F.strokeStyleLineCapType.v.strokeStyleLineCapType,m=F.strokeStyleLineJoinType.v.strokeStyleLineJoinType,Y=F.strokeStyleMiterLimit.v,q=[],r=F.strokeStyleLineDashSet.v;
for(var x=0;x<r.length;x++)q.push(r[x].v.val*U);C.setLineDash(q);C.lineCap=["butt","round","square"][WM.oj.Eg.indexOf(B)];
C.lineJoin=["miter","round","bevel"][WM.oj.join.indexOf(m)];C.lineWidth=WM.oj.EE.indexOf(H)==1?U:U*=2;
C.miterLimit=Y}}e.D.vyK(C,Q,D+1,o,j,Z,v);if(v){}else C.closePath();if(Q[D+1+o]==null||Q[D+1+o].rh!=-1){if(F)C.stroke();
else C.fill("evenodd")}D+=o}};e.D.vyK=function(Q,C,j,Z,F,_,$){var L=C[j],D=null;Q.moveTo(L.d.x+F,L.d.y+_);
for(var d=j;d<j+Z-1;d++){L=C[d];D=C[d+1];Q.bezierCurveTo(L.jk.x+F,L.jk.y+_,D.$_.x+F,D.$_.y+_,D.d.x+F,D.d.y+_)}if(!$){L=C[d];
D=C[j];Q.bezierCurveTo(L.jk.x+F,L.jk.y+_,D.$_.x+F,D.$_.y+_,D.d.x+F,D.d.y+_)}};e.D.yF=function(Q,C,j){var Z=[],F=j?4:1,_=!1;
if(C!=null)for(var $=0;$<C.length;$++)if(C[$]!=0){_=!0;break}if(C!=null&&_){var L=e.g.vIe(Q,C),D=L.length/6;
for(var $=0;$<D;$++){var d=$*6,o=($-1+D)%D*6,v=L[d],f=L[d+1],U=L[d+2],H=L[d+3],B=L[o+4],m=L[o+5];Z.push({type:F,$_:new Wn(B,m),d:new Wn(v,f),jk:new Wn(U,H)})}}else{for(var $=0;
$<Q.length;$+=2){var Y=new Wn(Q[$],Q[$+1]);Z.push({type:F,$_:Y.clone(),d:Y.clone(),jk:Y.clone()})}}return Z};
e.D.zv=function(Q,C){e.D.Df();var j=new paper.Path;j.remove();var Z=Q.length-1,F=Math.sqrt((Q[Z-1]-Q[0])*(Q[Z-1]-Q[0])+(Q[Z]-Q[1])*(Q[Z]-Q[1]))<3;
j.closed=F;for(var _=0;_<Q.length;_+=2)j.add(new paper.Point(Q[_],Q[_+1]));j.simplify(C);var $=[{type:6},{type:8,all:0}];
$=$.concat(e.D.rA(j));return $};e.D.vyp=function(Q,C,j){var Z=Q[C].length,F=Q[C].type,_=0,$=Q.slice(C+1,C+1+Z);
for(var L=0;L<Z;L++){var D=j[L];if(D!=0){var d=$[(L-1+Z)%Z].d,o=$[(L+0+Z)%Z].d,v=$[(L+1+Z)%Z].d;D=Math.min(D,Wn.iQ(d,o)/2,Wn.iQ(o,v)/2);
var f=e.g.Dp(d.x,d.y,o.x,o.y,v.x,v.y,0,D),U={type:F+1,$_:new Wn(f[2],f[3]),d:new Wn(f[2],f[3]),jk:new Wn(f[4],f[5])},H={type:F+1,$_:new Wn(f[6],f[7]),d:new Wn(f[8],f[9]),jk:new Wn(f[8],f[9])};
Q.splice(C+_+1,1,U,H);_++;Q[C].length++}_++}};e.D.yx=function(Q){for(var C=0;C<Q.length;C++){var j=Q[C],Z=j.type;
if(Z==1||Z==2||Z==4||Z==5)if(!j.d.gm(j.$_)||!j.d.gm(j.jk))return!1}return!0};e.D.rM=function(Q){if(Q.length!=7||!e.D.yx(Q))return!1;
for(var C=0;C<4;C++){var j=!0;for(var Z=0;Z<4;Z++){var F=Q[3+(C+Z&3)],_=Q[3+(C+Z+1&3)];if(F.d.x!=_.d.x&&F.d.y!=_.d.y)j=!1}if(j)return!0}return!1};
e.D._K={};e.D._K.hH=function(Q,C,j){var Z=[{type:6},{type:8,all:0}],F=null;Z.push({type:j?3:0,rh:1,length:0,XN:0,Xn:0,Vy:1});
if(C==0)F==null;else if(C instanceof Array)F=C;else{F=[];for(var _=0;_<Q.length;_+=2)F.push(C)}Z=Z.concat(e.D.yF(Q,F,j));
Z[2].length=Z.length-3;return Z};e.D._K.vyx=function(Q,C,j,Z,F){var _=[],$=[],L=.553,D=1,d=-1;_.push({type:1,$_:new Wn(0,L),d:new Wn(0,0),jk:new Wn(0,-L)});
F+=2;for(var o=0;o<F;o++){var v={type:1};if(o==0){v.d=new Wn(1,-1);v.$_=new Wn(1-L,-1);v.jk=new Wn(1+L,-1)}else{var f=-(o+2)*Math.PI/2,U=1+((o&1)==1?o-1:o),H=Math.sin(f),B=Math.cos(f);
D+=U*(H-B);d+=U*(B+H);v.d=new Wn(D,d);v.$_=new Wn(D+U*B*L,d-U*H*L);if((o&1)==1)U+=2;v.jk=new Wn(D-U*B*L,d+U*H*L)}var m={type:1,$_:new Wn(-v.jk.x,-v.jk.y),d:new Wn(-v.d.x,-v.d.y),jk:new Wn(-v.$_.x,-v.$_.y)};
_.push(v);if(o<F-2)$.push(m)}$.reverse();_=_.concat($);var Y=[{type:6},{type:8,all:0}];Y.push({type:0,rh:1,length:_.length,XN:0,Xn:0,Vy:1});
Y=Y.concat(_);var q=new rI(j/F,0,0,j/F,0,0);q.rotate(Z);q.translate(Q,C);e.D.gw(Y,q);return Y};e.D._K.Rect=function(Q,C,j,Z,F){var _=[Q,C,Q+j,C,Q+j,C+Z,Q,C+Z];
return e.D._K.hH(_,F)};e.D._K.zQ=function(Q,C,j,Z,F,_){var $=[],L=2*Math.PI/F;for(var D=0;D<F;D++)$.push(Math.cos(D*L),Math.sin(D*L));
var d=new rI(j,0,0,j,0,0);d.rotate(Z);d.translate(Q,C);e.g.M($,d,$);return e.D._K.hH($,_)};e.D._K.vxQ=function(Q,C,j,Z,F,_,$){var L=[],D=Math.PI/F;
for(var d=0;d<F*2;d++){var o=(d&1)==0?1:$;L.push(o*Math.cos(d*D),o*Math.sin(d*D))}var v=new rI(j,0,0,j,0,0);
v.rotate(Z);v.translate(Q,C);e.g.M(L,v,L);return e.D._K.hH(L,_)};e.D._K.Id=function(Q,C,j,Z,F){return e.D._K._m(0,Q,C,j,Z,F)};
e.D._K.vxz=function(Q,C,j,Z,F,_){return e.D._K._m(1,Q,C,j,Z,F,_)};e.D._K._m=function(Q,C,j,Z,F,_,$){var L=Math.sqrt((Z-C)*(Z-C)+(F-j)*(F-j)),D;
_/=2;if(Q==0)D=[-_,0,_,0,_,L,-_,L];else{var d=_*2*$*1.3/1.5,o=_*$;D=[-_,0,_,0,_,L-d,o,L-d,0,L,-o,L-d,-_,L-d]}var v=new rI(1,0,0,1,0,0);
v.rotate(Math.atan2(-F+j,Z-C)+Math.PI/2);v.translate(C,j);e.g.M(D,v,D);return e.D._K.hH(D,0)};e.D._K.Cm=function(Q,C,j,Z){var F=[{type:6},{type:8,all:0}],v=.553;
F.push({type:0,rh:1,length:4,XN:0,Xn:0,Vy:1});var _=Q,$=C,L=Q+j,D=C+Z,Q=(_+L)/2,C=($+D)/2,d=(_-L)/2,o=($-D)/2;
F.push({type:1,$_:new Wn(Q-v*d,C-o),d:new Wn(Q,C-o),jk:new Wn(Q+v*d,C-o)});F.push({type:1,$_:new Wn(Q+d,C-v*o),d:new Wn(Q+d,C),jk:new Wn(Q+d,C+v*o)});
F.push({type:1,$_:new Wn(Q+v*d,C+o),d:new Wn(Q,C+o),jk:new Wn(Q-v*d,C+o)});F.push({type:1,$_:new Wn(Q-d,C+v*o),d:new Wn(Q-d,C),jk:new Wn(Q-d,C-v*o)});
return F};e.D._K.vxq=function(Q,C,j,Z,F){var _=[{type:6},{type:8,all:0}];_.push({type:3,rh:1,length:5,XN:0,Xn:0,Vy:1});
var $=(F-Z)/4;for(var L=0;L<5;L++){var D=L*$,d=Math.cos(D),o=Math.sin(D),v=.553*($/(Math.PI/2)),f=o*v,U=-d*v,H=new Wn(d,o);
_.push({type:4,$_:L==0?H.clone():new Wn(d+f,o+U),d:H,jk:L==4?H.clone():new Wn(d-f,o-U)})}var B=new rI;
B.rotate(-Z);B.scale(j,j);B.translate(Q,C);e.D.gw(_,B);return _};e.$k={};e.$k.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
e.$k.CH=function(Q){var C=Q.warpStyle.v.warpStyle;if(C=="warpNone")return!0;else if(C=="warpCustom"){var j=!1,Z=Q.customEnvelopeWarp.v.meshPoints.v.arr,F=Z[0].arr,_=Z[1].arr;
for(var $=0;$<4;$++)for(var L=0;L<4;L++){if(Math.abs(F[$]-F[L*4+$])>1||Math.abs(_[$*4]-_[$*4+L])>1)j=!0}return!j}else return Q.warpValue.v==0&&Q.warpPerspective.v==0&&Q.warpPerspectiveOther.v==0};
e.$k.Q=function(Q){var C={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(Q){C.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:Q.y}},Left:{t:"UntF",v:{type:"#Pxl",val:Q.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:Q.y+Q.C}},Rght:{t:"UntF",v:{type:"#Pxl",val:Q.x+Q.W}}}};
C.uOrder={t:"long",v:4};C.vOrder={t:"long",v:4}}return C};e.$k.vxk=function(Q,C,j,Z){for(var F=0;F<Q.length;
F+=2){var _=Q[F],$=Q[F+1],L=(_-C.x)/C.W,D=($-C.y)/C.C,d=(1-j)/2,o=1-d,v=d+L*(o-d);D=.5+(D-.5)*v*2;var f=(1-Z)/2,U=1-f,H=f+D*(U-f);
L=.5+(L-.5)*H*2;_=C.x+L*C.W;$=C.y+D*C.C;Q[F]=_;Q[F+1]=$}};e.$k._y=function(Q,C){var j=[],Z=[];for(var F=0;
F<Q.length;F+=2){j.push(Q[F]);Z.push(Q[F+1])}var _=[];_.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:j});
_.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:Z});C.warpStyle.v.warpStyle="warpCustom";C.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:_}}}}};
e.$k.ah=function(Q,C){if(C==null){var j=Q.bounds.v,Z=j.Left.v.val,F=j.Rght.v.val,_=j.Top.v.val,$=j.Btom.v.val;
C=new s(Z,_,F-Z,$-_)}if(C.jJ())C.W=C.C=1;var L=[],D=Q.warpStyle.v.warpStyle;if(D=="warpCustom"){var d=Q.customEnvelopeWarp.v.meshPoints.v.arr,o=d[0].arr,v=d[1].arr;
for(var f=0;f<16;f++)L.push(o[f],v[f])}else L=e.$k.$k(C,D,Q.warpRotate.v.Ornt=="Hrzn",Q.warpValue.v/100,Q.warpPerspective.v/100,Q.warpPerspectiveOther.v/100);
return L};e.$k.$k=function(Q,C,j,Z,F,_){var $=e.tl.Q(Q.x,Q.y,Q.W,Q.C);if(C=="warpNone")return $;var L=JSON.parse(JSON.stringify(Q)),D=new rI;
if(!j){D.translate(-Q.x,-Q.y);D.rotate(-Math.PI/2);D.translate(Q.C,0);e.g.M($,D,$);Q=new s(0,0,Q.C,Q.W);
$=e.tl.nP($,!1)}e.$k.vxL($,Q,C,Z,F,_);if(!j){$=e.tl.nP($,!0);Q=L;D.Ie();e.g.M($,D,$)}if(Z==0)e.$k.vxk($,Q,F,_);
else{var D=new rI(1/Q.W,0,0,1/Q.C,-Q.x,-Q.y);D.translate(-.5,-.5);e.g.M($,D,$);e.$k.vxe($,_,F);D.Ie();
e.g.M($,D,$)}return $};e.$k.vxL=function(Q,C,j,Z,F,_){for(var $=0;$<4;$++){for(var L=0;L<4;L++){var D=2*(4*$+L),d=Q[D]-C.x,o=Q[D+1]-C.y,v=d,f=o;
if(Z!=0){var U=C.W/2,H=C.C/2;v-=U;f-=H;var B=v,m=v,Y=-H,q=H,r=Math.abs(Z),x=Math.tan((1-r)*Math.PI/2),a=Math.sqrt(x*x+1),i=Math.atan2(1,x),l=v/U*i,M=U*a,z=U*a+C.C,V=Math.cos(i),X=Math.sin(i),O=e.$k.vOi(V,X),y=e.$k.vOZ(V,X),K=-x*U+O*M;
if(j=="warpArc"){B=Math.sin(l)*z;Y=x*U-Math.cos(i)*z+H;m=Math.sin(l)*M;q=x*U-Math.cos(i)*M+H;if(L==1||L==2){B=L==1?-y*z:y*z;
m=L==1?-y*M:y*M;Y=x*U+H-O*z;q=x*U+H-O*M}if(Z<0){var R=B;B=m;m=R;R=Y;Y=-q;q=-R}}if(j=="warpArcLower"){if(L==1||L==2){m=L==1?-y*M:y*M;
q=Z<0?H-K:H+K}}if(j=="warpArcUpper"||j=="warpArch"||j=="warpBulge"){if(L==1||L==2){B=L==1?-y*M:y*M;Y=Z<0?-H+K:-H-K}if(j=="warpArch"){m=B;
q=Y+2*H}if(j=="warpBulge"){m=B;q=-Y}}if(j=="warpFish"||j=="warpFlag"||j=="warpWave"){if(L==1){Y-=Z*4*H;
q+=Z*4*H}if(L==2){Y+=Z*4*H;q-=Z*4*H}if(j=="warpFlag"||j=="warpWave")Y=q-2*H}if(j=="warpRise"){if(L<2)Y=-H+Z*H*4;
q=Y+2*H}var W=(f+H)/C.C;v=B+W*(m-B);f=Y+W*(q-Y);if(j=="warpWave"){if($==0)f=-H;if($==3)f=H;if($==1||$==2)f=2*H*($/3-.5)*(1/3)+f*(2/3)}if(j=="warpFisheye"){if(($==1||$==2)&&(L==1||L==2)){v=v+4*v*Z;
f=f+4*f*Z}}if(j=="warpInflate"){var N=2/3;if(($==1||$==2)&&(L==1||L==2)){v=v+.5*v*Z;f=f+.5*f*Z}else if($==1||$==2)v=v+N*v*Z;
else if(L==1||L==2)f=f+N*f*Z}if(j=="warpSqueeze"){var N=2/3;if(($==1||$==2)&&(L==1||L==2)){if(Z>0)v=v-N*v*Z;
else f=f+N*f*Z}else if($==1||$==2)v=v-N*v*Z;else if(L==1||L==2)f=f+N*f*Z}if(j=="warpTwist"){if(($==1||$==2)&&(L==1||L==2)){var I=Z*Math.PI/2,a=1+Math.abs(Z)*2,T=v*Math.cos(I)-f*Math.sin(I),h=v*Math.sin(I)+f*Math.cos(I);
v=T*a;f=h*a}}if(j=="warpShellLower"||j=="warpShellUpper"){if(j=="warpShellUpper"){$=3-$;f=-f}if($>2||$==2&&(L==0||L==3)){if(Z>0){var p=M+$/3*2*H;
v=Math.sin(l)*p;f=-x*U-H+Math.cos(l)*p;if(L==1||L==2){v=L==1?-y*p:y*p;f=-x*U-H+O*p}}else{if((L==1||L==2)&&$==3){v=L==1?-y*M:y*M;
f=x*U-O*M+H}else if($==2){f=H-H*(2/3)*Math.cos(l);v=v+H*(2/3)*Math.sin(l)}}}if(j=="warpShellUpper"){$=3-$;
f=-f}}v+=U;f+=H}d=v,o=f;Q[D]=d+C.x;Q[D+1]=o+C.y}}};e.$k.vxe=function(Q,C,j){var Z=[];for(var F=0;F<4;
F++)Z.push(1-j+F/3*2*j);var _=[];for(var F=0;F<4;F++)_.push(1-C+F/3*2*C);var $=[0,0,0,0],L=[0,0,0,0];
for(var D=0;D<4;D++)for(var F=0;F<4;F++){var d=2*(4*D+F),o=Q[d],v=Q[d+1];$[F]+=o/4;L[F]+=v/4}for(var D=0;
D<4;D++)for(var F=0;F<4;F++){var f=Z[F],d=2*(4*D+F),o=Q[d],v=Q[d+1],U=$[F],H=L[F];Q[d]=U+f*(o-U);Q[d+1]=H+f*(v-H)}var B=Q.slice(0);
for(var D=0;D<4;D++)for(var F=1;F<3;F++){var d=2*(4*D+F),o=Q[d],v=Q[d+1],m=d+(F==1?-2:2),Y=Q[m],q=Q[m+1];
Q[d]=o-Y;Q[d+1]=v-q}var r=Q[0],x=Q[1],a=Q[8],i=Q[9],l=Q[16],M=Q[17],z=Q[24],V=Q[25],X=Q[6],O=Q[7],y=Q[14],K=Q[15],R=Q[22],W=Q[23],N=Q[30],I=Q[31],T=X-r,h=O-x,p=y-a,u=K-i,g=R-l,A=W-M,w=N-z,r$=I-V;
for(var D=0;D<4;D++){var rW=2*D*4,J=0,rr=0,r_=D==1?.33:.66,rO=1-r_;if(D==0){J=T;rr=h}if(D==1){J=rO*T+r_*-w;
rr=rO*h+r_*-r$}if(D==2){J=rO*T+r_*-w;rr=rO*h+r_*-r$}if(D==3){J=-w;rr=-r$}Q[rW]=Q[rW]+J/2;Q[rW+1]=Q[rW+1]+rr/2;
Q[rW+6]=Q[rW+6]-J/2;Q[rW+7]=Q[rW+7]-rr/2}for(var D=0;D<4;D++)for(var F=1;F<3;F++){var d=2*(4*D+F),o=Q[d],v=Q[d+1],m=d+(F==1?-2:2),Y=Q[m],q=Q[m+1],f=2*D/3;
Q[d]=Y+f*o;Q[d+1]=q+f*v}for(var D=1;D<3;D++)for(var F=1;F<3;F++){var d=2*(4*D+F),o=Q[d],v=Q[d+1],k=D==1?-8:-16,rv=D==1?16:8,rb=Q[d+k],rt=Q[d+k+1],rK=Q[d+rv],rR=Q[d+rv+1],f=D/3;
o=(1-f)*rb+f*rK;v=(1-f)*rt+f*rR;Q[d]=o;Q[d+1]=v}e.g.jg(B,Q,Q,C)};e.$k.vOi=function(Q,C){return(4-Q)*(1/3)};
e.$k.vOZ=function(Q,C){return(1-Q)*(3-Q)/(3*C)};e.DM={};e.DM.yT=function(Q,C,j,Z,F,_,$,L,D,d){var o=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],v=1/D,f=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],U=new Uint32Array(6);
for(var H=0;H<L;H++){for(var B=0;B<$;B++){var m=3*(H*$+B),Y=H+_,q=B+F;U[0]=0;U[1]=0;U[2]=0;U[3]=0;U[4]=0;
U[5]=0;for(var r=0;r<16;r+=2){var x=q+f[r],a=Y+f[r+1],i=x-D*~~(x*v),l=a-D*~~(a*v),M=d[l*D+i];U[M]+=Q[a*C+x];
U[M+3]++}var x=q,a=Y,i=x-D*~~(x*v),l=a-D*~~(a*v),M=d[l*D+i];U[M]=Q[Y*C+q];U[M+3]=1;Z[m]=U[0]*o[U[3]];
Z[m+1]=U[1]*o[U[4]];Z[m+2]=U[2]*o[U[5]]}}};e.DM._x=function(Q,C,j){for(var Z=0;Z<j;Z+=2)Q[C+Z]=Q[C+Z+1];
C=C+j;for(var Z=0;Z<j;Z+=2)Q[C+Z+1]=Q[C+Z]};e.DM._F=function(Q,C,j,Z){for(var F=0;F<Z;F+=2){var _=C+F*j;
Q[_]=Q[_+j];Q[_+j+1]=Q[_+1]}};e.DM._L=function(Q,C,j,Z,F,_){var $=Z[F],L=Z[F+1],D=Z[_],d=Z[_+1],o=L+D>>>1;
Q[C]=Q[C+3]=Q[j]=Q[j+3]=$;Q[C+1]=o;Q[C+4]=L;Q[j+1]=D;Q[j+4]=o;Q[C+2]=Q[C+5]=Q[j+2]=Q[j+5]=d};e.DM.vOn=function(Q,C,j,Z,F,_){var $=_*3;
for(var L=0;L<_;L+=2){var D=C+L,d=F+L*3;e.DM._L(Z,d,d+$,Q,D,D+j)}};e.DM.vve=function(Q,C,j,Z,F,_,$){var L=_*3;
for(var D=0;D<$;D+=2){var d=C+D*j,o=F+D*_*3;e.DM._L(Z,o,o+L,Q,d,d+j)}};e.DM.Qz=function(Q,C,j){var Z=Q[C-j-j],F=Q[C-j],_=Q[C-2],$=Q[C-1],L=Q[C],D=Q[C+1],d=Q[C+2],o=Q[C+j],v=Q[C+j+j],f=Math.abs(F-o),U=Math.abs($-D),H=Math.abs(L-Z)*2+f,B=Math.abs(L-d)*2+U,m=Math.abs(L-_)*2+U,Y=Math.abs(L-v)*2+f,q=Math.min(H,Math.min(B,Math.min(m,Y)));
if(q==H)return F*3+o+L-Z>>2;if(q==B)return D*3+$+L-d>>2;if(q==m)return $*3+D+L-_>>2;return o*3+F+L-v>>2};
e.DM.IZ=function(Q,C,j,Z,F){if(Q<C&&C<j||Q>C&&C>j)return~~(.5+Z+(F-Z)*(C-Q)/(j-Q));else return(Z+F>>1)+(C+C-Q-j>>2)};
e.DM.Qq=function(Q,C,j,Z){var F=C[j-Z-1],_=C[j-Z+1],$=C[j],L=C[j+Z-1],D=C[j+Z+1],d=Q[j-Z-1],o=Q[j-Z+1],v=Q[j],f=Q[j+Z-1],U=Q[j+Z+1],H=Math.abs(o-f)+Math.abs(Q[j-Z-Z+2]-v)+Math.abs(v-Q[j+Z+Z-2])+Math.abs(_-$)+Math.abs($-L),B=Math.abs(d-U)+Math.abs(Q[j-Z-Z-2]-v)+Math.abs(v-Q[j+Z+Z+2])+Math.abs(F-$)+Math.abs($-D);
if(H<B)return e.DM.IZ(_,$,L,o,f);else return e.DM.IZ(F,$,D,d,U)};e.DM.yL=function(Q,C,j,Z,F,_){Q[C+0]=j[F];
Q[C+1]=Z[F];Q[C+2]=e.DM.Qq(j,Z,F,_)};e.DM.yf=function(Q,C,j,Z,F,_){var $=Z[F];Q[C+0]=e.DM.IZ(Z[F-1],$,Z[F+1],j[F-1],j[F+1]);
Q[C+1]=$;Q[C+2]=e.DM.IZ(Z[F-_],$,Z[F+_],j[F-_],j[F+_])};e.DM.ye=function(Q,C,j,Z,F,_){var $=Z[F];Q[C+0]=e.DM.IZ(Z[F-_],$,Z[F+_],j[F-_],j[F+_]);
Q[C+1]=$;Q[C+2]=e.DM.IZ(Z[F-1],$,Z[F+1],j[F-1],j[F+1])};e.DM.yA=function(Q,C,j,Z,F,_){Q[C+0]=e.DM.Qq(j,Z,F,_);
Q[C+1]=Z[F];Q[C+2]=j[F]};e.DM.vDi=function(Q,C,j,Z,F,_,$,L,D){var d=Date.now(),o=2,v=C-2,f=2;if((F&1)==1){o++;
v--}var U=j-2;if((_&1)==1){f++;U--}if(D==1||D==3){o++;v--}var H=Q.slice(0);e.DM._x(H,0,C);e.DM._F(H,0,C,j);
e.DM._F(H,C-2,C,j);e.DM._x(H,(j-2)*C,C);for(var B=f;B<U;B+=2)for(var m=o;m<v;m+=2){var Y=B*C+m,q=e.DM.Qz(H,Y,C),r=e.DM.Qz(H,Y+C+1,C);
H[Y]=Math.max(0,q);H[Y+C+1]=Math.max(0,r)}var x=$,a=L;if(_+L==j){a-=2;e.DM.vOn(Q,(j-2)*C+F,C,Z,(L-2)*$*3,$)}if(F+$==C){x-=2;
e.DM.vve(Q,_*C+F+$-2,C,Z,($-2)*3,$,L)}if(D==0)for(var B=0;B<a;B+=2)for(var m=0;m<x;m+=2){var i=(B+_)*C+m+F,l=(B*$+m)*3;
e.DM.yL(Z,l,Q,H,i,C);e.DM.yf(Z,l+3,Q,H,i+1,C);i+=C;l+=3*$;e.DM.ye(Z,l,Q,H,i,C);e.DM.yA(Z,l+3,Q,H,i+1,C)}else if(D==1)for(var B=0;
B<a;B+=2)for(var m=0;m<x;m+=2){var i=(B+_)*C+m+F,l=(B*$+m)*3;e.DM.yf(Z,l,Q,H,i,C);e.DM.yL(Z,l+3,Q,H,i+1,C);
i+=C;l+=3*$;e.DM.yA(Z,l,Q,H,i,C);e.DM.ye(Z,l+3,Q,H,i+1,C)}else if(D==2)for(var B=0;B<a;B+=2)for(var m=0;
m<x;m+=2){var i=(B+_)*C+m+F,l=(B*$+m)*3;e.DM.yA(Z,l,Q,H,i,C);e.DM.ye(Z,l+3,Q,H,i+1,C);i+=C;l+=3*$;e.DM.yf(Z,l,Q,H,i,C);
e.DM.yL(Z,l+3,Q,H,i+1,C)}else if(D==3)for(var B=0;B<a;B+=2)for(var m=0;m<x;m+=2){var i=(B+_)*C+m+F,l=(B*$+m)*3;
e.DM.ye(Z,l,Q,H,i,C);e.DM.yA(Z,l+3,Q,H,i+1,C);i+=C;l+=3*$;e.DM.yL(Z,l,Q,H,i,C);e.DM.yf(Z,l+3,Q,H,i+1,C)}};
e.raw={};e.raw.vDS=function(Q){var C=Q.width,j=Q.height,Z=Date.now(),F=e.raw.vDN(Q),_=0,$=0;e.raw.zq(2,Q,F,C,j);
var L=C,D=j;if(Q.t50829){var d=Q.t50829;_=d[1];$=d[0];L=d[3];D=d[2]}if(Q.t50719){var o=Q.t50719;_+=o[0]>>1<<1;
$+=o[1]>>1<<1}if(Q.t50720){var v=Q.t50720;L=_+v[0];D=$+v[1]}var f=L-_,U=D-$,H=new Float32Array(f*U*3);
if(Q.t277[0]==1){var B=Q.t33421;if(B.length!=2||B[0]!=2||B[1]!=2){console.log("Unknown CFA pattern size",B);
e.DM.yT(F,C,j,H,_,$,f,U,B[0],Q.t33422)}else{var m=Q.t33422.join(","),Y=0;if(m=="0,1,1,2")Y=0;else if(m=="1,0,2,1")Y=1;
else if(m=="2,1,1,0")Y=2;else if(m=="1,2,0,1")Y=3;else throw"Unknown CFA pattern "+m;if((f&1)!=0||(U&1)!=0)throw"e";
e.DM.vDi(F,C,j,H,_,$,f,U,Y)}}else{for(var q=0;q<U;q++)for(var r=0;r<f;r++){var x=((q+$)*C+r+_)*3,a=(q*f+r)*3;
H[a+0]=F[x+0];H[a+1]=F[x+1];H[a+2]=F[x+2]}}var i=H,l=H.length,M=e.raw.v$d(Q),z=1/M;for(var V=0;V<l;V+=3){H[V]=Math.min(1,i[V]*z);
H[V+1]=Math.min(1,i[V+1]*z);H[V+2]=Math.min(1,i[V+2]*z)}e.raw.zq(3,Q,H,f,U);var X=Q.lD,O=f,y=U;if(X==1||X==9){}else{var K=e.raw.QJ(X,f,U),a=0;
O=K[0];y=K[1];var R=H.slice(0);for(var q=0;q<y;q++)for(var r=0;r<O;r++){var W=K[2]*r+K[3]*q+K[4],N=K[5]*r+K[6]*q+K[7],x=(N*f+W)*3;
H[a]=R[x];H[a+1]=R[x+1];H[a+2]=R[x+2];a+=3}}return{Dg:H,Ql:O,QE:y}};e.raw.QJ=function(Q,C,j){var Z=C,F=j;
if(Q==3)return[C,j,-1,0,C-1,0,-1,j-1];else if(Q==6)return[j,C,0,1,0,-1,0,j-1];else if(Q==8)return[j,C,0,-1,C-1,1,0,0];
else throw"unknown orientation "+Q};e.raw.zz=function(Q,C,j,Z){var F=Q.Dg,_=Math.round(F.length/3),$=DA.vrz(Z[0],Z[1]),L=e.raw.v$A(j,$),D=e.U_.multiply(e.U_.Re,L),d=Math.pow(2,Z[2]+(j.t50730?j.t50730[0]:0));
D=e.U_.multiply(D,e.U_.vG(d,d,d));var o=j.t50728,v=[o[1]/o[0],o[2]/o[0],o[0]/o[1],o[2]/o[1],o[0]/o[2],o[1]/o[2]],f=new Float64Array(1e3);
for(var U=0;U<1e3;U++){var H=U*(1/999);H=U==999?1:e.KT(U*(1/999));H=e.raw.VG.vDH(H,Z[3]/100);f[U]=H}var B=Date.now();
for(var U=0;U<_;U++){var m=U<<2,Y=m-U,q=F[Y],r=F[Y+1],x=F[Y+2];if(r>=.92){var a=Math.min(q,x);if(a==q){r=Math.max(r,v[0]*q);
x=Math.max(x,v[1]*q)}else{q=Math.max(q,v[4]*x);r=Math.max(r,v[5]*x)}}var i=D[0]*q+D[1]*r+D[2]*x,l=D[4]*q+D[5]*r+D[6]*x,M=D[8]*q+D[9]*r+D[10]*x;
if(i<0)i=0;else if(i>1)i=1;if(l<0)l=0;else if(l>1)l=1;if(M<0)M=0;else if(M>1)M=1;i=f[~~(i*999)];l=f[~~(l*999)];
M=f[~~(M*999)];C[m]=~~(.5+i*255);C[m+1]=~~(.5+l*255);C[m+2]=~~(.5+M*255)}};e.raw.VG={vDH:function(Q,C){var j=.5-.5*Math.cos(Q*3.2),Z=0;
if(C>0){var F=Q*.2;Z=F*Q+(1-F)*j}else{var _=Math.pow(Q,.33);Z=(1-_)*_+_*(Q+(Q-j)*.63)}var $=Math.abs(C);
return $*Z+(1-$)*Q},vSI:function(Q,C){var j=0;if(C>0){var Z=Q*1.47,F=Math.pow(Q,2.4);j=Math.min(1,F*Q+(1-F)*Z)}else{var Z=Q*.68,F=Math.pow(Q,3);
j=F*Q*.5+(1-F)*Z}var _=Math.abs(C);return _*j+(1-_)*Q},vSx:function(Q,C){var j=0;if(C>0){var Z=Math.pow(Q,.3),F=Q;
j=(1-Q)*Z+Q*F}else{var Z=Math.pow(Q,2.5),_=Q,F=Q;j=Math.min(1,(1-_)*Z+_*F)}var $=Math.abs(C);return $*j+(1-$)*Q}};
e.raw.vDN=function(Q){var C=Q.width,j=Q.height,Z=C*j*Q.t277,F=new Uint16Array(Z),_=null,$=0;e.raw.v$a(Q,F);
e.raw.zq(1,Q,F,C,j);if(Q.t50712){_=Q.t50712;$=_.length-1;if(_[$]>65535)throw"too big values"}var L=e.raw.QB(Q),D=e.raw.Qx(Q);
if(_==null)for(var d=0;d<Z;d++)F[d]=Math.max(0,F[d]-L);else for(var d=0;d<Z;d++){var o=F[d];if(o>$)o=$;
o=_[o];F[d]=Math.max(0,o-L)}return F};e.raw.QB=function(Q){var C=Q.t50714,j=C?C[0]:0,Z=Q.t50715,F=Q.t50716;
if(Z)j+=Z[0];if(F)j+=F[0];return Math.round(j)};e.raw.Qx=function(Q){var C=null,j=0;if(Q.t50712){C=Q.t50712;
j=C.length-1}var Z=Q.t50717[0];if(C)Z=Math.min(Z,C[j]);return Z};e.raw.v$d=function(Q){var C=e.raw.QB(Q),j=e.raw.Qx(Q);
return j-C};e.raw.v$a=function(Q,C){var j=C.length,Z=Q.data,F=Q.t258[0];if(F!=16&&F!=14&&F!=12&&F!=10&&F!=8)throw"Unsupported Bits Per Sample:"+F;
F=Math.round(Z.length*8/j);if(F==16&&Q.isLE){e.W_(Z,C);return}for(var _=0;_<j;_+=2){var $=0,L=0,D=0;
if(F==16){$=_<<1;L=Z[$]<<8|Z[$+1];D=Z[$+2]<<8|Z[$+3]}else if(F==14){var d=_*14,o=d>>>3,v=Z[o]<<24|Z[o+1]<<16|Z[o+2]<<8|Z[o+3];
if((d&7)==0){L=v>>>18;D=v>>>4&16383}else{L=v>>>14&16383;D=v&16383}}else if(F==12){$=_+(_>>>1);L=Z[$]<<4|Z[$+1]>>4;
D=(Z[$+1]&15)<<8|Z[$+2]}else if(F==10){var d=_*10,o=d>>>3;if((d&7)==0){L=(Z[o]<<2|Z[o+1]>>6)&1023;D=(Z[o+1]<<4|Z[o+2]>>4)&1023}else{L=(Z[o]<<6|Z[o+1]>>2)&1023;
D=(Z[o+1]<<8|Z[o+2]>>0)&1023}}else if(F==8){$=_;L=Z[$];D=Z[$+1]}C[_]=L;C[_+1]=D}};e.raw.zq=function(Q,C,j,Z,F){var _=C["t"+[51008,51009,51022][Q-1]],o=0;
if(_==null)return;var $=Z*F,L=c.o,D=c.ip,d=new Uint8Array(_),v=c.o(d,o);o+=4;for(var f=0;f<v;f++){var U=L(d,o);
o+=4;var H=L(d,o);o+=4;var B=L(d,o);o+=4;var m=L(d,o);o+=4;if(!1){}else if(U==1&&Q==3){var Y=o,q=L(d,Y);
Y+=4;var r=D(d,Y);Y+=8;var x=D(d,Y);Y+=8;var a=D(d,Y);Y+=8;var i=D(d,Y);Y+=8;var l=D(d,Y);Y+=8;var M=D(d,Y);
Y+=8;Y+=(q-1)*8*6;var z=D(d,Y);Y+=8;var V=D(d,Y);Y+=8;var X=z*Z,O=V*F,y=Math.max(X,Z-X),K=Math.max(O,F-O),R=Math.sqrt(y*y+K*K),W=1/R,N=j.slice(0);
for(var I=0;I<F;I++)for(var T=0;T<Z;T++){var h=(T+.5-X)*W,p=(I+.5-O)*W,u=h*h+p*p,g=r+x*u+a*(u*u)+i*(u*u)*u,A=l*(2*h*p)+M*(u+2*h*h),w=M*(2*h*p)+l*(u+2*p*p),r$=~~(X+R*(g*h+A)),rW=~~(O+R*(g*p+w)),J=(rW*Z+r$)*3,rr=(I*Z+T)*3;
j[rr]=N[J];j[rr+1]=N[J+1];j[rr+2]=N[J+2]}}else if(U==3&&Q==3){var Y=o,r_=D(d,Y);Y+=8;var rO=D(d,Y);Y+=8;
var k=D(d,Y);Y+=8;var rv=D(d,Y);Y+=8;var rb=D(d,Y);Y+=8;var z=D(d,Y);Y+=8;var V=D(d,Y);Y+=8;var X=z*Z,O=V*F,y=Math.max(X,Z-X),K=Math.max(O,F-O),R=Math.sqrt(y*y+K*K),W=1/R;
for(var I=0;I<F;I++)for(var T=0;T<Z;T++){var h=(T+.5-X)*W,p=(I+.5-O)*W,u=h*h+p*p,rt=1+(r_+(rO+(k+(rv+rb*u)*u)*u)*u)*u,rr=(I*Z+T)*3;
j[rr]=rt*j[rr];j[rr+1]=rt*j[rr+1];j[rr+2]=rt*j[rr+2]}}else if(U==4&&Q==1){var Y=o,rK=L(d,Y);Y+=4;var rR=L(d,Y);
Y+=4;for(var ri=0;ri<$;ri++)if(j[ri]==rK)j[ri]=j[ri-2]+j[ri+2]>>1}else if(U==5&&Q==1){var Y=o,ru=L(d,Y);
Y+=4;var rS=L(d,Y);Y+=4;var rg=L(d,Y);Y+=4;for(var ri=0;ri<rS;ri++){var rd=L(d,Y);Y+=4;var vO=L(d,Y);
Y+=4;var ri=rd*Z+vO;j[ri]=j[ri-2]+j[ri+2]>>1}}else if(U==7&&Q==1){var Y=o,rq=c.Gm(d,Y);Y+=16;var rL=L(d,Y);
Y+=4;var rl=L(d,Y);Y+=4;var rV=L(d,Y),ry=L(d,Y+4);Y+=8;var vj=L(d,Y);Y+=4;var rp=new Uint16Array(vj);
for(var ri=0;ri<vj;ri++)rp[ri]=c.bS(d,Y+2*ri);var rx=rq.W,rF=rq.C;for(var I=0;I<rF;I+=rV)for(var T=0;
T<rx;T+=ry){var ri=(rq.y+I)*Z+(rq.x+T);j[ri]=rp[j[ri]]}}else if(U==9&&Q==2){var Y=o,rq=c.Gm(d,Y),rE=!0;
Y+=16;var rL=L(d,Y);Y+=4;var rl=L(d,Y);Y+=4;var rV=L(d,Y),ry=L(d,Y+4);Y+=8;var DX=L(d,Y),va=L(d,Y+4);
Y+=8;var rB=D(d,Y),vW=D(d,Y+8);Y+=16;var rN=D(d,Y),rM=D(d,Y+8);Y+=16;var _Q=L(d,Y);Y+=4;if(_Q!=1)throw"more than one map plane";
var _O=DX*va,rw=new Float32Array(_O);for(var rj=0;rj<_O;rj++)rw[rj]=c.UZ(d,Y+rj*4);for(var rj=0;rj<_O;
rj++)if(rw[rj]!=1)rE=!1;if(!rE){var rx=rq.W,rF=rq.C,_W=.9999*(va-1)/rx,vm=.9999*(DX-1)/rF;for(var I=0;
I<rF;I+=rV)for(var T=0;T<rx;T+=ry){var ri=(rq.y+I)*Z+(rq.x+T),rf=T*_W,rU=I*vm,Du=Math.floor(rf),_s=Math.floor(rU),_t=rf-Du,_I=rU-_s,rr=_s*va+Du,Qb=rw[rr]*(1-_t)+rw[rr+1]*_t,_D=rw[rr+va]*(1-_t)+rw[rr+1+va]*_t,_E=Qb*(1-_I)+_D*_I;
j[ri]=~~(j[ri]*_E+.5)}}}else console.log("Unknown opcode "+U+" in OpcodeList"+Q+". Length: "+m);o+=m}};
e.raw.v$A=function(Q,C){var j=DA.tk(C),Z=e.raw.QL(Q,C),F=e.U_.Ie(Z),_=DA.vri(j,DA.tk(DA.vrj)),$=e.U_.multiply(_,F);
return $};e.raw.vWb=function(Q){var C=Q.t50728.slice(0),Z=1;C.push(0);var j={x:.34567,y:.3585};do{var F=e.U_.Ie(e.raw.QL(Q,j)),_=e.U_.mR(F,C),$=DA.vrq(_);
Z=Math.abs(j.x-$.x)+Math.abs(j.y-$.y);j=$}while(Z>1e-7);return j};e.raw.QL=function(Q,C){var j=DA.QN(C),Z=e.raw.vWy,F=Q.t50779?Q.t50779[0]:0,_=Z(Q.t50721,Q.t50722,Q.t50778[0],F,j.ZJ),$=Z(Q.t50723,Q.t50724,Q.t50778[0],F,j.ZJ);
$=$||[1,0,0,0,1,0,0,0,1];var L=Q.t50727?[Q.t50727[0],0,0,0,Q.t50727[1],0,0,0,Q.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return e.U_.multiply(e.U_.YH(L),e.U_.multiply(e.U_.YH($),e.U_.YH(_)))};e.raw.vWy=function(Q,C,j,Z,F){if(!Q&&!C){return null}else if(Q&&!C){return Q}else if(F<j){return Q}else if(F>Z){return C}else{var _=(1/F-1/Z)/(1/j-1/Z),$=1-_,L=[];
for(var D=0;D<9;D++)L[D]=Q[D]*_+C[D]*$;return L}};var DA={};DA.vrj={x:.34567,y:.3585};DA.QG=[{h:0,Qw:.18006,dK:.26352,bd:-.24341},{h:10,Qw:.18066,dK:.26589,bd:-.25479},{h:20,Qw:.18133,dK:.26846,bd:-.26876},{h:30,Qw:.18208,dK:.27119,bd:-.28539},{h:40,Qw:.18293,dK:.27407,bd:-.3047},{h:50,Qw:.18388,dK:.27709,bd:-.32675},{h:60,Qw:.18494,dK:.28021,bd:-.35156},{h:70,Qw:.18611,dK:.28342,bd:-.37915},{h:80,Qw:.1874,dK:.28668,bd:-.40955},{h:90,Qw:.1888,dK:.28997,bd:-.44278},{h:100,Qw:.19032,dK:.29326,bd:-.47888},{h:125,Qw:.19462,dK:.30141,bd:-.58204},{h:150,Qw:.19962,dK:.30921,bd:-.70471},{h:175,Qw:.20525,dK:.31647,bd:-.84901},{h:200,Qw:.21142,dK:.32312,bd:-1.0182},{h:225,Qw:.21807,dK:.32909,bd:-1.2168},{h:250,Qw:.22511,dK:.33439,bd:-1.4512},{h:275,Qw:.23247,dK:.33904,bd:-1.7298},{h:300,Qw:.2401,dK:.34308,bd:-2.0637},{h:325,Qw:.24792,dK:.34655,bd:-2.4681},{h:350,Qw:.25591,dK:.34951,bd:-2.9641},{h:375,Qw:.264,dK:.352,bd:-3.5814},{h:400,Qw:.27218,dK:.35407,bd:-4.3633},{h:425,Qw:.28039,dK:.35577,bd:-5.3762},{h:450,Qw:.28863,dK:.35714,bd:-6.7262},{h:475,Qw:.29685,dK:.35823,bd:-8.5955},{h:500,Qw:.30505,dK:.35907,bd:-11.324},{h:525,Qw:.3132,dK:.35968,bd:-15.628},{h:550,Qw:.32129,dK:.36011,bd:-23.325},{h:575,Qw:.32931,dK:.36038,bd:-40.77},{h:600,Qw:.33724,dK:.36051,bd:-116.45}];
DA.QN=function(Q){var C=DA.QG,j=2*Q.x/(1.5-Q.x+6*Q.y),Z=3*Q.y/(1.5-Q.x+6*Q.y),F=0,_=0,$=0;for(;$<31;
$++){F=Z-C[$].dK-C[$].bd*(j-C[$].Qw);if($>0&&F<0){break}_=F}while($>=C.length)$--;F/=Math.sqrt(1+C[$].bd*C[$].bd);
_/=Math.sqrt(1+C[$-1].bd*C[$-1].bd);var L=_/(_-F),D=1e6/((C[$].h-C[$-1].h)*L+C[$-1].h),d=j-((C[$].Qw-C[$-1].Qw)*L+C[$-1].Qw),o=Z-((C[$].dK-C[$-1].dK)*L+C[$-1].dK),v=Math.sqrt(1+C[$].bd*C[$].bd),f=1/v,U=C[$].bd/v,H=Math.sqrt(1+C[$-1].bd*C[$-1].bd),B=1/H,m=C[$-1].bd/H,Y=(f-B)*L+B,q=(U-m)*L+m,r=Math.sqrt(Y*Y+q*q);
Y/=r;q/=r;var x=(d*Y+o*q)*-3e3;return{ZJ:D,NC:x}};DA.vrz=function(Q,C){var j=DA.QG,Z=1e6/Q,F=1;for(;
F<31;F++){if(Z<j[F].h){break}}var _=(j[F].h-Z)/(j[F].h-j[F-1].h),$=(j[F-1].Qw-j[F].Qw)*_+j[F].Qw,L=(j[F-1].dK-j[F].dK)*_+j[F].dK,D=Math.sqrt(1+j[F].bd*j[F].bd),d=1/D,o=j[F].bd/D,v=Math.sqrt(1+j[F-1].bd*j[F-1].bd),f=1/v,U=j[F-1].bd/v,H=(f-d)*_+d,B=(U-o)*_+o,m=Math.sqrt(H*H+B*B);
H/=m;B/=m;$+=H*C/-3e3;L+=B*C/-3e3;return{x:1.5*$/($-4*L+2),y:L/($-4*L+2)}};DA.vrq=function(Q){var C=Q[0]+Q[1]+Q[2];
return{x:Q[0]/C,y:Q[1]/C}};DA.tk=function(Q){return{x:Q.x/Q.y,y:1,Jd:(1-Q.x-Q.y)/Q.y}};DA.vri=function(Q,C){var j=e.U_.YH([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),Z=[Q.x,Q.y,Q.Jd,0],F=[C.x,C.y,C.Jd,0];
Z=e.U_.mR(j,Z);F=e.U_.mR(j,F);var _=F[0]/Z[0],$=F[1]/Z[1],L=F[2]/Z[2],D=e.U_.YH([_,0,0,0,$,0,0,0,L]),d=e.U_.Ie(j);
return e.U_.multiply(e.U_.multiply(d,D),j)};e.raw.zX={};e.raw.zi=function(Q){Q*=8;var C=[8,10,12,14,16];
for(var j in e.raw.yU){var Z=e.raw.yU[j];if(Z.length==4)continue;var F=Z[4],_=Z[5];for(var $=0;$<C.length;
$++)if(F*_*C[$]==Q)return[j,C[$]]}var L=[[4e3,3e3]];for(var $=0;$<L.length;$++){var Z=L[$],F=Z[0],_=Z[1];
for(var $=0;$<C.length;$++)if(F*_*C[$]==Q)return[Z,C[$]]}return null};e.raw.vrS=function(Q){var Q=new Uint8Array(Q);
for(var C=0;C<Q.length;C+=2){var j=Q[C];Q[C]=Q[C+1];Q[C+1]=j}var Z=e.raw.zi(Q.length),F=e.raw.yU[Z[0]];
if(F==null)F=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,Z[0][0],Z[0][1]];var _=F[4],$=F[5],L=Math.max(F[2],116),D={data:Q,lD:1,width:_,height:$,t256:[_],t257:[$],t258:[Z[1]],t277:[1],t33421:[2,2],t33422:e.raw.bK[F[1]],t50706:[1,2,0,0],t50714:[L,L,L,L],t50717:[F[3]],t50721:F[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var C=0;C<9;C++)D.t50721[C]/=1e4;return D};e.raw.bt=function(Q){if(Q==null||Q.length==0||typeof Q[0]=="number")return Q;
var C=[];for(var j=0;j<Q.length;j++)C[j]=Q[j][1]==0?0:Q[j][0]/Q[j][1];return C};e.raw.bK=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
e.raw.normalize=function(Q,C){if(Q.t50706!=null){var j=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var Z=0;Z<j.length;Z++)if(Q["t"+j[Z]]!=null)Q["t"+j[Z]]=e.raw.bt(Q["t"+j[Z]]);return}var F=Q.t258[0],_=Q.exifIFD,C=new Uint8Array(C);
Q.t50706=[1,2,0,0];var $=Q.t272[0].trim();if($.indexOf(" ")==-1)$=Q.t271[0].trim()+" "+$;Q.t50708=[$];
var L=e.raw.yU,D=L[$.toLowerCase()];if(D==null)for(var d in L)if($.toLowerCase().startsWith(d))D=L[d];
if(D==null)throw $;var o=D[2];Q.t50714=[o,o,o,o];Q.t50717=[D[3]];Q.t50721=D[0].slice(0);for(var Z=0;
Z<9;Z++)Q.t50721[Z]=Q.t50721[Z]*(1/1e4);Q.t50723=[1,0,0,0,1,0,0,0,1];if(Q.t50728==null)Q.t50728=[.35,1,.6];
Q.t50778=[17];if(Q.t271[0].startsWith("SONY")){var v=UTIF["_bin"+(Q.isLE?"LE":"BE")],f=Q.t28688,r;if(JSON.stringify(f)!="[8000,10400,12900,14100]")console.log(f);
if(f){var U=[0,0,0,0,0,4095],H=new Uint16Array(16385);for(var Z=0;Z<4;Z++){var B=f[Z]>>>2;U[Z+1]=B;if(B>4095)throw"e"}for(var Z=0;
Z<16385;Z++)H[Z]=Z;for(var Z=0;Z<5;Z++)for(var m=U[Z]+1;m<=U[Z+1];m++)H[m]=H[m-1]+(1<<Z);var Y=C.length*8<Q.width*Q.height*F;
if(Y)Q.t50712=H}else console.log("no curve");var q=Q.dngPrvt;if(q){var x=q.t29184[0],a=q.t29185[0],i=(Q.isLE?c.BQ:c.o)(q.t29217,0),l=new Uint32Array(C.slice(x,x+(a&4294967292)).buffer),M=new Uint32Array(a>>>2);
e.raw.vrT(l,M,a>>>2,i);var z=new Uint8Array(x+a);z.set(new Uint8Array(M.buffer),x);var V=[];UTIF._readIFD(v,z,x,V,0,!1);
var X=V.pop(),O=X.t29458;Q.t50728=[O[1]/O[0],1,O[1]/O[3]];Q.t50730=[.5];var y=X.t29891;Q.t50829=[y[1],y[0],y[3],y[2]]}else if(_.makerNote&&_.makerNote.t8208){var r=_.makerNote,K=r.t8208,R=K.length,W=0,N=new Uint8Array(256);
for(var Z=249;Z<256;Z++)N[Z]=Z;for(var Z=0;Z<249;Z++)N[Z*Z*Z%249]=Z;for(var Z=0;Z<R;Z++)K[Z]=N[K[Z]];
if(R==6604)W=612;else throw"e";var O=[];for(var Z=0;Z<3;Z++)O.push(c.FI(K,W+Z*2));console.log(O);Q.t50728=[O[1]/O[0],1,O[1]/O[2]]}else console.log("no white balance");
if(Q.width*Q.height*1.5==Q.t279[0]){o=o>>>2;Q.t50714=[o,o,o,o];Q.t50717=[D[3]>>>2]}}else if(Q.t271[0].startsWith("Canon")){var C=Q.data,I=C.slice(0),T=Q.t50752,h=[],u=0;
if(T==null||T[0]==0&&T[1]==0)h.push(Q.width);else{for(var Z=0;Z<T[0];Z++)h.push(T[1]);h.push(T[2])}var p=Q.width*2;
for(var g=0;g<h.length;g++){var A=h[g],w=2*u,r$=2*A;for(var rW=0;rW<Q.height;rW+=2){var J=rW*p+w,rr=Q.height*w+(rW>>1)*r$*2;
for(var Z=0;Z<r$;Z++){C[J+Z]=I[rr+Z];C[J+Z+p]=I[rr+Z+r$]}}u+=A}var r=_.makerNote;if(r.t16385){var r_=r.t224,rv=0;
if(r_){Q.t50719=[r_[5],r_[6]];Q.t50720=[r_[7]+1-r_[5],r_[8]+1-r_[6]]}var rO=r.t16385,k=rO.length;if(k==582)rv=1;
else if(k==653)rv=2;else if(k==796)rv=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(k)!=-1)rv=4;
else if(k==5120){rv=5;rO=new Int16Array(rO.slice(0).buffer)}else if(k==1273||k==1275)rv=6;else if([1312,1313,1316,1506].indexOf(k)!=-1)rv=7;
else if([1560,1592,1353,1602].indexOf(k)!=-1)rv=8;else throw"e"+k;var rb=rO[0],rt=[null,[25,166],[34,286],[63,196],[63],[71,rb==-4?333:264],[63,251],[63,rb==10?504:728],[63,326]],W=rt[rv][0],rK=rt[rv][1];
if(rv==4){if(rO[0]==2)rK=231;else if(rO[0]==3)rK=231;else if(rO[0]==4)rK=231;else if(rO[0]==5)rK=231;
else if(rO[0]==6)rK=231;else if(rO[0]==7)rK=231;else if(rO[0]==9)rK=231;else throw"e"}Q.t50728=[rO[W+1]/rO[W],1,rO[W+1]/rO[W+3]];
var o=rK==null?1024:rO[rK];Q.t50714=[o,o,o,o]}else{Q.t50728=[.4,1,.6]}}else if(Q.t271[0].startsWith("NIKON")){var r=_.makerNote,rR=Q.isLE?c.FI:c.DK,vO=0,rq=0,vj,rN=0;
if(r.t61){var ri=r.t61,ru=[];for(var Z=0;Z<4;Z++)ru[Z]=ri[Z]/Math.pow(2,14-F);Q.t50714=ru}if(r.t3585){var rS=r.t3585,Z=0,x=22;
while(x<rS.length&&Z!=-4){var rg=c.BQ(rS,x);x+=4;x+=14;Z=c.BQ(rS,x)-4;x+=4;if(rg==1990472198){if(rS[x]!=0)throw"Flip"}if(rg==1990472199){var rd=c.FI(rS,x);
if(rd==0)Q.lD=1;else if(rd==270)Q.lD=8;else throw"e "+rd}x+=Z}}if(r.t183){var rL=r.t183,rl=[];for(var Z=0;
Z<6;Z++)rl.push(rR(rL,16+Z*2));vO=rl[0];rq=rl[1]}if(r.t3614){var rV=r.t3614;vO=c.BQ(rV,8);rq=c.BQ(rV,12)}if(vO!=0){if(vO<rq){var ry=vO;
vO=rq;rq=ry}var u=Q.width-vO>>>1,rW=Q.height-rq>>>1;Q.t50829=[rW,u,rW+rq,u+vO]}if(r.t12){var rp=e.raw.bt(r.t12);
vj=[1/rp[0],1,1/rp[1]]}else if(r.t151){var rx=e.raw.v_c(r,151),rF=rx[0],DX=rx[1],va=rx[2];if(rF=="0100"&&DX>=80)throw"e";
else if(rF=="0103"&&DX>=26){var rB=[];for(var Z=0;Z<4;Z++)rB.push(rR(va,16+Z*2));vj=[rB[1]/rB[0],1,rB[3]/rB[2]]}else if(rF=="0204"&&DX>=564||rF=="0205"&&DX>=284){var x=rF=="0204"?6:14,rB=[];
for(var Z=0;Z<4;Z++)rB.push(rR(va,x+Z*2));vj=[rB[1]/rB[0],1,rB[1]/rB[3]]}else throw"e"}else console.log("no white balance info");
if($=="NIKON D1")vj=[1,1,1];if(vj)Q.t50728=vj;var vW=r.t150?r.t150:r.t140;if(vW){var rM=vW[rN++],_Q=vW[rN++],rj;
if(rM==73||_Q==88)rN+=2110;rN+=8;var _O=1<<F&32767,rw=rR(vW,rN);rN+=2;var H=[];if(rw>1)rj=Math.floor(_O/(rw-1));
if(rM==68&&_Q==32&&rj>0){for(Z=0;Z<rw;Z++){H[Z*rj]=rR(vW,rN);rN+=2}for(Z=0;Z<_O;Z++)H[Z]=Math.floor((H[Z-Z%rj]*(rj-Z%rj)+H[Z-Z%rj+rj]*(Z%rj))/rj)}else if(rM!=70&&rw<=16385){_O=rw;
for(var Z=0;Z<rw;Z++)H[Z]=rR(vW,rN+2*Z);rN+=2*rw}if(H.length!=0)Q.t50712=new Uint16Array(H)}}else if($.startsWith("FujiFilm")){}else alert("Unknown camera "+$)};
e.raw.vrT=function(Q,C,j,Z){if(0==j)return;var F=new Uint32Array(128),_=new Uint8Array(F.buffer),$=127,L=0,D=0;
for(var $=0;$<4;$++)F[$]=Z=(Z*15625>>>0)*3125+1>>>0;F[3]=F[3]<<1|(F[0]^F[2])>>>31;for(var $=4;$<127;
$++)F[$]=(F[$-4]^F[$-2])<<1|(F[$-3]^F[$-1])>>>31;for(var $=0;$<127;$++)F[$]=c.o(_,$*4);for(;j>0;j--){F[$&127]=F[$+1&127]^F[$+1+64&127];
var d=F[$&127],o=Q[L];o^=d;C[D]=o;L++;D++;$++}};e.raw.v_I=function(Q,C){var j=c.hX(C,0,4),Z=e.raw.vQi;
for(var F=0;F<Z.length;F++)if(Z[F][0]==Q&&j.startsWith(Z[F][1])&&(Z[F][2]==0||Z[F][2]==C.length))return Z[F];
throw"e"};e.raw.v_X=function(Q){if(Q.t29==null)return[];var C=e.raw.vQd,j=e.raw.vQy,Z=Q.t29[0],F=0,L=0;
for(var _=0;_<Z.length;_++){var $=Z.charCodeAt(_);F=F*10+(48<=$&&$<=57?$-48:$%10)}var D=Q.t167[0];for(var _=0;
_<4;_++)L^=D>>>(_<<3)&255;var d=C[F&255],o=j[L&255];return[d,o,96]};e.raw.v_c=function(Q,C){var j=Q["t"+C],Z=j.length,F=e.raw.v_I(C,j),_=c.hX(j,0,4),$,L=F[4];
if(L==null)$=j.slice(4);else{$=new Uint8Array(Z-L);var D=e.raw.v_X(Q),d=D[0],o=D[1],v=D[2];for(var f=0;
f<$.length;f++){o=o+d*v++&255;$[f]=j[L++]^o}}return[_,Z,$]};e.raw.vQi=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
e.raw.vQd=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
e.raw.vQy=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
e.raw.yU={"canon eos 100d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos rebel sl1":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos kiss x7":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos 200d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos rebel sl2":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos kiss x9":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos 300d":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos digital rebel":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos kiss digital":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos d30":[[9805,-2689,-1312,-5803,13064,3068,-2438,3075,8775],1,126,4095],"canon eos d60":[[6188,-1341,-890,-7168,14489,2937,-2640,3228,8483],1,127,4e3],"canon eos 10d":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,127,4e3],"canon eos 20d":[[6599,-537,-891,-8071,15783,2424,-1983,2234,7462],1,126,4095],"canon eos 30d":[[6257,-303,-1e3,-7880,15621,2396,-1714,1904,7046],1,127,3398],"canon eos 350d":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos digital rebel xt":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos kiss digital n":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 350d":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 350d digital":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 40d":[[6071,-747,-856,-7653,15365,2441,-2025,2553,7315],1,1021,13600],"canon eos 450d":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos digital rebel xsi":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos kiss digital x2":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos kiss x2":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos 50d":[[4920,616,-593,-6493,13964,2784,-1774,3178,7005],3,1020,13653],"canon eos 60d":[[6719,-994,-925,-4408,12426,2211,-887,2129,6051],3,2026,14200],"canon eos 70d":[[7034,-804,-1014,-4420,12564,2058,-851,1994,5758],1,2026,13653],"canon eos 80d":[[7457,-671,-937,-4849,12495,2643,-1213,2354,5492],1,512,11892],"canon eos 700d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos rebel t5i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos kiss x7i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos 750d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos rebel t6i":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos kiss x8i":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 800d":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos rebel t7i":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos kiss x9i":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos 760d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos rebel t6s":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 8000d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 77d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2048,14338],"canon eos 9000d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2048,14338],"canon eos 500d":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos rebel t1i":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos kiss x3":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos 550d":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos rebel t2i":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos kiss x4":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos 600d":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos rebel t3i":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos kiss x5":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos 650d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos rebel t4i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos kiss x6i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos 5d":[[6347,-479,-972,-8297,15954,2480,-1968,2131,7649],1,127,3692],"canon eos 5d mark ii":[[4716,603,-830,-7798,15474,2480,-1496,1937,6651],3,1024,12995],"canon eos 5d mark iii":[[6722,-635,-963,-4287,12460,2028,-908,2162,5668],1,2060,16383],"canon eos 5d mark iv":[[6446,-366,-864,-4436,12204,2513,-952,2496,6348],1,2049,14448],"canon eos 5ds":[[6250,-711,-808,-5153,12794,2636,-1249,2198,5610],1,2048,15181],"canon eos 5ds r":[[6250,-711,-808,-5153,12794,2636,-1249,2198,5610],1,2048,15181],"canon eos 6d":[[7034,-804,-1014,-4420,12564,2058,-851,1994,5758],1,2048,15e3],"canon eos 6d mark ii":[[6875,-970,-932,-4691,12459,2501,-874,1953,5809],1,2049,14558],"canon eos 7d":[[6844,-996,-856,-3876,11761,2396,-593,1772,6198],3,1025,8150],"canon eos 7d mark ii":[[7268,-1082,-969,-4186,11839,2663,-825,2029,5839],1,2047,13400],"canon eos 1000d":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos digital rebel xs":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos kiss digital f":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos 1100d":[[6444,-904,-893,-4563,12308,2535,-903,2016,6728],1,2036,15500],"canon eos rebel t3":[[6444,-904,-893,-4563,12308,2535,-903,2016,6728],1,2036,15500],"canon eos 1200d":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos rebel t5":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos kiss x70":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos 1300d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos rebel t6":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos kiss x80":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos 2000d":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos rebel t7":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos 1500d":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos 4000d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos rebel t100":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos 3000d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos 400d":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos digital rebel xti":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos kiss digital x":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos m":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos m2":[[6400,-480,-888,-5294,13416,2047,-1296,2203,6137],1,2026,13584],"canon eos m3":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2048,16e3],"canon eos m5":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos m6":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos m10":[[6400,-480,-888,-5294,13416,2047,-1296,2203,6137],1,2048,16e3],"canon eos m100":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos-1d":[[6806,-179,-1020,-8097,16415,1687,-3267,4236,7690],2,0,3588],"canon eos-1ds":[[4374,3631,-1743,-7520,15212,2472,-2892,3632,8161],2,0,3500],"canon eos d2000c":[[24542,-10860,-3401,-1490,11370,-297,2858,-605,3225],2,96,4095],"canon eos-1d mark ii":[[6264,-582,-724,-8312,15948,2504,-1744,1919,8664],1,127,3700],"canon eos-1d mark ii n":[[6240,-466,-822,-8180,15825,2500,-1801,1938,8042],1,127,3700],"canon eos-1d mark iii":[[6291,-540,-976,-8350,16145,2311,-1714,1858,7326],1,1023,15100],"canon eos-1d mark iv":[[6014,-220,-795,-4109,12014,2361,-561,1824,5787],3,2e3,13e3],"canon eos-1ds mark ii":[[6517,-602,-867,-8180,15926,2378,-1618,1771,7633],3,126,4060],"canon eos-1ds mark iii":[[5859,-211,-930,-8255,16017,2353,-1732,1887,7448],1,1021,15100],"canon eos-1d x":[[6847,-614,-1014,-4669,12737,2139,-1197,2488,6846],1,2050,15100],"canon eos-1d x mark ii":[[7596,-978,-967,-4808,12571,2503,-1398,2567,5752],1,2048,14888],"canon powershot pro1":[[10062,-3522,-999,-7643,15117,2730,-765,817,7323],1,129,4095],"canon powershot g1":[[-4778,9467,2172,4743,-1141,4344,-5146,9908,6077,-1566,11051,557],0,31,1023],"canon powershot g2":[[9087,-2693,-1049,-6715,14382,2537,-2291,2819,7790],1,0,1023],"canon powershot g3":[[9212,-2781,-1073,-6573,14189,2605,-2300,2844,7664],1,0,4095],"canon powershot g3 x":[[9701,-3857,-921,-3149,11537,1817,-786,1817,5147],1,2047,16e3],"canon powershot g5":[[9757,-2872,-933,-5972,13861,2301,-1622,2328,7212],1,0,4095],"canon powershot g5 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g6":[[9877,-3775,-871,-7613,14807,3072,-1448,1305,7485],1,128,4095],"canon powershot g7 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,511,4e3],"canon powershot g7 x mark ii":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g1 x":[[7378,-1255,-1043,-4088,12251,2048,-876,1946,5805],1,0,16383],"canon powershot g1 x mark ii":[[7378,-1255,-1043,-4088,12251,2048,-876,1946,5805],1,0,16e3],"canon powershot g1 x mark iii":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon powershot g12":[[13244,-5501,-1248,-1508,9858,1935,-270,1083,4366],1,120,4095],"canon powershot g11":[[12177,-4817,-1069,-1612,9864,2049,-98,850,4471],1,120,4095],"canon powershot g10":[[11093,-3906,-1028,-5047,12492,2879,-1003,1750,5561],3,128,4095],"canon powershot g9":[[7368,-2141,-598,-5621,13254,2625,-1418,1696,5743],1,125,4095],"canon powershot g9 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g9 x mark ii":[[10056,-4131,-944,-2576,11143,1625,-238,1294,5179],1,2048,16e3],"canon powershot g15":[[7474,-2301,-567,-4056,11456,2975,-222,716,4181],3,500,2800],"canon powershot g16":[[8020,-2687,-682,-3704,11879,2052,-965,1921,5556],1,0,4095],"canon powershot sx1 is":[[6578,-259,-502,-5974,13030,3309,-308,1058,4970],1,125,4095],"canon powershot s30":[[10566,-3652,-1129,-6552,14662,2006,-2197,2581,7670],1,31,1023],"canon powershot s40":[[8510,-2487,-940,-6869,14231,2900,-2318,2829,9013],1,0,1023],"canon powershot s45":[[8163,-2333,-955,-6682,14174,2751,-2077,2597,8041],1,129,4095],"canon powershot s50":[[8882,-2571,-863,-6348,14234,2288,-1516,2172,6569],1,129,4095],"canon powershot s60":[[8795,-2482,-797,-7804,15403,2573,-1422,1996,7082],1,129,4095],"canon powershot s70":[[9976,-3810,-832,-7115,14463,2906,-901,989,7889],1,129,4095],"canon powershot s90":[[12374,-5016,-1049,-1677,9902,2078,-83,852,4683],1,125,4095],"canon powershot s95":[[13440,-5896,-1279,-1236,9598,1931,-180,1001,4651],1,125,4095],"canon powershot s100":[[7968,-2565,-636,-2873,10697,2513,180,667,4211],3,125,4095],"canon powershot s110":[[8039,-2643,-654,-3783,11230,2930,-206,690,4194],3,500,3072],"canon powershot s120":[[6961,-1685,-695,-4625,12945,1836,-1114,2152,5518],1,0,4e3],"canon powershot sx50 hs":[[12432,-4753,-1247,-2110,10691,1629,-412,1623,4926],1,127,4095],"canon powershot sx60 hs":[[13161,-5451,-1344,-1989,10654,1531,-47,1271,4955],1,128,4e3],"nikon d100":[[5902,-933,-782,-8983,16719,2354,-1402,1455,6464],2,0,4095],"nikon d1":[[16772,-4726,-2141,-7611,15713,1972,-2846,3494,9521],0,0,4095],"nikon d1h":[[7577,-2166,-926,-7454,15592,1934,-2377,2808,8606],0,0,4095],"nikon d1x":[[7702,-2245,-975,-9114,17242,1875,-2679,3055,8521],0,0,4095],"nikon d200":[[8367,-2248,-763,-8758,16447,2422,-1527,1550,8053],2,0,3880],"nikon d2h":[[5710,-901,-615,-8594,16617,2024,-2975,4120,6830],3,0,3880],"nikon d2hs":[[5710,-901,-615,-8594,16617,2024,-2975,4120,6830],3,0,3880],"nikon d2x":[[10231,-2769,-1255,-8301,15900,2552,-797,680,7148],1,0,3880],"nikon d2xs":[[10231,-2769,-1255,-8301,15900,2552,-797,680,7148],1,0,3880],"nikon d3":[[8139,-2171,-663,-8747,16541,2295,-1925,2008,8093],1,0,15892],"nikon d3s":[[8828,-2406,-694,-4874,12603,2541,-660,1509,7587],1,0,15520],"nikon d3x":[[7171,-1986,-648,-8085,15555,2718,-2170,2512,7457],1,0,15892],"nikon d300":[[9030,-1992,-715,-8465,16302,2255,-2689,3217,8069],1,0,15236],"nikon d300s":[[9030,-1992,-716,-8465,16302,2256,-2689,3217,8069],1,0,15236],"nikon d3000":[[8736,-2458,-935,-9075,16894,2251,-1354,1242,8263],3,0,3880],"nikon d3200":[[7013,-1408,-635,-5268,12902,2640,-1470,2801,7379],1,0,3880],"nikon d3300":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3880],"nikon d3400":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3880],"nikon d3500":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d4":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,0,15520],"nikon d5":[[9200,-3522,-992,-5755,13803,2117,-753,1486,6338],1,400,15520],"nikon z 6":[[8210,-2534,-683,-5355,13338,2212,-1143,1929,6464],1,1008,15520],"nikon z 7":[[10405,-3755,-1270,-5461,13787,1793,-1040,2015,6785],1,1008,15520],"nikon df":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,0,15520],"nikon d5100":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon d3100":[[7911,-2167,-813,-5327,13150,2408,-1288,2483,7968],3,0,3880],"nikon d40":[[6992,-1668,-806,-8138,15748,2543,-874,850,7897],0,0,3880],"nikon d40x":[[8819,-2543,-911,-9025,16928,2151,-1329,1213,8449],3,0,3880],"nikon d50":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d500":[[8813,-3210,-1036,-4703,12868,2021,-1054,1940,6129],1,400,15520],"nikon d5000":[[7309,-1403,-519,-8474,16008,2622,-2433,2826,8064],3,0,3767],"nikon d5200":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,0,15892],"nikon d5300":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3972],"nikon d5500":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d5600":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d60":[[8736,-2458,-935,-9075,16894,2251,-1354,1242,8263],3,0,3880],"nikon d600":[[8178,-2245,-609,-4857,12394,2776,-1207,2086,7298],1,0,15520],"nikon d610":[[8178,-2245,-609,-4857,12394,2776,-1207,2086,7298],1,0,15520],"nikon d70":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d700":[[8139,-2171,-663,-8747,16541,2295,-1925,2008,8093],1,0,3972],"nikon d750":[[9020,-2890,-715,-4535,12436,2348,-934,1919,7086],1,150,3880],"nikon d7000":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon d7100":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,0,15892],"nikon d7200":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,600,15892],"nikon d7500":[[8813,-3210,-1036,-4703,12868,2021,-1054,1940,6129],1,100,3880],"nikon d70s":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d80":[[8629,-2410,-883,-9055,16940,2171,-1490,1363,8520],3,0,3880],"nikon d800":[[7866,-2108,-555,-4869,12483,2681,-1176,2069,7501],1,0,15520],"nikon d800e":[[7866,-2108,-555,-4869,12483,2681,-1176,2069,7501],1,0,15520],"nikon d810":[[9369,-3195,-791,-4488,12430,2301,-893,1796,6872],1,150,3880],"nikon d850":[[10405,-3755,-1270,-5461,13787,1793,-1040,2015,6785],1,100,3880],"nikon d4s":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,192,3880],"nikon d90":[[7309,-1403,-519,-8474,16008,2622,-2434,2826,8064],3,0,3767],"nikon 1 j1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 j2":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,4095],"nikon 1 j3":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon 1 j4":[[5958,-1559,-571,-4021,11453,2939,-634,1548,5087],1,200,4e3],"nikon 1 j5":[[7520,-2518,-645,-3844,12102,1945,-913,2249,6835],1,200,3800],"nikon 1 s1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 s2":[[6612,-1342,-618,-3338,11055,2623,-174,1792,5075],1,200,4095],"nikon 1 v1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 v2":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon 1 v3":[[5958,-1559,-571,-4021,11453,2939,-634,1548,5087],1,200,4e3],"nikon 1 aw1":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon e5400":[[9349,-2987,-1001,-7919,15766,2266,-2098,2680,6839],0,0,4095],"nikon e5700":[[-5368,11478,2368,5537,-113,3148,-4969,10021,5782,778,9028,211],0,0,4095],"nikon coolpix p330":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p340":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,200,3800],"nikon coolpix a":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon coolpix b700":[[14387,-6014,-1299,-1357,9975,1616,467,1047,4744],1,200,4e3],"nikon coolpix p6000":[[9698,-3367,-914,-4706,12584,2368,-837,968,5801],1,0,4095],"nikon coolpix p7000":[[11432,-3679,-1111,-3169,11239,2202,-791,1380,4455],1,0,4095],"nikon coolpix p7100":[[11053,-4269,-1024,-1976,10182,2088,-526,1263,4469],1,0,3800],"nikon coolpix p7700":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p7800":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p1000":[[14294,-6116,-1333,-1628,10219,1637,-14,1158,5022],1,200,4095],"panasonic dmc-cm1":[[8770,-3194,-820,-2871,11281,1803,-513,1552,4434],1,142,4095],"panasonic dmc-fx150":[[9082,-2907,-925,-6119,13377,3058,-1797,2641,5609],0,15,3986],"panasonic dmc-fz28":[[10109,-3488,-993,-5412,12812,2916,-1305,2140,5543],0,15,3986],"panasonic dmc-fz150":[[11904,-4541,-1189,-2355,10899,1662,-296,1586,4289],3,145,3956],"panasonic dmc-fz200":[[8112,-2563,-740,-3730,11784,2197,-941,2075,4933],3,150,3956],"panasonic dmc-fz2000":[[7386,-2443,-743,-3437,11864,1757,-608,1660,4766],3,142,2095],"panasonic dmc-fz2500":[[7386,-2443,-743,-3437,11864,1757,-608,1660,4766],3,142,2095],"panasonic dmc-fz300":[[8378,-2798,-769,-3068,11410,1877,-538,1792,4623],3,143,4095],"panasonic dmc-g1":[[8199,-2065,-1056,-8124,16156,2033,-2458,3022,7220],3,15,3986],"panasonic dmc-g2":[[10113,-3400,-1114,-4765,12683,2317,-377,1437,6710],3,0,3900],"panasonic dmc-g10":[[10113,-3400,-1114,-4765,12683,2317,-377,1437,6710],3,0,3900],"panasonic dmc-gh1":[[6299,-1466,-532,-6535,13852,2969,-2331,3112,5984],3,0,3986],"panasonic dmc-gh3":[[6559,-1752,-491,-3672,11407,2586,-962,1875,5130],3,155,3956],"panasonic dmc-gh4":[[7122,-2108,-512,-3155,11201,2231,-541,1423,5045],0,142,4095],"panasonic dmc-gf1":[[7888,-1902,-1011,-8106,16085,2099,-2353,2866,7330],3,15,3986],"panasonic dmc-gf2":[[7888,-1902,-1011,-8106,16085,2099,-2353,2866,7330],3,150,3956],"panasonic dmc-gm1":[[6770,-1895,-744,-5232,13145,2303,-1664,2691,5703],0,143,3971],"panasonic dmc-gm5":[[8238,-3244,-679,-3921,11814,2384,-836,2022,5852],0,143,4095],"panasonic dmc-g3":[[6763,-1919,-863,-3868,11515,2684,-1216,2387,5879],2,143,3956],"panasonic dmc-g5":[[7798,-2562,-740,-3879,11584,2613,-1055,2248,5434],0,150,3956],"panasonic dmc-g6":[[8294,-2891,-651,-3869,11590,2595,-1183,2267,5352],0,142,3956],"panasonic dmc-g7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g70":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g8":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g80":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g81":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g85":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-gf3":[[9051,-2468,-1204,-5212,13276,2121,-1197,2510,6890],3,150,3956],"panasonic dmc-gf5":[[8228,-2945,-660,-3938,11792,2430,-1094,2278,5793],3,150,3956],"panasonic dmc-gf6":[[8130,-2801,-946,-3520,11289,2552,-1314,2511,5791],2,150,3956],"panasonic dmc-gf7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-gh2":[[7780,-2410,-806,-3913,11724,2484,-1018,2390,5298],3,15,3800],"panasonic dmc-fz35":[[9938,-2780,-890,-4604,12393,2480,-1117,2304,4620],0,150,3986],"panasonic dmc-fz38":[[9938,-2780,-890,-4604,12393,2480,-1117,2304,4620],0,150,3986],"panasonic dmc-fz45":[[13639,-5535,-1371,-1698,9633,2430,316,1152,4108],3,150,3986],"panasonic dmc-fz40":[[13639,-5535,-1371,-1698,9633,2430,316,1152,4108],3,150,3986],"panasonic dmc-fz70":[[11532,-4324,-1066,-2375,10847,1749,-564,1699,4351],1,120,3971],"panasonic dmc-fz72":[[11532,-4324,-1066,-2375,10847,1749,-564,1699,4351],1,120,3971],"panasonic dmc-fz100":[[16197,-6146,-1761,-2393,10765,1869,366,2238,5248],3,120,3986],"panasonic dmc-fz1000":[[7830,-2696,-763,-3325,11667,1866,-641,1712,4824],3,143,4095],"panasonic dmc-gx1":[[6763,-1919,-863,-3868,11515,2684,-1216,2387,5879],2,150,3956],"panasonic dmc-gx7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,150,3956],"panasonic dmc-gx8":[[7564,-2263,-606,-3148,11239,2177,-540,1435,4853],3,143,4095],"panasonic dmc-gx85":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-gx80":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-gx7mk2":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-lf1":[[9379,-3267,-816,-3227,11560,1881,-926,1928,5340],1,143,3971],"panasonic dmc-lx3":[[8128,-2668,-655,-6134,13307,3161,-1782,2568,6083],0,15,3971],"panasonic dmc-lx15":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"panasonic dmc-lx9":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"panasonic dmc-lx10":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"leica c (typ 112)":[[9379,-3267,-816,-3227,11560,1881,-926,1928,5340],1,146,3956],"leica digilux 2":[[11340,-4069,-1275,-7555,15266,2448,-2960,3426,7685],1,0,4095],"leica d-lux 3":[[8048,-2810,-623,-6450,13519,3272,-1700,2146,7049],0,0,3986],"leica v-lux 1":[[7906,-2709,-594,-6231,13351,3220,-1922,2631,6537],0,0,3986],"panasonic dmc-l10":[[8025,-1942,-1050,-7920,15904,2100,-2456,3005,7039],3,0,3986],"panasonic dmc-fz30":[[10976,-4029,-1141,-7918,15491,2600,-1670,2071,8246],1,0,3971],"panasonic dmc-fz50":[[7906,-2709,-594,-6231,13351,3220,-1922,2631,6537],0,0,3986],"panasonic dmc-fz8":[[8986,-2755,-802,-6341,13575,3077,-1476,2144,6379],1,0,3986],"panasonic dmc-fz18":[[9932,-3060,-935,-5809,13331,2753,-1267,2155,5575],0,0,3986],"panasonic dmc-l1":[[8054,-1885,-1025,-8349,16367,2040,-2805,3542,7629],3,0,3986],"panasonic dmc-lx2":[[8048,-2810,-623,-6450,13519,3272,-1700,2146,7049],0,0,3986],"leica d-lux 4":[[8128,-2668,-655,-6134,13307,3161,-1782,2568,6083],0,15,3971],"panasonic dmc-lx5":[[10909,-4295,-948,-1333,9306,2399,22,1738,4582],2,150,3986],"leica d-lux 5":[[10909,-4295,-948,-1333,9306,2399,22,1738,4582],2,150,3986],"panasonic dmc-lx7":[[10148,-3743,-991,-2837,11366,1659,-701,1893,4899],2,150,3971],"leica d-lux 6":[[10148,-3743,-991,-2837,11366,1659,-701,1893,4899],2,150,3971],"leica d-lux (typ 109)":[[8844,-3538,-768,-3709,11762,2200,-698,1792,5220],0,143,4095],"panasonic dmc-lx1":[[10704,-4187,-1230,-8314,15952,2501,-920,945,8927],1,0,3971],"panasonic dmc-lx100":[[8844,-3538,-768,-3709,11762,2200,-698,1792,5220],0,143,4095],"panasonic dc-lx100m2":[[8585,-3127,-833,-4005,12250,1953,-650,1494,4862],0,143,4095],"panasonic dmc-tz60":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-tz61":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-zs40":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-tz71":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-zs50":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-tz70":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-tz81":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-zs60":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz85":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz100":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-zs100":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-zs110":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tz101":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tz110":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tx1":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dc-fz82":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dc-fz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dmc-fz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dmc-fz85":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dc-gh5":[[7641,-2336,-605,-3218,11299,2187,-485,1338,5121],1,143,4095],"panasonic dc-gh5s":[[6929,-2355,-708,-4192,12534,1828,-1097,1989,5195],1,510,8e3],"panasonic dc-g9":[[7685,-2375,-634,-3687,11700,2249,-748,1546,5111],1,148,4095],"panasonic dc-gf9":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx800":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx850":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx9":[[7564,-2263,-606,-3148,11239,2177,-540,1435,4853],0,143,4095],"panasonic dc-tz90":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-zs70":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz91":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz92":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz93":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-tz202":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dc-tz200":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"pentax k100d":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,3950],"pentax k110d":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,4095],"pentax k100d super":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,4095],"pentax *ist d":[[9651,-2059,-1189,-8881,16512,2487,-1460,1345,10687],1,128,4095],"pentax *ist dl":[[10829,-2838,-1115,-8339,15817,2696,-837,680,11939],1,128,4095],"pentax *ist dl2":[[10504,-2438,-1189,-8603,16207,2531,-1022,863,12242],1,127,3950],"pentax *ist ds":[[10371,-2333,-1206,-8688,16231,2602,-1230,1116,11282],1,128,3950],"pentax k10d":[[9566,-2863,-803,-7170,15172,2112,-818,803,9705],1,0,4095],"pentax k20d":[[9427,-2714,-868,-7493,16092,1373,-2199,3264,7180],0,0,4095],"pentax k200d":[[9186,-2678,-907,-8693,16517,2260,-1129,1094,8524],1,0,4095],"pentax k-s1":[[8512,-3211,-787,-4167,11966,2487,-638,1288,6054],1,32,4062],"pentax k-s2":[[8662,-3280,-798,-3928,11771,2444,-586,1232,6054],1,0,3839],"pentax k-70":[[8113,-2078,-1275,-4359,12953,1514,-1091,1955,6044],1,64,16319],"pentax k-1":[[8827,-2829,-1238,-3611,12203,1549,-897,1687,6291],1,64,16316],"pentax k-1 mark ii":[[8952,-2869,-1256,-3612,12204,1550,-934,1757,6549],1,64,16316],"pentax k-3":[[7415,-2052,-721,-5186,12788,2682,-1446,2157,6773],1,1,15868],"pentax k-3 ii":[[7415,-2052,-721,-5186,12788,2682,-1446,2157,6773],1,1,15865],"pentax k-5":[[8713,-2833,-743,-4342,11900,2772,-722,1543,6247],0,512,16383],"pentax k-5 ii":[[8170,-2725,-639,-4440,12017,2744,-771,1465,6599],0,512,16383],"pentax k-5 ii s":[[8170,-2725,-639,-4440,12017,2744,-771,1465,6599],0,512,15863],"pentax k-7":[[9142,-2947,-678,-8648,16967,1663,-2224,2898,8615],0,0,4095],"pentax k-m":[[11057,-3604,-1155,-5152,13046,2329,-282,375,8104],1,0,4095],"pentax k-x":[[8843,-2837,-625,-5025,12644,2668,-411,1234,7410],0,41,4095],"pentax k-r":[[9895,-3077,-850,-5304,13035,2521,-883,1768,6936],0,64,4e3],"pentax kp":[[8617,-3228,-1034,-4674,12821,2044,-803,1577,5728],1,128,16254],"pentax k2000":[[11057,-3604,-1155,-5152,13046,2329,-282,375,8104],1,0,4095],"pentax 645d":[[9814,-2716,-1439,-5049,13907,1166,-1830,3836,5706],0,0,15767],"pentax 645z":[[9551,-3012,-1235,-3685,12133,1721,-1019,1887,6544],1,1,16316],"samsung ex2f":[[10648,-3897,-1055,-2022,10573,1668,-492,1611,4742],1,0,4095],"samsung ex1":[[8898,-2498,-994,-3144,11328,2066,-760,1381,4576],1,0,16383],"samsung nx1":[[10686,-4042,-1052,-3595,13238,276,-464,1259,5931],2,1024,16100],"samsung nx5":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx10":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx11":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx100":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx1000":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx1100":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx20":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx200":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx210":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx2000":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx30":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx300":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx300m":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx3000":[[8060,-2933,-761,-4504,12890,1762,-630,1489,5227],2,0,4095],"samsung nx500":[[10686,-4042,-1052,-3595,13238,276,-464,1259,5931],2,1024,16100],"samsung ek-gn120":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],3,0,4095],"samsung wb2000":[[12093,-3557,-1155,-1e3,9534,1733,-22,1787,4576],1,0,4095],"sony dsc-rx0":[[9396,-3507,-843,-2497,11111,1572,-343,1355,5089],1,800,16620],"sony dsc-rx10":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m2":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m3":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m4":[[7699,-2566,-629,-2967,11270,1928,-378,1286,4807],1,800,16380],"sony dsc-rx100":[[8651,-2754,-1057,-3464,12207,1373,-568,1398,4434],1,800,16620],"sony dsc-rx100m2":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m3":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m4":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m5":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m5a":[[11176,-4700,-965,-4004,12184,2032,-763,1726,5876],1,800,16300],"sony dsc-rx100m6":[[7325,-2321,-596,-3494,11674,2055,-668,1562,5031],1,800,16300],"sony dsc-rx1r":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,512,33192],"sony dsc-rx1rm2":[[6629,-1900,-483,-4618,12349,2550,-622,1381,6514],1,512,16300],"sony dslr-a100":[[9437,-2811,-774,-8405,16215,2290,-710,596,7181],2,0,4095],"sony dslr-a200":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a230":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a290":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a300":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a330":[[9847,-3091,-929,-8485,16346,2225,-714,595,7103],1,0,4095],"sony dslr-a350":[[6038,-1484,-578,-9146,16746,2513,-875,746,7217],1,0,4095],"sony dslr-a380":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a390":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a450":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],1,500,16e3],"sony dslr-a500":[[6046,-1127,-278,-5574,13076,2786,-691,1419,7625],0,500,16600],"sony dslr-a550":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],0,512,16372],"sony dslr-a560":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],0,476,16596],"sony dslr-a580":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],0,520,16596],"sony dslr-a700":[[5775,-805,-359,-8574,16295,2391,-1943,2341,7249],0,520,16383],"sony dslr-a850":[[5413,-1162,-365,-5665,13098,2866,-608,1179,8440],0,500,15e3],"sony dslr-a900":[[5209,-1072,-397,-8845,16120,2919,-1618,1803,8654],1,520,16383],"sony nex-3":[[6907,-1256,-645,-4940,12621,2320,-1710,2581,6230],1,520,16360],"sony nex-3n":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-5":[[6807,-1350,-342,-4216,11649,2567,-1089,2001,6420],1,520,16383],"sony nex-5n":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony nex-5r":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-5t":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,512,16300],"sony nex-6":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-7":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,512,16300],"sony nex-c3":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony nex-f3":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16360],"sony ilce-3000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-3500":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-5000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-5100":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-6000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-6300":[[5973,-1695,-419,-3826,11797,2293,-639,1398,5789],1,512,16300],"sony ilce-6500":[[5973,-1695,-419,-3826,11797,2293,-639,1398,5789],1,512,16300],"sony ilce-7":[[5271,-712,-347,-6153,13653,2763,-1601,2366,7242],1,512,16300],"sony ilce-7m2":[[5271,-712,-347,-6153,13653,2763,-1601,2366,7242],1,512,16300],"sony ilce-7m3":[[7374,-2389,-551,-5435,13162,2519,-1006,1795,6552],1,512,16300],"sony ilce-7r":[[4913,-541,-202,-6130,13513,2906,-1564,2151,7183],1,512,16300],"sony ilce-7rm2":[[6629,-1900,-483,-4618,12349,2550,-622,1381,6514],1,512,16300],"sony ilce-7rm3":[[6640,-1847,-503,-5238,13010,2474,-993,1673,6527],1,512,16383],"sony ilce-7s":[[5838,-1430,-246,-3497,11477,2297,-748,1885,5778],1,512,16300],"sony ilce-7sm2":[[5838,-1430,-246,-3497,11477,2297,-748,1885,5778],1,512,16300],"sony ilce-9":[[6389,-1703,-378,-4562,12265,2587,-670,1489,6550],1,512,16383],"sony dsc-rx1":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16628],"sony slt-a33":[[6069,-1221,-366,-5221,12779,2734,-1024,2066,6834],1,520,16596],"sony slt-a35":[[5986,-1618,-415,-4557,11820,3120,-681,1404,6971],1,545,16596],"sony slt-a37":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16500],"sony slt-a55":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],1,520,16596],"sony slt-a55v":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],1,520,16596],"sony slt-a57":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16596],"sony slt-a58":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony slt-a65":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a65v":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a77":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a77v":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony ilca-77m2":[[5991,-1732,-443,-4100,11989,2381,-704,1467,5992],1,512,16300],"sony ilca-68":[[6435,-1903,-536,-4722,12449,2550,-663,1363,6517],1,512,16300],"sony ilca-99m2":[[6660,-1918,-471,-4613,12398,2485,-649,1433,6447],1,512,16300],"sony slt-a99":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16596],"sony slt-a99v":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16596],"sinar hy6":[[16442,-2956,-2422,-2877,12128,750,-1136,6066,4559],1,0,0],"fujifilm finepix s6000fd":[[12628,-4887,-1401,-6861,14996,1962,-2198,2782,7091],3,0,15872],"fujifilm finepix s100fs":[[11521,-4355,-1065,-6524,13767,3058,-1466,1984,6045],3,512,16383],"fujifilm finepix s200exr":[[11401,-4498,-1312,-5088,12751,2613,-838,1568,5941],1,519,16250],"fujifilm finepix f600exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix f700":[[10004,-3219,-1201,-7036,15047,2107,-1863,2565,7736],3,0,16383],"fujifilm finepix f770exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix f900exr":[[12085,-4727,-953,-3257,11489,2002,-511,2046,4592],0,256,3900],"fujifilm finepix e550":[[11044,-3888,-1120,-7248,15168,2208,-1531,2277,8069],3,0,15875],"fujifilm is-1":[[21461,-10807,-1441,-2332,10599,1999,289,875,7703],3,0,15872],"fujifilm finepix s3pro":[[11807,-4612,-1294,-8927,16968,1988,-2120,2741,8006],3,0,15872],"fujifilm finepix s5pro":[[12300,-5110,-1304,-9117,17143,1998,-1947,2448,8100],3,0,15872],"fujifilm finepix s5600":[[9636,-2804,-988,-7442,15040,2589,-1803,2311,8621],3,0,15872],"fujifilm finepix e900":[[9183,-2526,-1078,-7461,15071,2574,-2022,2440,8639],3,0,15872],"fujifilm finepix s2pro":[[12492,-4690,-1402,-7033,15423,1647,-1507,2111,7697],3,128,4095],"fujifilm finepix s5000":[[8754,-2732,-1019,-7204,15069,2276,-1702,2334,6982],3,0,15872],"fujifilm finepix s5200":[[9636,-2804,-988,-7442,15040,2589,-1803,2311,8621],3,0,15872],"fujifilm finepix s5500":[[11940,-4431,-1255,-6766,14428,2542,-993,1165,7421],1,0,15872],"fujifilm finepix s6500fd":[[12628,-4887,-1401,-6861,14996,1962,-2198,2782,7091],3,0,15872],"fujifilm finepix s9500":[[10491,-3423,-1145,-7385,15027,2538,-1809,2275,8692],3,0,15872],"fujifilm finepix s9000":[[10491,-3423,-1145,-7385,15027,2538,-1809,2275,8692],3,0,15872],"fujifilm finepix s9600":[[12343,-4515,-1285,-7165,14899,2435,-1895,2496,8800],3,0,15872],"fujifilm finepix s9600fd":[[12343,-4515,-1285,-7165,14899,2435,-1895,2496,8800],3,0,15872],"fujifilm finepix hs10 hs11":[[12440,-3954,-1183,-1123,9674,1708,-83,1614,4086],0,50,3900],"fujifilm finepix hs20exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix hs30exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,258,3900],"fujifilm finepix hs50exr":[[12085,-4727,-953,-3257,11489,2002,-511,2046,4592],0,256,3900],"fujifilm finepix x100":[[12161,-4457,-1069,-5034,12874,2400,-795,1724,6904],0,254,4e3],"fujifilm finepix x10":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,256,4e3],"fujifilm x-s1":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,260,4e3],"fujifilm gfx 50s":[[11756,-4754,-874,-3056,11045,2305,-381,1457,6006],1,65,16383],"fujifilm x-pro1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,256,4094],"fujifilm x-pro2":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x70":[[10450,-4329,-878,-3217,11105,2421,-752,1758,6519],1,1024,16383],"fujifilm xf1":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,257,4e3],"fujifilm x-e1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,255,4094],"fujifilm x20":[[11768,-4971,-1133,-4904,12927,2183,-480,1723,4605],3,257,4094],"fujifilm x30":[[12328,-5256,-1144,-4469,12927,1675,-87,1291,4351],3,257,4094],"fujifilm x100f":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x100s":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x100t":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x-h1":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x-m1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,256,4094],"fujifilm x-a1":[[11086,-4555,-839,-3512,11310,2517,-815,1341,5940],1,256,4094],"fujifilm x-a2":[[10763,-4560,-917,-3346,11311,2322,-475,1135,5843],1,256,4094],"fujifilm x-a3":[[12407,-5222,-1086,-2971,11116,2120,-294,1029,5284],1,1024,16383],"fujifilm x-a5":[[11673,-4760,-1041,-3988,12058,2166,-771,1417,5569],1,1024,16383],"fujifilm xq1":[[9252,-2704,-1064,-5893,14265,1717,-1101,2341,4349],3,257,4094],"fujifilm xq2":[[9252,-2704,-1064,-5893,14265,1717,-1101,2341,4349],3,257,4094],"fujifilm x-e2":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-e3":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1023,16383],"fujifilm x-e2s":[[11562,-5118,-961,-3022,11007,2311,-525,1569,6097],1,1024,16383],"fujifilm x-t1":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-t2":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x-t3":[[16393,-7740,-1436,-4238,12131,2371,-633,1424,6553],2,1022,16383],"fujifilm x-t10":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-t20":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x-t30":[[16393,-7740,-1436,-4238,12131,2371,-633,1424,6553],2,1022,16383],"fujifilm x-t100":[[11673,-4760,-1041,-3988,12058,2166,-771,1417,5569],1,1024,16383],"minolta dimage a1":[[9274,-2547,-1167,-8220,16323,1943,-2273,2720,8340],1,0,3965],"minolta dimage 5":[[8983,-2942,-963,-6556,14476,2237,-2426,2887,8014],1,0,3965],"minolta dimage 7":[[9144,-2777,-998,-6676,14556,2281,-2470,3019,7744],1,0,3965],"minolta dimage 7i":[[10880,-3638,-1186,-6496,14313,2364,-2456,3092,7485],1,0,3965],"minolta dimage 7hi":[[11368,-3894,-1242,-6521,14358,2339,-2475,3056,7285],1,0,3965],"sony dsc-f828":[[7924,-1910,-777,-8226,15459,2998,-1517,2199,6818,-7242,11401,3481],0,495,16383],"sony dsc-hx99":[[13076,-5686,-1481,-4027,12851,1251,-167,725,4937],1,800,16300],"sony dsc-r1":[[8512,-2641,-694,-8042,15670,2526,-1821,2117,7414],2,511,16383],"mamiya zd":[[7645,2579,-1363,-8689,16717,2015,-3712,5941,5961],1,0,4e3],"leaf aptus 22":[[8236,1746,-1314,-8251,15953,2428,-3673,5786,5771],1,0,16191],"leaf credo 40":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf credo 60":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf credo 80":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf aptus-ii 5":[[1846,7955,-1222,-12994,19563,3596,-2035,3340,5136],2,0,15e3],"phase one p30":[[4516,-245,-37,-7020,14976,2173,-3206,4671,7087],2,0,16383],"phase one p65+":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"phase one iq140":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,65535],"phase one iq250":[[3984,0,0,0,1e4,0,0,0,7666],1,1024,65535],"kodak dcs pro slr/n":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,4095],"kodak dcs pro 14n":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,3700],"kodak dcs pro 14nx":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,3700],"kodak dcs460":[[10592,-2206,-967,-1944,11685,230,2206,670,1273],2,7,6664],"kodak dcs520c":[[24542,-10860,-3401,-1490,11370,-297,2858,-605,3225],2,176,4095],"kodak dcs560c":[[20482,-7172,-3125,-1033,10410,-285,2542,226,3136],2,208,4095],"kodak dcs760c":[[16623,-6309,-1411,-4344,13923,323,2285,274,2926],2,0,3500],"kodak p880":[[12805,-4662,-1376,-7480,15267,2360,-1626,2194,7904],0,0,4095],"kodak easyshare z980 digital camera":[[11313,-3559,-1101,-3893,11891,2257,-1214,2398,4908],1,0,4095],"kodak z1015 is":[[11265,-4286,-992,-4694,12343,2647,-1090,1523,5447],0,0,4095],"epson r-d1":[[6827,-1878,-732,-8429,16012,2564,-704,592,7145],1,63,4095],"hasselblad cfv-50":[[5656,-659,-346,-3923,12306,1791,-1602,3509,5442],1,256,65535],"hasselblad h3d":[[3857,452,-46,-6008,14477,1596,-2627,4481,5718],1,0,31456],"hasselblad h5d-40":[[6159,-1402,-177,-5439,12762,3007,-955,2200,7104],1,256,62914],"hasselblad h5d-50c":[[4932,-835,141,-4878,11868,3437,-1138,1961,7067],1,256,62914],"canon powershot a610":[[15591,-6402,-1592,-5365,13198,2168,-1300,1824,5075],1,0,1023,2672,1968],"canon powershot s3 is":[[14062,-5199,-1446,-4712,12470,2243,-1286,2028,4836],1,0,1023,2888,2136],"canon powershot a620":[[15265,-6193,-1558,-4125,12116,2010,-888,1639,5220],1,0,1023,3152,2340],"canon powershot a720 is":[[14573,-5482,-1546,-1266,9799,1468,-1040,1912,3810],3,0,1023,3336,2480],"canon powershot a630":[[14201,-5308,-1757,-6087,14472,1617,-2191,3105,5348],1,0,1023,3344,2484],"canon powershot a640":[[13124,-5329,-1390,-3602,11658,1944,-1612,2863,4885],1,0,1023,3736,2772],"canon powershot a650":[[9427,-3036,-959,-2581,10671,1911,-1039,1982,4430],1,0,1023,4104,3048],"canon powershot sx110 is":[[14134,-5576,-1527,-1991,10719,1273,-1158,1929,3581],1,0,4095,3720,2772],"gitup git2":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,3200,65535,4608,3456],"gitup git2p":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,4160,65535,4624,3488],"paralenz dive camera":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,1024,16383,3840,2160],"sjcam sj6 legend":[[9489,-3814,-225,-6650,13742,3236,-627,797,7550],1,0,4095,4024,3036]};
e.gT={};e.gT.gT=function(Q,C,j,Z,F){if(Z==null)Z=3;if(F==null)F==!0;var _=Q.W,$=Q.C,L=1/_,D=_*$,d=Date.now(),o=!1,v=e.gT.bF(j,_,$,255,128),f=e.gT.bF(j,_,$,0,128),_j=0;
if(o)console.log("extract contours",Date.now()-d);d=Date.now();var U=function(_Q,_O){var rw=_Q<<2,rj=_O<<2;
return C[rw]+C[rw+1]+C[rw+2]-(C[rj]+C[rj+1]+C[rj+2])};v.sort(U);f.sort(U);var H=e.Q(D),B=e.Q(D),m=[],Y=new Uint32Array(_*$);
Y.fill(4294967295);for(var q=0;q<D;q++)if(j[q]==0)B[q]=255;else if(j[q]==255)H[q]=255;else{Y[q]=m.length;
m.push(q)}var r=v.length,x=f.length,a=m.length;function i(_Q,_O,rw,rj){var rE=_Q.length,_W=new Array(rE*2);
for(var q=0;q<rE;q++){var I=_Q[q],T=~~(I*rj),h=I-T*rw,vW=I<<2;_W[q*2]=h<<16|T;_W[q*2+1]=_O[vW]<<16|_O[vW+1]<<8|_O[vW+2]}return _W}var l=i(v,C,_,L),M=i(f,C,_,L),z=i(m,C,_,L);
if(o)console.log("Itemize",Date.now()-d,"Unknown:",a,r,x);d=Date.now();var V=e.style.jZ(H,_,$,!0),X=e.style.jZ(B,_,$,!0),O=new Array(a),y=new Array(a),K=new Array(a),R=new Array(a),W=new Array(a);
if(o)console.log("Dist transform",Date.now()-d);d=Date.now();var N=e.gT.lj;for(var q=0;q<a;q++){var I=m[q],T=~~(I*L),h=I-T*_,p=V[I<<1],u=V[(I<<1)+1],g=Math.sqrt(p*p+u*u),A=X[I<<1],w=X[(I<<1)+1],r$=Math.sqrt(A*A+w*w);
O[q]=1/g;y[q]=1/r$;var rW=Math.floor(e.B.ax(I*17)*r),J=Math.floor(e.B.ax(I*19)*x);K[q]=rW;R[q]=J;W[q]=N(z[q*2],z[q*2+1],l[rW*2],l[rW*2+1],M[J*2],M[J*2+1],O[q],y[q],1e9)}var rr=[-_-1,-_,-_+1,-1,1,_-1,_,_+1];
while(Math.floor(Math.max(r,x)*Math.pow(.5,_j))>1)_j++;for(var r_=0;r_<Z;r_++){var rO=0;for(var q=0;
q<a;q++){var I=m[q],T=~~(I*L),h=I-T*_,k=O[q],rv=y[q],rb=z[q*2],rt=z[q*2+1],rK=W[q],rW=K[q],J=R[q],rd=1;
if(T!=0&&h!=0&&h!=_-1&&T!=$-1)for(var rR=0;rR<8;rR++){var ri=Y[I+rr[rR]];if(ri==4294967295)continue;
var ru=K[ri],rS=R[ri];if(ru==rW&&rS==J)continue;var rg=N(rb,rt,l[ru*2],l[ru*2+1],M[rS*2],M[rS*2+1],k,rv,rK);
if(rg<rK){rK=rg;rW=ru;J=rS}}for(var vO=0;vO<_j;vO++){var rq=~~(r*rd),rL=~~(x*rd);rd*=.5;var rl=e.B.ax(I+r_*17+vO*31),rV=e.B.ax(I+r_*29+vO*63),ry=Math.max(0,rW-rq),vj=Math.min(rW+rq,r-1),rp=Math.max(0,J-rL),rx=Math.min(J+rL,x-1),ru=ry+~~(rl*(vj-ry)),rS=rp+~~(rV*(rx-rp)),rg=N(rb,rt,l[ru*2],l[ru*2+1],M[rS*2],M[rS*2+1],k,rv,rK);
if(rg<rK){rK=rg;rW=ru;J=rS}}W[q]=rK;K[q]=rW;R[q]=J;rO+=rK}}if(o)console.log(rO);if(o)console.log("iterations",Date.now()-d);
d=Date.now();var rF=j.slice(0);for(var q=0;q<a;q++){var DX=e.gT.alpha(z[q*2+1],l[K[q]*2+1],M[R[q]*2+1]);
rF[m[q]]=~~(.5+255*DX)}rF=e.ox.vQe(rF,C,new s(0,0,_,$),16,.01*.01);if(o)console.log("guided filter",Date.now()-d);
d=Date.now();if(F)for(var q=0;q<D;q++)if(j[q]==255||j[q]==0)rF[q]=j[q];var va=C.slice(0);for(var q=0;
q<a;q++){var rB=m[q],rW=v[K[q]],rK=W[q],vW=rB<<2,rN=rF[rB],rM=(rN>=250?rB:rW)<<2;va[vW]=C[rM];va[vW+1]=C[rM+1];
va[vW+2]=C[rM+2]}e.gG(rF,va,3);if(o)console.log(Date.now()-d);d=Date.now();return va};e.gT.lj=function(Q,C,j,Z,F,_,$,L,D){var d=Q>>>16,o=Q&65535,v=d-(j>>>16),f=o-(j&65535),U=d-(F>>>16),H=o-(F&65535),B=Math.sqrt(v*v+f*f)*$,m=Math.sqrt(U*U+H*H)*L;
if(B+m>=D)return 1e9;var Y=e.gT.vQL(C,Z,_);return Y+B+m};e.gT.vQL=function(Q,C,j){var Z=Q>>>16,F=Q>>>8&255,_=Q&255,$=C>>>16,L=C>>>8&255,D=C&255,d=j>>>16,o=j>>>8&255,v=j&255,f=e.gT.alpha(Q,C,j),U=Z-(f*$+(1-f)*d),H=F-(f*L+(1-f)*o),B=_-(f*D+(1-f)*v);
return Math.sqrt(U*U+H*H+B*B)};e.gT.alpha=function(Q,C,j){var Z=Q>>>16,F=Q>>>8&255,_=Q&255,$=C>>>16,L=C>>>8&255,D=C&255,d=j>>>16,o=j>>>8&255,v=j&255,f=$-d,U=L-o,H=D-v,B=Z-d,m=F-o,Y=_-v,q=f*f+U*U+H*H,r=q==0?.5:(B*f+m*U+Y*H)/q;
return Math.max(0,Math.min(1,r))};e.gT.vSh=function(Q){};e.gT.bF=function(Q,C,j,Z,F){var _=[],$=C-1,L=j-1;
for(var D=1;D<L;D++)for(var d=1;d<$;d++){var o=D*C+d;if(Q[o]==Z&&(Q[o-C-1]==F||Q[o-C]==F||Q[o-C+1]==F||(Q[o-1]==F||Q[o+1]==F)||(Q[o+C-1]==F||Q[o+C]==F||Q[o+C+1]==F)))_.push(o)}return _};
e.ox={};e.ox.vSo=function(Q,C,j,Z,F){var _=j.W,$=j.C,L=_*$,D=e.ox.bf,d=e.Q(L*4),o;e.kM(d,4294967295);
var v=j,f=Q,U=C,H=Z;e.gG(Q,d,0);o=e.uB(d,j);o=e.uB(o.Dg,o.rect);v=o.rect;H=Z>>>2;console.log(v,H);f=e.Q(v.P());
e.yq(o.Dg,f,0);e.gG(C,d,0);o=e.uB(d,j);o=e.uB(o.Dg,o.rect);U=e.Q(v.P());e.yq(o.Dg,U,0);var B=e.ox.vQc(f,U,v,H,F),m=B[0],Y=B[1],q=new s(0,0,v.W*2,v.C*2);
m=D(m,v,q,!0);m=D(m,q,j,!0);Y=D(Y,v,q,!0);Y=D(Y,q,j,!0);var r=e.Q(L);for(var x=0;x<L;x++)r[x]=Math.max(0,Math.min(255,Math.floor(.5+(m[x]*C[x]+255*Y[x]))));
return r};e.ox.bf=function(Q,C,j,Z){var F=j.W,_=j.C,$=C.W,L=C.C,D=e.ox.JB,d=new Float32Array(F*_);for(var o=0;
o<L;o++){var v=(o+o)*F;for(var f=0;f<$;f++){if(!0||f==0||o==0||f==$-1||o==L-1)d[v]=d[v+1]=d[v+F]=d[v+F+1]=Q[o*$+f];
else{d[v]=D(f+.25,o+.25,Q,$,L);d[v+1]=D(f+.75,o+.25,Q,$,L);d[v+F]=D(f+.25,o+.75,Q,$,L);d[v+F+1]=D(f+.75,o+.75,Q,$,L)}v+=2}}return d};
e.ox.JB=function(Q,C,j,Z,F){Q-=.499999;C-=.499999;var _=Math.floor(Q),$=Math.floor(C),L=$*Z+_,D=Q-_,d=C-$,o=(1-d)*(1-D),v=(1-d)*D,f=d*(1-D),U=d*D;
if(j[L]==null||j[L+Z+1]==null){console.log(Q,C,Z,F);throw"e"}return o*j[L+0]+v*j[L+1]+f*j[L+Z+0]+U*j[L+Z+1]};
e.ox.vQc=function(Q,C,j,Z,F){var _=j.W,$=j.C,L=_*$,D=e.ox.KO,d=e.ox.Q,o=e.blur.vg,v=e.ox.zl,C=D(C),Q=D(Q),f=d(L);
o(C,f,j,Z);var U=d(L);o(Q,U,j,Z);var H=d(L);v(C,C,H);o(H,H,j,Z);var B=d(L);v(C,Q,B);o(B,B,j,Z);var m=d(L),Y=d(L);
for(var q=0;q<L;q++){var r=f[q],x=U[q],a=H[q]-r*r,i=B[q]-r*x,l=i/(a+F),M=x-l*r;m[q]=l;Y[q]=M}var z=d(L);
o(m,z,j,Z);var V=d(L);o(Y,V,j,Z);return[z,V]};e.ox.vQe=function(Q,C,j,Z,F){var _=j.W,$=j.C,L=_*$,D=e.ox.bf,d=Date.now(),o=!1,v=j,f=Q,U=C,H=Z;
v=new s(0,0,_>>>2,$>>>2);H=Z>>>2;f=e.ox.vQH(Q,_,$);U=e.ox.vQU(C,_,$);if(o)console.log(Date.now()-d);
d=Date.now();var B=e.ox.vtB(f,U,v,H,F),m=B[0],Y=B[1],q=B[2],r=B[3];if(o)console.log(Date.now()-d);d=Date.now();
var x=e.Q(L);for(var a=0;a<$;a++)for(var i=0;i<_;i++){var l=a*_+i,M=(a>>>2)*(_>>>2)+(i>>>2),z=l<<2,V=m[M]*C[z]+Y[M]*C[z+1]+q[M]*C[z+2]+r[M]*255;
x[l]=Math.max(0,Math.min(255,~~(.5+V)))}if(o)console.log(Date.now()-d);d=Date.now();return x};e.ox.vQH=function(Q,C,j){var Z=C>>>2,F=j>>>2,_=e.Q(C*j);
for(var $=0;$<F;$++)for(var L=0;L<Z;L++)_[$*Z+L]=Q[$*C+L<<2];return _};e.ox.vQU=function(Q,C,j){var Z=C>>>2,F=j>>>2,_=e.Q(C*j*4);
for(var $=0;$<F;$++)for(var L=0;L<Z;L++){var D=$*Z+L<<2,d=$*C+L<<4;_[D]=Q[d];_[D+1]=Q[d+1];_[D+2]=Q[d+2];
_[D+3]=Q[d+3]}return _};e.ox.vtB=function(Q,C,j,Z,F){var _=j.W,$=j.C,L=_*$,D=e.ox.KO,d=e.ox.Q,o=e.blur.vg,v=e.ox.zl,Q=D(Q),f=new e.mr(_*$);
e.oM(C,f);var C=[D(f.h),D(f.J),D(f._)],U=e.ox.vtZ(Q,C,j,Z,F),H=d(L);o(Q,H,j,Z);var B=d(L);v(C[0],Q,B);
o(B,B,j,Z);var m=d(L);v(C[1],Q,m);o(m,m,j,Z);var Y=d(L);v(C[2],Q,Y);o(Y,Y,j,Z);var q=d(L),r=d(L),x=d(L),a=d(L);
for(var i=0;i<L;i++){var l=H[i],M=U.Zp[i],z=U.Zh[i],V=U.Zw[i],X=B[i]-M*l,O=m[i]-z*l,y=Y[i]-V*l;q[i]=U.vTf[i]*X+U.YO[i]*O+U.YR[i]*y;
r[i]=U.YO[i]*X+U.vTh[i]*O+U.Yl[i]*y;x[i]=U.YR[i]*X+U.Yl[i]*O+U.vuE[i]*y;a[i]=l-q[i]*M-r[i]*z-x[i]*V}o(q,q,j,Z);
o(r,r,j,Z);o(x,x,j,Z);o(a,a,j,Z);return[q,r,x,a]};e.ox.vtZ=function(Q,C,j,Z,F){var _=j.W,$=j.C,L=_*$,D=e.ox.Q,d=e.blur.vg,o=e.ox.zl,v={};
v.Zp=D(L);d(C[0],v.Zp,j,Z);v.Zh=D(L);d(C[1],v.Zh,j,Z);v.Zw=D(L);d(C[2],v.Zw,j,Z);var f=D(L);o(C[0],C[0],f);
d(f,f,j,Z);var U=D(L);o(C[0],C[1],U);d(U,U,j,Z);var H=D(L);o(C[0],C[2],H);d(H,H,j,Z);var B=D(L);o(C[1],C[1],B);
d(B,B,j,Z);var m=D(L);o(C[1],C[2],m);d(m,m,j,Z);var Y=D(L);o(C[2],C[2],Y);d(Y,Y,j,Z);v.vTf=f;v.YO=U;
v.YR=H;v.vTh=B;v.Yl=m;v.vuE=Y;for(var q=0;q<L;q++){var r=v.Zp[q],x=v.Zh[q],a=v.Zw[q],i=f[q]-r*r+F,l=U[q]-r*x,M=H[q]-r*a,z=B[q]-x*x+F,V=m[q]-x*a,X=Y[q]-a*a+F,O=z*X-V*V,y=V*M-l*X,K=l*V-z*M,R=i*X-M*M,W=M*l-i*V,N=i*z-l*l,I=O*i+y*l+K*M,T=1/I;
v.vTf[q]=O*T;v.YO[q]=y*T;v.YR[q]=K*T;v.vTh[q]=R*T;v.Yl[q]=W*T;v.vuE[q]=N*T}return v};e.ox.Q=function(Q){return new Float32Array(Q)};
e.ox.KO=function(Q){var C=Q.length,j=new Float32Array(C);for(var Z=0;Z<C;Z++)j[Z]=Q[Z]*(1/255);return j};
e.ox.zl=function(Q,C,j){for(var Z=0;Z<Q.length;Z++)j[Z]=Q[Z]*C[Z]};e.Dk={};e.Dk.zg=function(Q,C,j,Z){var F=Q[C]-j[Z],_=Q[C+1]-j[Z+1],$=Q[C+2]-j[Z+2];
return Math.sqrt(F*F+_*_+$*$)*(1/441.7)};e.Dk.getSelection=function(Q,C,j){var Z=C*j,F=e.Q(Z),_=!1,$=Math.round(j*.7),L=1,D=new Uint32Array(12),d=e.Q(12);
for(var o=0;o<$;o++)for(var v=0;v<C;v++){if(v<L||o<L||v>C-L-1||o>j-L-1){var f=o*C+v,U=f<<2,H=0;if(o<L)H=4;
else if(v>C-L-1)H=8;D[H]+=Q[U];D[H+1]+=Q[U+1];D[H+2]+=Q[U+2];D[H+3]++;F[f]=255}}for(var f=0;f<12;f+=4)for(var B=0;
B<3;B++)d[f+B]=D[f+B]/D[f+3];var m=new Float32Array(Z);for(var f=0;f<Z;f++){var U=f*4,Y=e.Dk.zg(Q,U,d,0),q=e.Dk.zg(Q,U,d,4),r=e.Dk.zg(Q,U,d,8),x=Math.max(Y,Math.max(q,r));
m[f]=Y+q+r-x}e.Dk.zu(m);var a=Date.now(),i=new Float32Array(Z),l=[],M=e.Q(Z);for(var f=0;f<3;f++){e.yq(Q,M,f);
var z=new Uint16Array(Z);l.push(z);e.Dk.vbU(M,F,C,j,z)}if(_)console.log("MBD",Date.now()-a);a=Date.now();
for(var f=0;f<Z;f++)i[f]=l[0][f]+l[1][f]+l[2][f];e.Dk.zu(i);for(var f=0;f<Z;f++)i[f]+=.4*m[f];var V=C>>>1,$=j>>>1,X=1/Math.sqrt(V*V+$*$);
for(var o=0;o<j;o++)for(var v=0;v<C;v++){var O=v-V,y=o-$,K=1-Math.sqrt(O*O+y*y)*X;i[o*C+v]*=K}if(_)console.log("Centeredness",Date.now()-a);
a=Date.now();for(var f=0;f<Z;f++)F[f]=i[f]*255;var R=Math.round(C/120),W=Math.round(R*.8);if(_)console.log(R,W);
e.qq.Ri(F,M,C,j,R,e.qq.RT,[]);F.set(M);if(_)console.log("erosion",Date.now()-a);a=Date.now();for(var f=0;
f<Z;f++)i[f]=F[f];e.Dk.zu(i);var N=e.Q(256);for(var f=0;f<256;f++)N[f]=256/(1+Math.exp(-20*(f/255-.5)));
for(var f=0;f<Z;f++){var I=~~(i[f]*255+.5);F[f]=N[I]}if(_)console.log("Simoid",Date.now()-a);a=Date.now();
return F};e.Dk.zu=function(Q){var C=Q.length,j=0;for(var Z=0;Z<C;Z++)j=Math.max(j,Q[Z]);var F=1/j;for(var Z=0;
Z<C;Z++)Q[Z]=Q[Z]*F};e.Dk.vbU=function(Q,C,j,Z,F){var _=j*Z,$=Q.slice(0),L=Q.slice(0);for(var D=0;D<_;
D++)F[D]=C[D]==255?0:65535;e.Dk.KK(Q,L,$,F,j,Z);e.Dk.KR(Q,L,$,F,j,Z);e.Dk.KK(Q,L,$,F,j,Z);e.Dk.KR(Q,L,$,F,j,Z);
return F};e.Dk.KK=function(Q,C,j,Z,F,_){for(var $=1;$<F;$++)e.Dk.JX($,-1,Q,C,j,Z);for(var L=1;L<_;L++){e.Dk.JX(L*F,-F,Q,C,j,Z);
for(var $=1;$<F;$++){var D=L*F+$;e.Dk.JX(D,-1,Q,C,j,Z);e.Dk.JX(D,-F,Q,C,j,Z)}}};e.Dk.KR=function(Q,C,j,Z,F,_){for(var $=F-2;
$>=0;$--)e.Dk.JX(F*_-F+$,1,Q,C,j,Z);for(var L=_-2;L>=0;L--){e.Dk.JX(L*F+F-1,F,Q,C,j,Z);for(var $=F-2;
$>=0;$--){var D=L*F+$;e.Dk.JX(D,1,Q,C,j,Z);e.Dk.JX(D,F,Q,C,j,Z)}}};e.Dk.JX=function(Q,C,j,Z,F,_){var $=Q+C,L=j[Q],D=Z[$],d=F[$];
if(D<L)D=L;else if(L<d)d=L;var o=D-d;if(_[$]!=65535&&o<_[Q]){_[Q]=o;Z[Q]=D;F[Q]=d}};e.Gz={};e.Gz.filter=function(Q,C,j,Z){var F=C.W,_=C.C,$=F*_,L=Z[0],D=Z[1],d=Z[2],o=Z[3],v=Z[4],f=Z[5],U=Z[6],H=Date.now(),B=new Float32Array(F*_*4);
e.Gz.vKx(Q,F,_,B);var m=Math.ceil(L*Math.sqrt(-2*Math.log(.1))),Y=new ArrayBuffer($*4),q=new Float32Array(Y),r=new Float32Array($),x=new Float32Array($);
for(var a=0;a<$;a++){var i=a*4;q[a]=B[i];r[a]=B[i+1];x[a]=B[i+2]}e.blur.YX(q,q,C,m*1/2.4,2);e.blur.YX(r,r,C,m*1/2.4,2);
e.blur.YX(x,x,C,m*1/2.4,2);for(var a=0;a<$;a++){var i=a*4;B[i]=q[a];B[i+1]=r[a];B[i+2]=x[a]}var l=new Uint8Array(Y);
for(var a=0;a<$;a++){var i=a*4,M=a*4,q=B[i],r=B[i+1],x=B[i+2],z=Math.sqrt((q-x)*(q-x)+4*r*r),V=(q+x+z)*.5,X=(q+x-z)*.5,O=X-x,y=r,K=O*O+y*y;
if(K!=0){var R=Math.sqrt(K),W=1/R;O*=W;y*=W}l[M]=128+127*O;l[M+1]=128+127*y}var N=1.3*D+2,I=o*(2/10),T=Q.slice();
if(E.bs){var h=new Float32Array([1/F,1/_]),p=E.pj(0,F,_);p.set(T);var u=E.pj(1,F,_);u.set(l);E.xe(p,C);
if(v){p.gl(C);E.filter.ZT({type:E.filter.gR,a$:h,vpw:1/d,vpU:I},p.EB)}p.gl(C);E.filter.ZT({type:E.filter.$S,YV:u.ot,a$:h,vkX:N,vkA:2},p.EB);
if(v){p.gl(C);E.filter.ZT({type:E.filter.lU,a$:h,vsW:new Float32Array(U),vsr:f},p.EB)}p.get(j)}else{if(v)e.Gz.jY(1/d,I,T,F,_);
e.Gz.$S(T,j,l,F,_,N);if(v)e.Gz.vKO(F,_,j,U,f)}var g=$*4;for(var a=3;a<g;a+=4)j[a]=Q[a]};e.Gz.$S=function(Q,C,j,Z,F,_){var $=Math.ceil(2*_),L=-1/(2*_*_),D=[],d=1;
for(var o=0;o<$+20;o++)D[o]=Math.exp(o*o*L);var v=[0,0,0,0];for(var f=0;f<F;f++){for(var U=0;U<Z;U++){var H=f*Z+U,B=H*4,m=1,Y=Q[B],q=Q[B+1],r=Q[B+2],x=Q[B+3],a=(j[B]-128)*(1/127),i=(j[B+1]-128)*(1/127),l=a,M=i,z=U==0?.51:.49,V=f==0?.51:.49;
for(var o=0;o<2;o++){var X=U+z,O=f+V,y=0;while(y<$){if(X<.5||Z-.5<X||O<.5||F-.5<O)break;var K=~~X,R=~~O,W=R*Z+K,N=W*4,I=(j[N]-128)*(1/127),T=(j[N+1]-128)*(1/127);
if(I*l+T*M<0){I=-I;T=-T}l=I;M=T;X+=d*I;O+=d*T;if(X<.5||Z-.5<X||O<.5||F-.5<O)break;var h=~~X,p=~~O,u=p*Z+h<<2;
y+=d;var g=D[~~y];e.V.Mq(X,O,Q,Z,F,v);Y+=v[0]*g;q+=v[1]*g;r+=v[2]*g;x+=v[3]*g;m+=g}l=-a;M=-i}var A=1/m;
C[B]=~~(.5+Y*A);C[B+1]=~~(.5+q*A);C[B+2]=~~(.5+r*A);C[B+3]=~~(.5+x*A)}}};e.Gz.vKO=function(Q,C,j,Z,F){for(var _=0;
_<C;_++)for(var $=0;$<Q;$++){var L=_*Q+$<<2,D=1+e.Gz.vKi($,_,j,Q,C,Z)*F;j[L]=Math.max(0,Math.min(255,j[L]*D));
j[L+1]=Math.max(0,Math.min(255,j[L+1]*D));j[L+2]=Math.max(0,Math.min(255,j[L+2]*D))}};e.Gz.vKi=function(Q,C,j,Z,F,_){var $=j[(C*Z+Math.max(0,Q-1))*4+3],L=j[(C*Z+Math.min(Z-1,Q+1))*4+3],D=j[(Math.max(0,C-1)*Z+Q)*4+3],d=j[(Math.min(F-1,C+1)*Z+Q)*4+3],o=.7,v=(L-$)*(1/255),f=.7,U=(d-D)*(1/255),H=-v*f,B=-o*U,m=o*f,Y=Math.sqrt(H*H+B*B+m*m),q=1/Y,r=H*q,x=B*q,a=m*q,i=_[0]*r+_[1]*x+_[2]*a;
return i};e.Gz.jY=function(Q,C,j,Z,F){function _(L,d,o){return Math.max(d,Math.min(o,L))}for(var $=0;
$<F;$++)for(var L=0;L<Z;L++){var D=e.Gz.vKl(L+.5,$+.5,Q,C);j[($*Z+L)*4+3]=Math.max(0,Math.min(255,D*255))}};
e.Gz.vKl=function(Q,C,j,Z){function F(M,z,V){return(1-V)*M+V*z}var _=(Q+613)*j,$=(C+117)*j,L=~~_,D=~~$,d=_-L,o=$-D,v=Math.sin(11),f=Math.cos(L)*v,U=Math.cos(L+1)*v,H=Math.cos(D)*v,B=Math.cos(D+1)*v,m=e.Gz.hash(f,H),Y=e.Gz.hash(U,H),q=e.Gz.hash(f,B),r=e.Gz.hash(U,B),x=F(m,Y,d),a=F(q,r,d),i=F(x,a,o);
i=i<.5?0:1;var l=i+Z*e.Gz.hash(Math.cos(_)*v,Math.cos($)*v);return l*(1/3)};e.Gz.hash=function(Q,C){var j=Math.sin(Q*11.697096+C*73.32456)*12157.47691;
return j-Math.floor(j)};e.Gz.vKx=function(Q,C,j,Z){var F=[-1,0,1,-2,0,2,-1,0,1],_=[-1,-2,-1,0,0,0,1,2,1],$=C-1,L=j-1,D=C*4;
for(var d=1;d<L;d++)for(var o=1;o<$;o++){var v=d*C+o,f=v*4,U=e.Gz.kn(Q,f,D,F),H=e.Gz.kn(Q,f,D,_),B=e.Gz.kn(Q,f+1,D,F),m=e.Gz.kn(Q,f+1,D,_),Y=e.Gz.kn(Q,f+2,D,F),q=e.Gz.kn(Q,f+2,D,_);
Z[f]=U*U+B*B+Y*Y;Z[f+1]=U*H+B*m+Y*q;Z[f+2]=H*H+m*m+q*q}e.Gz.vKc(Z,C,j)};e.Gz.kn=function(Q,C,j,Z){return Q[C-j-4]*Z[0]+Q[C-j]*Z[1]+Q[C-j+4]*Z[2]+Q[C-4]*Z[3]+Q[C]*Z[4]+Q[C+4]*Z[5]+Q[C+j-4]*Z[6]+Q[C+j]*Z[7]+Q[C+j+4]*Z[8]};
e.Gz.vKc=function(Q,C,j){function Z(D,d,o){var v=d*4,f=o*4;D[f]=D[v];D[f+1]=D[v+1];D[f+2]=D[v+2]}var F=C-1,_=j-1;
Z(Q,C+1,0);Z(Q,2*C-2,C-1);for(var $=1;$<F;$++)Z(Q,C+$,$);for(var L=1;L<_;L++){Z(Q,L*C+1,L*C);Z(Q,L*C+C-2,L*C+C-1)}for(var $=1;
$<F;$++)Z(Q,(j-2)*C+$,(j-1)*C+$);Z(Q,(L-2)*C+1,(L-1)*C);Z(Q,(L-1)*C-2,L*C-1)};e.Jr={};e.Jr.zk=function(Q,C,j,Z){var F=Q[C*2],_=Q[C*2+1],$=Q[j*2],L=Q[j*2+1],D=Q[Z*2],d=Q[Z*2+1];
return F*L+$*d+D*_-D*L-$*_-F*d};e.Jr.RD=function(Q,C){var j=[],Z=[],F=[],_={};for(var $=0;$<C.length;
$+=3){var L=~~($*(1/3)),D=C[$+0],d=C[$+1],o=C[$+2],v=e.Jr.zk(Q,D,d,o);if(v>0){var f=d;d=o;o=f}var U=_[o+"-"+d],H=_[d+"-"+D],B=_[D+"-"+o],m=[o,U,L,null],Y=[d,H,L,m],q=[D,B,L,Y];
m[3]=q;if(U)U[1]=m;if(H)H[1]=Y;if(B)B[1]=q;_[o+"-"+D]=q;_[D+"-"+d]=Y;_[d+"-"+o]=m;j[D]=Y;F[$]=Y;j[d]=m;
F[$+1]=m;j[o]=q;F[$+2]=q;Z[L]=Y}return{a_:j,af:Z,tN:F}};e.Jr.vRt=function(Q){var C=[],j=Q.af;for(var Z=0;
Z<j.length;Z++){var F=j[Z];C.push(F[0]);F=F[3];C.push(F[0]);F=F[3];C.push(F[0])}return C};e.Jr.vRe=function(Q,C,j,Z){var F=Q[C*2],_=Q[C*2+1],$=Q[j*2],L=Q[j*2+1],D=Q[Z*2],d=Q[Z*2+1],o=$-F,v=L-_,f=D-F,U=d-_,H=o*(F+$)+v*(_+L),B=f*(F+D)+U*(_+d),m=2*(o*(d-L)-v*(D-$));
if(Math.abs(m)<1e-5){var Y=Math.min(F,$,D),q=Math.min(_,L,d),r=(Math.max(F,$,D)-Y)*.5,x=(Math.max(_,L,d)-q)*.5;
return[Y+r,q+x,r*r+x*x,1]}var a=(U*H-v*B)/m,i=(o*B-f*H)/m,r=a-F,x=i-_;return[a,i,r*r+x*x,0]};e.Jr.vjK=function(Q,C,j){var Z=j[1],F=j[3],_=F[3],$=Z[3],L=$[3],D=j[2],d=Z[2],o=j[0],v=Z[0],f=F[0],U=$[0],H=e.Jr.vRe(Q,v,U,f),B=Q[o*2]-H[0],m=Q[o*2+1]-H[1],Y=B*B+m*m>H[2]&&H[3]==0&&e.Jr.zk(Q,U,o,f)<0&&e.Jr.zk(Q,f,v,U)<0;
if(Y){j[0]=f;Z[0]=U;j[3]=_;_[3]=$;$[3]=j;Z[3]=L;L[3]=F;F[3]=Z;F[2]=d;$[2]=D;C.af[d]=L;C.af[D]=_;C.a_[v]=$;
C.a_[o]=F}return Y};e.Jr.RO=function(Q,C,j){var Z=Q[C*2]-Q[j*2],F=Q[C*2+1]-Q[j*2+1];return Math.sqrt(Z*Z+F*F)};
e.Jr.vjl=function(Q,C,j){var Z=j[1],F=j[3],_=F[3],$,L,D=j[2],d,o=j[0],v=_[0],f=F[0],U;if(Z){$=Z[3];L=$[3];
d=Z[2];U=$[0]}var H=Q.length>>>1;Q[2*H]=(Q[2*v]+Q[2*o])*.5;Q[2*H+1]=(Q[2*v+1]+Q[2*o+1])*.5;if(!0){var B=D,m=j,Y=C.af.length,q=[H,null,B,m],r=[f,q,Y,_];
q[1]=r;var x=[H,null,Y,r];F[3]=q;_[3]=x;_[2]=Y;C.af[B]=F;C.af[Y]=x;C.a_[o]=F;C.a_[f]=_;C.tN.push(q,r,x)}if(Z){var a=d,i=Z,l=Y+1;
x[1]=i,i[1]=x;var M=[H,null,a,i],z=[U,M,l,L];M[1]=z;var V=[H,m,l,z];m[1]=V;$[3]=M;L[3]=V;L[2]=l;C.af[a]=$;
C.af[l]=L;C.a_[v]=$;C.a_[U]=L;C.tN.push(M,z,V)}C.a_[H]=m};e.Jr.RK=function(Q,C){var j=0;while(!0){var Z=j;
for(var F=0;F<C.tN.length;F++){var _=C.tN[F];if(_[1]==null)continue;var $=e.Jr.vjK(Q,C,_);if($){j++;
break}}if(Z==j)break}return j!=0};e.Jr.vjx=function(Q,C,j,Z){var F=0;for(var _=0;_<Z;_++){var $=null,L=0;
for(var D=0;D<C.tN.length;D++){var d=C.tN[D],o=e.Jr.RO(Q,d[0],d[3][3][0])*(d[1]?1:2);if(o>L){$=d;L=o}}if(L>j){e.Jr.vjl(Q,C,$);
F++}}return F!=0};e.Jr.vjA=function(Q,C){var j=[],U=0;for(var Z=0;Z<Q.length;Z++)j.push(0);for(var Z=0;
Z<C.tN.length;Z++){var F=C.tN[Z],_=F[0],$=F[3][3][0],L=Q[_*2],D=Q[_*2+1],d=Q[$*2],o=Q[$*2+1],v=L-d,f=D-o;
j[_*2]+=-v;j[_*2+1]+=-f;j[$*2]+=v;j[$*2+1]+=f}for(var Z=0;Z<Q.length;Z+=2){var H=Z>>>1,B=C.a_[H],F=B,m=!0;
do{if(F[1]==null){m=!1;break}F=F[1][3]}while(F!=B);if(m){var Y=.02;Q[Z]+=Y*j[Z];Q[Z+1]+=Y*j[Z+1];U+=Y*(j[Z]*j[Z]+j[Z+1]*j[Z+1])}}return U};
e.Jr.vzj=function(Q,C,j){var Z=e.g.NM(Q),F=e.Jr.RD(Q,C);e.Jr.RK(Q,F);for(var _=0;_<300;_++){var $=!1,L=!1;
$=e.Jr.vjx(Q,F,j,5);if($)L=e.Jr.RK(Q,F);var D=e.Jr.vjA(Q,F);if(!$&&!L&&D<1e-4){break}}return e.Jr.vRt(F)};
e.pN={};e.pN.vzV=function(Q,C){var j=Q.length,Z=Q[0].length,F=C[0].length;if(Z!=C.length)throw"e";if((Z&1)!=0)throw"e";
var _=new Array(j);for(var $=0;$<j;$++)_[$]=new Array(F);for(var $=0;$<j;$++){var L=Q[$],D=_[$];for(var d=0;
d<F;d++){var o=0;for(var v=0;v<Z;v+=2)o+=L[v]*C[v][d]+L[v+1]*C[v+1][d];D[d]=o}}return _};e.pN.Rq=function(Q){var C=Q.NZ,j=Q.bZ,Z=Q.qM,F=Q.YT,_=Q.QW,$=Q.wO,L=Q.Qy,r,x,a=0;
function D(k,rv){var rb=k.length,rt=k[0].length,v=new Array(rb);for(var B=0;B<rb;B++){var rK=0;for(var rR=0;
rR<rt;rR++)rK+=k[B][rR]*rv[rR];v[B]=rK}return v}function d(k){var rv=new Array(k);for(var B=0;B<k;B++)rv[B]=0;
return rv}var o=j.length>>>1,v=d(C.Yk*2),f=d(C.Yk),U=d(C.Yk),H=Date.now();for(var B=0;B<Q.Jf.length;
B++){var m=C.vsg+B,Y=C.fA*($[B*2]+L[B*2]),q=C.fA*($[B*2+1]+L[B*2+1]);v[m*2]=Y;v[m*2+1]=q;f[m]=Y;U[m]=q}C.vsV.jL(F,C.vsI.Dq(v),.01,r,x);
for(var B=0;B<C.vJf.tN.length;B++){var i=C.vJf.tN[B],l=i[3][3][0],M=i[0],z=i[3][0],V=i[1]?i[1][3][0]:z;
if(i[1]&&l>M)continue;var X=j[l*2],O=j[l*2+1],y=j[M*2],K=j[M*2+1],R=F[l*2],W=F[l*2+1],N=F[M*2],I=F[M*2+1],T=F[z*2],h=F[z*2+1],p=F[V*2],u=F[V*2+1],g=[R,W,N,I,T,h];
if(i[1])g.push(p,u);var A=D(C.vsG[a],g),w=A[0],r$=A[1],rW=1/Math.sqrt(w*w+r$*r$);w*=rW;r$*=rW;var J=y-X,rr=K-O;
f[a]=w*J+r$*rr;U[a]=-r$*J+w*rr;a++}var r_=new Array(o),rO=new Array(o);for(var B=0;B<o;B++){r_[B]=_[B*2];
rO[B]=_[B*2+1]}C.vIh.jL(r_,C.vIo.Dq(f),.5);C.vIh.jL(rO,C.vIo.Dq(U),.5);for(var B=0;B<o;B++){_[B*2]=r_[B];
_[B*2+1]=rO[B]}};e.pN.j_=function(Q){var C=Q.bZ,j=Q.qM,Z=Q.Jf,o=0,Y=0,J=1e3;function F(rb){var rt=rb.length,rK=rb[0].length,rR=new Array(rK);
for(var v=0;v<rK;v++)rR[v]=new Array(rt);for(var v=0;v<rK;v++)for(var rW=0;rW<rt;rW++)rR[v][rW]=rb[rW][v];
return rR}function _(rb,rt){var rK=rb.length,rR=rb[0].length,ri=new Array(rK);for(var v=0;v<rK;v++)ri[v]=new Array(rR);
for(var v=0;v<rK;v++)for(var rW=0;rW<rR;rW++)ri[v][rW]=rb[v][rW]-rt[v][rW];return ri}var $=e.pN.vzV,L=Date.now(),D=e.Jr.RD(C,j),d=C.length>>>1;
for(var v=0;v<D.tN.length;v++)o+=D.tN[v][1]?.5:1;var f=o+Z.length,U=[],H=new e.xr(f*2,d*2),B=new e.xr(f,d),m=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],q=[],r=[];
for(var v=0;v<D.tN.length;v++){var x=D.tN[v],a=x[3][3][0],i=x[0],l=x[3][0],M=x[1]?x[1][3][0]:l;if(x[1]&&a>i)continue;
var z=C[a*2],V=C[a*2+1],X=C[i*2],O=C[i*2+1],y=C[l*2],K=C[l*2+1],R=C[M*2],W=C[M*2+1],N=[[z,V,1,0],[V,-z,0,1],[X,O,1,0],[O,-X,0,1],[y,K,1,0],[K,-y,0,1]];
if(x[1])N.push([R,W,1,0],[W,-R,0,1]);var I=F(N),T=$(linear.invert($(I,N)),I);T.pop();T.pop();U.push(T);
var h=X-z,p=O-V,u=m[x[1]?1:0];u=_(u,$([[h,p],[p,-h]],T));var g=[a*2,a*2+1,i*2,i*2+1,l*2,l*2+1,M*2,M*2+1],A=x[1]?8:6,w=[];
for(var r$=0;r$<A;r$++)w.push([g[r$],u[0][r$],u[1][r$]]);w.sort(function(rb,rt){return rb[0]-rt[0]});
for(var rW=0;rW<2;rW++){for(var r$=0;r$<A;r$++){q[r$]=w[r$][0];r[r$]=w[r$][1+rW]}H.Hu(r,q,A)}if(a<i)B.Hu([-1,1],[a,i],2);
else B.Hu([1,-1],[i,a],2);Y++}for(var v=0;v<Z.length;v++){var rr=Z[v];H.Hu([J],[rr*2],1);H.Hu([J],[rr*2+1],1);
B.Hu([J],[rr],1)}var r_=H.ik(),rO=r_.jF(r_),k=B.ik(),rv=k.jF(k);return{vsg:o,Yk:f,vsI:r_,vsV:rO,vIo:k,vIh:rv,vJf:D,vsG:U,fA:J}};
e.pN.vzT=function(Q,C,j,Z,F){var _=new s(0,0,C,j),$=e.Q(_.P());e.yq(Q,$,3);e.round($,70);var L=e.Go($,_),D=[.1,.065,.035][Z]*Math.max(L.W,L.C),d=F+1,o=C+d*2,v=j+d*2,f=new s(-d,-d,o,v),U=e.Q(f.P());
e.pQ($,_,U,f);var H=U.slice(0);for(var B=0;B<F;B++){for(var m=1;m<v-1;m++){for(var Y=1;Y<o-1;Y++){var q=m*o+Y;
H[q]=U[q-o]|U[q-1]|U[q]|U[q+1]|U[q+o]}}var r=H;H=U;U=r}var x=tI.zJ(U,o,v,Math.round(L.P()*5e-4)),a=tI.Uh(x),i=new rI(1,0,0,1,-d,-d);
for(var q=0;q<a.length;q++){var l=a[q];e.g.M(l.path.b,i,l.path.b);l.bZ=e.pN.vza(l.path);l.qM=e.g.vJZ(l.bZ);
l.qM=e.Jr.vzj(l.bZ,l.qM,D)}return a};e.pN.vza=function(Q){var C=[],j=Q.b,Z=Q.u.length-1,F=0,_=0;for(var $=0;
$<Z;$++){var L=$*6,D=j[L+6]-j[L+0],d=j[L+7]-j[L+1],o=Math.ceil(Math.sqrt(D*D+d*d));for(var v=0;v<o;v++){var f=v/o,U=1-f,H=U*U*U*j[L+0]+3*U*U*f*j[L+2]+3*U*f*f*j[L+4]+f*f*f*j[L+6],B=U*U*U*j[L+1]+3*U*U*f*j[L+3]+3*U*f*f*j[L+5]+f*f*f*j[L+7];
C.push(H,B);F=H;_=B}}C=e.g.jp(C,1);var m=[],Y=C.length;for(var L=0;L<Y;L+=2){var B=C.pop(),H=C.pop();
m.push(H,B)}return m};e.pN.vzB=function(Q,C,j,Z){function F(z,V,X,O,y){var K=y[z*2]-y[V*2],R=y[z*2+1]-y[V*2+1],W=Math.sqrt(K*K+R*R);
if(X[z].indexOf(V)==-1){X[z].push(V);O[z].push(W)}if(X[V].indexOf(z)==-1){X[V].push(z);O[V].push(W)}}var _=Q.length>>>1,$=new Array(_);
if(j.length==0){$.fill(0);return $}var L=new Array(_),D=new Array(_);for(var d=0;d<_;d++){L[d]=[];D[d]=[]}for(var d=0;
d<C.length;d+=3){F(C[d],C[d+1],L,D,Q);F(C[d],C[d+2],L,D,Q);F(C[d+1],C[d+2],L,D,Q)}var o=new Float64Array(_*2),v=new Uint32Array(_*2);
o.fill(1e9);var f=new Uint8Array(_);for(var U=0;U<j.length;U++){f.fill(0);var H=["---",[0,j[U]]];while(H.length!=1){var B=e.nX.vRQ(H),m=B[0],Y=B[1];
if(f[Y]==1)continue;var q=Y<<1;if(m<o[q]){o[q+1]=o[q];v[q+1]=v[q];o[q]=m;v[q]=U}else if(m<o[q+1]){o[q+1]=m;
v[q+1]=U}f[Y]=1;var r=L[Y],x=D[Y];for(var d=0;d<r.length;d++){var a=r[d];if(f[a]!=1){e.nX.vR_(H,[m+x[d],a])}}}}for(var d=0;
d<_;d++){var q=d<<1,i=o[q],l=o[q+1],M=1/(i+l);$[d]=(1-i*M)*Z[v[q]]+(1-l*M)*Z[v[q+1]]}return $};e.pN.vSG=function(Q){var C={u:[],b:[]},j=[Q];
while(j.length!=0){var Z=j.pop(),F=Z.LT;if(Z.vse instanceof Array||Z.vEr instanceof Array){C.u.push("M","L","L","L","Z");
C.b.push(F[0],F[1],F[2],F[1],F[2],F[3],F[0],F[3])}else j.push(Z.vse,Z.vEr)}return C};e.pN.or=function(Q,C,j,Z,F,_,$){var L=j.W,D=j.C,d=Math.round($.length/3),o=new Array(d);
for(var v=0;v<d;v++)o[v]=v;o.sort(function(U,H){return _[$[U*3]]-_[$[H*3]]});for(var v=0;v<d;v++){var f=o[v]*3;
e.pN.vzf($[f]*2,$[f+1]*2,$[f+2]*2,Z,F,Q,C,L,D)}};e.pN.vzf=function(Q,C,j,Z,F,_,$,L,D){var d=e.pN.jQ,o=[Q,C,j,1.2,1.2,1.2,0],v=[0,0,0,0],f=F[Q],U=F[Q+1],H=F[C],B=F[C+1],m=F[j],Y=F[j+1],q=Math.max(0,Math.min(L-1,Z[Q])),r=Math.max(0,Math.min(L-1,Z[C])),x=Math.max(0,Math.min(L-1,Z[j])),a=Math.max(0,Math.min(D-1,Z[Q+1])),i=Math.max(0,Math.min(D-1,Z[C+1])),l=Math.max(0,Math.min(D-1,Z[j+1])),M=H-f,z=B-U,V=m-f,X=Y-U,O=1/(M*X-V*z+1e-9),y=Math.max(0,Math.floor(Math.min(f,H,m))),K=Math.min(L,Math.ceil(Math.max(f,H,m))),R=Math.max(0,Math.floor(Math.min(U,B,Y))),W=Math.min(D,Math.ceil(Math.max(U,B,Y)));
for(var N=R;N<W;N++)for(var I=y;I<K;I++){var T=I+.5-f,h=N+.5-U,p=(T*X-V*h)*O,u=(M*h-T*z)*O;if(p>=0&&u>=0&&p+u<=1){var g=1-p-u,A=q*g+r*p+x*u,w=a*g+i*p+l*u;
e.V.Mq(A,w,_,L,D,v);e.pN.vzn(v,$,N*L+I<<2)}}};e.pN.vzn=function(Q,C,j){var Z=C[j],F=C[j+1],_=C[j+2],$=C[j+3],L=1-Q[3]*(1/255);
C[j]=~~(.5+Q[0]+Z*L);C[j+1]=~~(.5+Q[1]+F*L);C[j+2]=~~(.5+Q[2]+_*L);C[j+3]=~~(.5+Q[3]+$*L)};e.pN.jQ=function(){var Q=function(j,Z,F,_){var $=_[0],L=_[1],D=_[2],d=j[$+0],o=j[$+1],v=j[L+0],f=j[L+1],U=j[D+0],H=j[D+1],B=v-d,m=f-o,Y=U-d,q=H-o,r=Z-d,x=F-o,a=B*q-Y*m,i=1/(a+1e-9),l=(r*q-Y*x)*i,M=(B*x-r*m)*i;
if(l>=0&&M>=0&&l+M<=1){_[3]=1-l-M;_[4]=l;_[5]=M;return 1}return 0},C=function(j,Z,F,_){var $=[0,0,0,0,0,0];
for(var L=0;L<Z.length;L+=3){$[0]=Z[L]*2;$[1]=Z[L+1]*2;$[2]=Z[L+2]*2;if(Q(j,F,_,$)==1)return!0}return!1};
return{vWU:Q,vER:C}}();e.xJ={};e.xJ.vqk=function(Q,C,j,Z,F){var _=e.xJ.jP(Q.buffer,C,j).EI,$=Date.now(),L=new Uint32Array(_.length);
for(var D=0;D<_.length;D++)L[D]=_[D].ug;var d=UPNG.quantize.getKDtree(new Uint8Array(L.buffer),Z),o=[C,1,-C,-1,C+1,-C+1,-C-1,C-1,C+C,2,-C-C,-2,C+C-1,C+C+1,C+2,-C+2,-C-C+1,-C-C-1,-C-2,C-2,C+C+2,-C-C+2-C-C-2,C+C-2],v=new Uint8Array(C*j),f=Q;
for(var U=0;U<j;U++)for(var H=0;H<C;H++){var D=U*C+H<<2,B=f[D]*(1/255),m=f[D+1]*(1/255),Y=f[D+2]*(1/255),q=f[D+3]*(1/255),r=e.xJ.yn(d,B,m,Y,q,F);
if(r==null){var x=[],a=0;while(a<20){var i=U*C+H+o[a]<<2,l=f[i]*(1/255),M=f[i+1]*(1/255),z=f[i+2]*(1/255),V=f[i+3]*(1/255),X=e.xJ.yn(d,l,M,z,V,.005);
if(X!=null){if(x.indexOf(X)==-1){x.push(X);X.g_=1}else X.g_++}a++}x.sort(function(q,Y){return Y.g_-q.g_});
while(x.length!=0&&x[x.length-1].g_<3)x.pop();if(x.length==0)r=e.xJ.yn(d,B,m,Y,q,100);else if(x.length==1)r=x[0];
else if(x.length==2){var O=x[0],y=x[1],K=O.est.q,R=y.est.q,W=R[0]-K[0],N=R[1]-K[1],I=R[2]-K[2],T=R[3]-K[3],h=B-K[0],p=m-K[1],u=Y-K[2],g=q-K[3],A=W*W+N*N+I*I+T*T,w=h*h+p*p+u*u+g*g,r$=(h*W+p*N+u*I+g*T)/A,rW=w-r$*r$*A;
if(rW<.5)r=r$<.5?O:y;else{r=e.xJ.yn(d,B,m,Y,q,100)}}else{var O=x[0],y=x[1],J=x[2],K=O.est.q,R=y.est.q,rr=J.est.q,r_=K[0]-rr[0],rO=K[1]-rr[1],k=K[2]-rr[2],rv=K[3]-rr[3],rb=R[0]-rr[0],rt=R[1]-rr[1],rK=R[2]-rr[2],rR=R[3]-rr[3],ri=rr[0]-B,ru=rr[1]-m,rS=rr[2]-Y,rg=rr[3]-q,rd=r_*r_+rO*rO+k*k+rv*rv,vO=r_*rb+rO*rt+k*rK+rv*rR,rq=ri*r_+ru*rO+rS*k+rg*rv,rL=r_*rb+rO*rt+k*rK+rv*rR,rl=rb*rb+rt*rt+rK*rK+rR*rR,rV=ri*rb+ru*rt+rS*rK+rg*rR,ry=1/(vO*rL-rd*rl),r$=(rl*rq-rV*vO)*ry,vj=(rV*rd-rq*rL)*ry,rp=1-r$-vj,rx=Math.max(r$,vj,rp);
if(rx==r$)r=O;else if(rx==vj)r=y;else r=J}}v[D>>2]=r.ind}return{qM:v,EI:d[1]}};e.xJ.jP=function(Q,C,j){var Z=[],F={},_=C-1,$=j-1,L=0,D=new Uint32Array(Q),d=[-C-1,-C,-C+1,-1,1,C-1,C,C+1,C+C,2,-C-C,-2,C+C-1,C+C+1,C+2,-C+2,-C-C+1,-C-C-1,-C-2,C-2,C+C+2,-C-C+2-C-C-2,C+C-2];
for(var o=1;o<$;o++)for(var v=1;v<_;v++){var f=o*C+v,U=D[f],H=!0;for(var B=0;B<8;B++)H=H&&D[f+d[B]]==U;
if(H){L++;var m=F[U];if(m==null){F[U]=Z.length;Z.push({ug:U,Fu:1})}else Z[m].Fu++}}return{EI:Z,vEj:L}};
e.xJ.yn=function(Q,C,j,Z,F,_){var $=UPNG.quantize.getNearest(Q[0],C,j,Z,F);return e.xJ.vqJ($,C,j,Z,F)<_?$:null};
e.xJ.vqJ=function(Q,C,j,Z,F){var _=Q.est.q,$=C-_[0],L=j-_[1],D=Z-_[2],d=F-_[3];return $*$+L*L+D*D+d*d};
e.xJ.vSP=function(Q,C,j,Z){var F=e.xJ.vqB(Q,C,j,Z),_=F.qM,$=F.EI,L=F.vEX,D=UPNG.quantize.getKDtree(new Uint8Array(L.buffer.slice(0)),200),d=[];
for(var o=0;o<$.length;o++){var v=$[o].aP,f=v[0],U=v[1],H=v[2],B=v[3];if(Math.min(f,U,H,B)<0)throw"e";
var m=UPNG.quantize.getNearest(D[0],f/255,U/255,H/255,B/255);d.push(D[1].indexOf(m))}for(var o=0;o<C*j;
o++)_[o]=d[_[o]];return{qM:_,EI:D[1]}};e.xJ.vqB=function(Q,C,j,Z){var F=C*j,_=2*F,$=e.xJ.vqC(Q,C,j),L=65535+1,D=new Uint32Array(L),v=0;
for(var d=0;d<_;d++)D[$[d]]++;var o=new Uint32Array(L);for(var d=0;d<L;d++){o[d]=v;v+=D[d]}var f=new Uint32Array(_);
for(var d=0;d<_;d++){var U=$[d];f[o[U]]=d;o[U]++}var H=new UnionFind(F),B=new Uint16Array(F),m=new Uint32Array(F);
for(var d=0;d<F;d++)m[d]=1;var Y=F,q=1e5/(Z*10);for(var r=0;r<_;r++){var x=f[r],a=$[x];if(a==65535)continue;
var d=x>>1,i=d+((x&1)==0?1:C),l=H.find(d),M=H.find(i),z=Math.min(B[l]+q/Math.sqrt(m[l]),B[M]+q/Math.sqrt(m[M]));
if(l!=M&&a<=z){H.link(d,i);Y--;var V=H.find(d);m[V]=m[l]+m[M];B[V]=a}}var X=[],O={},y=new Uint16Array(F);
for(var d=0;d<F;d++){var V=H.find(d),K=O[V];if(K==null){O[V]=K=X.length;X.push({Fu:0,aP:[0,0,0,0]})}X[K].Fu++;
for(var i=0;i<4;i++)X[K].aP[i]+=Q[(d<<2)+i];y[d]=K}var R=new Uint32Array(X.length);for(var d=0;d<X.length;
d++){var K=X[d];for(var i=0;i<4;i++)K.aP[i]=Math.round(K.aP[i]/K.Fu);R[d]=K.aP[3]<<24|K.aP[2]<<16|K.aP[1]<<8|K.aP[0]}return{qM:y,EI:X,vEX:R}};
e.xJ.vqC=function(Q,C,j){var Z=new Uint16Array(C*j*2);for(var F=0;F<j;F++)for(var _=0;_<C;_++){var $=F*C+_;
Z[$+$]=_<C-1?e.xJ.jN(Q,$,$+1):65535;Z[$+$+1]=F<j-1?e.xJ.jN(Q,$,$+C):65535}return Z};e.xJ.jN=function(Q,C,j){var Z=C<<2,F=j<<2,_=Q[Z],$=Q[Z+1],L=Q[Z+2],D=Q[Z+3],d=Q[F],o=Q[F+1],v=Q[F+2],f=Q[F+3],U=_-d,H=$-o,B=L-v,m=D-f;
return U*U+H*H+B*B+m*m>>2};e.xJ.zL=function(){function Q(Y,q,r,x,a,i){var l=[],M=i,z=i,V=i>>>2;for(var X=0;
X<a;X++)for(var O=0;O<x;O++){var y=~~((O+.5)*M),K=~~((X+.5)*z),R=1e9,W=Math.max(0,y-V),N=Math.min(q,y+V+1),I=Math.max(0,K-V),T=Math.min(r,K+V+1);
for(var h=I;h<T;h++)for(var p=W;p<N;p++){var u=C(Y,q,p,h);if(u<R){y=p;K=h;R=u}}var g=(K*q+y)*4;l.push(Y[g],Y[g+1],Y[g+2],y,K)}return l}function C(Y,q,r,x){var a=(x*q+r)*4,i=q*4,l=j(Y,a-4,a)+j(Y,a,a+4),M=j(Y,a-i,a)+j(Y,a,a+i);
return l+M}function j(Y,q,r){var x=Y[q]-Y[r],a=Y[q+1]-Y[r+1],i=Y[q+2]-Y[r+2];return x*x+a*a+i*i}var Z=0,F=0;
function _(Y,q,r,x){F++;if(x<Z)Z=x;Y[x].push(q,r)}function $(Y){F--;while(Y[Z].length==0)Z++}function L(Y,q,r){Z=0;
F=0;var x=q*r,a=Math.round(Math.min(q,r)/50),R=0,W=16;if(a==0)a=1;var i=30/a,l=Math.floor(q/a),M=Math.floor(r/a),z=l*M;
if(z>65535)throw z;var V=new Uint16Array(x);for(var X=0;X<x;X++)V[X]=65535;var O=Q(Y,q,r,l,M,a),y=[];
for(var X=0;X<1e3+r;X++)y.push([]);var K=[0,1,0,-1,-1,0,1,0],N=Math.min(M,5),I=new Uint32Array(z*6);
for(var T=0;T<M;T+=N){var h=Math.min(T+N+1,M);for(var p=T;p<h;p++)for(var u=0;u<l;u++){var X=p*l+u,g=X*5,A=O[g+4]<<16|O[g+3];
_(y,A,X,O[g+4]>>>W)}var w=Math.min(r,h*a);if(T+N>=M)w=r;while(F!=0){$(y);var r$=y[Z].pop(),rW=y[Z].pop(),J=rW>>>16,rr=rW&65535,X=J*q+rr;
if(V[X]==65535){var r_=r$*6,rO=X<<2;V[X]=r$;I[r_]+=Y[rO];I[r_+1]+=Y[rO+1];I[r_+2]+=Y[rO+2];I[r_+3]+=rr;
I[r_+4]+=J;I[r_+5]++;var k=J>>>W;if(J!=w-1&&V[X+q]==65535)_(y,J+1<<16|rr,r$,D(Y,q,i,rr,J+1,I,r_)+k);
if(J!=0&&V[X-q]==65535)_(y,J-1<<16|rr,r$,D(Y,q,i,rr,J-1,I,r_)+k);if(rr!=0&&V[X-1]==65535)_(y,J<<16|rr-1,r$,D(Y,q,i,rr-1,J,I,r_)+k);
if(rr!=q-1&&V[X+1]==65535)_(y,J<<16|rr+1,r$,D(Y,q,i,rr+1,J,I,r_)+k)}}if(w!=J){var rv=(T+N)*l;I.fill(0,rv*6,(rv+l)*6);
for(var J=(T+N-2)*a;J<w;J++)for(var rr=0;rr<q;rr++){var X=J*q+rr;if(V[X]>=rv){V[X]=65535}}}}return{qM:V,IA:z,gQ:I}}e.xJ.zv=function(Y,q,r,x,a){var i=Y.IA,l=q*r,M=Y.gQ,z=Y.qM,V=U(x,z,i,l),X=new UnionFind(i),I=0;
for(var O=1;O<r;O++)for(var y=1;y<q;y++){var K=O*q+y,R=z[K],W=0;if((W=z[K-1])!=R&&V[W]==V[R]&&d(M,0,R*6,W*6)<a)X.link(R,W);
if((W=z[K-q])!=R&&V[W]==V[R]&&d(M,0,R*6,W*6)<a)X.link(R,W)}var N=new Uint16Array(i);N.fill(65535);var T=new Uint16Array(i);
for(var K=0;K<i;K++){var h=X.find(K);if(N[h]==65535)N[h]=I++;T[K]=N[h]}var p=new Uint16Array(l);for(var K=0;
K<l;K++)p[K]=T[z[K]];return{qM:p,IA:I}};e.xJ.vpQ=function(Y,q,r,x){var a=e.Q(r),i=q.length,l=0;for(var M=0;
M<i&&l!=3;M++){var z=x[M];if(z==0||z==255){var V=q[M],X=2-(z>>>7);a[V]=l=a[V]|X}}return l!=3};function D(Y,q,r,x,a,i,l){var M=(a*q+x)*4,z=i[l+5],V=1/z,X=Y[M]*z-i[l],O=Y[M+1]*z-i[l+1],y=Y[M+2]*z-i[l+2],K=x*z-i[l+3],R=a*z-i[l+4],W=Math.sqrt(X*X+O*O+y*y),N=Math.sqrt(K*K+R*R);
return~~((W+r*N)*V+.5)}function d(Y,q,r,x){var a=1/Y[r+5],i=1/Y[x+5],l=Y[r]*a-Y[x]*i,M=Y[r+1]*a-Y[x+1]*i,z=Y[r+2]*a-Y[x+2]*i,V=Y[r+3]*a-Y[x+3]*i,X=Y[r+4]*a-Y[x+4]*i,O=Math.sqrt(l*l+M*M+z*z),y=Math.sqrt(V*V+X*X);
return~~(O+q*y+.5)}function o(Y,q,r){var x=e.ni(Y,new s(0,0,q,r)),a=x.rect.W,i=x.rect.C,l=L(x.Dg,a,i),M=l.qM,z=Date.now(),V=new Uint16Array(q*r);
V.fill(65535);for(var X=0;X<i;X++){for(var O=0;O<a;O++){var y=X*a+O,K=(X<<1)*q+(O<<1),R=M[y];if(M[y-a]!=R||M[y-1]!=R||M[y+1]!=R||M[y+a]!=R)R=65535;
V[K]=R;V[K+1]=R;V[K+q]=R;V[K+q+1]=R}}l.qM=V;return l}function v(Y,q){var r=0,x=Y.length;while(r!=x&&Y[r]!=q)r+=2;
return r==x?-1:r}function f(Y,q){if(q==Y.length-2){Y.pop();Y.pop()}else{Y[q+1]=Y.pop();Y[q]=Y.pop()}}e.xJ.vEa=function(Y,q,r,x,a){var i=new Uint32Array(a*4400),C=[];
for(var l=0;l<a;l++)C.push([]);for(var M=0;M<r;M++)for(var z=0;z<q;z++){var l=M*q+z,V=l<<2,X=x[l],O=0,y=Y[V]>>>4,K=Y[V+1]>>>4,R=Y[V+2]>>>4;
i[X*4400+(y<<8|K<<4|R)]++;i[X*4400+4096]++;i[X*4400+4100+(y<<4|K)]++;i[X*4400+4360+y]++;if(z!=0&&(O=x[l-1])!=X&&v(C[X],O)==-1){C[X].push(O,0);
C[O].push(X,0)}if(M!=0&&(O=x[l-q])!=X&&v(C[X],O)==-1){C[X].push(O,0);C[O].push(X,0)}}for(var l=0;l<a;
l++){var R=C[l];for(var W=0;W<R.length;W+=2)R[W+1]=m(i,l,R[W])}return[i,C]};function U(Y,q,r,x){var a=e.Q(r);
for(var i=0;i<x;i++){var l=Y[i];if(l==0||l==255)a[q[i]]=2-(l>>>7)}return a}e.xJ.vEB=function(Y,q,r,x,a,i,l){var M=q*r,z=l[0],C=l[1],V=new UnionFind(x),X=U(a,Y,x,M),O=-1,K=!0,R=0;
for(var y=0;y<x;y++)if(X[y]==1){if(O==-1)O=y;else V.link(y,O)}if(O==-1){for(var y=0;y<M;y++)i[y]=a[y]==255?255:0;
return}while(K){while(K){K=!1;for(var y=0;y<x;y++){if(X[y]==0){var W=H(C[y]);if(X[W]==1){X[y]=X[W];K=!0;
V.link(y,W)}}}}K=!0;R=0;while(K){K=!1;for(var y=0;y<x;y++){if(X[y]==0){var W=H(C[y]);if(X[W]==0){var N=y*4400,I=W*4400;
for(var T=0;T<4400;T+=2){z[N+T]+=z[I+T];z[N+T+1]+=z[I+T+1]}B(C,z,y,W);R++;X[W]=3;K=!0;V.link(y,W)}}}}K=R!=0}var h=V.find(O);
for(var y=0;y<x;y++)X[y]=V.find(y)==h?255:0;for(var y=0;y<M;y++){i[y]=X[Y[y]]}for(var y=0;y<M;y++){var W=a[y];
if(W==0||W==255)i[y]=W}};function H(Y){var q=0,r=0,x=Y.length;for(var a=0;a<x;a+=2){var i=Y[a+1];if(i>r){r=i;
q=a}}return Y[q]}function B(C,Y,q,r){var x=C[q],a=C[r];f(x,v(x,r));f(a,v(a,q));for(var i=0;i<a.length;
i+=2){var l=a[i],M=C[l];f(M,v(M,r));if(v(M,q)==-1){M.push(q,0);x.push(l,0)}}for(var i=0;i<x.length;i+=2){var l=x[i],M=C[l],z=m(Y,q,l);
x[i+1]=z;M[v(M,q)+1]=z}}function m(Y,q,r){var x=0,a=4096,i=q*4400,l=r*4400;for(var M=0;M<16;M++){if(Y[i+4360+M]==0||Y[l+4360+M]==0)continue;
for(var z=0;z<16;z++){var V=M<<4|z;if(Y[i+4100+V]==0||Y[l+4100+V]==0)continue;var X=i+(V<<4),O=l+(V<<4);
for(var y=0;y<16;y++)x+=Math.sqrt(Y[X+y]*Y[O+y])}}var K=x/Math.sqrt(Y[i+a]*Y[l+a]);return~~(999.99999*K)}return L}();
var tI=function(){function Q(){this.P=0;this.Vv=0;this.td={};this.rs=[];this.Nf=1e5;this.NN=1e5;this.NA=-1;
this.wv=-1;this.color=0}function C(F){this.Qd=F;this.qI=new Array(F);this.ug=new Array(F*6);this.vrg=0;
this.Eo=new Array(F*2);this.alpha=new Array(F);this.w_=new Array(F);this.wQ=new Array(F)}function j(F,_,$,L){function D(Y,q,F,_){return F[_*q+Y]}function d(m){var M=F.length;
while(m<M&&F[m]==0)m++;return m<M?m:-1}function o(Y,q,M){for(var m=2;m<5;m++){var z=0;for(var V=-m+1;
V<=m-1;V++){z+=D(Y+V,q+m-1,F,_)==M?1:-1;z+=D(Y+m-1,q+V-1,F,_)==M?1:-1;z+=D(Y+V-1,q-m,F,_)==M?1:-1;z+=D(Y-m,q+V,F,_)==M?1:-1}if(z>0)return 1;
else if(z<0)return 0}return 0}function v(M,H){var B=new Q,Y=M,q=H,z=0,V=1,X;B.color=F[H*_+M];B.sign=D(M,H,F,_)==B.color?"+":"-";
while(1){B.rs.push(Y,q);if(Y>B.NA)B.NA=Y;if(Y<B.Nf)B.Nf=Y;if(q>B.wv)B.wv=q;if(q<B.NN)B.NN=q;B.Vv++;Y+=z;
q+=V;B.P-=Y*V;if(Y==M&&q==H)break;var O=D(Y+(z+V-1>>1),q+(V-z-1>>1),F,_)==B.color,y=D(Y+(z-V-1>>1),q+(V+z-1>>1),F,_)==B.color;
if(y&&!O){if(L.gK=="right"||L.gK=="black"&&B.sign=="+"||L.gK=="white"&&B.sign=="-"||L.gK=="majority"&&o(Y,q,B.color)||L.gK=="minority"&&!o(Y,q,B.color)){X=z;
z=-V;V=X}else{X=z;z=V;V=-X}}else if(y){X=z;z=-V;V=X}else if(!O){X=z;z=V;V=-X}}return B}var f=0,U=[];
while(!0){var f=d(f);if(f==-1)break;var H=Math.floor(f/_),B=v(f-H*_,H);for(var m=0;m<B.rs.length-2;m+=2){var Y=B.rs[m],q=B.rs[m+1],r=q*_+Y;
if(Y==B.rs[m+2]&&q+1==B.rs[m+3]&&F[r]!=0)tI.fill(r,F,_,0)}if(B.P>L.vEN)U.push(B)}for(var m=0;m<U.length;
m++)U[m].parent=-1;var x=Date.now();for(var m=1;m<U.length;m++){var a=U[m];for(var i=m-1;i>=0;i--){var l=U[i];
if(a.Nf<l.Nf||a.NA>l.NA||a.NN<l.NN||a.wv>l.wv)continue;if(!tI.vqo(l.rs,a.rs[0]+.5,a.rs[1]+.5))continue;
a.parent=i;break}}return U}function Z(F,_){function $(z,V,X,O,y){this.x=z;this.y=V;this.Qe=X;this.QM=O;
this.tr=y}function L(z,V){return(V+z)%V}function D(z,V,X,O){return z*O-X*V}function d(z,V,X,O){return z*X+V*O}function o(z,V,X){if(z<=X)return z<=V&&V<X;
else return z<=V||V<X}function v(z,V,X){var O=0;O+=V*z[0]*V;O+=V*z[1]*X;O+=V*z[2];O+=X*z[3]*V;O+=X*z[4]*X;
O+=X*z[5];O+=z[6]*V;O+=z[7]*X;O+=z[8];return O}function f(z,V,X){return V+z*(X-V)}function U(z,V,X,O){var y=Math.sign(X-z),K=-Math.sign(O-V);
return y*(X-z)-K*(O-V)}function H(z,V){return Math.sqrt(z*z+V*V)}function B(z,V,X,O,y){var K=1-z;return K*K*K*V+3*(K*K*z)*X+3*(z*z*K)*O+z*z*z*y}function m(z,V,X,O,y,K,R,W){var N=D(z,V,R,W),I=D(X,O,R,W),T=D(y,K,R,W),h=N-2*I+T,p=-2*N+2*I,u=N,g=p*p-4*h*u;
if(h==0||g<0)return-1;var A=Math.sqrt(g),w=(-p+A)/(2*h),r$=(-p-A)/(2*h);if(w>=0&&w<=1)return w;else if(r$>=0&&r$<=1)return r$;
else return-1}function Y(M){var l,z,V;M.gz=M.rs[0];M.vpK=M.rs[1];M.YJ=[];var X=M.YJ;X.push(new $(0,0,0,0,0));
for(l=0;l<M.Vv;l++){z=M.rs[l<<1]-M.gz;V=M.rs[(l<<1)+1]-M.vpK;X.push(new $(X[l].x+z,X[l].y+V,X[l].Qe+z*V,X[l].QM+z*z,X[l].tr+V*V))}}function q(M){var z=M.Vv,V=M.rs,X,O=new Array(z),y=new Array(z),K=new Array(4),R,W,N,I,T,h,p,u,g,A,w,l,r$,rW,J,rr,r_,rO,k=0;
M.gi=new Array(z);for(l=z-1;l>=0;l--){if(V[l<<1]!=V[k<<1]&&V[(l<<1)+1]!=V[(k<<1)+1])k=l+1;y[l]=k}for(l=z-1;
l>=0;l--){var rv=L(l+1,z)<<1;K[0]=K[1]=K[2]=K[3]=0;X=(3+3*(V[rv]-V[l<<1])+(V[rv+1]-V[(l<<1)+1]))/2;K[X]++;
R=0;W=0;N=0;I=0;k=y[l];rW=l;while(1){w=0;X=(3+3*Math.sign(V[k*2]-V[rW*2])+Math.sign(V[k*2+1]-V[rW*2+1]))/2;
K[X]++;if(K[0]&&K[1]&&K[2]&&K[3]){O[l]=rW;w=1;break}g=V[k*2]-V[l*2];A=V[k*2+1]-V[l*2+1];if(D(R,W,g,A)<0||D(N,I,g,A)>0){break}if(Math.abs(g)<=1&&Math.abs(A)<=1){}else{T=g+(A>=0&&(A>0||g<0)?1:-1);
h=A+(g<=0&&(g<0||A<0)?1:-1);if(D(R,W,T,h)>=0){R=T;W=h}T=g+(A<=0&&(A<0||g<0)?1:-1);h=A+(g>=0&&(g>0||A<0)?1:-1);
if(D(N,I,T,h)<=0){N=T;I=h}}rW=k;k=y[rW];if(!o(k,l,rW)){break}}if(w==0){p=Math.sign(V[k*2]-V[rW*2]);u=Math.sign(V[k*2+1]-V[rW*2+1]);
g=V[rW*2]-V[l*2];A=V[rW*2+1]-V[l*2+1];J=D(R,W,g,A);rr=D(R,W,p,u);r_=D(N,I,g,A);rO=D(N,I,p,u);r$=1e7;
if(rr<0){r$=Math.floor(J/-rr)}if(rO>0){r$=Math.min(r$,Math.floor(-r_/rO))}O[l]=L(rW+r$,z)}}r$=O[z-1];
M.gi[z-1]=r$;for(l=z-2;l>=0;l--){if(o(l+1,O[l],r$)){r$=O[l]}M.gi[l]=r$}for(l=z-1;o(L(l+1,z),r$,M.gi[l]);
l--){M.gi[l]=r$}}function r(M){function z(M,l,V){var y=M.Vv,g=M.rs,A=M.YJ,w,r$,rW,J,rr,O,r_,rO,u,k,rv,rb,rt,rK,rR=0;
if(V>=y){V-=y;rR=1}if(rR==0){w=A[V+1].x-A[l].x;r$=A[V+1].y-A[l].y;J=A[V+1].QM-A[l].QM;rW=A[V+1].Qe-A[l].Qe;
rr=A[V+1].tr-A[l].tr;O=V+1-l}else{w=A[V+1].x-A[l].x+A[y].x;r$=A[V+1].y-A[l].y+A[y].y;J=A[V+1].QM-A[l].QM+A[y].QM;
rW=A[V+1].Qe-A[l].Qe+A[y].Qe;rr=A[V+1].tr-A[l].tr+A[y].tr;O=V+1-l+y}rv=(g[l<<1]+g[V<<1])/2-g[0];rb=(g[(l<<1)+1]+g[(V<<1)+1])/2-g[1];
rK=g[V<<1]-g[l<<1];rt=-(g[(V<<1)+1]-g[(l<<1)+1]);r_=(J-2*w*rv)/O+rv*rv;rO=(rW-w*rb-r$*rv)/O+rv*rb;u=(rr-2*r$*rb)/O+rb*rb;
k=rt*rt*r_+2*rt*rK*rO+rK*rK*u;return Math.sqrt(k)}var l,V,X,O,y=M.Vv,K=new Array(y+1),R=new Array(y+1),W=new Array(y),N=new Array(y+1),I=new Array(y+1),T=new Array(y+1),h,p,u;
for(l=0;l<y;l++){u=L(M.gi[L(l-1,y)]-1,y);if(u==l){u=L(l+1,y)}if(u<l){W[l]=y}else{W[l]=u}}V=1;for(l=0;
l<y;l++){while(V<=W[l]){N[V]=l;V++}}l=0;for(V=0;l<y;V++){I[V]=l;l=W[l]}I[V]=y;X=V;l=y;for(V=X;V>0;V--){T[V]=l;
l=N[l]}T[0]=0;K[0]=0;for(V=1;V<=X;V++){for(l=T[V];l<=I[V];l++){p=-1;for(O=I[V-1];O>=N[l];O--){h=z(M,O,l)+K[O];
if(p<0||h<p){R[l]=O;p=h}}K[l]=p}}M.aN=X;M.vEQ=new Array(X);for(l=y,V=X-1;l>0;V--){l=R[l];M.vEQ[V]=l}}function x(M){function z(M,l,h,W,N,ri){var O=M.Vv,ru=M.YJ,rS=0,u;
while(h>=O){h-=O;rS+=1}while(l>=O){l-=O;rS-=1}while(h<0){h+=O;rS-=1}while(l<0){l+=O;rS+=1}var rg=ru[h+1].x-ru[l].x+rS*ru[O].x,rd=ru[h+1].y-ru[l].y+rS*ru[O].y,vO=ru[h+1].QM-ru[l].QM+rS*ru[O].QM,rq=ru[h+1].Qe-ru[l].Qe+rS*ru[O].Qe,rL=ru[h+1].tr-ru[l].tr+rS*ru[O].tr,p=h+1-l+rS*O;
W[ri]=rg/p;W[ri+1]=rd/p;var rl=(vO-rg*rg/p)/p,rV=(rq-rg*rd/p)/p,ry=(rL-rd*rd/p)/p,vj=(rl+ry+Math.sqrt((rl-ry)*(rl-ry)+4*rV*rV))/2;
rl-=vj;ry-=vj;if(Math.abs(rl)>=Math.abs(ry)){u=Math.sqrt(rl*rl+rV*rV);if(u!=0){N[ri]=-rV/u;N[ri+1]=rl/u}}else{u=Math.sqrt(ry*ry+rV*rV);
if(u!=0){N[ri]=-ry/u;N[ri+1]=rV/u}}if(u==0){N[ri]=N[ri+1]=0}}var V=M.aN,X=M.vEQ,O=M.Vv,y=M.rs,K=M.gz,R=M.vpK,W=new Array(V*2),N=new Array(V*2),I=new Array(V),T=new Array(3),l,h,p,u,r$,rW,J,rr,r_,rO,k;
M.td=new C(V);for(l=0;l<V;l++){h=X[L(l+1,V)];h=L(h-X[l],O)+X[l];W[l<<1]=0;W[(l<<1)+1]=0;N[l<<1]=0;N[(l<<1)+1]=0;
z(M,X[l],h,W,N,l<<1)}for(l=0;l<V;l++){I[l]=[0,0,0,0,0,0,0,0,0];var g=N[l<<1]*N[l<<1]+N[(l<<1)+1]*N[(l<<1)+1],A=1/g;
if(g!=0){T[0]=N[(l<<1)+1];T[1]=-N[l<<1];T[2]=-T[1]*W[(l<<1)+1]-T[0]*W[l<<1];for(u=0;u<3;u++){I[l][u*3+0]=T[u]*T[0]*A;
I[l][u*3+1]=T[u]*T[1]*A;I[l][u*3+2]=T[u]*T[2]*A}}}var w=[0,0,0,0,0,0,0,0,0];for(l=0;l<V;l++){w[0]=w[1]=w[2]=w[3]=w[4]=w[5]=w[6]=w[7]=w[8]=w[9]=0;
var rv=y[X[l]<<1]-K,rb=y[(X[l]<<1)+1]-R,rt=0,rK=0;h=L(l-1,V);for(u=0;u<9;u+=3){w[u+0]=I[h][u+0]+I[l][u+0];
w[u+1]=I[h][u+1]+I[l][u+1];w[u+2]=I[h][u+2]+I[l][u+2]}while(1){var rR=w[0]*w[4]-w[1]*w[3];if(rR!=0){rt=(-w[2]*w[4]+w[5]*w[0])/rR;
rK=(w[2]*w[3]-w[5]*w[0])/rR;break}if(w[0]>w[4]){T[0]=-w[1];T[1]=w[0]}else if(w[4]){T[0]=-w[4];T[1]=w[3]}else{T[0]=1;
T[1]=0}var g=T[0]*T[0]+T[1]*T[1],A=1/g;T[2]=-T[1]*rb-T[0]*rv;for(u=0;u<3;u++){w[u*3+0]+=T[u]*T[0]*A;
w[u*3+1]+=T[u]*T[1]*A;w[u*3+2]+=T[u]*T[2]*A}}r$=Math.abs(rt-rv);rW=Math.abs(rK-rb);if(r$<=.5&&rW<=.5){M.td.Eo[l<<1]=rt+K;
M.td.Eo[(l<<1)+1]=rK+R;continue}J=v(w,rv,rb);r_=rv;rO=rb;if(w[0]!=0){for(k=0;k<2;k++){rK=rb-.5+k;rt=-(w[1]*rK+w[2])/w[0];
r$=Math.abs(rt-rv);rr=v(w,rt,rK);if(r$<=.5&&rr<J){J=rr;r_=rt;rO=rK}}}if(w[4]!=0){for(k=0;k<2;k++){rt=rv-.5+k;
rK=-(w[3]*rt+w[5])/w[4];rW=Math.abs(rK-rb);rr=v(w,rt,rK);if(rW<=.5&&rr<J){J=rr;r_=rt;rO=rK}}}for(u=0;
u<2;u++){for(p=0;p<2;p++){rt=rv-.5+u;rK=rb-.5+p;rr=v(w,rt,rK);if(rr<J){J=rr;r_=rt;rO=rK}}}M.td.Eo[l<<1]=r_+K;
M.td.Eo[(l<<1)+1]=rO+R}}function a(M){var z=M.td.Qd,V=M.td,l,X,O,y,K,R,W,N,I;for(l=0;l<z;l++){X=L(l+1,z);
O=L(l+2,z);var T=V.Eo[l<<1],h=V.Eo[(l<<1)+1],p=V.Eo[O<<1],u=V.Eo[(O<<1)+1],g=V.Eo[X<<1],A=V.Eo[(X<<1)+1],w=f(.5,p,g),r$=f(.5,u,A);
K=U(T,h,p,u);if(K!=0){y=D(g-T,A-h,p-T,u-h)/K;y=Math.abs(y);R=y>1?1-1/y:0;R=R*(1/.75)}else{R=4/3}V.w_[X]=R;
var rW=3*X<<1;if(R>=_.vd$){V.qI[X]=0;V.ug[rW+0]=V.ug[rW+1]=0;V.ug[rW+2]=g;V.ug[rW+3]=A;V.ug[rW+4]=w;
V.ug[rW+5]=r$}else{if(R<.55){R=.55}else if(R>1){R=1}var J=.5+.5*R;V.qI[X]=1;V.ug[rW]=f(J,T,g);V.ug[rW+1]=f(J,h,A);
V.ug[rW+2]=f(J,p,g);V.ug[rW+3]=f(J,u,A);V.ug[rW+4]=w;V.ug[rW+5]=r$}V.alpha[X]=R;V.wQ[X]=.5}V.vdt=1}function i(M){function z(){this.gL=0;
this.YB=0;this.Yx=0;this.YF=0;this.YL=0;this.bd=0;this.iC=0;this.alpha=0}function V(M,l,T,rp,rx,rr,r_){var O=M.td.Qd,rF=M.td.ug,DX=M.td.Eo;
if(l==T)return 1;var va=l,g=L(l+1,O),rB=L(va+1,O),vO=DX[l<<1],rq=DX[(l<<1)+1],vW=DX[g<<1],rN=DX[(g<<1)+1],rM=rr[rB];
if(rM==0)return 1;var _Q=H(vO-vW,rq-rN);for(va=rB;va!=T;va=rB){var rB=L(va+1,O),_O=L(va+2,O),rw=DX[rB<<1],rj=DX[(rB<<1)+1],rE=DX[_O<<1],_W=DX[(_O<<1)+1];
if(rr[rB]!=rM)return 1;if(Math.sign(D(vW-vO,rN-rq,rE-rw,_W-rj))!=rM)return 1;if(d(vW-vO,rN-rq,rE-rw,_W-rj)<_Q*H(rw-rE,rj-_W)*-.999847695156)return 1}var vm=L(l,O)*3+2<<1,rf=L(l+1,O)<<1,rU=L(T,O)<<1,Du=L(T,O)*3+2<<1,rR=rF[vm],ri=rF[vm+1],_s=DX[rf],_t=DX[rf+1],_I=DX[rU],Qb=DX[rU+1],_D=rF[Du],_E=rF[Du+1],rO=DX[0],k=DX[1];
vm=T*3+2<<1;var vs=rF[vm],QO=rF[vm+1],A=r_[T]-r_[l];A-=D(vs-rO,QO-k,vs-rO,QO-k)/2;if(l>=T){A+=r_[O]}var v_=_s-rR,vR=_t-ri,Qq=_I-rR,vi=Qb-ri,_U=_D-rR,v$=_E-ri,rn=D(v_,vR,Qq,vi),Qa=D(v_,vR,_U,v$),Qz=D(Qq,vi,_U,v$),vw=rn+Qz-Qa;
if(Qa==rn)return 1;var J=Qz/(Qz-vw),rW=Qa/(Qa-rn),vd=Qa*J/2;if(vd==0)return 1;var _G=A/vd,w=2-Math.sqrt(4-_G/.3);
rp.YB=f(J*w,rR,_s);rp.Yx=f(J*w,ri,_t);rp.YF=f(rW*w,_D,_I);rp.YL=f(rW*w,_E,Qb);rp.alpha=w;rp.bd=J;rp.iC=rW;
_s=rp.YB;_t=rp.Yx;_I=rp.YF;Qb=rp.YL;rp.gL=0;for(va=L(l+1,O);va!=T;va=rB){rB=L(va+1,O);var vb=DX[va<<1],$Z=DX[(va<<1)+1],rw=DX[rB<<1],rj=DX[(rB<<1)+1];
J=m(_s-rR,_t-ri,_I-_s,Qb-_t,_D-_I,_E-Qb,rw-vb,rj-$Z);if(J<-.5)return 1;var DQ=B(J,rR,_s,_I,_D),$j=B(J,ri,_t,Qb,_E),_Q=H(rw-vb,rj-$Z);
if(_Q==0)return 1;var _S=D(rw-vb,rj-$Z,DQ-vb,$j-$Z)/_Q;if(Math.abs(_S)>rx)return 1;if(d(rw-vb,rj-$Z,DQ-vb,$j-$Z)<0||d(vb-rw,$Z-rj,DQ-rw,$j-rj)<0){return 1}rp.gL+=_S*_S}for(va=l;
va!=T;va=rB){rB=L(va+1,O);var vm=va*3+2<<1,rf=rB*3+2<<1,DB=rF[vm],_M=rF[vm+1],Qp=rF[rf],_C=rF[rf+1];
J=m(_s-rR,_t-ri,_I-_s,Qb-_t,_D-_I,_E-Qb,Qp-DB,_C-_M);if(J<-.5)return 1;var DQ=B(J,rR,_s,_I,_D),$j=B(J,ri,_t,Qb,_E),_Q=H(Qp-DB,_C-_M);
if(_Q==0)return 1;var _S=D(Qp-DB,_C-_M,DQ-DB,$j-_M)/_Q,DT=D(Qp-DB,_C-_M,DX[rB<<1]-DB,DX[(rB<<1)+1]-_M)/_Q;
DT*=.75*M.td.alpha[rB];if(DT<0){_S=-_S;DT=-DT}if(_S<DT-rx)return 1;if(_S<DT){rp.gL+=(_S-DT)*(_S-DT)}}return 0}var X=M.td,O=X.Qd,y=X.Eo,K=new Array(O+1),R=new Array(O+1),W=new Array(O+1),N=new Array(O+1),I,l,T,h,p=new z,u,g,A,w,r$,rW,J,rr=new Array(O),r_=new Array(O+1);
for(l=0;l<O;l++){if(X.qI[l]=="CURVE"){var rO=y[L(l-1,O)<<1],k=y[(L(l-1,O)<<1)+1],rv=y[l<<1],rb=y[(l<<1)+1],rt=y[L(l+1,O)<<1],rK=y[(L(l+1,O)<<1)+1];
rr[l]=Math.sign(D(rv-rO,rb-k,rt-rv,rK-rb))}else{rr[l]=0}}A=0;r_[0]=0;var rR=X.Eo[0],ri=X.Eo[1];for(l=0;
l<O;l++){g=L(l+1,O);if(X.qI[g]=="CURVE"){w=X.alpha[g];var ru=l*3+2<<1,rS=g*3+2<<1,rg=X.ug[ru],rd=X.ug[ru+1],vO=y[g<<1],rq=y[(g<<1)+1],rL=X.ug[rS],rl=X.ug[rS+1];
A+=.3*w*(4-w)*D(vO-rg,rq-rd,rL-rg,rl-rd)/2;A+=D(rg-rR,rd-ri,rL-rR,rl-ri)/2}r_[l+1]=A}K[0]=-1;R[0]=0;
W[0]=0;for(T=1;T<=O;T++){K[T]=T-1;R[T]=R[T-1];W[T]=W[T-1]+1;for(l=T-2;l>=0;l--){h=V(M,l,L(T,O),p,_.vdb,rr,r_);
if(h){break}if(W[T]>W[l]+1||W[T]==W[l]+1&&R[T]>R[l]+p.gL){K[T]=l;R[T]=R[l]+p.gL;W[T]=W[l]+1;N[T]=p;p=new z}}}I=W[O];
r$=new C(I);rW=new Array(I);J=new Array(I);T=O;for(l=I-1;l>=0;l--){var rV=L(T,O),ry=l*3+0<<1,vj=rV*3+0<<1;
if(K[T]==T-1){r$.qI[l]=X.qI[rV];r$.ug[ry]=X.ug[vj];r$.ug[ry+1]=X.ug[vj+1];r$.ug[ry+2]=X.ug[vj+2];r$.ug[ry+3]=X.ug[vj+3];
r$.ug[ry+4]=X.ug[vj+4];r$.ug[ry+5]=X.ug[vj+5];r$.Eo[l<<1]=X.Eo[rV<<1];r$.Eo[(l<<1)+1]=X.Eo[(rV<<1)+1];
r$.alpha[l]=X.alpha[rV];r$.w_[l]=X.w_[rV];r$.wQ[l]=X.wQ[rV];rW[l]=J[l]=1}else{r$.qI[l]="CURVE";r$.ug[ry]=N[T].YB;
r$.ug[ry+1]=N[T].Yx;r$.ug[ry+2]=N[T].YF;r$.ug[ry+3]=N[T].YL;r$.ug[ry+4]=X.ug[vj+4];r$.ug[ry+5]=X.ug[vj+5];
r$.Eo[l<<1]=f(N[T].iC,X.ug[vj+4],y[rV<<1]);r$.Eo[(l<<1)+1]=f(N[T].iC,X.ug[vj+5],y[(rV<<1)+1]);r$.alpha[l]=N[T].alpha;
r$.w_[l]=N[T].alpha;rW[l]=N[T].iC;J[l]=N[T].bd}T=K[T]}for(l=0;l<I;l++){g=L(l+1,I);r$.wQ[l]=rW[l]/(rW[l]+J[g])}r$.vdt=1;
M.td=r$}for(var l=0;l<F.length;l++){var M=F[l];Y(M);q(M);r(M);x(M);a(M);if(_.vEA)i(M)}}return{vEm:j,vEP:Z}}();
tI.zJ=function(Q,C,j,Z){var F={gK:"minority",vEN:Z,vEA:!0,vd$:1,vdb:.2},_=tI.vEm(Q,C,j,F);tI.vEP(_,F);
return _};tI.Uh=function(Q){var C=[];for(var j=0;j<Q.length;j++){var Z=Q[j],F=Z.td,_=["M"],$=[F.ug[(F.Qd-1)*6+4],F.ug[(F.Qd-1)*6+5]];
for(var L=0;L<F.Qd;L++){var D=L*6;if(F.qI[L]==1){_.push("C");for(var d=0;d<6;d++)$.push(F.ug[D+d])}else if(F.qI[L]==0){_.push("L");
for(var d=2;d<4;d++)$.push(F.ug[D+d])}}_.push("Z");C.push({parent:Z.parent,color:Z.color,path:{b:$,u:_}})}return C};
tI.vT_=function(Q,C,j,Z,F){function _(B){function m(D){var H="C "+(B.ug[D*3+0<<1]*C).toFixed(1)+" "+(B.ug[(D*3+0<<1)+1]*C).toFixed(1)+",";
H+=(B.ug[D*3+1<<1]*C).toFixed(1)+" "+(B.ug[(D*3+1<<1)+1]*C).toFixed(1)+",";H+=(B.ug[D*3+2<<1]*C).toFixed(1)+" "+(B.ug[(D*3+2<<1)+1]*C).toFixed(1)+" ";
return H}function Y(D){var x="L "+(B.ug[D*3+1<<1]*C).toFixed(1)+" "+(B.ug[(D*3+1<<1)+1]*C).toFixed(1)+" ";
x+=(B.ug[D*3+2<<1]*C).toFixed(1)+" "+(B.ug[(D*3+2<<1)+1]*C).toFixed(1)+" ";return x}var q=B.Qd,D,r="M"+(B.ug[(q-1)*3+2<<1]*C).toFixed(1)+" "+(B.ug[((q-1)*3+2<<1)+1]*C).toFixed(1)+" ";
for(D=0;D<q;D++){if(B.qI[D]==1){r+=m(D)}else if(B.qI[D]==0){r+=Y(D)}}return r}var j=j*C,Z=Z*C,$=Q.length,L=[];
for(var D=0;D<256;D++)L.push("rgb("+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+")");
var d="<svg id=\"svg\" version=\"1.1\" width=\""+j+"\" height=\""+Z+"\" xmlns=\"http://www.w3.org/2000/svg\">";
for(var D=0;D<$;D++){var o=F[Q[D].color-1].vrf.GS;if((o>>>24&255)==0)continue;d+="<path d=\"";var v=Q[D].td;
d+=_(v);var f=o>>0&255,U=o>>8&255,H=o>>16&255,o="rgb("+f+","+U+","+H+")";d+="\" fill=\""+o+"\" fill-rule=\"evenodd\"/>"}d+="</svg>";
return d};tI.vqo=function(Q,C,j){var Z=Q.length>>1,F,_=Q[2*Z-3]-j,$=Q[2*Z-2]-C,L=Q[2*Z-1]-j,D=L>_,o=0;
for(var d=0;d<Z;d++){F=$;_=L;$=Q[2*d]-C;L=Q[2*d+1]-j;if(_==L)continue;D=L>_}for(var d=0;d<Z;d++){F=$;
_=L;$=Q[2*d]-C;L=Q[2*d+1]-j;if(_<0&&L<0)continue;if(_>0&&L>0)continue;if(F<0&&$<0)continue;if(_==L&&Math.min(F,$)<=0)return!0;
if(_==L)continue;var v=F+($-F)*-_/(L-_);if(v==0)return!0;if(v>0)o++;if(_==0&&D&&L>_)o--;if(_==0&&!D&&L<_)o--;
D=L>_}return(o&1)==1};tI.fill=function(Q,C,j,Z){var F=C[Q],_=[Q],$=0;while($<_.length){var L=_[$];$++;
C[L]=Z;if(C[L-j]==F){_.push(L-j);C[L-j]=254}if(C[L-1]==F){_.push(L-1);C[L-1]=254}if(C[L+1]==F){_.push(L+1);
C[L+1]=254}if(C[L+j]==F){_.push(L+j);C[L+j]=254}}};var E={};E.bs=!1;E.ze=!1;E.Iw=!1;E.bn=document.createElement("canvas");
E.Dn=null;E.xQ=null;E.lF=0;(function(){var Q={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},C;
if(!C)C=E.bn.getContext("webgl",Q);if(!C)C=E.bn.getContext("experimental-webgl",Q);if(C){E.bs=!0;E.ze=!0;
E.Dn=C;E.xQ=C.createFramebuffer();C.bindFramebuffer(C.FRAMEBUFFER,E.xQ);C.disable(C.BLEND);C.disable(C.DEPTH_TEST);
var j=C.createBuffer();C.bindBuffer(C.ARRAY_BUFFER,j);C.bufferData(C.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),C.STATIC_DRAW);
C.enableVertexAttribArray(0);C.vertexAttribPointer(0,2,C.FLOAT,!1,0,0)}}());E.vTj=function(Q){Q=Q.replace(/\s\s+/g," ");
Q=Q.replace(/; /g,";");Q=Q.replace(/} /g,"}");Q=Q.replace(/ }/g,"}");Q=Q.replace(/{ /g,"{");Q=Q.replace(/ {/g,"{");
Q=Q.replace(/= /g,"=");Q=Q.replace(/ =/g,"=");Q=Q.replace(/\| /g,"|");Q=Q.replace(/ \|/g,"|");return Q};
E.vi_=function(Q){var C=E.Dn;if(Q>C.getParameter(C.MAX_TEXTURE_SIZE)){E.bs=!1;alert("Disabling WebGL")}};
E.pb=function(Q,C){return new Float32Array([(Q.x-C.x)/C.W,(Q.y-C.y)/C.C,Q.W/C.W,Q.C/C.C])};E.$T=function(){return this.bn};
E.xe=function(Q,C){var j=E.Dn;j.bindFramebuffer(j.FRAMEBUFFER,E.xQ);j.framebufferTexture2D(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.TEXTURE_2D,Q.ot,0);
j.viewport(0,0,Q.W,Q.C);if(C){j.enable(j.SCISSOR_TEST);j.scissor(C.x,C.y,C.W,C.C)}else j.disable(j.SCISSOR_TEST)};
E.zM=function(Q,C,j){if(j)throw"error";var Z=E.Dn;Z.disable(Z.SCISSOR_TEST);Z.bindFramebuffer(Z.FRAMEBUFFER,null);
Z.viewport(0,0,Q,C);if(j){Z.enable(Z.SCISSOR_TEST);Z.scissor(j.x,j.y,Math.round(j.W),Math.round(j.C))}else Z.disable(Z.SCISSOR_TEST)};
E.clear=function(){var Q=E.Dn;Q.clearColor(0,0,0,0);Q.clear(Q.COLOR_BUFFER_BIT)};E.uS=function(Q,C){if(C==null)C=0;
var j=(C>>>0&255)==0,Z=(C>>>8&255)==0,F=(C>>>16&255)==0,_=(C>>>24&255)==0,$=(Q>>>0&255)*(1/255),L=(Q>>>8&255)*(1/255),D=(Q>>>16&255)*(1/255),d=(Q>>>24&255)*(1/255),o=E.Dn;
o.colorMask(j,Z,F,_);o.clearColor($,L,D,d);o.clear(o.COLOR_BUFFER_BIT);o.colorMask(!0,!0,!0,!0)};E.Kd=function(Q,C,j,Z,F){var _=C.QU(Z);
if(F)_=_.QU(F);if(_.jJ())return;var $=E.Dn;E.xe(Q);$.bindTexture($.TEXTURE_2D,j.ot);$.copyTexSubImage2D($.TEXTURE_2D,0,_.x-Z.x,_.y-Z.y,_.x-C.x,_.y-C.y,_.W,_.C)};
E.pj=function(Q,C,j){var Z=E.q_[Q];if(Z==null||Z.W!=C||Z.C!=j){if(Z)Z.delete();Z=new E.mr(C,j)}E.q_[Q]=Z;
return Z};E.q_=[];E.rZ=function(){this.YC=null;this.qi=null};E.rZ.xA=null;E.rZ.prototype.V$=function(Q){if(this.qi)return;
this.qi={};var C=E.Dn,j=this.YC,Z=this.qi;for(var F=0;F<Q.length;F++){var _=Q[F];Z[_]=C.getUniformLocation(j,_)}};
E.rZ.prototype.EG=function(){};E.rZ.prototype.J$=function(Q){var C=E.Dn;for(var j=0;j<Q.length;j+=2){C.uniform1i(Q[j],j>>>1);
C.activeTexture(C["TEXTURE"+(j>>>1)]);C.bindTexture(C.TEXTURE_2D,Q[j+1])}C.activeTexture(C.TEXTURE0)};
E.rZ.prototype._w=function(Q,C){var j=E.Dn,Z=j.createShader(j.FRAGMENT_SHADER);j.shaderSource(Z,Q);j.compileShader(Z);
if(!j.getShaderParameter(Z,j.COMPILE_STATUS))console.log(j.getShaderInfoLog(Z));var F=j.createShader(j.VERTEX_SHADER);
j.shaderSource(F,C);j.compileShader(F);if(!j.getShaderParameter(F,j.COMPILE_STATUS))console.log(j.getShaderInfoLog(F));
var _=j.createProgram();j.attachShader(_,F);j.attachShader(_,Z);j.linkProgram(_);if(!j.getProgramParameter(_,j.LINK_STATUS))console.log("Could not initialise shaders");
this.YC=_};E.rZ.prototype.pa=function(){if(E.rZ.xA!=this){E.Dn.useProgram(this.YC);E.rZ.xA=this}};E.pC=function(Q,C){E.lL++;
E.lF+=Q*C;if(E.Iw)console.log("GL.Channels instances: "+E.lL+", memory: "+E.lF);var j=E.Dn;this.W=Q;
this.C=C;this.ot=j.createTexture();this.EB=null;this.xt(this.ot,Q,C)};E.pC.prototype.xt=function(Q,C,j){var Z=E.Dn;
Z.bindTexture(Z.TEXTURE_2D,Q);Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_MIN_FILTER,Z.NEAREST);Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_MAG_FILTER,Z.NEAREST);
Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_WRAP_S,Z.CLAMP_TO_EDGE);Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_WRAP_T,Z.CLAMP_TO_EDGE);
Z.texImage2D(Z.TEXTURE_2D,0,Z.ALPHA,C,j,0,Z.ALPHA,Z.UNSIGNED_BYTE,null)};E.pC.prototype.set=function(Q){var C=E.Dn;
C.bindTexture(C.TEXTURE_2D,this.ot);C.pixelStorei(C.UNPACK_ALIGNMENT,1);C.texImage2D(C.TEXTURE_2D,0,C.ALPHA,this.W,this.C,0,C.ALPHA,C.UNSIGNED_BYTE,Q);
C.pixelStorei(C.UNPACK_ALIGNMENT,4)};E.pC.prototype.delete=function(){var Q=E.Dn;if(this.ot){Q.deleteTexture(this.ot);
E.lL--;E.lF-=this.W*this.C}if(E.Iw)if(E.Iw)console.log("GL.Channels instances: "+E.lL+", memory: "+E.lF*4)};
E.lL=0;E.mr=function(Q,C,j){if(j==null)j=!1;E.lL++;E.lF+=Q*C*4;if(E.Iw)console.log("GL.Channels instances: "+E.lL+", memory: "+E.lF);
var Z=E.Dn;this.vdK=j;this.W=Q;this.C=C;this.ot=Z.createTexture();this.EB=null;this.xt(this.ot,Q,C)};
E.mr.prototype.set=function(Q,C){var j=E.Dn;j.disable(j.SCISSOR_TEST);j.bindTexture(j.TEXTURE_2D,this.ot);
if(Q==null||Q instanceof Uint8Array){var Z=this.W*this.C;if(C==null||C.P()*10>Z)j.texImage2D(j.TEXTURE_2D,0,j.RGBA,this.W,this.C,0,j.RGBA,j.UNSIGNED_BYTE,Q);
else{var F=e.Q(C.P()*4);e.tW(Q,new s(0,0,this.W,this.C),F,C);j.texSubImage2D(j.TEXTURE_2D,0,C.x,C.y,C.W,C.C,j.RGBA,j.UNSIGNED_BYTE,F)}}else j.texImage2D(j.TEXTURE_2D,0,j.RGBA,j.RGBA,j.UNSIGNED_BYTE,Q)};
E.mr.prototype.get=function(Q){var C=E.Dn;E.xe(this);C.readPixels(0,0,this.W,this.C,C.RGBA,C.UNSIGNED_BYTE,Q)};
E.mr.prototype.gl=function(Q){if(Q.jJ())return;var C=E.Dn;if(this.EB==null){this.EB=C.createTexture();
this.xt(this.EB,this.W,this.C);E.lL++;E.lF+=this.W*this.C*4}C.bindFramebuffer(C.FRAMEBUFFER,E.xQ);C.bindTexture(C.TEXTURE_2D,this.EB);
if(Q){var j=Math.max(Q.x,0),Z=Math.max(Q.y,0);C.copyTexSubImage2D(C.TEXTURE_2D,0,j,Z,j,Z,Q.W,Q.C)}else C.copyTexImage2D(C.TEXTURE_2D,0,C.RGBA,0,0,this.W,this.C,0)};
E.mr.prototype.xt=function(Q,C,j){var Z=E.Dn;Z.bindTexture(Z.TEXTURE_2D,Q);Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_MIN_FILTER,this.vdK?Z.LINEAR:Z.NEAREST);
Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_MAG_FILTER,Z.NEAREST);Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_WRAP_S,Z.CLAMP_TO_EDGE);
Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_WRAP_T,Z.CLAMP_TO_EDGE);Z.texImage2D(Z.TEXTURE_2D,0,Z.RGBA,C,j,0,Z.RGBA,Z.UNSIGNED_BYTE,null)};
E.mr.prototype.delete=function(){var Q=E.Dn;if(this.ot){Q.deleteTexture(this.ot);E.lL--;E.lF-=this.W*this.C*4}if(this.EB){Q.deleteTexture(this.EB);
E.lL--;E.lF-=this.W*this.C*4}if(E.Iw)if(E.Iw)console.log("GL.Channels instances: "+E.lL+", memory: "+E.lF)};
E.mr.prototype.clone=function(){var Q=E.Dn,C=new E.mr(this.W,this.C);E.xe(this);Q.bindTexture(Q.TEXTURE_2D,C.ot);
Q.copyTexImage2D(Q.TEXTURE_2D,0,Q.RGBA,0,0,this.W,this.C,0);return C};E.Vc={viQ:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",viu:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",zI:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",av:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",qe:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",XU:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",Kk:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",kh:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",vik:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",aK:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",vip:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",uz:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",lA:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",$h:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",LD:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",Lq:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",kV:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",zj:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",ZM:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",Bg:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn mi<0.0?0.0:(mi>1.0?1.0:mi);\t\t}"};
E.Ra={Cq:{},mo:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
E.Ra.ZT=function(Q,C){var j=rY.TU,Z=[j.vX,j.Tn,j.uD,j.u_,j.ub,j.u$,j.ur,j.fF].indexOf(Q.type),F=E.Ra.Cq[Q.type];
if(F==null)F=E.Ra.Cq[Q.type]=new E.Cq[Z];F.pa();F.EG(C,Q);E.Dn.drawArrays(E.Dn.TRIANGLES,0,6)};E.Cq=[];
E.Cq[0]=function(){E.rZ.call(this);this.YZ={};var Q="\t\t\tprecision mediump float;\t\t\t"+E.Vc.Kk+"\t\t\t"+E.Vc.zI+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this._w(Q,E.Ra.mo)};E.Cq[0].prototype=new E.rZ;E.Cq[0].prototype.EG=function(Q,C){var j={h:C.Kx,J:C.wu,_:C.lG,om:e.Q(C.Kx.length)},Z=j.h.length;
if(this.YZ["m"+Z]==null){this.YZ["m"+Z]={vdx:new E.mr(Z,1),Dg:e.Q(Z*4)}}var F=this.YZ["m"+Z];e.qb(j,F.Dg,0);
var _=F.vdx;_.set(F.Dg);this.V$(["source","map","toGray","presLum"]);var $=E.Dn,L=this.qi;$.uniform1f(L.toGray,C.JM?1:0);
$.uniform1f(L.presLum,C.It?1:0);this.J$([L.source,Q,L.map,_.ot])};E.Cq[1]=function(){E.rZ.call(this);
this.vEF=new E.mr(256,1);this.vdC=e.Q(256*4);var Q="\t\t\t\tprecision mediump float;\t\t\t\t"+E.Vc.Lq+"\t\t\t\t"+E.Vc.$h+"\t\t\t\t"+E.Vc.LD+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this._w(Q,E.Ra.mo)};E.Cq[1].prototype=new E.rZ;E.Cq[1].prototype.EG=function(Q,C){e.qb({h:C.vXO,J:C.Yu,_:C.vBA,om:e.Q(256)},this.vdC);
this.vEF.set(this.vdC);this.V$(["source","map","cfa","cfb","colorize"]);var j=E.Dn,Z=this.qi;j.uniform1f(Z.cfa,C.vxs);
j.uniform1f(Z.cfb,C.YY);j.uniform1i(Z.colorize,C.vxB);this.J$([Z.source,Q,Z.map,this.vEF.ot])};E.Cq[2]=function(){E.rZ.call(this);
var Q="\t\t\tprecision mediump float;\t\t\t"+E.Vc.Lq+"\t\t\t"+E.Vc.kV+"\t\t\t"+E.Vc.zj+"\t\t\t"+E.Vc.$h+"\t\t\t"+E.Vc.LD+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 hsl = rgbToHsv(src.rgb); \t\t\t\tfloat h=hsl.r, s=hsl.g, l=hsl.b; \t\t\t\t\t\t\t\tfloat sk0 = 0.0, sk1 = 45.0/360.0; \t\t\t\tfloat skin = (h<sk1) ? cos((PI/2.0)*(h-sk1/2.0)/(sk1/2.0)) : 0.0; \t\t\t\t\t\t\t\ts = s + 0.2 * (1.0-0.4*skin) * vib * max(0.0, sin(s*PI)); \t\t\t\t\t\t\t\ts = s * (1.0 + sat); \t\t\t\t\t\t\t\ts = max(0.0, min(1.0, s));\t\t\t\tsrc.rgb = hsvToRgb(h,s,l);\t\t\t\tgl_FragColor = vec4(src.rgb,src.w); \t\t\t\t\t\t\t}";
this._w(Q,E.Ra.mo)};E.Cq[2].prototype=new E.rZ;E.Cq[2].prototype.EG=function(Q,C){this.V$(["source","vib","sat"]);
var j=E.Dn,Z=this.qi;j.uniform1f(Z.vib,C.Vh[0]/100);j.uniform1f(Z.sat,C.Vh[1]/100);this.J$([Z.source,Q])};
E.Cq[3]=function(){E.rZ.call(this);var Q="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this._w(Q,E.Ra.mo)};E.Cq[3].prototype=new E.rZ;E.Cq[3].prototype.EG=function(Q,C){this.V$(["source","trf"]);
var j=E.Dn,Z=this.qi;j.uniformMatrix4fv(Z.trf,!1,new Float32Array(e.U_.ik(C.U_)));this.J$([Z.source,Q])};
E.Cq[4]=function(){E.rZ.call(this);var Q="\t\t\tprecision mediump float; \t\t\t"+E.Vc.ZM+"\t\t\t"+E.Vc.Lq+"\t\t\t"+E.Vc.LD+"\t\t\t"+E.Vc.$h+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+scl*shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + scl*shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + scl*shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this._w(Q,E.Ra.mo)};E.Cq[4].prototype=new E.rZ;E.Cq[4].prototype.EG=function(Q,C){this.V$(["source","mnm","mxm","shift","lim"]);
var j=E.Dn,Z=this.qi;j.uniform3fv(Z.mnm,new Float32Array(C.QF));j.uniform3fv(Z.mxm,new Float32Array(C.Qh));
j.uniform3fv(Z.shift,new Float32Array(C.shift));j.uniform1f(Z.lim,C.aw);this.J$([Z.source,Q])};E.Cq[5]=function(){E.rZ.call(this);
var Q="\t\t\tprecision mediump float;\t\t\t"+E.Vc.zI+"\t\t\t"+E.Vc.av+"\t\t\t"+E.Vc.qe+"\t\t\t"+E.Vc.$h+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this._w(Q,E.Ra.mo)};E.Cq[5].prototype=new E.rZ;E.Cq[5].prototype.EG=function(Q,C){this.V$(["source","cfs"]);
var j=E.Dn,Z=this.qi;j.uniform3fv(Z.cfs,C.kR);this.J$([Z.source,Q])};E.Cq[6]=function(){E.rZ.call(this);
var Q="\t\t\tprecision mediump float;\t\t\t"+E.Vc.Lq+"\t\t\t"+E.Vc.av+"\t\t\t"+E.Vc.qe+"\t\t\t"+E.Vc.$h+"\t\t\t"+E.Vc.LD+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this._w(Q,E.Ra.mo)};E.Cq[6].prototype=new E.rZ;E.Cq[6].prototype.EG=function(Q,C){this.V$(["source","wght","prms"]);
var j=E.Dn,Z=this.qi,F=[C.NC,C.vD$,C.Kk,C.vWC,C.gz,C.vWY];j.uniform1fv(Z.wght,new Float32Array(C.vrI));
j.uniform1fv(Z.prms,new Float32Array(F));this.J$([Z.source,Q])};E.Cq[7]=function(){E.rZ.call(this);this.Yo={};
var Q="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tfloat iN = 1.0/N; \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this._w(Q,E.Ra.mo)};E.Cq[7].prototype=new E.rZ;E.Cq[7].prototype.EG=function(Q,C){this.V$(["source","lut","N"]);
var j=E.Dn,Z=this.qi,F=C.Fu,_=C.xu;if(this.Yo["m"+F]==null)this.Yo["m"+F]=new E.mr(F,F*F);var $=this.Yo["m"+F];
$.set(_);j.uniform1f(Z.N,F);this.J$([Z.source,Q,Z.lut,$.ot]);j.activeTexture(j.TEXTURE1);var L=j.LINEAR;
j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MIN_FILTER,L);j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MAG_FILTER,L);
j.activeTexture(j.TEXTURE0)};E.filter={Ff:{},mo:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",lU:0,gR:1,$S:2,gE:3};
E.filter.ZT=function(Q,C){var j=E.filter,Z=[j.lU,j.gR,j.$S,j.gE].indexOf(Q.type),F=E.filter.Ff[Q.type];
if(F==null)F=E.filter.Ff[Q.type]=new E.Ff[Z];F.pa();F.EG(C,Q);E.Dn.drawArrays(E.Dn.TRIANGLES,0,6)};E.Ff=[0,0,0,0,0,0,0];
E.Ff[3]=function(){E.rZ.call(this);var Q="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this._w(t.lE(Q),t.lE(E.filter.mo))};E.Ff[3].prototype=new E.rZ;E.Ff[3].prototype.EG=function(Q,C){this.V$("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var j=E.Dn,Z=this.qi;j.uniform2fv(Z.iwh,C.a$);j.uniform1f(Z.tdep,C.vdF);j.uniform1f(Z.rrad,C.vdG);j.uniform2fv(Z.spec,C.vde);
j.uniform3fv(Z.nois,C.vdA);j.uniformMatrix4fv(Z.poly0,!1,C.vX_);j.uniformMatrix4fv(Z.poly1,!1,C.vXd);
this.J$([Z.source,Q])};E.Ff[0]=function(){E.rZ.call(this);var Q="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this._w(t.lE(Q),t.lE(E.filter.mo))};E.Ff[0].prototype=new E.rZ;E.Ff[0].prototype.EG=function(Q,C){this.V$(["source","iwh","ld","shine"]);
var j=E.Dn,Z=this.qi;j.uniform2fv(Z.iwh,C.a$);j.uniform3fv(Z.ld,C.vsW);j.uniform1f(Z.shine,C.vsr);this.J$([Z.source,Q,Z.tang,C.YV])};
E.Ff[1]=function(){E.rZ.call(this);var Q="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this._w(t.lE(Q),t.lE(E.filter.mo))};E.Ff[1].prototype=new E.rZ;E.Ff[1].prototype.EG=function(Q,C){this.V$(["source","iwh","isc","bristle"]);
var j=E.Dn,Z=this.qi;j.uniform2fv(Z.iwh,C.a$);j.uniform1f(Z.isc,C.vpw);j.uniform1f(Z.bristle,C.vpU);
this.J$([Z.source,Q])};E.Ff[2]=function(){E.rZ.call(this);var Q="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this._w(t.lE(Q),t.lE(E.filter.mo))};E.Ff[2].prototype=new E.rZ;E.Ff[2].prototype.EG=function(Q,C){this.V$(["source","tang","iwh","sigma","expo"]);
var j=E.Dn,Z=this.qi;j.uniform2fv(Z.iwh,C.a$);j.uniform1f(Z.sigma,C.vkX);j.uniform1f(Z.expo,C.vkA);this.J$([Z.source,Q,Z.tang,C.YV]);
var F=j.LINEAR;j.activeTexture(j.TEXTURE0);j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MIN_FILTER,F);j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MAG_FILTER,F);
j.activeTexture(j.TEXTURE0)};E.B={};E.B.zs={};E.B.zE=null;E.B.zd=null;E.B.za=null;E.B.gM=function(Q,C,j,Z,F,_,$,L){if(L==null)L=rk.mN();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(Q)==-1){$=$*L.fill;L.fill=1;L.style=!1}var D=Q+(L.ao?"1":"");
if(E.B.zs[D]==null)E.B.zs[D]=new E.B.Ja(Q,L.ao!=null);var d=E.B.zs[D],o=j.QU(F).QU(_);o.offset(-F.x,-F.y);
if(o.jJ())return;var v=E.Dn;E.xe(Z,o);Z.gl(o);d.pa();d.EG(C.ot,Z.EB,E.pb(j,F),$,L.fill,L.style?1:0,L.aY?1:0,L.ao?new Float32Array(L.ao):null);
v.drawArrays(v.TRIANGLES,0,6)};E.B.xj=function(Q,C,j,Z,F,_,$,L,D,d){if(E.B.zE==null)E.B.zE=new E.B.$J(!0,!0);
if(E.B.zd==null)E.B.zd=new E.B.$J(!0,!1);if(E.B.za==null)E.B.za=new E.B.$J(!1,!0);var o=d?1:0,v=Q?F?E.B.zE:E.B.zd:E.B.za,f=C?C.QU(Z).QU(L):Z.QU(L);
if(f.jJ())return;f.offset(-Z.x,-Z.y);var U=E.Dn;E.xe(j,f);j.gl(f);v.pa();if(Q==null)v.EG(null,j.EB,F.ot,E.pb(Z,Z),E.pb(_,Z),$/255,D,o);
else if(F)v.EG(Q.ot,j.EB,F.ot,E.pb(C,Z),E.pb(_,Z),$/255,D,o);else v.EG(Q.ot,j.EB,null,E.pb(C,Z),null,$/255,D,o);
U.drawArrays(U.TRIANGLES,0,6)};E.B.vTV=function(Q,C,j){if(E.B.vrp==null)E.B.vrp=new E.B.zy;var Z=E.B.vrp,F=new s(0,0,Q.W,Q.C),_=E.Dn;
E.xe(C);C.gl(F);Z.pa();Z.EG(F,Q.ot,C.EB,j.ot);_.drawArrays(_.TRIANGLES,0,6)};E.B.VG={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
E.B.Ja=function(Q,C){E.rZ.call(this);var j="\t\t\tprecision mediump float;\t\t\t"+E.Vc.zI+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(C?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+E.Vc.XU+"\t\t\t"+E.Vc.Kk+"\t\t\t"+E.Vc.kh+"\t\t\t"+E.Vc.viQ+"\t\t\t"+E.Vc.viu+"\t\t\t"+E.Vc.vik+"\t\t\t"+E.Vc.aK+"\t\t\t"+E.Vc.vip+"\t\t\t"+E.Vc.uz+"\t\t\t"+E.Vc.hash+"\t\t\t"+(C?E.Vc.Bg:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+E.B.VG[Q]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",Z="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(Q=="diss")j+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else j+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(C?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this._w(j,Z)};E.B.Ja.prototype=new E.rZ;E.B.Ja.prototype.EG=function(Q,C,j,Z,F,_,$,L){this.V$("srct alpha source target fill style keepBGA blIf".split(" "));
var D=E.Dn,d=this.qi;D.uniform4fv(d.srct,j);D.uniform1f(d.alpha,Z);D.uniform1f(d.fill,F);D.uniform1f(d.style,_);
D.uniform1f(d.keepBGA,$);if(L)D.uniform4fv(d.blIf,L);this.J$([d.source,Q,d.target,C])};E.B.$J=function(Q,C){E.rZ.call(this);
this.v_T=Q;this.YG=C;var j="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+E.Vc.lA+"\t\t\t"+E.Vc.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(Q?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(C?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(Q?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tgl_FragColor =  vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t}",Z="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this._w(j,Z)};E.B.$J.prototype=new E.rZ;E.B.$J.prototype.EG=function(Q,C,j,Z,F,_,$,L){if(this.YG)this.V$("srct wrct wcolor awg dissv source target weight".split(" "));
else this.V$(["srct","awg","dissv","source","target"]);var D=E.Dn,d=this.qi;D.uniform4fv(d.srct,Z);if(this.YG){D.uniform4fv(d.wrct,F);
D.uniform1f(d.wcolor,_)}D.uniform1f(d.awg,$);D.uniform1f(d.dissv,L);var o=[d.source,Q,d.target,C];if(this.YG)o.push(d.weight,j);
this.J$(o)};E.B.zy=function(){E.rZ.call(this);var Q="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",C="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this._w(Q,C)};E.B.zy.prototype=new E.rZ;E.B.zy.prototype.EG=function(Q,C,j,Z){this.V$(["rct","prev","next","alpha"]);
var F=E.Dn,_=this.qi;F.uniform4fv(_.rct,[0,0,1,1]);this.J$([_.prev,C,_.next,j,_.alpha,Z])};function WS(){}WS.ig=function(Q){var C=new Uint8Array(Q),j=0,Z={_G:[],vf:[],list:[]},F=c.bS(C,j);
j+=2;if(F<=2){return WS.viY(C)}var _=c.bS(C,j);j+=2;var $=c.hX(C,j,8);j+=8;var L=c.o(C,j);j+=4;if(L>0)Z._G=WS.Vz(C,j,L,_,F);
j+=L;var D=c.hX(C,j,8);j+=8;var d=c.o(C,j);j+=4;if(d>0)Z.vf=WS.xd(C,j,d);j+=d;var o=c.hX(C,j,8);j+=8;
var v=c.o(C,j);j+=4;if(v>0){var f={};rC.Wa(C,f,j+4);Z.list=f.Brsh.v}j+=v;var U=Z.list;for(var H=0;H<U.length;
H++){Dq.zX.check(U[H].v)}return Z};WS.ZI=function(Q,C){Q.v.Nm.v=C};WS.viY=function(Q){var C={_G:[],vf:[],list:[]},j=0,Z=c.bS(Q,j);
j+=2;var F=c.bS(Q,j);j+=2;for(var _=0;_<F;_++){var $=c.bS(Q,j);j+=2;var L=c.o(Q,j);j+=4;var D=j;if($==2){var d={};
C._G.push(d);var o=c.o(Q,D);D+=4;var v=c.bS(Q,D);D+=2;if(Z==2){var f=c.Ll(Q,D);D+=4+f.length*2+2}d.id=rH.qS()+"-d71c-11e5-b1ae-a548a96e5f9f";
D++;D+=8;d.z=c.Gm(Q,D);D+=16;var U=c.bS(Q,D);D+=2;var H=Q[D];D++;d.channel=_u.WF(!1,U,Q,d.z.W,d.z.C,D,H);
var B=Dq.jK(d.id),m=B.Brsh.v;m.Dmtr.v.val=d.z.W;m.Spcn.v.val=v;C.list.push({t:"Objc",v:B})}j+=L}return C};
WS.Ry=function(Q){var C=new _f,j=0,Z=0;c.ex(C,j,6);j+=2;c.ex(C,j,2);j+=2;c.JQ(C,j,"8BIMsamp");j+=8;j+=4;
Z=j;j=WS.Vi(C,j,Q._G);c.hO(C,Z-4,j-Z);c.JQ(C,j,"8BIMpatt");j+=8;j+=4;Z=j;j=WS.xm(C,j,Q.vf);c.hO(C,Z-4,j-Z);
var F={classID:"null",Brsh:{t:"VlLs",v:Q.list}};c.JQ(C,j,"8BIMdesc");j+=8;j+=4;Z=j;c.hO(C,j,16);j+=4;
j+=rC.JS(C,F,j);c.hO(C,Z-4,j-Z);return C.data.slice(0,j).buffer};WS.Vz=function(Q,C,j,Z,F){var _=c.o,$=c.Gm,L=C+j,D=[];
while(C<L){var d={};D.push(d);var o=_(Q,C);C+=4;var v=C,f=c.sg(Q,C);C+=f.length;d.id=f.Zo;if(Z==1){C+=9;
d.z=$(Q,C);C+=16}else{C+=7;var H=_(Q,C);C+=4;d.z=$(Q,C);C+=16;var B=_(Q,C);C+=4;C+=B*4;var m=_(Q,C);
C+=4;var Y=_(Q,C);C+=4;var q=$(Q,C);C+=16}var r=c.bS(Q,C);C+=2;var x=Q[C];C+=1;d.channel=_u.WF(!1,r,Q,d.z.W,d.z.C,C,x);
if(o%4!=0)o+=4-o%4;C=v+o}return D};WS.Vi=function(Q,C,j){var Z=c.hO,F=c.UM;for(var _=0;_<j.length;_++){var $=j[_],L=C+4,d=56,v=1;
C+=4;c.Wn(Q,C,$.id);C+=$.id.length+2;Q.JW(C,1);Q.data[C]=1;C+=3;Z(Q,C,3);C+=4;var D=C;C+=4;F(Q,C,$.z);
C+=16;Z(Q,C,d);C+=4;C+=d*4;Z(Q,C-4,1);var o=C;C+=4;Z(Q,C,8);C+=4;F(Q,C,$.z);C+=16;c.ex(Q,C,8);C+=2;Q.JW(C,1);
Q.data[C]=v;C++;Q.JW(C,$.z.P()*2);C=_u.xM($.channel,Q.data,$.z.W,$.z.C,C,v);Q.JW(C,8);C+=8;var f=C-L;
Z(Q,L-4,f);Z(Q,D,f-49);Z(Q,o,f-305);if(f%4!=0)C+=4-f%4}return C};WS.xd=function(Q,C,j){var Z=C+j,F=[];
while(C<Z){var _={},$=c.o(Q,C);C+=4;var L=C;C=D$.Vn(Q,C,_);if(!_.z.jJ())F.push(_);if($%4!=0)$+=4-$%4;
C=L+$}return F};WS.xm=function(Q,C,j){for(var Z=0;Z<j.length;Z++){var F=j[Z];C+=4;var _=C;C=D$.Sz(Q,C,F);
var $=C-_;c.hO(Q,_-4,$);if($%4!=0)_+=4-$%4;C=_+$}return C};function _d(){}_d.ig=function(Q){var C=new Uint8Array(Q),j=[],Z=0,F=c.bS(C,Z);
Z+=2;if(F!=4){throw"Unknown version of curves: "+F}var _=c.bS(C,Z);Z+=2;for(var $=0;$<_;$++){var L=_d.VV(C,Z);
Z+=2+2*L.length;j.push(L)}if(Z==C.length)return j;var D=c.hX(C,Z,4);Z+=4;var d=c.bS(C,Z);Z+=2;var o=c.bS(C,Z);
Z+=2;if(o!=0)throw"extra curves for channels";return j};_d.$L=function(Q,C,j){var Z=C,F=[],_=Q[C];C+=3;
var $=c.o(Q,C);C+=4;for(var L=0;L<4;L++){var D=$>>>L&1;if(D){if(_==0){var d=_d.VV(Q,C);C+=2+2*d.length}else{var d=_d.vli(Q,C);
C+=256}F.push(d)}else F.push(_==0?[0,0,255,255]:_d.vlv())}var o=vr._j("curv");for(var L=0;L<4;L++){if(_==0){var v=F[L],f=[];
for(var U=0;U<v.length;U+=2)f.push(e.ZU.fM(v[U],v[U+1],!0));_d.ht(o,L,f)}else _d.ht(o,L,F[L])}return o};
_d.vlv=function(){var Q=[];for(var C=0;C<256;C++)Q.push(C);return Q};_d.ht=function(Q,C,j){var Z=Dp.zx("CrvA",C);
if(j.length<256)Z.Crv={t:"VlLs",v:j};else{Z.Mpng={t:"VlLs",v:[]};for(var F=0;F<256;F++)Z.Mpng.v[F]={t:"long",v:j[F]}}Z={t:"Objc",v:Z};
var _=Q.Adjs.v,$=Dp.Vu(_,C);if($==-1)_.push(Z);else _[$]=Z};_d.hJ=function(Q,C){var j=Q.Adjs.v,Z=Dp.Vu(j,C);
if(Z==-1){if(j.length==0||j[0].v.Crv)return[e.ZU.fM(0,0,!0),e.ZU.fM(255,255,!0)];var F=[];for(var _=0;
_<256;_++)F.push(_);return F}var $=j[Z].v,L=$.Crv;if(L)return L.v;var F=[];for(var _=0;_<256;_++)F.push($.Mpng.v[_].v);
return F};_d.VV=function(Q,C){var j=[],Z=c.bS(Q,C);C+=2;for(var F=0;F<Z;F++){var _=c.bS(Q,C);C+=2;var $=c.bS(Q,C);
C+=2;j.push($,_)}return j};_d.vlW=function(Q,C,j){var Z=j.length/2;c.ex(Q,C,Z);C+=2;for(var F=0;F<Z;
F++){c.ex(Q,C,j[F*2+1]);C+=2;c.ex(Q,C,j[F*2+0]);C+=2}};_d.vli=function(Q,C){var j=[];for(var Z=0;Z<256;
Z++)j.push(Q[C+Z]);return j};_d.vlV=function(Q,C,j){Q.JW(C,256);for(var Z=0;Z<256;Z++)Q.data[C+Z]=j[Z]};
_d.$o=function(Q,C,j){var Z=[];for(var F=0;F<4;F++){var _=_d.hJ(j,F);if(_.length==256)Z.push(_);else{var $=[];
for(var L=0;L<_.length;L++)$.push(_[L].v.Hrzn.v,_[L].v.Vrtc.v);Z.push($)}}var D=C,d=Z[0].length==256?1:0;
Q.JW(C,3);Q.data[C]=d;Q.data[C+1]=0;Q.data[C+2]=1;C+=3;c.hO(Q,C,15);C+=4;for(var F=0;F<4;F++){var o=Z[F];
if(d==0){_d.vlW(Q,C,o);C+=2+2*o.length}else{_d.vlV(Q,C,o);C+=256}}return C-D};function vM(){}vM.$L=function(Q,C,j){var Z={},F=c.bS(Q,C);
C+=2;Z.wt=Q[C]==1;C++;C++;Z.gU=[c.DK(Q,C),c.DK(Q,C+2),c.DK(Q,C+4)];C+=6;Z.Vg=[c.DK(Q,C),c.DK(Q,C+2),c.DK(Q,C+4)];
C+=6;Z.BO=[];for(var _=0;_<6;_++){var $={};$.EO=[c.DK(Q,C),c.DK(Q,C+2),c.DK(Q,C+4),c.DK(Q,C+6)];C+=8;
$.cq=[c.DK(Q,C),c.DK(Q,C+2),c.DK(Q,C+4)];C+=6;Z.BO.push($)}var L=vr._j("hue2"),D=Z;if(L.Clrz==null)L.Clrz={t:"bool",v:!1};
L.Clrz.v=D.wt;for(var _=0;_<7;_++){var d=_==0?D.wt?D.gU:D.Vg:D.BO[_-1];vM.ht(L,_,d)}return L};vM.vlS=function(Q){return{classID:"Hst2",H:{t:"long",v:Q[0]},Strt:{t:"long",v:Q[1]},Lght:{t:"long",v:Q[2]}}};
vM.Vu=function(Q,C){for(var j=0;j<Q.length;j++){var Z=Q[j].v.LclR;if(C==0&&Z==null||Z!=null&&Z.v==C)return j}return-1};
vM.ht=function(Q,C,j){var Z=C==0?j:j.cq,F=vM.vlS(Z);if(C!=0){var _=j.EO;F.LclR={t:"long",v:C},F.BgnR={t:"long",v:_[0]};
F.BgnS={t:"long",v:_[1]};F.EndS={t:"long",v:_[2]};F.EndR={t:"long",v:_[3]}}F={t:"Objc",v:F};var $=Q.Adjs.v,L=vM.Vu($,C);
if(L==-1)$.push(F);else $[L]=F};vM.hJ=function(Q,C){var j=Q.Adjs.v,Z=vM.Vu(j,C);if(Z==-1){if(C==0)return[0,0,0];
else return[{EO:[315,345,15,45],cq:[0,0,0]},{EO:[15,45,75,105],cq:[0,0,0]},{EO:[75,105,135,165],cq:[0,0,0]},{EO:[135,165,195,225],cq:[0,0,0]},{EO:[195,225,255,285],cq:[0,0,0]},{EO:[255,285,315,345],cq:[0,0,0]}][C-1]}var F=j[Z].v,_=[F.H.v,F.Strt.v,F.Lght.v];
if(C==0)return _;return{cq:_,EO:[F.BgnR.v,F.BgnS.v,F.EndS.v,F.EndR.v]}};vM.$o=function(Q,C,j){var Z={wt:j.Clrz.v,BO:[]};
Z.gU=Z.Vg=vM.hJ(j,0);for(var F=1;F<7;F++)Z.BO.push(vM.hJ(j,F));var _=2+2+12+6*14,$=Q.data;Q.JW(C,_);
c.cj($,C,2);C+=2;$[C]=Z.wt?1:0;C++;C++;c.Cc($,C+0,Z.gU[0]);c.Cc($,C+2,Z.gU[1]);c.Cc($,C+4,Z.gU[2]);C+=6;
c.Cc($,C+0,Z.Vg[0]);c.Cc($,C+2,Z.Vg[1]);c.Cc($,C+4,Z.Vg[2]);C+=6;for(var F=0;F<6;F++){var L=Z.BO[F].EO,D=Z.BO[F].cq;
c.Cc($,C+0,L[0]);c.Cc($,C+2,L[1]);c.Cc($,C+4,L[2]);c.Cc($,C+6,L[3]);C+=8;c.Cc($,C+0,D[0]);c.Cc($,C+2,D[1]);
c.Cc($,C+4,D[2]);C+=6}return _};function Dp(){}Dp.ig=function(Q){var C=new Uint8Array(Q),j=2,Z=[];for(var F=0;
F<29;F++){var _=[];Z.push(_);for(var $=0;$<5;$++)_.push(c.bS(C,j+F*10+$*2))}j+=29*10;if(j<C.length){var L=c.hX(C,j,4);
j+=4;var D=c.bS(C,j);j+=2;var d=c.bS(C,j);j+=2;var o=d-29;for(var F=0;F<o;F++){var _=[];Z.push(_);for(var $=0;
$<5;$++)_.push(c.bS(C,j+F*10+$*2))}}var v=vr._j("levl");for(var F=0;F<4;F++)Dp.ht(v,F,Z[F]);return v};
Dp.zx=function(Q,C){var j=["Cmps","Rd","Grn","Bl"],Z={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:j[C]}}]};
return{classID:Q,Chnl:Z}};Dp.Vu=function(Q,C){var j={Cmps:0,Rd:1,Grn:2,Bl:3};for(var Z=0;Z<Q.length;
Z++){var F=Q[Z].v,_=j[F.Chnl.v[0].v.enum];if(_==C)return Z}return-1};Dp.ht=function(Q,C,j){var Z=Dp.zx("LvlA",C);
Z.Inpt={t:"VlLs",v:[{t:"long",v:j[0]},{t:"long",v:j[1]}]};Z.Otpt={t:"VlLs",v:[{t:"long",v:j[2]},{t:"long",v:j[3]}]};
Z.Gmm={t:"doub",v:j[4]/100};Z={t:"Objc",v:Z};var F=Q.Adjs.v,_=Dp.Vu(F,C);if(_==-1)F.push(Z);else F[_]=Z};
Dp.hJ=function(Q,C){var j=[0,255,0,255,100],Z=Q.Adjs.v,F=Dp.Vu(Z,C);if(F==-1)return j;var _=Z[F].v;if(_.Inpt){j[0]=_.Inpt.v[0].v;
j[1]=_.Inpt.v[1].v}if(_.Otpt){j[2]=_.Otpt.v[0].v;j[3]=_.Otpt.v[1].v}if(_.Gmm){j[4]=Math.round(_.Gmm.v*100)}return j};
Dp.Ry=function(Q,C){var j=[],F=0;for(var Z=0;Z<4;Z++)j.push(Dp.hJ(C,Z));while(j.length<29)j.push([0,255,0,255,100]);
Q.JW(0,2+10*29);c.cj(Q.data,F,2);F+=2;for(var Z=0;Z<29;Z++){var _=j[Z];for(var $=0;$<5;$++)c.cj(Q.data,F+Z*10+$*2,_[$])}F+=29*10;
if(j.length==29)return F;Q.JW(F,8+10*(j.length-29));c.Tp(Q.data,F,"Lvls");F+=4;c.cj(Q.data,F,3);F+=2;
c.cj(Q.data,F,j.length);F+=2;var L=j.length-29;for(var Z=0;Z<L;Z++){var _=j[29+Z];for(var $=0;$<5;$++)c.cj(Q.data,F+Z*10+$*2,_[$])}F+=10*L;
return F};function bt(){}bt.ig=function(Q){var C=new Uint8Array(Q),j=2,Z={wb:[],BE:[]},F=c.hX(C,j,4);
j+=4;var _=c.bS(C,j);j+=2;var $=c.o(C,j);j+=4;Z.wb=WS.xd(C,j,$);j+=$;var L=c.o(C,j);j+=4;for(var D=0;
D<L;D++){var d=c.o(C,j);j+=4;var o=j,v={ED:{},oK:{}};Z.BE.push(v);j+=4;j+=rC.Wa(C,v.ED,j);j+=4;j+=rC.Wa(C,v.oK,j);
j=o+d;var f=v.oK.blendOptions,U=v.oK.Lefx;if(f&&Object.keys(f.v).length>1){}if(U){if(U.v.masterFXSwitch==null)U.v.masterFXSwitch={t:"bool",v:!0};
De.xo(U.v)}}return Z};bt.ZI=function(Q,C){Q.ED.Nm.v=C};bt.Ry=function(Q){var C=new _f,j=0;c.ex(C,j,2);
j+=2;c.JQ(C,j,"8BSL");j+=4;c.ex(C,j,3);j+=2;var Z=j;j+=4;j=WS.xm(C,j,Q.wb);c.hO(C,Z,j-Z-4);var F=Q.BE.length;
c.hO(C,j,F);j+=4;for(var _=0;_<F;_++){j+=4;var $=j,L=Q.BE[_];c.hO(C,j,16);j+=4;j+=rC.JS(C,L.ED,j);var D=L.oK.Lefx;
if(D){L.oK.Lefx=JSON.parse(JSON.stringify(D));De.zZ(L.oK.Lefx.v)}c.hO(C,j,16);j+=4;j+=rC.JS(C,L.oK,j);
if(D)L.oK.Lefx=D;c.hO(C,$-4,j-$)}return C.data.slice(0,j).buffer};function _F(){}_F.$L=function(Q,C,j){var Z=c.bS(Q,C);
C+=2;var F={};F.YP=c.bS(Q,C)==1;C+=2;F.YI=[];for(var _=0;_<10;_++){var $=[];F.YI.push($);for(var L=0;
L<4;L++)$.push(c.DK(Q,C+L*2));C+=8}var D=vr._j("selc");D.Mthd.v.CrcM=F.YP?"Absl":"Rltv";for(var _=1;
_<10;_++)_F.ht(D,_-1,F.YI[_]);return D};_F.xy="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
_F.zx=function(Q,C){var j=["Cmps","Rd","Grn","Bl"],Z={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:j[C]}}]};
return{classID:Q,Chnl:Z}};_F.Vu=function(Q,C){var j=_F.xy;for(var Z=0;Z<Q.length;Z++){var F=Q[Z].v,_=j.indexOf(F.Clrs.v.Clrs);
if(_==C)return Z}return-1};_F.ht=function(Q,C,j){var Z=["Cyn","Mgnt","Ylw","Blck"],F={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:_F.xy[C]}}};
for(var _=0;_<4;_++)F[Z[_]]={t:"UntF",v:{type:"#Prc",val:j[_]}};F={t:"Objc",v:F};var $=Q.ClrC.v,L=_F.Vu($,C);
if(L==-1)$.push(F);else $[L]=F};_F.hJ=function(Q,C){var j=[0,0,0,0],Z=Q.ClrC.v,F=_F.Vu(Z,C);if(F==-1)return j;
var _=["Cyn","Mgnt","Ylw","Blck"];for(var $=0;$<4;$++)if(Z[F].v[_[$]])j[$]=Z[F].v[_[$]].v.val;return j};
_F.$o=function(Q,C,j){var Z={YP:j.Mthd.v.CrcM=="Absl",YI:[[0,0,0,0]]};for(var F=0;F<9;F++)Z.YI.push(_F.hJ(j,F));
Q.JW(C,84);c.cj(Q.data,C,1);C+=2;c.cj(Q.data,C,Z.YP?1:0);C+=2;for(var F=0;F<10;F++){var _=Z.YI[F];for(var $=0;
$<4;$++)c.Cc(Q.data,C+$*2,_[$]);C+=8}return 84};function Wh(){}Wh._j=function(){return{LT:new s(0,0,50,50),ED:"",BX:"play",G:e.D._K.hH([.1,.1,.9,.5,.1,.9],0)}};
Wh.ig=function(Q){Q=new Uint8Array(Q);var C=0,j=[],Z=Date.now(),F=c.hX(Q,0,4);C+=4;var _=c.o(Q,C);C+=4;
var $=c.o(Q,C);C+=4;for(var L=0;L<$;L++){var D=c.Ll(Q,C);C+=D.length*2+4+2;if((D.length&1)==0)C+=2;var d=c.o(Q,C);
C+=4;var o=c.o(Q,C);C+=4;var v=C,f=c.sg(Q,v).Zo;v+=f.length+1;var U=c.Gm(Q,v);v+=16;var H=Wh.xx(Q,v,o-(v-C)),B=e.D.hR(H),m=e.g.NM(B),Y=1/m.W,q=1/m.C;
e.D.gw(H,new rI(Y,0,0,q,-m.x*Y,-m.y*q));j.push({BX:D,ED:f,G:H,LT:U});C+=o}return j};Wh.ZI=function(Q,C){Q.BX=C};
Wh.Ry=function(Q){var C=new _f,j=0;c.JQ(C,j,"cush");j+=4;c.hO(C,j,2);j+=4;c.hO(C,j,Q.length);j+=4;for(var Z=0;
Z<Q.length;Z++){var F=Q[Z],_=F.BX+"\0";c.Ck(C,j,_);j+=4+_.length*2;if((_.length&1)==1)j+=2;c.hO(C,j,1);
j+=4;j+=4;var $=j;c.Wn(C,j,F.ED);j+=F.ED.length+1;c.UM(C,j,F.LT);j+=16;C.JW(j,F.G.length*26);Wh.zF(C.data,j,F.G,1,1);
j+=F.G.length*26;var L=j-$;if((L&3)!=0)L+=4-(L&3);c.hO(C,$-4,L);j=$+L}return C.data.slice(0,j).buffer};
Wh.xx=function(Q,C,j,Z,F){if(Z==null)Z=1;if(F==null)F=1;var _=c.DK,$=c.vIf,L=[],D=Math.floor(j/26);for(var d=0;
d<D;d++){var o=C+d*26,v={},f=0;L.push(v);v.type=_(Q,o);o+=2;if(v.type==6){f=24}if(v.type==8){v.all=_(Q,o);
o+=2;f=22}if(v.type==0||v.type==3){v.length=_(Q,o);o+=2;v.rh=_(Q,o);o+=2;v.Vy=_(Q,o);o+=2;v.XN=c.o(Q,o);
o+=4;v.Xn=c.o(Q,o);o+=4;f=10}if(v.type==1||v.type==2||v.type==4||v.type==5){var U,H;H=$(Q,o);o+=4;U=$(Q,o);
o+=4;v.$_=new Wn(U*Z,H*F);H=$(Q,o);o+=4;U=$(Q,o);o+=4;v.d=new Wn(U*Z,H*F);H=$(Q,o);o+=4;U=$(Q,o);o+=4;
v.jk=new Wn(U*Z,H*F);f=0}for(var B=0;B<f;B++)if(Q[o+B]!=0){console.log("Unexpected non-zero byte!",v,B,Q[o+B])}}return L};
Wh.zF=function(Q,C,j,Z,F){var _=c.Cc,$=c.SN,L=j.length;for(var D=0;D<L;D++){var d=C+D*26,o=j[D];_(Q,d,o.type);
d+=2;if(o.type==6){}if(o.type==8)_(Q,d,o.all);if(o.type==0||o.type==3){_(Q,d,o.length);d+=2;_(Q,d,o.rh);
d+=2;_(Q,d,o.Vy);d+=2}if(o.type==1||o.type==2||o.type==4||o.type==5){$(Q,d,o.$_.y/F);d+=4;$(Q,d,o.$_.x/Z);
d+=4;$(Q,d,o.d.y/F);d+=4;$(Q,d,o.d.x/Z);d+=4;$(Q,d,o.jk.y/F);d+=4;$(Q,d,o.jk.x/Z);d+=4}}};function vF(){}vF.ig=function(Q){var C=new Uint8Array(Q),j=[],Z=0;
Z=vF.Ve(C,Z,j);if(Z+3<C.length){j=[];Z=vF.Ve(C,Z,j)}return j};vF.Ve=function(Q,C,j){var Z=c.bS,F=c.DK,_=Z(Q,C);
C+=2;var $=Z(Q,C);C+=2;for(var L=0;L<$;L++){var D=vF.GQ(Q,C);C+=10;if(_==2){D.cr=c.Ll(Q,C);C+=4+D.cr.length*2+2}j.push(D)}return C};
vF.GQ=function(Q,C){var j=c.bS,Z=c.DK,F=j(Q,C),U=null;C+=2;var _=j(Q,C);C+=2;var $=j(Q,C);C+=2;var L=j(Q,C);
C+=2;var D=j(Q,C);C+=2;var d=1/65535,o=255/65535,v=100/65535,f=255/1e4;if(F==0)U={h:_*o,J:$*o,_:L*o};
else if(F==1){U=e.zj(_*d,$*d,L*d);U.h*=255;U.J*=255;U._*=255}else if(F==2)U=e.q.Xa({classID:"CMYC",Cyn:{t:"doub",v:100-_*v},Mgnt:{t:"doub",v:100-$*v},Ylw:{t:"doub",v:100-L*v},Blck:{t:"doub",v:100-D*v}});
else if(F==7){var H=e.nR(_/100,Z(Q,C-6)/100,Z(Q,C-4)/100);U=H}else if(F==8){U={h:255-_*f,J:255-$*f,_:255-L*f}}else throw"e "+F+", ";
return U};vF.Ry=function(Q){var C=new _f,j=0,Z=c.ex;Z(C,j,2);j+=2;Z(C,j,Q.length);j+=2;for(var F=0;F<Q.length;
F++){var _=Q[F];C.JW(j,10);vF.$M(C.data,j,_);j+=10;var $=(_.cr?_.cr:"")+"\0";c.Ck(C,j,$);j+=4+$.length*2}return C.data.slice(0,j).buffer};
vF.ZI=function(Q,C){Q.cr=C};vF.$M=function(Q,C,j){var Z=65535/255,F=c.cj;F(Q,C,0);F(Q,C+2,Math.round(j.h*Z));
F(Q,C+4,Math.round(j.J*Z));F(Q,C+6,Math.round(j._*Z));F(Q,C+8,0)};function WU(){}WU.ig=function(Q){var C=new Uint8Array(Q),j=4,Z={};
Z.vA=c.Ll(C,j);j+=4+Z.vA.length*2+2;Z.exp=C[j++]==1;Z.L=[];var F=c.o(C,j);j+=4;for(var _=0;_<F;_++){var $={};
Z.L.push($);$.BW=c.bS(C,j);j+=2;$.shift=C[j++]==1;$.vrs=C[j++]==1;$.color=c.bS(C,j);j+=2;$.vA=c.Ll(C,j);
j+=4+$.vA.length*2+2;$.exp=C[j++]==1;$.L=[];var _j=c.o(C,j);j+=4;for(var L=0;L<_j;L++){var D={};$.L.push(D);
D.exp=C[j++]==1;D.F=C[j++]==1;D.vQF=C[j++]==1;D.vKs=C[j++];var d=c.hX(C,j,4);j+=4;if(d=="TEXT"){D.$Q=WU.WQ(C,j);
j+=4+D.$Q.length}else if(d=="long"){D.$Q=c.hX(C,j,4);j+=4}else throw"e";D.wK=WU.WQ(C,j);j+=4+D.wK.length;
var o=c.hS(C,j);j+=4;if(o==-1){D.aa={};var v=rC.Wa(C,D.aa,j);j+=v}}}console.log(Z);var f=new Uint8Array(WU.Ry(Z));
for(var _=0;_<f.length;_++)if(f[_]!=C[_]){console.log(f.length,C.length);var U=4*(_>>>2)-16;console.log(c.FK(C,U,64));
console.log(c.FK(f,U,64));console.log(C.slice(U,U+64));console.log(f.slice(U,U+64));throw _}console.log(Z);
return[Z]};WU.WQ=function(Q,C){var j=c.o(Q,C);return c.hX(Q,C+4,j)};WU.Vw=function(Q,C,j){c.hO(Q,C,j.length);
c.JQ(Q,C+4,j)};WU.Ry=function(Q){var C=new _f,j=0;c.hO(C,j,16);j+=4;c.Ck(C,j,Q.vA+"\0");j+=4+Q.vA.length*2+2;
C.JW(j,1);C.data[j++]=Q.exp?1:0;var Z=Q.L.length;c.hO(C,j,Z);j+=4;for(var F=0;F<Z;F++){var _=Q.L[F];
c.ex(C,j,_.BW);j+=2;C.JW(j,2);C.data[j++]=_.shift?1:0;C.data[j++]=_.vrs?1:0;c.ex(C,j,_.color);j+=2;c.Ck(C,j,_.vA+"\0");
j+=4+_.vA.length*2+2;C.JW(j,1);C.data[j++]=_.exp?1:0;var _j=_.L.length;c.hO(C,j,_j);j+=4;for(var $=0;
$<_j;$++){var L=_.L[$];C.JW(j,4);C.data[j++]=L.exp?1:0;C.data[j++]=L.F?1:0;C.data[j++]=L.vQF?1:0;C.data[j++]=L.vKs;
var D=L.$Q=="LqFy"||L.$Q=="Avrg"||L.$Q=="GEfc"||L.$Q=="PbPl";c.JQ(C,j,D?"long":"TEXT");j+=4;if(!D){WU.Vw(C,j,L.$Q);
j+=4+L.$Q.length}else{c.JQ(C,j,L.$Q);j+=4}WU.Vw(C,j,L.wK);j+=4+L.wK.length;c.Tm(C,j,L.aa?-1:0);j+=4;
if(L.aa){var d=rC.JS(C,L.aa,j);j+=d}}}return C.data.slice(0,j).buffer};function tH(){}tH.ig=function(Q){var C=new Uint8Array(Q),j=0,Z=c.o(C,j),D;
j+=4;var F=c.hX(C,j,8);j+=8;var _=c.BQ(C,j);j+=4;var $=c.BQ(C,j);j+=4;var L=c.BQ(C,j);j+=4;if(Z==2){D=new Float32Array(Q,32,Q.byteLength-32>>>2)}else if(Z==3||Z==4){D=new Float32Array($*L*2);
var d=0,o=0,v=!0;j=Z==3?32:16+8+40;while(j<C.length){var f=c.BQ(C,j);j+=4;if(v)o+=f;else{for(var U=0;
U<f;U++){D[d+o+U<<1]=c.qa(C,j);D[(d+o+U<<1)+1]=c.qa(C,j+4);j+=8}o+=f}v=!v;if(f!=0&&o==$){d+=$;o=0;v=!0;
if(d==$*L)break}}}else throw"unknown Mesh version: "+Z;return{fA:$,NE:L,map:D}};tH.TI=function(Q){var C=Q.fA,j=Q.NE,Z=Q.map,F=new Uint8Array(32+j*C*8+j*8),_=0,$=0;
c.Ig(F,_,3);_+=4;c.Tp(F,_,"yfqLhseM");_+=8;c.Z$(F,_,2);_+=4;c.Z$(F,_,C);_+=4;c.Z$(F,_,j);_+=4;c.Z$(F,_,0);
_+=4;c.Z$(F,_,1);_+=4;for(var L=0;L<j;L++){c.Z$(F,_,0);_+=4;c.Z$(F,_,C);_+=4;for(var D=0;D<C;D++){c.qn(F,_,Z[$]);
c.qn(F,_+4,Z[$+1]);$+=2;_+=8}}return F.buffer};function K_(){}K_.ig=function(Q){var C=new Uint8Array(Q),j=0,Z=c.hX(C,j,4);
j+=4;var F=c.bS(C,j);j+=2;var _=c.o(C,j);j+=4;var $=[];for(var L=0;L<_;L++){var D=c.o(C,j);j+=4;var d={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
$.push(d);var o=c.Ll(C,j);d.Nm.v=o;j+=4+o.length*2+2;var v=c.bS(C,j);j+=2;var f=c.bS(C,j);j+=2;for(var U=0;
U<f;U++){var H=e.ZU.fM(0,0,!0);H.v.Vrtc.v=c.bS(C,j);j+=2;H.v.Hrzn.v=c.bS(C,j);j+=2;d.Crv.v.push(H)}if(D==1){}else if(D==2){for(var U=0;
U<f;U++){d.Crv.v[U].v.Cnty.v=C[j]==1;j+=1}}else throw"error";var B=c.o(C,j);j+=4;var m=c.o(C,j);j+=4}return $};
K_.ZI=function(Q,C){Q.Nm.v=C};K_.Ry=function(Q){var C=new _f,j=0;c.JQ(C,j,"8BFS");j+=4;c.ex(C,j,1);j+=2;
c.hO(C,j,Q.length);j+=4;for(var Z=0;Z<Q.length;Z++){c.hO(C,j,2);j+=4;var F=Q[Z];c.Ck(C,j,F.Nm.v+"\0");
j+=4+F.Nm.v.length*2+2;c.ex(C,j,2);j+=2;var _=F.Crv.v.length;c.ex(C,j,_);j+=2;for(var $=0;$<_;$++){var L=F.Crv.v[$];
c.ex(C,j,L.v.Vrtc.v);j+=2;c.ex(C,j,L.v.Hrzn.v);j+=2}C.JW(j,_);for(var $=0;$<_;$++){C.data[j]=F.Crv.v[$].v.Cnty.v;
j++}c.hO(C,j,0);j+=4;c.hO(C,j,0);j+=4}return C.data.slice(0,j).buffer};function D$(){}D$.ig=function(Q){var C=new Uint8Array(Q),j=4,Z=c.bS(C,j);
j+=2;var F=c.o(C,j);j+=4;var _=[];for(var $=0;$<F;$++){var L={};_.push(L);j=D$.Vn(C,j,L)}return _};D$.ZI=function(Q,C){Q.name=C};
D$.Ry=function(Q){var C=new _f,j=0;c.JQ(C,j,"8BPT");j+=4;c.ex(C,j,1);j+=2;c.hO(C,j,Q.length);j+=4;for(var Z=0;
Z<Q.length;Z++){j=D$.Sz(C,j,Q[Z])}return C.data.slice(0,j).buffer};D$.Vn=function(Q,C,j){var Z=c.o(Q,C);
C+=4;if(Z!=1)alert("Unknown version of pattern");var F=c.o(Q,C);C+=4;if(F!=1&&F!=2&&F!=3)console.log("Unsupported mode of pattern: "+F);
var _=c.bS(Q,C);C+=2;var $=c.bS(Q,C);C+=2;j.z=new s(0,0,$,_);j.name=c.Ll(Q,C);C+=4+2*j.name.length+2;
var L=Q[C];C++;j.id=c.hX(Q,C,L);C+=j.id.length;var D=-1;if(F==2){D=C;C+=3*256+4}var d=new e.mr($*_);
C=D$.vle(Q,C,d);if(F==2){for(var o=0;o<d.h.length;o++){var v=3*d.h[o];d.h[o]=Q[D+v+0];d.J[o]=Q[D+v+1];
d._[o]=Q[D+v+2]}}j.Dg=e.Q(j.z.P()*4);e.qb(d,j.Dg);return C};D$.Sz=function(Q,C,j){c.hO(Q,C,1);C+=4;c.hO(Q,C,3);
C+=4;c.ex(Q,C,j.z.C);C+=2;c.ex(Q,C,j.z.W);C+=2;c.Ck(Q,C,j.name+"\0");C+=4+2*j.name.length+2;c.CV(Q,C,j.id.length);
C++;c.JQ(Q,C,j.id);C+=j.id.length;var Z=new e.mr(j.z.P());e.oM(j.Dg,Z);C=D$.vgb(Q,C,Z,j);return C};D$.vle=function(Q,C,j){var Z=C,F={z:null,oe:[],vRT:null,VX:null},_=c.o(Q,C);
C+=4;var $=c.o(Q,C);C+=4;F.z=c.Gm(Q,C);C+=16;var L=c.o(Q,C);C+=4;for(var D=0;D<L+2;D++){var d=c.o(Q,C);
C+=4;if(d==0)continue;var o=c.o(Q,C);C+=4;if(o==0)continue;var v=c.o(Q,C);C+=4;var f=c.Gm(Q,C);C+=16;
var U=c.bS(Q,C);C+=2;var H=Q[C];C++;var B=_u.WF(!1,v,Q,f.W,f.C,C,H);if(D<L)F.oe.push(B);if(D==L)F.vRT=B;
if(D==L+1)F.VX=B;C+=o-23}if(!F.z.jJ()){if(F.oe[0])j.h=F.oe[0];if(F.oe[1])j.J=F.oe[1];else j.J=e.clone(F.oe[0]);
if(F.oe[2])j._=F.oe[2];else j._=e.clone(F.oe[0]);if(F.VX)j.om=F.VX;else e.set(j.om,255)}return C};D$.vgb=function(Q,C,j,Z){var F=C,_={z:Z.z,oe:[j.h,j.J,j._],vRT:null,VX:j.om};
c.hO(Q,C,3);C+=4;c.hO(Q,C,0);C+=4;c.UM(Q,C,_.z);C+=16;c.hO(Q,C,24);C+=4;for(var $=0;$<24+2;$++){var L=C,D=$<3||$==25?1:0;
c.hO(Q,C,D);C+=4;if(D==0)continue;c.hO(Q,C,0);C+=4;c.hO(Q,C,8);C+=4;c.UM(Q,C,_.z);C+=16;c.ex(Q,C,8);
C+=2;c.CV(Q,C,1,1);C++;var d=$<3?_.oe[$]:_.VX;Q.JW(C,Z.z.P()+2);C=_u.xM(d,Q.data,Z.z.W,Z.z.C,C,1);c.hO(Q,L+4,C-L-8)}c.hO(Q,F+4,C-F-8);
return C};function Qf(){}Qf.ig=function(Q){var C=new Uint8Array(Q),j=0,Z=c.hX(C,j,4);j+=4;var F=c.bS(C,j);
j+=2;var _=[];if(F<=3){var $=c.bS(C,j);j+=2;for(var L=0;L<$;L++){var D=C[j++],d=c.hX(C,j,D);j+=D;var o=Qf.Sq(C,j,d),v=o[0];
j=o[1];_.push(v);j+=6}}else{var o={},f=rC.Wa(C,o,j+4),U=o.GrdL.v;for(var L=0;L<U.length;L++)_[L]=U[L].v.Grad.v}return _};
Qf.ZI=function(Q,C){Q.Nm.v=C};Qf.Ry=function(Q){var C=new _f,j=0;c.JQ(C,j,"8BGR");j+=4;c.ex(C,j,5);j+=2;
c.hO(C,j,16);j+=4;var Z={classID:"null",GrdL:{t:"VlLs",v:[]}},F=Z.GrdL.v;for(var _=0;_<Q.length;_++)F[_]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:Q[_]}}};
j+=rC.JS(C,Z,j);return C.data.slice(0,j).buffer};Qf.Sq=function(Q,C,j){var Z={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{bd:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:j},Trns:{t:"VlLs",v:[]}},F=c.bS(Q,C);
C+=2;if(F==0)throw"e";for(var _=0;_<F;_++){var $=c.o(Q,C),L=c.o(Q,C+4),D=vF.GQ(Q,C+8),d={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:D.h},Grn:{t:"doub",v:D.J},Bl:{t:"doub",v:D._}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:$},Mdpn:{t:"long",v:L}}};
Z.Clrs.v.push(d);C+=20}var o=c.bS(Q,C);C+=2;for(var _=0;_<o;_++){var $=c.o(Q,C),L=c.o(Q,C+4),v=c.bS(Q,C+8),d={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*v/255)}},Lctn:{t:"long",v:$},Mdpn:{t:"long",v:L}}};
Z.Trns.v.push(d);C+=10}return[Z,C]};Qf.vgz=function(Q,C,j){var Z=j.Clrs.v.length;c.ex(Q,C,Z);C+=2;for(var F=0;
F<Z;F++){var _=j.Clrs.v[F];c.hO(Q,C,_.v.Lctn.v);c.hO(Q,C+4,_.v.Mdpn.v);c.ex(Q,C+8,0);var $=e.q.mx(e.q.Xa(_.v.Clr.v)),L=[$.Rd.v,$.Grn.v,$.Bl.v,0];
for(var D=0;D<4;D++)c.ex(Q,C+10+D*2,Math.round(65535*(L[D]/255)));C+=20}var d=j.Trns.v.length;c.ex(Q,C,d);
C+=2;for(var F=0;F<d;F++){var _=j.Trns.v[F];c.hO(Q,C,_.v.Lctn.v);c.hO(Q,C+4,_.v.Mdpn.v);c.ex(Q,C+8,Math.round(255*_.v.Opct.v.val/100));
C+=10}return C};function bo(){}bo.ig=function(Q){var C=new Uint8Array(Q),j=[],Z=[],F=[],_=0,$=c.hX(C,_,4);
_+=4;var L=c.o(C,_);_+=4;var D=c.o(C,_);_+=4;while(_<C.length){var d=c.hX(C,_,4);_+=4;var o=c.hX(C,_,4);
_+=4;var v=c.o(C,_);_+=4;if(o=="tppa"){Z=WS.xd(C,_,v);_+=v}else if(o=="tpbd"){F=WS.Vz(C,_,v,1,1);_+=v}else if(o=="tptp"){var f=c.o(C,_);
_+=4;for(var U=0;U<f;U++){var H=c.Ll(C,_);_+=6+H.length*2;_+=4;var B={};_+=rC.Wa(C,B,_);j.push([H,B])}while((_&3)!=0)_++}else{console.log(C.slice(_-8,_+64));
console.log(c.hX(C,_-8,64));throw o}}return{_G:F,vf:Z,list:j}};bo.ZI=function(Q,C){Q[0]=C};bo.Ry=function(Q){var C=new _f,j=0;
c.JQ(C,j,"8BTP");j+=4;c.hO(C,j,3);j+=4;c.hO(C,j,1);j+=4;var Z=[Q.vf,Q._G,Q.list];for(var F=0;F<3;F++){if(Z[F].length==0)continue;
c.JQ(C,j,"8BIM");j+=4;var _=["tppa","tpbd","tptp"][F];c.JQ(C,j,_);j+=4;var $=j;j+=4;if(_=="tppa"){j=WS.xm(C,j,Q.vf)}else if(_=="tpbd"){j=WS.Vi(C,j,Q._G)}else if(_=="tptp"){c.hO(C,j,Q.list.length);
j+=4;for(var L=0;L<Q.list.length;L++){var D=Q.list[L];c.Ck(C,j,D[0]+"\0");j+=6+D[0].length*2;c.hO(C,j,16);
j+=4;j+=rC.JS(C,D[1],j)}}c.hO(C,$,j-$-4);while((j&3)!=0)j++;C.JW(j,0)}return C.data.slice(0,j).buffer};
function vA(){}vA.ig=function(Q,C){var j=new Uint8Array(Q),Z;if(c.o(j,0)==j.length)Z="icc";else if(j[0]=="<".charCodeAt(0))Z="look";
else if(c.qQ(j,"LUT_3D_SIZE")!=-1)Z="cube";else Z="3DL";if(Z!="icc"){var F=vA.vgC(j,Z),_=vA.vga(F[0],F[1]);
j=_}var $=[];for(var L=0;L<j.length;L++)$.push(j[L]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:C?C:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:$}}]};
vA.Ry=function(Q){var C=Q[0],j=new Uint8Array(C.profile.v);return j.buffer};vA.ZI=function(Q,C){Q.Nm.v=C};
vA.vga=function(Q,C){var j=new _f,Z=128;j.JW(0,128);var F=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var _=0;_<F.length;_++)j.data[_]=F[_];var $=["desc","A2B0"],L=$.length,D=128+4+L*12;c.hO(j,Z,L);
Z+=4;for(var d=0;d<L;d++){var o=$[d];c.JQ(j,Z,o);Z+=4;c.hO(j,Z,D);Z+=4;var v=D;if(o=="desc"){c.JQ(j,v,"mluc");
v+=4;v+=4;c.hO(j,v,1);v+=4;c.hO(j,v,12);v+=4;c.JQ(j,v,"enUS");v+=4;var f="ICC by Photopea\0",U=f.length*2+2;
c.hO(j,v,U);v+=4;c.hO(j,v,28);v+=4;j.JW(v,U);for(var _=0;_<f.length;_++)j.data[v+_*2+1]=f.charCodeAt(_);
v+=U}if(o=="A2B0"){c.JQ(j,v,"mAB ");v+=4;v+=4;j.JW(v,4);j.data[v]=3;j.data[v+1]=3;v+=4;j.JW(v,4*5);v+=4*3;
c.hO(j,v,v+8-D);v+=4;v+=4;j.JW(v,20);j.data[v]=Q;j.data[v+1]=Q;j.data[v+2]=Q;v+=16;j.data[v]=2;v+=4;
var H=Q*Q*Q*3;j.JW(v,H*2);for(var _=0;_<H;_++)c.cj(j.data,v+_*2,Math.max(0,Math.min(65535,Math.round(C[_]*65535))));
v+=H*2}var B=v-D;while((B&3)!=0)B++;c.hO(j,Z,B);Z+=4;D+=B}c.hO(j,0,D);return j.data.slice(0,D)};vA.vgC=function(Q,C){C="LUTFormat"+C.toUpperCase();
var j=[],Z=0,F=c.hI(Q,0,Q.length),_="";for(var $=0;$<Q.length&&_=="";$++){if(Q[$]==10)_="\n";else if(Q[$]==13){_="\r";
if(Q[$+1]==10)_+="\n"}}if(C=="LUTFormatCUBE"){var L=F.split(_);for(var $=0;$<L.length;$++){if(L[$]==""||L[$][0]=="#")continue;
var D=L[$].split(" "),d=D[0];if(d=="LUT_3D_SIZE"){Z=parseInt(D[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(d)!=-1)continue;
j.push(parseFloat(D[0]),parseFloat(D[1]),parseFloat(D[2]))}j=vA.Si(Z,j)}else if(C=="LUTFormat3DL"){var L=F.split(_),o=1/4095;
for(var $=0;$<L.length;$++){var v=L[$];if(v==""||v=="3DMESH"||v.startsWith("Mesh")||v[0]=="#")continue;
var D=v.split(" "),d=D[0];if(Z==0){Z=D.length;continue}j.push(parseFloat(D[0])*o,parseFloat(D[1])*o,parseFloat(D[2])*o)}}else if(C=="LUTFormatLOOK"){var f=new DOMParser,U=f.parseFromString(F,"text/xml"),H=U.getElementsByTagName("LUT")[0],B=H.children[0].textContent;
Z=parseInt(JSON.parse(B));var m=H.children[1].textContent;m=m.replace(/"/g,"").replace(/\s/g,"");var Y=3*Z*Z*Z,q=Y*4,r=new Uint8Array(q);for(var $=0;$<q;$++){var x=m.charCodeAt($*2),a=m.charCodeAt($*2+1),i=x<58?x-48:x-55,l=a<58?a-48:a-55;r[$]=(i<<4)+l}for(var $=0;$<Y;$++)j.push(c.qa(r,$<<2));j=vA.Si(Z,j)}else throw C;return[Z,j]};vA.Si=function(Q,C){var j=[],Z=Q*Q*Q;for(var F=0;F<Z;F++)j.push(0,0,0);for(var _=0;_<Q;_++)for(var $=0;$<Q;$++)for(var L=0;L<Q;L++){var F=3*(L+$*Q+_*Q*Q),D=3*(_+$*Q+L*Q*Q);j[D]=C[F];j[D+1]=C[F+1];j[D+2]=C[F+2]}return j};function rC(){}rC.Wa=function(Q,C,j,Z,F){var _=j,$;if(F==null)F=0;var L=c.o(Q,j);if(L==0){$="";j+=4}else{$=c.Ll(Q,j);j+=4+2*$.length+2}if($!="")C.__name=$;C.classID=rC.JY(Q,j);if(Z)console.log("\t".repeat(F),"- reading descriptor",C.classID,j);j+=rC.ID(Q,j);var D=c.hS(Q,j);j+=4;for(var d=0;d<D;d++){var o=rC.JY(Q,j);j+=rC.ID(Q,j);var v=rC.Sg(Q,j,Z,F);C[o]=v;j+=v.size;delete v.size}return j-_};rC.JS=function(Q,C,j,Z){var F=j,_=C.__name;if(_==null)_="";_+="\0";c.Ck(Q,j,_);j+=4+2*_.length;rC.I$(Q,j,C.classID);j+=rC.ID(Q.data,j);c.Tm(Q,j,Object.keys(C).length-1-(C.__name==null?0:1));j+=4;for(var $ in C){if($=="classID")continue;if($=="__name")continue;rC.I$(Q,j,$);j+=rC.ID(Q.data,j);j+=rC.Su(Q,j,C[$])}return j-F};rC.Sg=function(Q,C,j,Z){var F=C,_=c.hX(Q,C,4);C+=4;var $={size:0,t:_,v:null};if(j)console.log("\t".repeat(Z),"reading key",_,F);switch(_){case"obj ":case"VlLs":$.v=[];var L=c.o(Q,C);C+=4;for(var D=0;D<L;D++){var d=rC.Sg(Q,C,j,Z+1);C+=d.size;delete d.size;$.v.push(d)}break;case"UntF":$.v={type:c.hX(Q,C,4),val:c.ip(Q,C+4)};C+=12;break;case"doub":$.v=c.ip(Q,C);C+=8;break;case"bool":$.v=Q[C]==1;C+=1;break;case"long":$.v=c.hS(Q,C);C+=4;break;case"comp":$.v=c.hS(Q,C+4);C+=8;break;case"Objc":$.v={};var o=rC.Wa(Q,$.v,C,j,Z+1);C+=o;break;case"TEXT":var v=c.o(Q,C);if(v==0){$.v="";C+=4}else{$.v=c.Ll(Q,C);C+=4+$.v.length*2+2}break;case"enum":var f=rC.JY(Q,C);C+=rC.ID(Q,C);var U=rC.JY(Q,C);C+=rC.ID(Q,C);$.v={};$.v[f]=U;break;case"tdta":var H=c.hS(Q,C);C+=4;$.v=[];for(var D=0;D<H;D++)$.v.push(Q[C+D]);C+=H;break;case"ObAr":var B=c.o(Q,C);C+=4;var m=c.Ll(Q,C);C+=4+2*m.length+2;if(m!="")throw m;var Y=rC.JY(Q,C);C+=4+Math.max(4,Y.length);$.v={classID:Y,arr:[]};var q=c.o(Q,C);C+=4;for(var D=0;D<q;D++){var Y=rC.JY(Q,C);C+=4+Math.max(4,Y.length);var f=c.hX(Q,C,4);C+=4;var r=c.hX(Q,C,4);C+=4;var x={id:Y,type:f,uID:r,arr:[]};$.v.arr.push(x);var a=c.o(Q,C,4);C+=4;for(var i=0;i<a;i++){var l=c.ip(Q,C);C+=8;x.arr.push(l)}}break;case"Pth ":var M=C,H=c.o(Q,C);C+=4;var z=c.hX(Q,C,4);C+=4;var V=c.BQ(Q,C);C+=4;var X=c.vJX(Q,C);C+=4+X.length*2;$.v={sig:z,pth:X};break;case"Clss":case"type":case"rele":var X=c.Ll(Q,C);C+=4+X.length*2+2;var O=rC.JY(Q,C);C+=4+Math.max(4,O.length);$.v={classID:O};if(X!="")$.v.__name=X;if(_=="rele"){$.v.val=c.hS(Q,C);C+=4}break;case"prop":case"Enmr":case"indx":case"name":var y=rC.xF[_],X=c.Ll(Q,C);C+=4+X.length*2+2;if(X.length!=0){console.log(_,X);throw"e"}$.v={};for(var D=0;D<y.length;D++){var O=rC.JY(Q,C);C+=4+Math.max(4,O.length);$.v[y[D]]=O}if(_=="name"){var X=c.Ll(Q,C);C+=4+X.length*2+2;$.v.val=X}if(_=="indx"){$.v.val=c.o(Q,C);C+=4}break;case"alis":var H=c.o(Q,C);C+=4;$.v=c.hX(Q,C,H);C+=H;break;default:{console.log("unknown oskey: "+_+", "+F);throw"e";return $}}if(j){console.log("\t".repeat(Z),$.v);console.log("\t".repeat(Z),"======",C)}$.size=C-F;return $};rC.xF={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"]};rC.Su=function(Q,C,j){var Z=C,F=j.t;j=j.v;c.JQ(Q,C,F);C+=4;switch(F){case"obj ":case"VlLs":c.Tm(Q,C,j.length);C+=4;for(var _=0;_<j.length;_++){var $=rC.Su(Q,C,j[_]);C+=$}break;case"UntF":c.JQ(Q,C,j.type);c.eq(Q,C+4,j.val);C+=12;break;case"doub":c.eq(Q,C,j);C+=8;break;case"bool":c.CV(Q,C,j?1:0,1);C+=1;break;case"long":c.Tm(Q,C,j);C+=4;break;case"comp":c.Tm(Q,C+4,j);C+=8;break;case"Objc":var $=rC.JS(Q,j,C);C+=$;break;case"TEXT":c.Ck(Q,C,j+"\0");C+=4+j.length*2+2;break;case"enum":var L=Object.keys(j)[0],D=j[L];rC.I$(Q,C,L);C+=rC.ID(Q.data,C);rC.I$(Q,C,D);C+=rC.ID(Q.data,C);break;case"tdta":c.hO(Q,C,j.length);C+=4;c.sc(Q,C,j);C+=j.length;break;case"ObAr":c.hO(Q,C,j.arr[0].arr.length);C+=4;c.Ck(Q,C,"\0");C+=6;rC.I$(Q,C,j.classID);C+=4+Math.max(4,j.classID.length);c.hO(Q,C,j.arr.length);C+=4;for(var d=0;d<j.arr.length;d++){var o=j.arr[d];rC.I$(Q,C,o.id);C+=4+Math.max(4,o.id.length);c.JQ(Q,C,o.type);C+=4;c.JQ(Q,C,o.uID);C+=4;c.hO(Q,C,o.arr.length);C+=4;for(var _=0;_<o.arr.length;_++){c.eq(Q,C,o.arr[_]);C+=8}}break;case"Pth ":var v=j.pth.length*2+4+8;c.hO(Q,C,v);C+=4;c.JQ(Q,C,j.sig);C+=4;c.I_(Q,C,v);C+=4;c.vIO(Q,C,j.pth);C+=j.pth.length*2+4;break;case"Clss":case"type":case"rele":var f=j.__name;if(f==null)f="";c.Ck(Q,C,f+"\0");C+=4+f.length*2+2;var U=j.classID;rC.I$(Q,C,U);C+=4+Math.max(4,U.length);if(F=="rele"){c.Tm(Q,C,j.val);C+=4}break;case"prop":case"Enmr":case"indx":case"name":var H=rC.xF[F];c.hO(Q,C,1);C+=6;for(var d=0;d<H.length;d++){var U=j[H[d]];rC.I$(Q,C,U);C+=4+Math.max(4,U.length)}if(F=="name"){c.Ck(Q,C,j.val+"\0");C+=4+j.val.length*2+2}if(F=="indx"){c.hO(Q,C,j.val);C+=4}break;case"alis":var v=j.length;c.hO(Q,C,v);C+=4;c.JQ(Q,C,j);C+=v;break;default:console.log("unknown oskey: "+F);C=Z;break}return C-Z};rC.JY=function(Q,C){var j=c.hS(Q,C);if(j>1e3)throw"e";if(j==0)j=4;return c.hX(Q,C+4,j).trim()};rC.ID=function(Q,C){var j=c.hS(Q,C);return j==0?8:4+j};rC.I$=function(Q,C,j){var Z="warp list Comp xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby flow trim then else".split(" "),F=4<j.length||Z.indexOf(j)!=-1;c.Tm(Q,C,F?j.length:0);c.JQ(Q,C+4,j);if(j.length<4&&!F){var _="";for(var $=j.length;$<4;$++)_+=" ";c.JQ(Q,C+4+j.length,_)}};rC.vVk=function(Q){var C={};for(var j in Q){if(j=="classID")C[j]=Q[j];else if(j=="__name")C[j]=Q[j];else C[j]=rC.Sk(Q[j])}return C};rC.Sk=function(Q){if(Q.bd=="Objc")return rC.vVk(Q.v);else if(Q.bd=="VlLs"){var C=[];for(var j=0;j<Q.v.length;j++)C.push(rC.Sk(Q.v[j]));return C}else if(Q.bd=="UntF")return Q.v.val;else return Q.v};function De(){}De.SI=function(Q,C,j,Z,F,_){while(C<j){var $=c.hX(Q,C,4);C+=4;if($!="8BIM"&&$!="8B64"){console.log("layer information signature error! "+$,"PSB = "+F);alert("Error in PSD file: wrong signature.");return j}var L=c.hX(Q,C,4);C+=4;var D=c.hS(Q,C);C+=4;if(F&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd".split(" ").indexOf(L)!=-1){D=D<<32|c.hS(Q,C);C+=4}if(F&&["pths"].indexOf(L)!=-1){D=D<<32|c.hS(Q,C);C+=4}var d=["lrFX","PlLd"];if(d.indexOf(L)!=-1){if(D%4!=0)D+=4-D%4;C+=D;continue}switch(L){case"iOpa":Z[L]=Q[C];break;case"brst":Z[L]=[1,1,1];for(var o=0;o<D;o+=4)Z[L][c.o(Q,C+o)]=0;break;case"knko":Z[L]=Q[C];break;case"infx":Z[L]=Q[C];break;case"clbl":Z[L]=Q[C];break;case"lmgm":Z[L]=Q[C];break;case"vmgm":Z[L]=Q[C];break;case"lyid":Z[L]=c.o(Q,C);break;case"lsct":Z[L]={type:c.o(Q,C)};if(D>=12)Z[L].gd=c.hX(Q,C+8,4);break;case"lsdk":Z.lsct={type:c.o(Q,C)};break;case"lyvr":Z[L]=c.o(Q,C);break;case"lnsr":var v={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};Z[L]=c.hX(Q,C,4);break;case"lspf":Z[L]=c.o(Q,C);break;case"lclr":Z[L]=c.bS(Q,C);break;case"luni":Z[L]=c.AS(Q,C);break;case"fxrp":Z[L]=new Wn(c.ip(Q,C),c.ip(Q,C+8));break;case"artb":case"artd":Z[L]={};rC.Wa(Q,Z[L],C+4);break;case"SoCo":Z[L]={};rC.Wa(Q,Z[L],C+4);break;case"GdFl":Z[L]={};rC.Wa(Q,Z[L],C+4);De.zY(Z[L],L);break;case"PtFl":Z[L]={};rC.Wa(Q,Z[L],C+4);De.zY(Z[L],L);break;case"CgEd":var f=Z.brit=vr._j("brit"),U={};rC.Wa(Q,U,C+4);f.Brgh.v=U.Brgh?U.Brgh.v:0;f.Cntr.v=U.Cntr?U.Cntr.v:0;f.useLegacy.v=U.useLegacy?U.useLegacy.v:0;break;case"brit":if(Z.brit==null){var f=Z.brit=vr._j("brit"),U={};f.Brgh.v=c.DK(Q,C);f.Cntr.v=c.DK(Q,C+2);f.useLegacy.v=!1}break;case"levl":var H=Q.buffer.slice(C,C+D);Z[L]=Dp.ig(H);break;case"curv":Z[L]=_d.$L(Q,C,D);break;case"expA":var B=c.bS(Q,C),m=Z[L]=vr._j("expA");m.Exps.v=c.UZ(Q,C+2);m.Ofst.v=c.UZ(Q,C+6);m.gammaCorrection.v=c.UZ(Q,C+10);break;case"vibA":Z[L]={};rC.Wa(Q,Z[L],C+4);break;case"hue2":Z[L]=vM.$L(Q,C,D);break;case"blnc":var m=Z[L]=vr._j(L);m.PrsL.v=Q[C+18]==1;var Y=["ShdL","MdtL","HghL"];for(var o=0;o<3;o++)for(var q=0;q<3;q++)m[Y[o]].v[q].v=c.DK(Q,C+o*6+q*2);break;case"blwh":var r={};rC.Wa(Q,r,C+4);var m=vr._j(L),x="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");for(var o=0;o<x.length;o++){m[x[o]]=r[x[o]];delete r[x[o]]}Z[L]=m;break;case"phfl":var m=Z[L]=vr._j(L),a=m.Clr.v,B=c.bS(Q,C);if(B==3){var i=[c.o(Q,C+2),c.o(Q,C+6),c.o(Q,C+10)],l=32768,M=e.nK(i[0]/l,i[1]/l,i[2]/l);a.Lmnc.v=M.m$;a.A.v=M.om;a.B.v=M._}if(B==2){var z=c.bS(Q,C+2);if(z!=7)throw"e";a.Lmnc.v=c.DK(Q,C+4)/100;a.A.v=c.DK(Q,C+6)/100;a.B.v=c.DK(Q,C+8)/100}var V=C+2+(B==3?12:10);m.Dnst.v=c.o(Q,V);V+=4;m.PrsL.v=Q[V]==1;break;case"mixr":var X={dT:c.bS(Q,C+2)==1,O:[]};for(var o=0;o<20;o++)X.O.push(c.DK(Q,C+4+o*2));Z[L]=rY.vIu(X);break;case"clrL":case"rplc":Z[L]={};rC.Wa(Q,Z[L],C+6);break;case"nvrt":Z[L]={};break;case"post":Z[L]=vr._j("post");Z[L].Lvls.v=c.bS(Q,C);break;case"thrs":Z[L]=vr._j("thrs");Z[L].Lvl.v=c.bS(Q,C);break;case"grdm":var O={rev:Q[C+2]==1,vRG:Q[C+3]==1},y=C+4,K=c.AS(Q,y);y+=4+K.length*2;var R=Qf.Sq(Q,y,K),W=R[0];y=R[1];var N=c.bS(Q,y);y+=2;W.Intr.v=c.bS(Q,y);y+=2;var I=c.bS(Q,y);y+=2;O.mode=c.bS(Q,y);y+=2;O.ts=c.o(Q,y);y+=4;O.vRH=c.bS(Q,y)==1;y+=2;O.vj$=c.bS(Q,y)==1;y+=2;O.vjj=c.o(Q,y);y+=4;O.vjp=c.bS(Q,y);y+=2;O.YA=[];for(var o=0;o<4;o++)O.YA.push(c.bS(Q,y+o*2));y+=8;O.YU=[];for(var o=0;o<4;o++)O.YU.push(c.bS(Q,y+o*2));y+=8;var T=c.bS(Q,y);y+=2;var h=vr._j("grdm");h.Rvrs.v=O.rev;h.Grad.v=W;Z[L]=h;break;case"selc":Z[L]=_F.$L(Q,C,D);break;case"vmsk":case"vsms":var p=Z.vmsk=new S.jH,u=c.hS(Q,C+4),g=(u>>0&1)==1;p.J_=(u>>1&1)==0;p.isEnabled=(u>>2&1)==0;p.G=Wh.xx(Q,C+8,D-8,_.W,_.C);break;case"shmd":Z[L]={};var A=c.o(Q,C),V=C+4;for(var o=0;o<A;o++){var $=c.hX(Q,V,4);V+=4;var w=c.hX(Q,V,4);V+=4;V+=4;var r$=c.o(Q,V);V+=4;if(w=="cust"||w=="cmls"||w=="extn"||w=="mlst"){var rW=c.o(Q,V);if(rW!=16)V+=4;var r={};rC.Wa(Q,r,V+4,!1);Z[L][w]=r;if(w=="cmls")rz.s$.v_A(Z[L][w])}else{console.log("unknown shmd key: "+w+", size: "+r$)}V+=r$}break;case"shpa":var B=c.o(Q,C),J=c.o(Q,C+4);if(J!=0)console.log("some patterns present!");break;case"TySh":var rr=Z[L]={},B=c.bS(Q,C);rr.M=c.kq(Q,C+2);var r_=c.bS(Q,C+2+48);rr.dR={};var rO=rC.Wa(Q,rr.dR,C+56),k=rD.vKH();for(var rv in k)if(rr.dR[rv]==null)rr.dR[rv]=k[rv];rr.dP={};var rb=rC.Wa(Q,rr.dP,C+56+rO+6);rr.Vo=c.vIw(Q,C+56+rO+6+rb);rr.Qp=_H.ig(rr.dR.EngineData.v);rD.vTI(rr.Qp.EngineDict.StyleRun.RunArray);if(rr.Qp.ResourceDict==null)rr.Qp.ResourceDict=JSON.parse(JSON.stringify(rr.Qp.DocumentResources));delete rr.dR.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var rt=c.o(Q,C),rK=c.o(Q,C+4);Z.lmfx={};var rO=rC.Wa(Q,Z.lmfx,C+8);De.xo(Z.lmfx);break;case"FMsk":Z[L]=c.sF(Q,C,D);break;case"Txt2":Z[L]={};Z[L].raw=c.sF(Q,C,D);Z[L].YE=vK.ig(Z[L].raw);break;case"Patt":Z[L]=WS.xd(Q,C,D);break;case"SoLd":var rR=c.hX(Q,C,4),ri=c.o(Q,C+4),ru=c.o(Q,C+8);Z[L]={};var rS=rC.Wa(Q,Z[L],C+12);if(Z[L].nonAffineTransform==null)Z[L].nonAffineTransform=JSON.parse(JSON.stringify(Z[L].Trnf));var rg=Z[L].filterFX;if(rg){var rd=rg.v.filterFXList.v;for(var o=0;o<rd.length;o++){var vO=rd[o].v,rq=vO.filterID;if(rq&&rq.v==993)vO.filterID.v=689;if(rq&&rq.v==1031)vO.filterID.v=693;if(rq&&rq.v==902)vO.filterID.v=898}}break;case"vstk":case"pths":var ri=c.o(Q,C);Z[L]={};var rS=rC.Wa(Q,Z[L],C+4);break;case"vscg":var w=c.hX(Q,C,4),ri=c.o(Q,C+4);Z[w]={};var rS=rC.Wa(Q,Z[w],C+8);De.zY(Z[w],w);break;case"vogk":var rL=c.o(Q,C),ri=c.o(Q,C+4);Z[L]={};var rS=rC.Wa(Q,Z[L],C+8);Z[L]=Z[L].keyDescriptorList.v;for(var o=0;o<Z[L].length;o++){}break;case"lnk2":case"lnkD__":case"lnk3__":Z[L]=[];var y=C;while(y<C+D){var rl=new S.bU;Z[L].push(rl);var I=c.UB(Q,y);y+=8;var rV=y;rl.type=c.hX(Q,y,4);y+=4;if(rl.type!="liFD"){alert("Unknown Linked Layer type: "+rl.type);break;throw rl.type}rl.Vm=c.o(Q,y);y+=4;var ry=c.sg(Q,y);y+=1+ry.Zo.length;rl.rw=ry.Zo;rl.RJ=c.Ll(Q,y);y+=4+rl.RJ.length*2+2;rl.Gg=c.hX(Q,y,4);y+=4;rl.Yd=c.hX(Q,y,4);y+=4;var vj=c.UB(Q,y);y+=8;rl.open=Q[y];y+=1;if(rl.open!=0){var rp={},rO=rC.Wa(Q,rp,y+4);if(rO%4!=0)rO+=4-rO%4;console.log(rp);y+=rO+4}rl.open=0;rl.raw=c.sF(Q,y,vj);y=rV+I;if(I%4!=0)y+=4-I%4}break;case"FEid":var y=C;Z[L]=[];var rx=y+D,B=c.o(Q,y);y+=4;while(y<rx){y+=4;var I=c.o(Q,y);y+=4;var R={};Z[L].push(R);R.id=c.sg(Q,y).Zo;y+=R.id.length+1;var B=c.o(Q,y);y+=4;y+=4;var rF=c.o(Q,y);y+=4;R.rect=c.Gm(Q,y);y+=16;var DX=c.o(Q,y);y+=4;var va=c.o(Q,y);y+=4;var rB=new e.mr(0);for(var o=0;o<va+2;o++){var vW=c.o(Q,y);y+=4;if(vW!=0){y+=4;var rN=c.o(Q,y),rM=null;y+=4;if(o<3||o==25)rM=_u.zh(!0,DX,Q,R.rect.W,R.rect.C,y,rN);if(o==0)rB.h=rM;if(o==1)rB.J=rM;if(o==2)rB._=rM;if(o==25)rB.om=rM;y+=rN}}R.buffer=e.Q(R.rect.P()*4);e.qb(rB,R.buffer);e.Bt(R);var _Q=Q[y];y++;if(_Q!=0){R.A=new S.Xh;R.A.rect=c.Gm(Q,y);y+=16;y+=4;var _O=c.o(Q,y);y+=4;R.A.channel=_u.zh(!0,DX,Q,R.A.rect.W,R.A.rect.C,y,_O);R.A.color=255;R.A.Dx();y+=_O}if(I%4!=0)y+=4-I%4}break;case"Lr16":WY.pw(_,Q,C);break;default:console.log("unknown layer tag: "+L+", size: "+D);break}var rw="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2".split(" ");if(rw.indexOf(L)==-1)if(D%4!=0)console.log("size not multiple of 4!!!",L);if(L!="luni"&&L!="TySh"&&L!="tySh"&&L!="lfx2")if(D%4!=0)D+=4-D%4;C+=D}var rj=[];for(var o=0;o<rj.length;o++)delete Z[rj[o]];return C};De.Sp=function(Q,C,j,Z){for(var F in j)if(j[F]==null){alert("A bug occured (see console).");console.log("Please, report a bug, that \""+F+"\" tag was present with a null value.");
delete j[F]}for(var F in j){c.JQ(Q,C,"8BIM");C+=4;var _=C,$=0;c.JQ(Q,C,F);C+=4;c.Tm(Q,C,0);C+=4;switch(F){case"iOpa":c.CV(Q,C,j[F],1);
$=4;break;case"brst":$=0;for(var L=0;L<3;L++)if(j[F][L]==0){c.hO(Q,C+$,L);$+=4}break;case"knko":c.CV(Q,C,j[F],1);
$=4;break;case"infx":c.CV(Q,C,j[F],1);$=4;break;case"clbl":c.CV(Q,C,j[F],1);$=4;break;case"lmgm":c.CV(Q,C,j[F],1);
$=4;break;case"vmgm":c.CV(Q,C,j[F],1);$=4;break;case"lyid":c.hO(Q,C,j[F]);$=4;break;case"lsct":c.hO(Q,C,j[F].type);
$=4;if(j[F].gd){c.JQ(Q,C+4,"8BIM");c.JQ(Q,C+8,j[F].gd);$=12}break;case"lyvr":c.hO(Q,C,j[F]);$=4;break;
case"lnsr":c.JQ(Q,C,j[F]);$=4;break;case"lspf":c.hO(Q,C,j[F]);$=4;break;case"lclr":c.ex(Q,C,j[F]);$=8;
break;case"luni":c.Ck(Q,C,j[F]);$=4+2*j[F].length;break;case"fxrp":c.eq(Q,C,j[F].x);c.eq(Q,C+8,j[F].y);
$=16;break;case"artb":case"artd":c.hO(Q,C,16);$=rC.JS(Q,j[F],C+4)+4;break;case"SoCo":c.hO(Q,C,16);$=rC.JS(Q,j[F],C+4)+4;
break;case"GdFl":c.hO(Q,C,16);$=rC.JS(Q,j[F],C+4)+4;break;case"PtFl":c.hO(Q,C,16);$=rC.JS(Q,j[F],C+4)+4;
break;case"CgEd":var D={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},d=D,o=j[F];
d.Brgh.v=o.Brgh.v;d.Cntr.v=o.Cntr.v;d.useLegacy.v=o.useLegacy.v;c.hO(Q,C,16);$=rC.JS(Q,D,C+4)+4;break;
case"brit":Q.JW(C,8);$=8;break;case"levl":var v=new _f;$=Dp.Ry(v,j[F]);c.sc(Q,C,v.data);break;case"curv":$=_d.$o(Q,C,j[F]);
break;case"expA":$=14;Q.JW(C,14);c.cj(Q.data,C,1);c.IR(Q.data,C+2,j[F].Exps.v);c.IR(Q.data,C+6,j[F].Ofst.v);
c.IR(Q.data,C+10,j[F].gammaCorrection.v);break;case"vibA":c.hO(Q,C,16);$=rC.JS(Q,j[F],C+4)+4;break;case"hue2":$=vM.$o(Q,C,j[F]);
break;case"blnc":$=19;Q.JW(C,$);var f=["ShdL","MdtL","HghL"];for(var L=0;L<3;L++){var U=j[F][f[L]].v;
for(var H=0;H<3;H++)U.push(c.Cc(Q.data,C+L*6+H*2,U[H].v))}Q.data[C+18]=j[F].PrsL.v?1:0;break;case"blwh":var D={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},B="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var L=0;L<B.length;L++){D[B[L]]=j[F][B[L]]}c.hO(Q,C,16);$=rC.JS(Q,D,C+4)+4;break;case"phfl":c.ex(Q,C,2);
var m=j[F].Clr.v;c.ex(Q,C+2,7);c.ex(Q,C+4,Math.round(m.Lmnc.v*100));c.ex(Q,C+6,Math.round(m.A.v*100));
c.ex(Q,C+8,Math.round(m.B.v*100));c.ex(Q,C+10,0);var Y=C+2+10;Q.JW(Y,5);c.Ig(Q.data,Y,j[F].Dnst.v);Y+=4;
Q.data[Y]=j[F].PrsL.v?1:0;Y++;$=Y-C;break;case"mixr":$=44;Q.JW(C,$);var q=rY.ff(j[F]);c.cj(Q.data,C,1);
c.cj(Q.data,C+2,q.dT?1:0);for(var L=0;L<20;L++)c.Cc(Q.data,C+4+L*2,q.O[L]);break;case"clrL":case"rplc":c.ex(Q,C,1);
c.hO(Q,C+2,16);$=rC.JS(Q,j[F],C+6)+6;break;case"nvrt":$=0;break;case"post":c.ex(Q,C,j[F].Lvls.v);$=2;
break;case"thrs":c.ex(Q,C,j[F].Lvl.v);$=2;break;case"grdm":var r={rev:j[F].Rvrs.v,vRG:!1,mode:0,ts:867527939,vRH:!1,vj$:!0,vjj:2048,vjp:3,YA:[0,0,0,0],YU:[32768,32768,32768,32768]},x=j[F].Grad.v;
Q.JW(C,4);c.cj(Q.data,C,1);Q.data[C+2]=r.rev?1:0;Q.data[C+3]=r.vRG?1:0;var a=C+4;c.Ck(Q,a,x.Nm.v);a+=4+x.Nm.v.length*2;
a=Qf.vgz(Q,a,x);c.ex(Q,a,2);a+=2;c.ex(Q,a,x.Intr.v);a+=2;c.ex(Q,a,32);a+=2;c.ex(Q,a,r.mode);a+=2;c.hO(Q,a,r.ts);
a+=4;c.ex(Q,a,r.vRH?1:0);a+=2;c.ex(Q,a,r.vj$?1:0);a+=2;c.hO(Q,a,r.vjj);a+=4;c.ex(Q,a,r.vjp);a+=2;for(var L=0;
L<4;L++)c.ex(Q,a+L*2,r.YA[L]);a+=8;for(var L=0;L<4;L++)c.ex(Q,a+L*2,r.YU[L]);a+=8;a+=2;$=a-C;break;case"selc":$=_F.$o(Q,C,j[F]);
break;case"FMsk":c.sc(Q,C,j[F]);$=j[F].length;break;case"Txt2":var i=new _f,l=vK.TI(j[F].YE,i),M=e.Q(l,!0);
for(var L=0;L<l;L++)M[L]=i.data[L];c.sc(Q,C,M);$=M.length;break;case"vmsk":var z=j[F],V=0;c.hO(Q,C,3);
if(!z.J_)V+=1<<1;if(!z.isEnabled)V+=1<<2;c.hO(Q,C+4,V);$=8;var X=z.G.length;Q.JW(C+8,X*26);Wh.zF(Q.data,C+8,z.G,Z.W,Z.C);
$+=X*26;break;case"shmd":c.hO(Q,C,Object.keys(j[F]).length);var Y=C+4;for(var O in j[F]){c.JQ(Q,Y,"8BIM");
Y+=4;c.JQ(Q,Y,O);Y+=4;c.hO(Q,Y,0);Y+=4;c.hO(Q,Y,0);Y+=4;c.hO(Q,Y,16);Y+=4;var y=rC.JS(Q,j[F][O],Y);if(y%4!=0)y+=4-y%4;
c.hO(Q,Y-8,y+4);Y+=y}$=Y-C;break;case"TySh":var Y=C;c.FL(Q,Y,1);Y+=2;var K=j[F],i=new _f;K.Qp.DocumentResources=JSON.parse(JSON.stringify(K.Qp.ResourceDict));
var l=_H.TI(K.Qp,i),M=e.Q(l,!0);for(var L=0;L<l;L++)M[L]=i.data[L];K.dR.EngineData={t:"tdta",v:M};var R=K.Qp.EngineDict.Editor.Text;
K.dR.Txt.v=R.substring(0,R.length-1);c.vIN(Q,Y,K.M);Y+=48;c.FL(Q,Y,50);Y+=2;c.hO(Q,Y,16);Y+=4;Y+=rC.JS(Q,K.dR,Y);
c.FL(Q,Y,1);Y+=2;c.hO(Q,Y,16);Y+=4;Y+=rC.JS(Q,K.dP,Y);c.vpr(Q,Y,K.Vo);Y+=16;$=Y-C;break;case"lmfx":c.hO(Q,C,0);
c.hO(Q,C+4,16);var D=JSON.parse(JSON.stringify(j[F])),W=!1;De.zZ(D);for(var L=0;L<WM.zV.length;L++)if(D[WM.zV[L]]!=null)W=!0;
c.JQ(Q,_,W?"lmfx":"lfx2");$=rC.JS(Q,D,C+8)+8;break;case"Patt":var Y=WS.xm(Q,C,j[F]);$=Y-C;break;case"SoLd":c.JQ(Q,C,"soLD");
c.hO(Q,C+4,4);c.hO(Q,C+8,16);$=rC.JS(Q,j[F],C+12)+12;break;case"vstk":case"pths":c.hO(Q,C,16);$=rC.JS(Q,j[F],C+4)+4;
break;case"vscg__":c.JQ(Q,C,j[F].key);c.hO(Q,C+4,16);$=rC.JS(Q,j[F].O,C+8)+8;break;case"vogk":c.hO(Q,C,1);
c.hO(Q,C+4,16);e.Ky.vkM(j[F]);for(var L=0;L<j[F].length;L++){var N=j[F][L].v.keyOriginResolution;if(N)N.v=Z.zn}var I={classID:"null",keyDescriptorList:{t:"VlLs",v:j[F]}};
$=rC.JS(Q,I,C+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var a=C;for(var L=0;L<j[F].length;L++){var T=j[F][L],h=a;
c.qX(Q,a,0);a+=8;c.JQ(Q,a,T.type);a+=4;c.hO(Q,a,T.Vm);a+=4;Q.JW(a,1);Q.data[a]=T.rw.length;a++;c.JQ(Q,a,T.rw);
a+=T.rw.length;c.Ck(Q,a,T.RJ+"\0");a+=4+T.RJ.length*2+2;c.JQ(Q,a,T.Gg);a+=4;c.JQ(Q,a,T.Yd);a+=4;c.qX(Q,a,T.raw.length);
a+=8;Q.JW(a,1);Q.data[a]=T.open;a++;c.sc(Q,a,T.raw);a+=T.raw.length;c.hO(Q,a,1);a+=4;a+=11;var p=a-h-8;
c.qX(Q,h,p);if(p%4!=0){Q.JW(a,4-p%4);a+=4-p%4}}$=a-C;break;case"FEid":var a=C;c.hO(Q,a,3);a+=4;for(var u=0;
u<j[F].length;u++){var g=j[F][u];a+=4;var A=a;a+=4;c.Wn(Q,a,g.id);a+=g.id.length+1;c.hO(Q,a,1);a+=4;
a+=4;var w=a;a+=4;c.UM(Q,a,g.rect);a+=16;c.hO(Q,a,8);a+=4;c.hO(Q,a,24);a+=4;var r$=new e.mr(g.rect.P());
e.oM(g.buffer,r$);for(var L=0;L<24+2;L++){var rW=null;if(L==0)rW=r$.h;if(L==1)rW=r$.J;if(L==2)rW=r$._;
if(L==25)rW=r$.om;c.hO(Q,a,rW!=null?1:0);a+=4;if(rW!=null){a+=4;var J=a;a+=4;Q.JW(a,g.rect.P()+2);a=_u.zP(rW,Q.data,g.rect.W,g.rect.C,a,3);
c.hO(Q,J,a-(J+4))}}c.hO(Q,w,a-(w+4));Q.JW(a,1);Q.data[a]=g.A?1:0;a++;if(g.A!=null){var rr=g.A.rect,r_=g.A.channel;
rr=g.rect;r_=e.Q(rr.P());e.set(r_,g.A.color);e.pQ(g.A.channel,g.A.rect,r_,rr);c.UM(Q,a,rr);a+=16;a+=4;
var rO=a;a+=4;Q.JW(a,rr.P()+2);a=_u.zP(r_,Q.data,rr.W,rr.C,a,3);c.hO(Q,rO,a-(rO+4))}var p=a-(A+4);c.hO(Q,A,p);
if(p%4!=0)a+=4-p%4}$=a-C;break;default:console.log("unknown layer tag: "+F+", size: "+$);C-=12;continue}var k=["Txt2","artd","extd","luni","pths"];
if(k.indexOf(F)==-1)if($%4!=0)$+=4-$%4;c.Tm(Q,C-4,$);if(F!="luni"&&F!="TySh")if($%4!=0)$+=4-$%4;C+=$}return C};
De.xo=function(Q){for(var C=0;C<WM.order.length;C++){var j=WM.order[C],Z=WM.zV[C];if(Q[Z]==null)Q[Z]={t:"VlLs",v:[]};
if(Q[j]!=null){Q[Z].v.push(Q[j]);delete Q[j]}var F=[];for(var _=0;_<Q[Z].v.length;_++){var $=Q[Z].v[_];
if($.v.present==null||$.v.present.v==!0)F.push($)}Q[Z].v=F}};De.zZ=function(Q){for(var C=0;C<WM.order.length;
C++){var j=WM.order[C],Z=WM.zV[C],F=Q[Z].v.length;if(F==0){delete Q[Z];continue}if(F==1){Q[j]=Q[Z].v[0];
delete Q[Z];continue}}};De.zY=function(Q,C){if(C=="GdFl"){if(Q.Angl==null)Q.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(Q.Algn==null)Q.Algn={v:!0,t:"bool"};if(Q.Scl==null)Q.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(Q.Ofst==null)Q.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(Q.Rvrs==null)Q.Rvrs={v:!1,t:"bool"};if(Q.Dthr==null)Q.Dthr={v:!1,t:"bool"}}if(C=="PtFl"){if(Q.Algn==null)Q.Algn={v:!0,t:"bool"};
if(Q.Scl==null)Q.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(Q.phase==null)Q.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};
De.clone=function(Q,C){var j={};if(Q=="TySh"){j.M=C.M.clone();j.dR=JSON.parse(JSON.stringify(C.dR));
j.dP=JSON.parse(JSON.stringify(C.dP));j.Vo=C.Vo.clone();j.Qp=JSON.parse(JSON.stringify(C.Qp));if(C.add)j.add={vmsk:C.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(C.add.vogk))};
return j}else if(Q=="fxrp")return C.clone();else if(Q=="vmsk")return C.clone();else return JSON.parse(JSON.stringify(C))};
function _B(Q,C){}_B.ig=function(Q,C,j,Z){Z=_B.vVF(Q,C,j,Z);return Z};_B.TI=function(Q,C,j,Z,F){Z=_B.vVo(Q,C,j,Z,F);
return Z};_B.vVF=function(Q,C,j,Z){var F=Z;Q.rect=c.Gm(j,Z);Z+=16;var _=c.bS(j,Z);Z+=2;Q.VY=[];var $=C.NS;
for(var L=0;L<_;L++){Q.VY[L]={id:c.DK(j,Z),length:($?c.UB:c.o)(j,Z+2)};Z+=$?10:6}var D=c.hX(j,Z,4);Z+=4;
if(D!="8BIM"){console.log("Invalid Blend mode signature: "+D);alert("Error in Photoshop file: wrong signature.");
throw"e"}Q.gd=c.hX(j,Z,4);Z+=4;Q.opacity=j[Z];Z+=1;Q.kK=j[Z]==1;Z+=1;Q.xz=j[Z];Z+=1;if(j[Z]!=0)console.log("error in filler!");
Z+=1;var d=c.o(j,Z);Z+=4;var o=Z;Z=_B.vVe(Q,j,Z);Z=_B.vSO(Q,j,Z);var v=c.sg(j,Z);Q.name=v.Zo;Z+=v.length;
if(v.length%4!=0)Z+=4-v.length%4;Z=De.SI(j,Z,o+d,Q.add,$,C);if(Q.Yn){var f=Q.Yn;if(Q.oH()){Q.oH().To=f[0];
Q.oH().hD=f[1]}if(Q.add.vmsk){Q.add.vmsk.To=f[2];Q.add.vmsk.hD=f[3]}}if(Q.add.lsct){if(Q.add.lsct.gd)Q.gd=Q.add.lsct.gd;
Q.add.lsct=Q.add.lsct.type}return Z};_B.vVo=function(Q,C,j,Z,F){var _=Z;c.UM(j,Z,Q.rect);Z+=16;var $=Q.vWv();
c.ex(j,Z,$.length);Z+=2;F.push(Z);for(var L=0;L<$.length;L++){c.FL(j,Z,$[L]);c.hO(j,Z+2,0);Z+=6}c.JQ(j,Z,"8BIM");
Z+=4;c.JQ(j,Z,Q.gd);Z+=4;c.CV(j,Z,Q.opacity,1);Z+=1;c.CV(j,Z,Q.kK?1:0,1);Z+=1;c.CV(j,Z,Q.xz,1);Z+=1;
c.CV(j,Z,0,1);Z+=1;var D=Z;c.hO(j,Z,0);Z+=4;var d=Z;Z=_B.vVN(Q,j,Z);Z=_B.vSV(Q,j,Z);var o=c.Wn(j,Z,Q.name.slice(0,255));
Z+=o;if(o%4!=0)Z+=4-o%4;if(Q.add.lsct){Q.add.lsct={type:Q.add.lsct};if(Q.gd=="pass"){Q.add.lsct.gd="pass";
Q.gd="norm"}}if(Q.gd=="pass")Q.add.lsct={type:Q.add.lsct,gd:"pass"};if(Q.add.brit)Q.add.CgEd=Q.add.brit;
Z=De.Sp(j,Z,Q.add,C);delete Q.add.CgEd;if(Q.add.lsct){if(Q.add.lsct.gd)Q.gd=Q.add.lsct.gd;Q.add.lsct=Q.add.lsct.type}var v=Z-d;
c.hO(j,D,v);return Z};_B.vVe=function(Q,C,j){var Z=c.o(C,j);j+=4;if(Z==0)return j;var F=j;Q.A=new S.Xh;
Q.A.rect=c.Gm(C,j);j+=16;Q.A.color=C[j];j+=1;var _=_B.Sd(Q.A,C,j);j+=1;if(_){var $=!1,D=255,d=0,o=255,v=0;
for(var L=0;L<Q.VY.length;L++)if(Q.VY[L].id==-3)$=!0;if($){Q.gy=_B.Ss(C,j);j+=18}var f=j,U=C[j];j++;
if(U>>0&1){D=C[j];j++}if(U>>1&1){d=c.ip(C,j);j+=8}if(U>>2&1){o=C[j];j++}if(U>>3&1){v=c.ip(C,j);j+=8}if((j-f&1)==1)j++;
Q.Yn=[D,d,o,v]}else{if(Z==20)j+=2;else{Q.gy=_B.Ss(C,j);j+=18}}return F+Z};_B.vVN=function(Q,C,j){c.hO(C,j,0);
j+=4;if(Q.A==null)return j;var Z=j,F=!0;c.hO(C,j,0);c.UM(C,j,Q.A.rect);j+=16;c.CV(C,j,Q.A.color);j+=1;
_B.Sa(Q.A,C,j,F);j+=1;if(F){if(Q.gy){_B.vVA(C,j,Q.gy);j+=18}c.CV(C,j,15);j+=1;var _=Q.oH(),$=Q.add.vmsk;
c.CV(C,j,_?_.To:255);j+=1;c.eq(C,j,_?_.hD:0);j+=8;c.CV(C,j,$?$.To:255);j+=1;c.eq(C,j,$?$.hD:0);j+=8;
j++;c.hO(C,Z-4,j-Z)}return j};_B.Ss=function(Q,C){var j=new S.Xh;_B.Sd(j,Q,C);C+=1;j.color=Q[C];C+=1;
j.rect=c.Gm(Q,C);C+=16;return j};_B.vVA=function(Q,C,j){_B.Sa(j,Q,C,!1);C+=1;c.CV(Q,C,j.color);C+=1;
c.UM(Q,C,j.rect);C+=16};_B.Sd=function(Q,C,j){var Z=C[j];Q.J_=(Z>>0&1)==0;Q.isEnabled=(Z>>1&1)==0;Q.QH=(Z>>3&1)==1;
return Z>>4&1};_B.Sa=function(Q,C,j,Z){var F=0;if(!Q.J_)F+=1<<0;if(!Q.isEnabled)F+=1<<1;if(Q.QH)F+=1<<3;
if(Z)F+=1<<4;c.CV(C,j,F)};_B.vSO=function(Q,C,j){var Z=c.o(C,j);j+=4;if(Z==0)return j;if(Z!=5*8)console.log("unexpected Layer Blending Ranges content, size:",Z);
for(var F=0;F<Z;F++)Q.wY[F]=C[j+F];return j+40};_B.vSV=function(Q,C,j){c.hO(C,j,Q.wY.length);j+=4;C.JW(j,40);
for(var Z=0;Z<40;Z++){C.data[j+Z]=Q.wY[Z]}return j+40};function _u(){}_u.ig=function(Q,C,j,Z){Z=_u.vSZ(C.NS,C.wR,C.VN,Q,j,Z);
return Z};_u.Ry=function(Q,C,j,Z,F){j=_u.vSf(Q,C,j,Z,F);return j};_u.vSZ=function(Q,C,j,Z,F,_){var $=Z.VY,L={},D=_;
for(var d=0;d<$.length;d++){var o=$[d],v=o.id,f=o.length,U;if(v==-3)U=Z.gy.rect;else if(v==-2)U=Z.A.rect;
else U=Z.rect;var H=_u.zh(Q,C,F,U.W,U.C,_,f);_+=f;if(v==-3)Z.gy.channel=H;else if(v==-2)Z.A.channel=H;
else L["c"+v]=H}var B=new e.mr(0);B.om=null;if(j==3){B.h=L.c0;B.J=L.c1;B._=L.c2;B.om=L["c-1"]}else if(j==1){B.h=L.c0;
B.J=L.c0;B._=L.c0;B.om=L["c-1"]}else if(j==4){var m=L.c0,Y=L.c1,q=L.c2,r=L.c3,x=m.length,a=1/255;for(var d=0;
d<x;d++){var i=m[d],l=Y[d],M=q[d],z=r[d]*a;m[d]=Math.round(i*z);Y[d]=Math.round((.2*i+.8*l)*z);q[d]=Math.round((.2*l+.8*M)*z)}B.h=m;
B.J=Y;B._=q;B.om=L["c-1"];console.log("converting from CMYK to RGB")}if(B.h==null)B.h=e.Q(0);if(B.om==null&&B.h!=null){B.om=e.clone(B.h);
e.set(B.om,255)}if(B.J==null)B.J=B.h.slice(0);if(B._==null)B._=B.h.slice(0);Z.buffer=e.Q(Math.max(0,Z.rect.P()*4));
e.qb(B,Z.buffer);return _};_u.vSf=function(Q,C,j,Z,F){var _=Q.vWv(),$=new e.mr(Q.rect.P());e.oM(Q.buffer,$);
for(var L=0;L<_.length;L++){var D=_[L],d,o;if(D==-3)d=Q.gy.rect;else if(D==-2)d=Q.A.rect;else d=Q.rect;
if(D==-3)o=Q.gy.channel;if(D==-2)o=Q.A.channel;if(D==-1)o=$.om;if(D==0)o=$.h;if(D==1)o=$.J;if(D==2)o=$._;
C.JW(j,d.P()*3+4);var v=j;j=_u.zP(o,C.data,d.W,d.C,j,F[1]?3:1);var f=j-v;if(f%2!=0){f+=f%2;j++}c.Ig(C.data,Z+L*6+2,f)}return j};
_u.zh=function(Q,C,j,Z,F,_,$){var L=c.bS(j,_);_+=2;return _u.WF(Q,C,j,Z,F,_,L,$-2)};_u.zP=function(Q,C,j,Z,F,_){c.Cc(C,F,_);
F+=2;F=_u.xM(Q,C,j,Z,F,_);return F};_u.WF=function(Q,C,j,Z,F,_,$,L){var D,d=Z*F*(C>>>3),o=d&3,v=d+(o==0?0:4-o);
if($>3){console.log("unknown compression: "+$,Z,F,Z*F,L);$=0}if($==0){if(_+v<=j.length)D=j.slice(_,_+v);
else{D=e.Q(d);for(var f=0;f<d;f++)D[f]=j[_+f]}_+=d}else if($==1){D=e.Q(d);var U=Q?4:2,H=_u.SB(j,D,Z,F,_,_+U*F,U);
_+=U*F+H}else if($==2||$==3){var B=new Uint8Array(j.buffer,_+2,L-6),m=pako.inflateRaw(B);if($==3){if(C==8)for(var Y=0;
Y<F;Y++){var q=Y*Z+1,r=q+Z-1,x=m[q-1];for(var a=q;a<r;a++){x+=m[a];m[a]=x&255}}else for(var Y=0;Y<F;
Y++){var q=Y*Z+1,r=q+Z-1,x=m[2*q-2]<<8|m[2*q-1];for(var a=q;a<r;a++){var i=a<<1;x+=m[i]<<8|m[i+1];m[i]=x>>>8;
m[i+1]=x&255}}}if(m.length==v)D=m;else{D=e.Q(v);for(var f=0;f<m.length;f++)D[f]=m[f]}}if(C==16){var l=e.Q(Z*F);
for(var f=0;f<d;f+=2)l[f>>>1]=D[f];D=l}return D};_u.xM=function(Q,C,j,Z,F,_){var $=j*Z;if(_==0)for(var L=0;
L<$;L++)C[F++]=Q[L];else if(_==1){var D=_u.Sm(Q,C,j,Z,F,F+2*Z);F+=2*Z+D}else if(_==2||_==3){if(_==3){var d=new Uint8Array(Q.length);
for(var o=0;o<Z;o++){var v=o*j+1,f=v+j-1,U=Q[v-1];d[v-1]=U;for(var H=v;H<f;H++){d[H]=Q[H]+(256-U)&255;
U=Q[H]}}Q=d}C[F]=120;C[F+1]=156;F+=2;var B=pako.deflateRaw(Q,{vQg:4});c.SA(C,F,B);F+=B.length+4}else console.log("Unknown compression: "+_);
return F};_u.SB=function(Q,C,j,Z,F,_,$){var L=_,D=Z|0;if($==2)for(var d=0;d<D;d++){var o=c.bS(Q,F+(d<<1));
_u.zH(Q,_,o,C,d*j,j);_+=o}else for(var d=0;d<D;d++){var o=c.o(Q,F+(d<<2));_u.zH(Q,_,o,C,d*j,j);_+=o}return _-L};
_u.Sm=function(Q,C,j,Z,F,_){var $=_;for(var L=0;L<Z;L++){var D=_u.vTD(Q,L*j,j,C,_);c.cj(C,F+L*2,D);_+=D}return _-$};
_u.vTD=function(Q,C,j,Z,F){var _,$,L,D,d,o,v;D=C+j;for(L=C,$=F;j>0;L=_,j-=o){v=j<128?j:128;if(L<=D-3&&Q[L+1]==Q[L+0]&&Q[L+2]==Q[L+0]){for(_=L+3;
_<L+v&&Q[_]==Q[L+0];)++_;o=_-L;Z[$++]=1+256-o;Z[$++]=Q[L+0]}else{for(_=L;_<L+v;)if(_<=D-3&&Q[_+1]==Q[_+0]&&Q[_+2]==Q[_+0])break;
else++_;o=_-L;Z[$++]=o-1;for(var f=0;f<o;f++)Z[$+f]=Q[L+f];$+=o}}return $-F};_u.zH=function(Q,C,j,Z,F,_){for(var $=0;
$<j;){var L=Q[C++];if(L>=128){var D=Q[C++],d=F+(257-L);Z.fill(D,F,d);F=d;$+=2}else{var d=F+(1+L);while(F<d)Z[F++]=Q[C++];
$+=1+1+L}}};function WY(){}WY.ig=function(Q,C){C.NS=!1;C.wR=8;var j=new Uint8Array(Q),Z=0,F=0,w,k=0,ri=!1,ru=!0,rS=!1,rg=0;
F=WY.zN(C,j,Z);Z=F;F=WY.vTQ(C,j,Z);Z=F;F=WY.vTl(C,j,Z);Z=F;F=WY.vuD(C,j,Z);Z=F;F=WY.vun(C,j,Z);Z=F;if(C.k.length==0){var _=C.qg();
_.sp("Background");C.k.push(_);_.buffer=e.clone(C.buffer);_.rect=new s(0,0,C.W,C.C)}if(C.dL.r1005){C.zn=c.vIW(C.dL.r1005,0)}if(C.dL.r1026){var j=C.dL.r1026;
for(var $=0;$<j.length;$+=2){var F=C.k[$>>>1];if(F)F.Dj=c.bS(j,$)}}if(C.dL.r1032){var j=C.dL.r1032,L=c.o(j,12);
for(var $=0;$<L;$++){var D=j[16+$*5+4],d=c.hS(j,16+$*5)/32;C.Wi[D].push(d)}}delete C.dL.r1036;delete C.dL.r1039;
if(C.dL.r1050){var o=c.o,v=C.dL.r1050,f=c.o(v,0);if(f==6){var U=4,H=c.Gm(v,U);U+=16;var B=c.AS(v,U);
U+=4+B.length*2;var m=o(v,U);U+=4;var Y=C.Dl;for(var $=0;$<m;$++){var q=G.bC.vTw(),x;Y.push(q);q=q.v;
q.sliceID.v=o(v,U);U+=4;q.groupID.v=o(v,U);U+=4;var r=o(v,U);U+=4;if(r==1){x=o(v,U);U+=4}var B=c.AS(v,U);
U+=4+B.length*2;var a=o(v,U);U+=4;var i=[o(v,U),o(v,U+4),o(v,U+8),o(v,U+12)];U+=16;G.bC.Ug(Y,Y.length-1,i);
var l=q.url.v=c.AS(v,U);U+=4+l.length*2;var M=q.null.v=c.AS(v,U);U+=4+M.length*2;var z=q.Msge.v=c.AS(v,U);
U+=4+z.length*2;var V=q.altTag.v=c.AS(v,U);U+=4+V.length*2;q.cellTextIsHTML.v=v[U]==1;U++;var X=q.cellText.v=c.AS(v,U);
U+=4+X.length*2;var O=o(v,U);U+=4;var y=o(v,U);U+=4;var K=v.slice(U,U+4);U+=4;if(r!=2)Y.pop()}}else if(f==8){var R={};
rC.Wa(v,R,8,!1);var v=C.Dl=R.slices.v;for(var $=0;$<v.length;$++){if(v[$].v.origin.v.ESliceOrigin!="userGenerated"){v.splice($,1);
$--}}}}if(C.dL.r1058){var W=C.dL.r1058,N=UTIF.decode(W.buffer,{parseMN:!1,debug:!1});$X.yr(N[0],C.vh);
delete C.dL.r1058}if(C.dL.r1060){var I=c.hI(C.dL.r1060);$X.vQt(I,C.vh);delete C.dL.r1060}if(C.dL.r1065){var j=C.dL.r1065;
C.Jb={};rC.Wa(j,C.Jb,4,!1)}if(C.dL.r1069){var j=C.dL.r1069,T=[];for(var $=2;$<j.length;$+=4){var x=c.o(j,$);
for(var h=0;h<C.k.length;h++){var F=C.k[h];if(F.add.lyid==x&&F.add.lsct!=3)T.push(h)}}C.H=T}if(C.dL.r1025){var p=C.dL.r1025;
delete C.dL.r1025;var u=Wh.xx(p,0,p.length,C.W,C.C),g=new S.jH;g.G=u;C.te[0]=rH.$B("Working Path",{vmsk:g})}var A=C.add.pths;
delete C.add.pths;var r$=C.dL.r3000;if(r$){w={};rC.Wa(r$,w,4,!1);delete C.dL.r3000}for(var rW=0;rW<=997;
rW++){var J="r"+(2e3+rW),p=C.dL[J];if(p==null)break;var u=Wh.xx(p,0,p.length,C.W,C.C),rr=A?A.pathList.v[rW].v.pathUnicodeName.v:"Path "+rW,r_=w?w.keyRootDescriptorList.v[rW].v.keyDescriptorList.v:S.WU(u),g=new S.jH;
g.G=u;C.te[rW+1]=rH.$B(rr,{vmsk:g,vogk:r_});delete C.dL[J]}delete C.NS;var rO=new s(0,0,C.W,C.C),rv=C.add.Txt2,rb=rv;
if(rb){rb=rb.YE;if(rb._DocumentResources==null)rb=Wf.vJT(rb)}if(rv&&rv.YE._DocumentResources!=null){var rt="_Type _FrameMatrix _TextOnPathTRange _PathData _FirstBaselineAlignment _LineOrientation _RowGutter _ColumnGutter".split(" "),rK=rv.YE._DocumentResources._TextFrameSet._Resources;
for(var $=0;$<rK.length;$++){}}for(var $=0;$<C.k.length;$++){var F=C.k[$],rd=F.add.lsct,vO=F.add.vmsk,rq=F.oH();
if(rd==_K.sQ)rg++;else if(rd==_K.gh||rd==_K.f_)rg--;if(F.name==""){F.name="Layer "+($+1);rS=!0}if(rS&&F.Hd()&&F.gd=="norm")F.gd="pass";
if(F.nr()&&F.qv(C).A){var rL=F.qv(C);rL.A.isEnabled=F.add.SoLd.filterFX.v.filterMaskEnable.v}if(vO&&F.ql()){var rl=WM.oj.default;
if(F.add.vstk==null)F.add.vstk=JSON.parse(JSON.stringify(rl));else{var rV="strokeStyleLineDashSet";if(F.add.vstk[rV]==null)F.add.vstk[rV]=JSON.parse(JSON.stringify(rl[rV]))}}if(vO&&(F.add.vogk==null||e.D.iJ(vO.G)!=F.add.vogk.length))F.WU();
if(rq==null&&F.A!=null){if(F.A.QH==!1){F.A.QH=!0;F.gy=F.A.clone()}else{vO.gy=F.A;vO.CZ=!1;F.A.hD=vO.hD;
F.A.To=vO.To}}if(rq!=null&&vO!=null&&(rq.hD+vO.hD!=0||rq.To+vO.To!=2*255))F.Ea(C);var ry=F.add.artb;
if(ry&&ry.artboardBackgroundType==null)ry.artboardBackgroundType={t:"long",v:1};if(ry&&rg!=0)delete F.add.artb;
var vj=F.add.vstk;if(F.ql()&&(F.rect.jJ()||vO&&vO.hD!=0||vj&&!vj.fillEnabled.v&&(!vj.strokeEnabled.v||vj.strokeStyleLineWidth.v.val==0)))F.fn(C);
if(F.add.TySh){ri=!0;if(!F.rect.jJ())ru=!1}if(F.add.TySh&&rb){var rp=F.add.TySh.Qp,rx=rD.Lw(rp),rF=rp.EngineDict.ParagraphRun.RunArray,DX=rb._DocumentObjects._TextObjects;
if(DX.length<=k){console.log("Txt2 incomplete");continue}DX=DX[k]._Model._ParagraphRun._RunArray;var va=Math.min(DX.length,rF.length);
for(var h=0;h<va;h++){var rB=rF[h].ParagraphSheet.Properties,vW=rb._DocumentResources._ParagraphSheetSet._Resources,rN=DX[h]._RunData._ParagraphSheet;
if(typeof rN=="string")rN=vW[parseInt(rN.slice(1))]._Resource;var rM=rN._Parent==null?rN:vW[parseInt(rN._Parent.slice(1))]._Resource,_Q=rN._Features._ParagraphDirection;
if(_Q==null)_Q=rM._Features._ParagraphDirection;if(_Q)rB._Direction=parseInt(_Q.slice(1))}var _O=rb._DocumentResources,rw=_O._TextFrameSet._Resources,rj=rw[k]._Resource,rE=rj._Data,_W=new rI(1,0,0,1,0,0);
if(rj._0){var vm=parseFloat(rj._0[0].slice(1)),rf=parseFloat(rj._0[1].slice(1));_W.translate(vm,rf)}if(rx){_W.translate(rx[0],rx[1]);
rD.Cr(rp,[0,0,rx[2]-rx[0],rx[3]-rx[1]])}else{if(rj._Bezier&&rj._Bezier._Points){var u=rj._Bezier._Points,vm=parseFloat(u[0].slice(1)),rf=parseFloat(u[1].slice(1));
if(vm!=0||rf!=0){_W.translate(vm,rf)}}}if(rj._Data&&rj._Data._FrameMatrix){var rU=rj._Data._FrameMatrix;
rU=rU.map(function(_t){return parseFloat(_t.slice(1))});_W.concat(new rI(rU[0],rU[1],rU[2],rU[3],rU[4],rU[5]))}_W.concat(F.add.TySh.M);
F.add.TySh.M=_W;k++;var a=rE._Type?parseInt(rE._Type.slice(1)):0;if(a==2||a==1&&rE._PathData._Spacing=="i-3"){var Du=function(_t){return parseFloat(_t.slice(1))},u=rj._Bezier._Points.map(Du);
if(rx)e.g.M(u,new rI(1,0,0,1,-rx[0],-rx[1]),u);var _s=rE._PathData._Reversed;rp.Curve={Points:u,TextOnPathTRange:rE._TextOnPathTRange.map(Du),Reversed:_s==null?!1:_s};
F.add.TySh.add={vmsk:new S.jH,vogk:null};rD.Io(F.add.TySh)}}}rz.s$.Sj(C,!0)};WY.TI=function(Q,C,j){rz.s$.Yw(Q);
rz.s$.Sj(Q,!1);var Z=[],F=[],_=[],$=[],L=[],V=16,J=0;for(var D=0;D<Q.k.length;D++){var d=Q.k[D];if(d.nr()&&d.qv(Q).A){d.add.SoLd.filterFX.v.filterMaskEnable.v=d.qv(Q).A.isEnabled}if(d.add.SoLd){F.push(d.add.SoLd.Idnt.v);
_.push(d.add.SoLd.placed.v)}if(d.add.TySh){var o=d.add.TySh.Qp,v=rD.Va(o);d.add.TySh.dR.TextIndex={t:"long",v:Z.length};
Z.push(o);if(v==2)rD.jI(d.add.TySh)}if(d.add.PtFl)$.push(d.add.PtFl.Ptrn.v.Idnt.v);if(d.add.lmfx){for(var f=0;
f<WM.zV.length;f++){var U=d.add.lmfx[WM.zV[f]].v;for(var H=0;H<U.length;H++)if(U[H].v.Ptrn)$.push(U[H].v.Ptrn.v.Idnt.v)}}var B=d.add.vstk;
if(B&&B.strokeStyleContent.v.classID=="patternLayer"){$.push(B.strokeStyleContent.v.Ptrn.v.Idnt.v)}if(d.ql()){L[D]=[d.rect,d.buffer];
d.rect=new s;d.buffer=e.Q(0)}}if(Z.length>0){var m=Q.add.Txt2?Q.add.Txt2.YE:null;Q.add.Txt2={};Q.add.Txt2.YE=_q.vkI(Z,null,m)}var Y=Q.add.lnk2;
if(Y){var q=Q.add.lnk2=[];for(var D=0;D<Y.length;D++)if(F.indexOf(Y[D].rw)!=-1)q.push(Y[D]);if(q.length==0)delete Q.add.lnk2}var r=Q.add.FEid;
if(r){var x=Q.add.FEid=[];for(var D=0;D<r.length;D++)if(_.indexOf(r[D].id)!=-1)x.push(r[D]);if(x.length==0)delete Q.add.FEid}var a=Q.add.Patt;
if(a){var i=Q.add.Patt=[];for(var D=0;D<a.length;D++)if($.indexOf(a[D].id)!=-1)i.push(a[D])}Q.dL.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);
c.Se(Q.dL.r1005,0,Q.zn);c.Se(Q.dL.r1005,8,Q.zn);if(Q.qj()){Q.dL.r1022=new Uint8Array([0,3+Q.$W.length-1,0])}else delete Q.dL.r1022;
Q.dL.r1026=new Uint8Array(Q.k.length*2);for(var D=0;D<Q.k.length;D++)c.cj(Q.dL.r1026,D*2,Q.k[D].Dj);
var l=Q.Wi,M=l[0].length+l[1].length,z=Q.dL.r1032=e.Q(16+5*M,!0);c.Ig(z,0,1);c.Ig(z,4,576);c.Ig(z,8,576);
c.Ig(z,12,M);for(var D=0;D<2;D++)for(var H=0;H<l[D].length;H++){c.ZB(z,V,Math.round(l[D][H]*32));z[V+4]=D;
V+=5}delete Q.dL.r1045;delete Q.dL.r1006;delete Q.dL.r1077;var X=new _f;V=0;var O=new Uint8Array(4+(1+Q.$W.length)*13);
O[3]=1;O[6]=O[7]=255;O[15]=100;O[16]=1;for(var D=0;D<1+Q.$W.length;D++){var y=Q.$W[D-(D==0?0:1)],R=(D==0?"Transparency":y.name)+"\0";
c.Ck(X,V,R);V+=4+R.length*2;if(D!=0){var W=4+D*13;vF.$M(O,W,y.Uw);O[W+11]=y.S$;O[W+12]=y.BL}}Q.dL.r1045=X.data.slice(0,V);
Q.dL.r1077=O;for(var D=0;D<Q.Dl.length;D++)Q.Dl[Q.Dl.length-D-1].v.sliceID.v=2+D*3;var N={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:Q.Dl}},X=new _f;
c.hO(X,0,8);c.hO(X,4,16);var I=rC.JS(X,N,8);Q.dL.r1050=X.data.slice(0,I+8);var X=new _f;c.hO(X,0,16);
var I=rC.JS(X,Q.Jb,4);Q.dL.r1065=X.data.slice(0,I+4);var T=Q.H;z=Q.dL.r1069=e.Q(2+T.length*4,!0);c.cj(z,0,T.length);
for(var D=0;D<T.length;D++)c.Ig(z,2+4*D,Q.k[T[D]].add.lyid);delete Q.dL.r1058;delete Q.dL.r1060;if(Object.keys(Q.vh).length!=0){var h=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
$X.pO(Q.vh,h[0],j[0]&&j[1]);Q.dL.r1058=new Uint8Array(UTIF.encode(h));var p=$X.vtp(Q.vh);Q.dL.r1060=c.WH(p)}var u=[],g=[];
for(var D=0;D<Q.te.length;D++){var A=Q.te[D],w=A.add.vmsk.G;if(D==0&&w.length==2)continue;var r$=e.Q(w.length*26);
Wh.zF(r$,0,w,Q.W,Q.C);var rW=D==0?1025:2e3+D-1;Q.dL["r"+rW]=r$;if(D!=0){u.push({t:"Objc",v:{classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:A.name}}});
g.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:A.add.vogk}}})}}if(u.length!=0){Q.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:u}};
g={classID:"null",keyRootDescriptorList:{t:"VlLs",v:g}};var X=new _f;c.hO(X,0,16);var I=rC.JS(X,g,4);
Q.dL.r3000=X.data.slice(0,I+4)}else{delete Q.add.pths;delete Q.dL.r3000}J=WY.vTW(Q,C,J);J=WY.vTi(Q,C,J);
J=WY.vTd(Q,C,J);J=WY.vuK(Q,C,J,j);J=WY.vuM(Q,C,J,j[0]);var rr=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016];
for(var D=0;D<rr.length;D++)delete Q.dL["r"+rr[D]];for(var D=0;D<Q.k.length;D++){var d=Q.k[D];if(d.ql()){d.rect=L[D][0];
d.buffer=L[D][1]}}if(Y)Q.add.lnk2=Y;if(r)Q.add.FEid=r;if(a)Q.add.Patt=a;rz.s$.Sj(Q,!0);return J};WY.zN=function(Q,C,j){var Z=c.hX(C,j,4);
j+=4;if(Z!="8BPS")alert("invalid header signature: "+Z);var F=c.bS(C,j);j+=2;Q.NS=F==2;if(F!=1&&F!=2)alert("invalid version: "+F);
j+=6;Q.SW=c.bS(C,j);j+=2;Q.C=c.hS(C,j);j+=4;Q.W=c.hS(C,j);j+=4;Q.wR=c.bS(C,j);j+=2;Q.VN=c.bS(C,j);j+=2;
return j};WY.vTW=function(Q,C,j){C.JW(0,64);c.Tp(C.data,j,"8BPS");j+=4;c.cj(C.data,j,1);j+=2;c.Ig(C.data,j,0);
j+=4;c.cj(C.data,j,0);j+=2;c.cj(C.data,j,4+Q.$W.length);j+=2;c.ZB(C.data,j,Q.C);j+=4;c.ZB(C.data,j,Q.W);
j+=4;c.cj(C.data,j,8);j+=2;c.cj(C.data,j,3);j+=2;return j};WY.vTQ=function(Q,C,j){var Z=c.hS(C,j);j+=4;
if(Z!=0)Q.wT=C.slice(j,j+Z);j+=Z;return j};WY.vTi=function(Q,C,j){c.Tm(C,j,0);j+=4;return j};WY.vTl=function(Q,C,j){var Z=c.o(C,j),F=0;
j+=4;var _=[];while(F<Z){var $=c.hX(C,j+F,4);F+=4;var L=c.bS(C,j+F);F+=2;var D=c.sg(C,j+F);F+=D.length;
if($!="8BIM"){_.push(L);console.log("Unknown Image Resources signature: "+$+", ID: "+L)}var d=c.o(C,j+F);
F+=4;if(Q.dL["r"+L]!=null)console.log("--- two resources with same ID");Q.dL["r"+L]=c.sF(C,j+F,d);F+=d+(d&1)}for(var o=0;
o<_.length;o++)delete Q.dL["r"+_[o]];return j+Z};WY.vTd=function(Q,C,j){var Z=j,$=0;j+=4;var F=[];for(var _ in Q.dL){F.push(parseInt(_.slice(1)))}F.sort(function(f,U){return f-U});
for(var L=0;L<F.length;L++){c.JQ(C,j+$,"8BIM");$+=4;var D=F[L];c.ex(C,j+$,D);$+=2;var d=c.Wn(C,j+$,"");
$+=d;var o=Q.dL["r"+D],v=o.length;c.hO(C,j+$,v);$+=4;c.sc(C,j+$,o);$+=v;if(v%2==1)$++}c.hO(C,Z,$);return j+$};
WY.vuD=function(Q,C,j){var Z=j,F,_=Q.NS?8:4;if(Q.NS)F=c.UB(C,j);else F=c.o(C,j);j+=_;if(F==0)return Z+_;
j=WY.vuT(Q,C,j);j=WY.vuA(Q,C,j);j=De.SI(C,j,Z+_+F,Q.add,Q.NS,Q);return Z+_+F};WY.vuK=function(Q,C,j,Z){var F=j;
c.hO(C,j,0);j+=4;j=WY.vuZ(Q,C,j,Z);j=WY.vuU(Q,C,j);j=De.Sp(C,j,Q.add,Q);c.hO(C,F,j-F-4);return j};WY.vuT=function(Q,C,j){var Z,F=Q.NS?8:4;
if(Q.NS)Z=c.UB(C,j);else Z=c.o(C,j);j+=F;if(Z!=0)WY.pw(Q,C,j);return j+Z};WY.pw=function(Q,C,j){var Z=c.DK(C,j);
j+=2;var F=Math.abs(Z);for(var _=0;_<F;_++){var $=new S;j=_B.ig($,Q,C,j);Q.k[_]=$}var L=new s(0,0,Q.W,Q.C);
for(var _=0;_<F;_++){var D=Q.k[_];j=_u.ig(D,Q,C,j);var d=D.rect.P(),o=D.rect.QU(L),v=o.P()/d;if(d>2e3*3e3&&v<.5){var f=e.Q(o.P()*4);
e.tW(D.buffer,D.rect,f,o);D.buffer=f;D.rect=o;alert("Removing hidden parts of layers")}}};WY.vuZ=function(Q,C,j,Z){var F=j;
c.hO(C,j,0);j+=4;var _=Q.k.length;c.ex(C,j,-_);j+=2;var $=[];for(var L=0;L<_;L++)j=_B.TI(Q.k[L],Q,C,j,$);
for(var L=0;L<_;L++)j=_u.Ry(Q.k[L],C,j,$[L],Z);var D=j-F-4;if(D%2!=0)D++;c.hO(C,F,D);return F+D+4};WY.vuA=function(Q,C,j){var Z=c.o(C,j);
j+=4;j+=Z;return j};WY.vuU=function(Q,C,j){var Z=c.hO(C,j,0);j+=4;return j};WY.vun=function(Q,C,j){var Z=Q.VN,F="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),_=[1,1,1,3,4,1,1,3],$,B;
if(Z!=3){if(Z==1||Z==2||Z==4)alert("Project will be converted from "+F[Z]+" to "+F[3]+" mode.");else{alert("Color mode "+F[Z]+" is not supported yet :(")}}if(Q.dL.r1045){$=[];
var L=Q.dL.r1045,D=0;while(D<L.length){var d=c.Ll(L,D);$.push(d);D+=4+2+d.length*2}}var o=_[Z]+($==null||$[0]=="Transparency"?1:0),v=Q.W,f=Q.C,U=v*f,H=c.bS(C,j);
j+=2;Q.buffer=e.Q(U*4);e.kM(Q.buffer,4278190080);var m=j;for(var Y=0;Y<Q.SW;Y++){if(H==0){B=_u.WF(Q.NS,Q.wR,C,v,f,j,H);
j+=U*(Q.wR>>>3)}else if(H==1){B=e.Q(U);var q=Q.NS?4:2;if(Y==0)j+=Q.SW*f*q;j+=_u.SB(C,B,v,f,m+Y*f*q,j,q)}else{console.log("unknown compression of image data: ",H);
return}if(Y<o){e.gG(B,Q.buffer,Y);if(Q.SW==1&&Y==0){e.gG(B,Q.buffer,1);e.gG(B,Q.buffer,2)}}else{var r=new S.Xh,x=Y-o,a=Y-_[Q.VN];
r.name=$?$[a]:"Alpha";if(r.name=="Quick Mask"){r.me=!0;Q.CG.push(x)}r.rect=new s(0,0,v,f);r.channel=B;
r.color=0;r.Dx();Q.$W[x]=r;if(Q.dL.r1077){var L=Q.dL.r1077.slice(4+a*13);r.Uw=vF.GQ(L,0);r.S$=L[11];
r.BL=L[12];if(r.BL==2)r.me=!0}}}Q.SW=4;if(Q.VN==2)for(var i=0;i<U;i++){var l=i*4,M=Q.buffer[l];Q.buffer[l]=Q.wT[0+M];
Q.buffer[l+1]=Q.wT[256+M];Q.buffer[l+2]=Q.wT[512+M]}return j};WY.vuM=function(Q,C,j,Z){var F=1,_=16,$=Q.W,L=Q.C,d,o;
c.ex(C,j,F);j+=2;var D=$*L;if(!Z){o=new e.mr($*L);e.oM(Q.buffer,o);var v=o.h,f=o.J,U=o._,H=o.om;for(var B=0;
B<D;B++){var m=H[B]*(1/255);v[B]=~~(v[B]*m+255*(1-m));f[B]=~~(f[B]*m+255*(1-m));U[B]=~~(U[B]*m+255*(1-m))}}else d=e.Q(D);
var Y=[d,d,d,d];if(!Z)Y=[o.h,o.J,o._,o.om];for(var B=0;B<Q.$W.length;B++){Y.push(Q.$W[B].sH(new s(0,0,Q.W,Q.C)))}var q=j;
for(var r=0;r<Y.length;r++){C.JW(j,$*L+4);d=Y[r];if(F==0||F==2||F==3)j=_u.xM(d,C.data,$,L,j,F);else{if(r==0)j+=Y.length*L*2;
var x=j;j+=_u.Sm(d,C.data,$,L,q+r*L*2,j)}}return j};function _H(){}_H.ig=function(Q){var C={};_H.Fv(Q,C,0,0);
return C};_H.TI=function(Q,C){var j=0;j=_H.F$(Q,C,j,0);return j};_H.Fv=function(Q,C,j,Z){while(Q[j]!="<".charCodeAt(0))j++;
j+=2;while(!0){if(Q[j]=="/".charCodeAt(0)){j++;var F=c.indexOf(Q," ".charCodeAt(0),j,j+50),_=c.indexOf(Q,"\n".charCodeAt(0),j,j+50);
if(_==-1)_=Infinity;if(F==-1)F=Infinity;var $=Math.min(_,F),L=c.hX(Q,j,$-j),D=_H.Wo(Q,$+1,Z+1,L);C[L]=D.O;
j=$+1;j+=D.size}else if(Q[j]==">".charCodeAt(0)){j+=2;break}else{var d=Q[j];if(d==10||d==9||d==32)j++;
else{console.log("unknown byte: "+d+", char: "+String.fromCharCode(d),j);j++}}}return j};_H.F$=function(Q,C,j,Z){c.JQ(C,j,"<<\n");
j+=3;var F=_H.vkO;for(var _ in Q){c.CV(C,j,"\t".charCodeAt(0),Z+1);j+=Z+1;c.JQ(C,j,"/"+_);j+=1+_.length;
if(F(Q[_])||Q[_]instanceof Array){c.JQ(C,j," ");j++}else{c.JQ(C,j,"\n");j++;c.CV(C,j,"\t".charCodeAt(0),Z+1);
j+=Z+1}j=_H.WG(Q[_],C,j,Z+1);c.JQ(C,j,"\n");j++}c.CV(C,j,"\t".charCodeAt(0),Z);j+=Z;c.JQ(C,j,">>");j+=2;
return j};_H.Wo=function(Q,C,j,Z){var F=C,_={size:0,O:0};while(!0){while(Q[C]==" ".charCodeAt(0)||Q[C]=="\t".charCodeAt(0)||Q[C]=="\n".charCodeAt(0))C++;
if(Q[C]=="<".charCodeAt(0)){_.O={};C=_H.Fv(Q,_.O,C,j+1);break}else if(Q[C]=="(".charCodeAt(0)){C+=3;
var $=C;while(!0){if(Q[$-1]!="\\".charCodeAt(0)&&Q[$]==")".charCodeAt(0)&&(Q[$+1]=="\n".charCodeAt(0)||Q[$+1]==" ".charCodeAt(0)))break;
else $++}_.O=c.SC(Q,C,$);C=$+2;break}else if(Q[C]=="[".charCodeAt(0)){C++;_.O=[];while(Q[C]==" ".charCodeAt(0)||Q[C]=="\t".charCodeAt(0)||Q[C]=="\n".charCodeAt(0))C++;
while(Q[C]!="]".charCodeAt(0)){var L=_H.Wo(Q,C,j+1,Z);_.O.push(L.O);C+=L.size;while(Q[C]==" ".charCodeAt(0)||Q[C]=="\t".charCodeAt(0)||Q[C]=="\n".charCodeAt(0))C++}C++;
break}else{var D=c.indexOf(Q," ".charCodeAt(0),C,C+50),d=c.indexOf(Q,"\n".charCodeAt(0),C,C+50);if(d==-1)d=Infinity;
if(D==-1)D=Infinity;var o=c.hX(Q,C,Math.min(D,d)-C).trim(),v=parseFloat(o);if(!isNaN(v)){_.O=parseFloat(o);
C=Math.min(D,d)+1;break}else if(o=="true"||o=="false"){_.O=o=="true";C=Math.min(D,d)+1;break}else if(o=="null"){_.O=0;
C=Math.min(D,d)+1;break}else{console.log("unknown identifier: "+o);throw"e"}C=Math.min(D,d)+1}}_.size=C-F;
return _};_H.WG=function(Q,C,j,Z){if(Q instanceof Array){var F=Q.length==0||typeof Q[0]=="number";if(F){c.JQ(C,j,"[ ");
j+=2;for(var _=0;_<Q.length;_++){var $=Q[_]+" ";c.JQ(C,j,$);j+=$.length}c.JQ(C,j,"]");j+=1}else{c.JQ(C,j,"[\n");
j+=2;for(var _=0;_<Q.length;_++){c.CV(C,j,"\t".charCodeAt(0),Z);j+=Z;j=_H.WG(Q[_],C,j,Z);c.JQ(C,j,"\n");
j++}c.CV(C,j,"\t".charCodeAt(0),Z);j+=Z;c.JQ(C,j,"]");j+=1}}else if(Q instanceof Object){j=_H.F$(Q,C,j,Z)}else if(typeof Q=="string"){c.JQ(C,j,"(");
j++;c.CV(C,j,254);j++;c.CV(C,j,255);j++;j=c.SZ(C,j,Q);c.JQ(C,j,")");j+=1}else{var $=Q+"";c.JQ(C,j,$);
j+=$.length}return j};_H.vkO=function(Q){var C=typeof Q;return C=="string"||C=="number"||C=="boolean"};
function vK(){}vK.ig=function(Q){var C={};vK.Sx(Q,C,0,0);return C};vK.TI=function(Q,C){var j=0;c.JQ(C,j," ");
j++;j=vK.SF(Q,C,j,0);j--;C.JW(j,2);C.data[j]=C.data[j+1]=0;j+=2;return j};vK.Fv=function(Q,C,j,Z){while(Q[j]!="<".charCodeAt(0)){j++;
console.log("\u0161ipka")}j+=2;j=vK.Sx(Q,C,j,Z);return j};vK.F$=function(Q,C,j,Z){c.JQ(C,j,"<< ");j+=3;
j=vK.SF(Q,C,j,Z);c.JQ(C,j,">>");j+=2;return j};vK.sD=function(Q){return Q==9||Q==10||Q==32};vK.Sx=function(Q,C,j,Z){while(!0){while(vK.sD(Q[j])||Q[j]==0)j++;
if(j>=Q.length)break;if(Q[j]=="/".charCodeAt(0)){j++;var F=j;while(!vK.sD(Q[F]))F++;var _=c.hX(Q,j,F-j);
j=F+1;var $=vK.Wo(Q,j,Z,_);C["_"+_]=$.O;j+=$.size}else if(Q[j]==">".charCodeAt(0)){j+=2;break}else{var L=Q[j];
console.log(c.hX(Q,j,j+100));console.log("unknown byte: "+L+", char: "+String.fromCharCode(L)+", offset: "+j);
j++;throw"e";return-1}}return j};vK.SF=function(Q,C,j,Z){for(var F in Q){var _=F.substring(1,F.length);
c.JQ(C,j,"/"+_);j+=1+_.length;c.JQ(C,j," ");j++;j=vK.WG(Q[F],C,j,Z+1);c.JQ(C,j," ");j++}return j};vK.Wo=function(Q,C,j,Z){var F=C,_={type:"",size:0,O:0};
while(vK.sD(Q[C]))C++;if(Q[C]=="<".charCodeAt(0)){_.type="Object";_.O={};C=vK.Fv(Q,_.O,C,j+1)}else if(Q[C]=="(".charCodeAt(0)){_.type="String";
C++;if(Q[C]==")".charCodeAt(0)){_.O="s";C++}else{C+=2;var $=C,_j=0;while(!0){if(Q[$]==")".charCodeAt(0)&&Q[$-1]!="\\".charCodeAt(0))break;
else $+=1}_.O="s"+c.SC(Q,C,$);C=$+2}}else if(Q[C]=="[".charCodeAt(0)){C++;_.O=[];_.type="Array";while(vK.sD(Q[C]))C++;
while(Q[C]!="]".charCodeAt(0)){var L=vK.Wo(Q,C,j+1,Z);if(L==-1)return-1;_.O.push(L.O);C+=L.size;delete L.size;
while(vK.sD(Q[C]))C++}C++}else{var D=C;while(!vK.sD(Q[D]))D++;var d=c.hX(Q,C,D-C),o=parseFloat(d);if(!isNaN(o)&&d.indexOf(".")!=-1){_.type="Float";
var v=parseFloat(d);_.O="f"+v}else if(!isNaN(o)&&d.indexOf(".")==-1){_.type="Integer";_.O="i"+parseInt(d)}else if(d=="true"||d=="false"){_.type="Boolean";
_.O=d=="true"}else if(d.charAt(0)=="/"){_.type="BString";_.O=d}else{console.log("unknown value",JSON.stringify(d));
throw"e"}C=D+1}_.size=C-F;return _};vK.vkv=function(Q){if(Q==Math.round(Q))return Q+".0";var C=Q.toFixed(5);
if(0<Q&&Q<1)C=C.substring(1,C.length);if(-1<Q&&Q<0)C="-"+C.substring(2,C.length);return C};vK.WG=function(Q,C,j,Z){var F=typeof Q=="string"?Q.charAt(0):"";
if(Q instanceof Array){c.JQ(C,j,"[ ");j+=2;for(var _=0;_<Q.length;_++){j=vK.WG(Q[_],C,j,Z);c.JQ(C,j," ");
j++}c.JQ(C,j,"]");j+=1}else if(Q instanceof Object){j=vK.F$(Q,C,j,Z)}else if(F=="s"){c.JQ(C,j,"(");j++;
c.CV(C,j,254);j++;c.CV(C,j,255);j++;j=c.SZ(C,j,Q.substring(1));c.JQ(C,j,")");j++}else if(F=="/"){c.JQ(C,j,Q);
j+=Q.length}else if(F=="f"){var $=parseFloat(Q.substring(1)),L=vK.vkv($);c.JQ(C,j,L);j+=L.length}else if(F=="i"){c.JQ(C,j,Q.substring(1));
j+=Q.length-1}else{var L=Q+"";c.JQ(C,j,L);j+=L.length}return j};function Wn(Q,C){if(!Q)Q=0;if(!C)C=0;
this.x=Q;this.y=C}Wn.prototype.add=function(Q){return new Wn(this.x+Q.x,this.y+Q.y)};Wn.prototype.clone=function(){return new Wn(this.x,this.y)};
Wn.prototype.wc=function(Q){this.x=Q.x;this.y=Q.y};Wn.prototype.gm=function(Q){return this.x==Q.x&&this.y==Q.y};
Wn.prototype.normalize=function(Q){var C=Math.sqrt(this.x*this.x+this.y*this.y);this.x*=Q/C;this.y*=Q/C};
Wn.prototype.offset=function(Q,C){this.x+=Q;this.y+=C};Wn.prototype.KL=function(Q,C){this.x=Q;this.y=C};
Wn.prototype.qF=function(Q){return new Wn(this.x-Q.x,this.y-Q.y)};Wn.iQ=function(Q,C){return Wn.vk$(Q.x,Q.y,C.x,C.y)};
Wn.jg=function(Q,C,j){return new Wn(Q.x+j*(C.x-Q.x),Q.y+j*(C.y-Q.y))};Wn.vkD=function(Q,C){return new Wn(Q*Math.cos(C),Q*Math.sin(C))};
Wn.vk$=function(Q,C,j,Z){return Math.sqrt((j-Q)*(j-Q)+(Z-C)*(Z-C))};Wn.qO={};Wn.Gq={};Wn.qO.create=function(){var Q=new Float32Array(4);
return Q};Wn.Gq.create=function(Q){var C=new Float32Array(16);C[0]=C[5]=C[10]=C[15]=1;if(Q)Wn.Gq.set(Q,C);
return C};Wn.qO.add=function(Q,C,j){j[0]=Q[0]+C[0];j[1]=Q[1]+C[1];j[2]=Q[2]+C[2];j[3]=Q[3]+C[3]};Wn.qO.set=function(Q,C){C[0]=Q[0];
C[1]=Q[1];C[2]=Q[2];C[3]=Q[3]};Wn.Gq.set=function(Q,C){C[0]=Q[0];C[1]=Q[1];C[2]=Q[2];C[3]=Q[3];C[4]=Q[4];
C[5]=Q[5];C[6]=Q[6];C[7]=Q[7];C[8]=Q[8];C[9]=Q[9];C[10]=Q[10];C[11]=Q[11];C[12]=Q[12];C[13]=Q[13];C[14]=Q[14];
C[15]=Q[15]};Wn.Gq.multiply=function(Q,C,j){var Z=Q[0],F=Q[1],_=Q[2],$=Q[3],L=Q[4],D=Q[5],d=Q[6],o=Q[7],v=Q[8],f=Q[9],U=Q[10],H=Q[11],B=Q[12],m=Q[13],Y=Q[14],q=Q[15],r=C[0],x=C[1],a=C[2],i=C[3];
j[0]=r*Z+x*L+a*v+i*B;j[1]=r*F+x*D+a*f+i*m;j[2]=r*_+x*d+a*U+i*Y;j[3]=r*$+x*o+a*H+i*q;r=C[4];x=C[5];a=C[6];
i=C[7];j[4]=r*Z+x*L+a*v+i*B;j[5]=r*F+x*D+a*f+i*m;j[6]=r*_+x*d+a*U+i*Y;j[7]=r*$+x*o+a*H+i*q;r=C[8];x=C[9];
a=C[10];i=C[11];j[8]=r*Z+x*L+a*v+i*B;j[9]=r*F+x*D+a*f+i*m;j[10]=r*_+x*d+a*U+i*Y;j[11]=r*$+x*o+a*H+i*q;
r=C[12];x=C[13];a=C[14];i=C[15];j[12]=r*Z+x*L+a*v+i*B;j[13]=r*F+x*D+a*f+i*m;j[14]=r*_+x*d+a*U+i*Y;j[15]=r*$+x*o+a*H+i*q;
return j};Wn.Gq.inverse=function(Q,C){var j=Q[0],Z=Q[1],F=Q[2],_=Q[3],$=Q[4],L=Q[5],D=Q[6],d=Q[7],o=Q[8],v=Q[9],f=Q[10],U=Q[11],H=Q[12],B=Q[13],m=Q[14],Y=Q[15],q=j*L-Z*$,r=j*D-F*$,x=j*d-_*$,a=Z*D-F*L,i=Z*d-_*L,l=F*d-_*D,M=o*B-v*H,z=o*m-f*H,V=o*Y-U*H,X=v*m-f*B,O=v*Y-U*B,y=f*Y-U*m,K=q*y-r*O+x*X+a*V-i*z+l*M;
if(!K){return null}K=1/K;C[0]=(L*y-D*O+d*X)*K;C[1]=(F*O-Z*y-_*X)*K;C[2]=(B*l-m*i+Y*a)*K;C[3]=(f*i-v*l-U*a)*K;
C[4]=(D*V-$*y-d*z)*K;C[5]=(j*y-F*V+_*z)*K;C[6]=(m*x-H*l-Y*r)*K;C[7]=(o*l-f*x+U*r)*K;C[8]=($*O-L*V+d*M)*K;
C[9]=(Z*V-j*O-_*M)*K;C[10]=(H*i-B*x+Y*q)*K;C[11]=(v*x-o*i-U*q)*K;C[12]=(L*z-$*X-D*M)*K;C[13]=(j*X-Z*z+F*M)*K;
C[14]=(B*r-H*a-m*q)*K;C[15]=(o*a-v*r+f*q)*K;return C};Wn.Gq.vTL=function(Q,C,j){var Z=C[0],F=C[1];j[0]=Z*Q[0]+F*Q[4]+Q[12];
j[1]=Z*Q[1]+F*Q[5]+Q[13]};Wn.Gq.vut=function(Q,C,j){var Z=C[0],F=C[1],_=C[2],$=C[3];j[0]=Q[0]*Z+Q[4]*F+Q[8]*_+Q[12]*$;
j[1]=Q[1]*Z+Q[5]*F+Q[9]*_+Q[13]*$;j[2]=Q[2]*Z+Q[6]*F+Q[10]*_+Q[14]*$;j[3]=Q[3]*Z+Q[7]*F+Q[11]*_+Q[15]*$};
function rI(Q,C,j,Z,F,_){if(typeof Q==="undefined"){Q=1;C=0;j=0;Z=1;F=0;_=0}this.om=Q;this._=C;this.ug=j;
this.xP=Z;this._Y=F;this.Rf=_}rI.prototype.xZ=function(){return Math.sqrt(Math.abs(this.om*this.xP-this._*this.ug))};
rI.prototype.SL=function(){var Q=this,C=function(j){return Math.abs(j)<1e-9?0:j};Q.om=C(Q.om);Q._=C(Q._);
Q.ug=C(Q.ug);Q.xP=C(Q.xP);Q._Y=C(Q._Y);Q.Rf=C(Q.Rf)};rI.prototype.IV=function(Q){return new Wn(Q.x*this.om+Q.y*this.ug+this._Y,Q.x*this._+Q.y*this.xP+this.Rf)};
rI.prototype.translate=function(Q,C){this._Y+=Q;this.Rf+=C};rI.prototype.rotate=function(Q){var C=new rI(Math.cos(Q),-Math.sin(Q),Math.sin(Q),Math.cos(Q),0,0);
this.concat(C)};rI.prototype.scale=function(Q,C){var j=new rI(Q,0,0,C,0,0);this.concat(j)};rI.prototype.concat=function(Q){this.wc(new rI(this.om*Q.om+this._*Q.ug,this.om*Q._+this._*Q.xP,this.ug*Q.om+this.xP*Q.ug,this.ug*Q._+this.xP*Q.xP,this._Y*Q.om+this.Rf*Q.ug+Q._Y,this._Y*Q._+this.Rf*Q.xP+Q.Rf))};
rI.prototype.Ie=function(){var Q=this.om*this.xP-this._*this.ug;this.wc(new rI(this.xP/Q,-this._/Q,-this.ug/Q,this.om/Q,(this.ug*this.Rf-this.xP*this._Y)/Q,(this._*this._Y-this.om*this.Rf)/Q))};
rI.prototype.clone=function(){return new rI(this.om,this._,this.ug,this.xP,this._Y,this.Rf)};rI.prototype.wc=function(Q){this.om=Q.om;
this._=Q._;this.ug=Q.ug;this.xP=Q.xP;this._Y=Q._Y;this.Rf=Q.Rf};function c(){}c.Fr=function(Q){var C="";
for(var j=3;j>=0;j--)C+=String.fromCharCode(Q>>j*8&255);return C};c.vkB=function(Q){var C=0;for(var j=Q.length-1;
j>=0;j--)C|=Q.charCodeAt(j)<<(3-j)*8;return C};c.indexOf=function(Q,C,j,Z){if(j==null)j=0;if(Z==null)Z=Q.length;
Z=Math.min(Z,Q.length);for(var F=j;F<Z;F++)if(Q[F]==C)return F;return-1};c.qQ=function(Q,C,j){if(j==null)j=0;
if(typeof C=="string"){var Z=[];for(var F=0;F<C.length;F++)Z.push(C.charCodeAt(F));C=Z}for(var F=j;F<Q.length;
F++){var _=!0;for(var $=0;$<C.length;$++)if(C[$]!=Q[F+$]){_=!1;break}if(_)return F}return-1};c.SC=function(Q,C,j){var Z=[],_="";
while(C<j){var F=Q[C++];if(F=="\\".charCodeAt(0))Z.push(Q[C++]);else Z.push(F)}for(var $=0;$<Z.length;
$+=2)_+=String.fromCharCode(Z[$]<<8|Z[$+1]);return _};c.vkG=function(Q,C,j){var Z=new Uint8Array(2);
for(var F=0;F<j.length;F++){c.cj(Z,0,j.charCodeAt(F));if(Z[0]==")".charCodeAt(0)||Z[0]=="(".charCodeAt(0)||Z[0]=="\\".charCodeAt(0)){Q[C]="\\".charCodeAt(0);
C++}Q[C]=Z[0];C++;if(Z[1]==")".charCodeAt(0)||Z[1]=="(".charCodeAt(0)||Z[1]=="\\".charCodeAt(0)){Q[C]="\\".charCodeAt(0);
C++}Q[C]=Z[1];C++}return C};c.SZ=function(Q,C,j){Q.JW(C,4*j.length);return c.vkG(Q.data,C,j)};c.SY=function(Q,C,j){var Z="";
for(var F=0;F<j;F++){var _=Q[C++]|Q[C++]<<8;Z+=String.fromCharCode(_)}return Z};c.qp=function(Q,C,j){var Z="";
for(var F=0;F<j;F++){var _=Q[C++]<<8|Q[C++];Z+=String.fromCharCode(_)}return Z};c.vJS=function(Q,C,j){for(var Z=0;
Z<j.length;Z++){var F=j.charCodeAt(Z);c.sr(Q,C+2*Z,F)}};c.Sc=function(Q,C,j){for(var Z=0;Z<j.length;
Z++){var F=j.charCodeAt(Z);c.cj(Q,C+2*Z,F)}};c.vuu=function(Q,C,j){Q.JW(C,2*j.length);c.Sc(Q.data,C,j)};
c.vJk=function(Q,C,j){var Z=[],F=0,_=0;j+=C;while(C<j){F=Q[C++];if((F&128)==0)_=F;else if((F&224)==192){_=(F&31)<<6;
F=Q[C++];_|=F&63}else if((F&240)==224){_=(F&15)<<12;F=Q[C++];_|=(F&63)<<6;F=Q[C++];_|=F&63}else if((F&248)==240){_=(F&7)<<18;
F=Q[C++];_|=(F&63)<<12;F=Q[C++];_|=(F&63)<<6;F=Q[C++];_|=F&63}else throw"e";Z.push(_)}return Z};c.SG=window.TextDecoder?new window.TextDecoder("utf8"):null;
c.hI=function(Q,C,j){if(C==null)C=0;if(j==null)j=Q.length;if(c.SG&&C==0&&j==Q.length)return c.SG.decode(Q);
var Z=c.vJk(Q,C,j),F=Z.length;for(var _=0;_<F;_++)Z[_]=String.fromCharCode(Z[_]);return Z.join("")};
c.SP=window.TextEncoder?new window.TextEncoder("utf8"):null;c.WH=function(Q){if(c.SP)return c.SP.encode(Q);
var C=new Uint8Array(Q.length*4),j=c.GX(Q,C,0);return C.slice(0,j)};c.GX=function(Q,C,j){var Z=Q.length,F=0;
for(var _=0;_<Z;_++){var $=Q.charCodeAt(_);if(($&4294967295-(1<<7)+1)==0){C[j+F]=$;F++}else if(($&4294967295-(1<<11)+1)==0){C[j+F]=192|$>>6;
C[j+F+1]=128|$>>0&63;F+=2}else if(($&4294967295-(1<<16)+1)==0){C[j+F]=224|$>>12;C[j+F+1]=128|$>>6&63;
C[j+F+2]=128|$>>0&63;F+=3}else if(($&4294967295-(1<<21)+1)==0){C[j+F]=240|$>>18;C[j+F+1]=128|$>>12&63;
C[j+F+2]=128|$>>6&63;C[j+F+3]=128|$>>0&63;F+=4}else throw"e"}return F};c.qs=function(Q,C){var j=c.o(Q,C),Z=c.hI(Q,C+4,j-1);
return{iC:Z,qV:4+j}};c.vJX=function(Q,C){var j=c.BQ(Q,C),Z=c.SY(Q,C+4,j);return Z};c.AS=function(Q,C){var j=c.o(Q,C),Z=c.qp(Q,C+4,j);
return Z};c.Ll=function(Q,C){var j=c.o(Q,C),Z=c.qp(Q,C+4,j-1);return Z};c.vJa=function(Q,C,j){c.Z$(Q,C,j.length);
C+=4;c.vJS(Q,C,j)};c.vJY=function(Q,C,j){c.Ig(Q,C,j.length);C+=4;c.Sc(Q,C,j)};c.Ck=function(Q,C,j){Q.JW(C,4+2*j.length);
c.vJY(Q.data,C,j)};c.vIO=function(Q,C,j){Q.JW(C,4+2*j.length);c.vJa(Q.data,C,j)};c.FK=function(Q,C,j){var Z=[];
for(var F=0;F<j;F++)Z.push(String.fromCharCode(Q[C+F]));return Z};c.vuX=function(Q,C,j){var Z=!1,F=Q.length-j.length;
for(var _=C;_<F;_++){for(var $=0;$<j.length;$++){if(Q[_+$]!=j.charCodeAt($))break;if($==j.length-1)return _}}};
c.hX=function(Q,C,j){var Z="";for(var F=0;F<j;F++)Z+=String.fromCharCode(Q[C+F]);return Z};c.Tp=function(Q,C,j){for(var Z=0;
Z<j.length;Z++)Q[C+Z]=j.charCodeAt(Z)};c.JQ=function(Q,C,j){Q.JW(C,j.length);c.Tp(Q.data,C,j)};c.vIv=function(Q,C,j){var Z="";
for(var F=0;F<j;F++){var _=Q[C+F];if(_<10)Z+="  ";else if(_<100)Z+=" ";Z+=_+", "}return Z};c.bS=function(Q,C){return Q[C]<<8|Q[C+1]};
c.cj=function(Q,C,j){Q[C]=j>>8&255;Q[C+1]=j&255};c.ex=function(Q,C,j){Q.JW(C,4);c.cj(Q.data,C,j)};c.vIW=function(Q,C){var j=c.bS(Q,C),Z=c.bS(Q,C+2);
return j+Z*(1/65536)};c.Se=function(Q,C,j){var Z=Math.floor(j),F=Math.floor((j-Z)*65536);c.cj(Q,C,Z);
c.cj(Q,C+2,F)};c.Ir=function(Q,C){return Q[C+1]<<8|Q[C]};c.sr=function(Q,C,j){Q[C+1]=j>>8&255;Q[C]=j&255};
c.sl=function(Q,C,j){Q.JW(C,4);c.sr(Q.data,C,j)};c.DK=function(Q,C){c.L$[0]=Q[C+1];c.L$[1]=Q[C];return c.ir[0]};
c.FI=function(Q,C){c.L$[0]=Q[C];c.L$[1]=Q[C+1];return c.ir[0]};c.Cc=c.cj;c.FL=c.ex;c.hS=function(Q,C){c.hT[0]=Q[C+3];
c.hT[1]=Q[C+2];c.hT[2]=Q[C+1];c.hT[3]=Q[C];return c.ec[0]};c.ZB=function(Q,C,j){c.ec[0]=j;Q[C+3]=c.hT[0];
Q[C+2]=c.hT[1];Q[C+1]=c.hT[2];Q[C+0]=c.hT[3]};c.Tm=function(Q,C,j){Q.JW(C,4);c.ZB(Q.data,C,j)};c.FC=function(Q,C,j,Z){j[Z+0]=Q[C+0];
j[Z+1]=Q[C+1];j[Z+2]=Q[C+2];j[Z+3]=Q[C+3]};c.BQ=function(Q,C){c.FC(Q,C,c.hT,0);return c.SU[0]};c.Z$=function(Q,C,j){c.SU[0]=j;
c.FC(c.hT,0,Q,C)};c.I_=function(Q,C,j){Q.JW(C,4);c.Z$(Q.data,C,j)};c.SH=function(Q,C){c.FC(Q,C,c.hT,0);
return c.ec[0]};c.vI_=function(Q,C,j){c.ec[0]=j;c.FC(c.hT,0,Q,C)};c.vuC=function(Q,C,j){Q.JW(C,4);c.vI_(Q.data,C,j)};
c.o=function(Q,C){var j=Q[C]*(256*256*256)+(Q[C+1]<<16|Q[C+2]<<8|Q[C+3]);return j};c.Ig=function(Q,C,j){Q[C]=j>>24&255;
Q[C+1]=j>>16&255;Q[C+2]=j>>8&255;Q[C+3]=j>>0&255};c.hO=function(Q,C,j){Q.JW(C,4);c.Ig(Q.data,C,j)};c.UB=function(Q,C){return c.o(Q,C)<<32|c.o(Q,C+4)};
c.vIQ=function(Q,C,j){c.Ig(Q,C,j>>16>>16);c.Ig(Q,C+4,j&4294967295)};c.qX=function(Q,C,j){Q.JW(C,8);c.vIQ(Q.data,C,j)};
c.ip=function(Q,C){var j=new Uint8Array(8);for(var Z=0;Z<8;Z++)j[Z]=Q[C+7-Z];var F=new Float64Array(j.buffer);
return F[0]==-0?0:F[0]};c.vIZ=function(Q,C){var j=new Uint8Array(8);for(var Z=0;Z<8;Z++)j[Z]=Q[C+Z];
var F=new Float64Array(j.buffer);return F[0]==-0?0:F[0]};c.eb=function(Q,C,j){var Z=new Float64Array(1);
Z[0]=j==-0?0:j;var F=new Uint8Array(Z.buffer);for(var _=0;_<4;_++){var $=F[_];F[_]=F[7-_];F[7-_]=$}for(var _=0;
_<8;_++)Q[C+_]=F[_]};c.eq=function(Q,C,j){Q.JW(C,8);c.eb(Q.data,C,j)};c.UZ=function(Q,C){c.hT[0]=Q[C+3];
c.hT[1]=Q[C+2];c.hT[2]=Q[C+1];c.hT[3]=Q[C+0];return c.LW[0]};c.qa=function(Q,C){c.hT[0]=Q[C+0];c.hT[1]=Q[C+1];
c.hT[2]=Q[C+2];c.hT[3]=Q[C+3];return c.LW[0]};c.IR=function(Q,C,j){c.LW[0]=j;Q[C+0]=c.hT[3];Q[C+1]=c.hT[2];
Q[C+2]=c.hT[1];Q[C+3]=c.hT[0]};c.vka=function(Q,C,j){Q.JW(C,4);c.IR(Q.data,C,j)};c.qn=function(Q,C,j){c.LW[0]=j;
Q[C+0]=c.hT[0];Q[C+1]=c.hT[1];Q[C+2]=c.hT[2];Q[C+3]=c.hT[3]};c.vkF=function(Q,C,j){Q.JW(C,4);c.qn(Q.data,C,j)};
c.vIf=function(Q,C){var j=c.hS(Q,C),Z=j*(1/(1<<24));return Z};c.SN=function(Q,C,j){var Z=Math.floor(j*(1<<24));
c.ZB(Q,C,Z)};c.vke=function(Q,C,j){Q.JW(C,4);c.SN(Q.data,C,j)};c.sg=function(Q,C){var j=Q[C],Z=c.hX(Q,C+1,j);
j+=1-j%2;return{Zo:Z,length:j+1}};c.vIP=function(Q,C,j){var Z=j.length;Q[C]=Z;c.Tp(Q,C+1,j);if(Z%2==0){Q[C+1+Z]=0;
++Z}return Z+1};c.Wn=function(Q,C,j){Q.JW(C,j.length+2);return c.vIP(Q.data,C,j)};c.kq=function(Q,C){var j=new rI;
j.om=c.ip(Q,C+0*8);j._=c.ip(Q,C+1*8);j.ug=c.ip(Q,C+2*8);j.xP=c.ip(Q,C+3*8);j._Y=c.ip(Q,C+4*8);j.Rf=c.ip(Q,C+5*8);
return j};c.ss=function(Q,C,j){c.eb(Q,C+0*8,j.om);c.eb(Q,C+1*8,j._);c.eb(Q,C+2*8,j.ug);c.eb(Q,C+3*8,j.xP);
c.eb(Q,C+4*8,j._Y);c.eb(Q,C+5*8,j.Rf)};c.vIN=function(Q,C,j){Q.JW(C,48);c.ss(Q.data,C,j)};c.vIw=function(Q,C){var j=c.UZ(Q,C),Z=c.UZ(Q,C+4),F=c.UZ(Q,C+8),_=c.UZ(Q,C+12);
return new s(j,Z,F-j,_-Z)};c.vIn=function(Q,C,j){c.IR(Q,C,j.x);c.IR(Q,C+4,j.y);c.IR(Q,C+8,j.x+j.W);c.IR(Q,C+12,j.y+j.C)};
c.vpr=function(Q,C,j){Q.JW(C,16);c.vIn(Q.data,C,j)};c.Gm=function(Q,C){var j=c.hS(Q,C),Z=c.hS(Q,C+4),F=c.hS(Q,C+8),_=c.hS(Q,C+12);
return new s(Z,j,_-Z,F-j)};c.Sw=function(Q,C,j){c.ZB(Q,C,j.y);c.ZB(Q,C+4,j.x);c.ZB(Q,C+8,j.y+j.C);c.ZB(Q,C+12,j.x+j.W)};
c.UM=function(Q,C,j){Q.JW(C,16);c.Sw(Q.data,C,j)};c.sF=function(Q,C,j){var Z=new Uint8Array(j);for(var F=0;
F<j;F++)Z[F]=Q[C+F];return Z};c.SA=function(Q,C,j){Q.set(j,C)};c.sc=function(Q,C,j){Q.JW(C,j.length);
c.SA(Q.data,C,j)};c.vpg=function(Q,C,j,Z){if(!Z)Z=1;for(var F=0;F<Z;F++)Q[C+F]=j};c.CV=function(Q,C,j,Z){if(!Z)Z=1;
Q.JW(C,Z);c.vpg(Q.data,C,j,Z)};c.ir=new Int16Array(1);c.L$=new Uint8Array(c.ir.buffer);c.ec=new Int32Array(1);
c.SU=new Uint32Array(c.ec.buffer);c.hT=new Uint8Array(c.ec.buffer);c.LW=new Float32Array(c.ec.buffer);
function s(Q,C,j,Z){if(!Q)Q=0;if(!C)C=0;if(!j)j=0;if(!Z)Z=0;this.x=Q;this.y=C;this.W=j;this.C=Z}s.prototype.P=function(){return this.W*this.C};
s.prototype.clone=function(){return new s(this.x,this.y,this.W,this.C)};s.prototype.contains=function(Q,C){return Q>=this.x&&Q<=this.x+this.W&&(C>=this.y&&C<=this.y+this.C)};
s.prototype._p=function(Q){return this.contains(Q.x,Q.y)};s.prototype.yt=function(Q){return this.x<=Q.x&&this.y<=Q.y&&Q.x+Q.W<=this.x+this.W&&Q.y+Q.C<=this.y+this.C};
s.prototype.wc=function(Q){this.x=Q.x;this.y=Q.y;this.W=Q.W;this.C=Q.C};s.prototype.gm=function(Q){return this.x==Q.x&&this.y==Q.y&&this.W==Q.W&&this.C==Q.C};
s.prototype.ac=function(Q,C){this.x-=Q;this.y-=C;this.W+=2*Q;this.C+=2*C};s.prototype.vkH=function(Q){this.ac(Q.x,Q.y)};
s.prototype.QU=function(Q){var C=Math.max(this.x,Q.x),j=Math.max(this.y,Q.y),Z=Math.min(this.x+this.W,Q.x+Q.W),F=Math.min(this.y+this.C,Q.y+Q.C);
if(Z<C||F<j)return new s;else return new s(C,j,Z-C,F-j)};s.prototype.nY=function(Q){if(Q.y+Q.C<this.y||Q.x>this.x+this.W||Q.y>this.y+this.C||Q.x+Q.W<this.x)return!1;
return!0};s.prototype.jJ=function(){return this.W<=0||this.C<=0};s.prototype.offset=function(Q,C){this.x+=Q;
this.y+=C};s.prototype.Sn=function(Q){this.offset(Q.x,Q.y)};s.prototype.vJB=function(){this.x=this.y=this.W=this.C=0};
s.prototype.KL=function(Q,C,j,Z){this.x=Q;this.y=C;this.W=j;this.C=Z};s.prototype.fJ=function(Q){if(this.jJ())return Q.clone();
if(Q.jJ())return this.clone();var C=this.clone();C.vpT(Q);return C};s.Bs=new Float32Array(2);s.prototype.vpT=function(Q){if(Q.jJ())return;
if(this.jJ()){this.wc(Q);return}this.LK(Q.x,Q.y);this.LK(Q.x+Q.W,Q.y+Q.C)};s.prototype.LK=function(Q,C){var j=Math.min(this.x,Q),Z=Math.min(this.y,C);
this.W=Math.max(this.x+this.W,Q)-j;this.C=Math.max(this.y+this.C,C)-Z;this.x=j;this.y=Z};s.prototype.vJe=function(Q,C,j,Z){if(this.W==0&&this.C==0)this.vpd(Q,C);
else this.LK(Q,C);this.LK(j,Z)};s.prototype.vpd=function(Q,C){this.x=Q;this.y=C;this.W=this.C=0};function $a(){}$a.ig=function(Q,C){var j=new Uint8Array(Q),Z=0,F=c.hX(j,Z,9),L=4,D=100;
Z+=9;var _=c.hX(j,Z,4);Z+=4;Z++;C.W=c.o(j,Z);Z+=4;C.C=c.o(j,Z);Z+=4;var $=c.o(j,Z);Z+=4;if($!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(_)==-1){D=c.o(j,Z);Z+=4;if(parseInt(_.slice(1))>=7){D=D}else alert("Unknown XCF version: "+_);
L=8}var d={};Z=$a.iK(j,Z,d);var o=[];Z=$a.ib(j,Z,o,L);var v=[];Z=$a.ib(j,Z,v,L);C.tt=0;for(var f=0;f<o.length;
f++)$a.vpy(j,o[f],C,d,L,D);while(C.tt>0){C.k.push(C.fi());C.tt--}C.k.reverse();delete C.tt;C.buffer=e.Q(C.W*C.C*4);
if(C.k.length==0)console.log("No layers!!!");for(var f=0;f<v.length;f++){var U=$a.TO(j,v[f],d,L,D);if(U.VH[_m.vso])C.v={channel:U.hu,rect:new s(0,0,C.W,C.C)}}};
$a.vpy=function(Q,C,j,Z,F,_){var $=j.qg(),L=c.o(Q,C),v=0;C+=4;var D=c.o(Q,C);C+=4;$.rect=new s(0,0,L,D);
var d=c.o(Q,C);C+=4;var o=c.qs(Q,C);C+=o.qV;$.sp(o.iC);var f={};C=$a.iK(Q,C,f);if(f[_m.TQ]){var U=f[_m.TQ];
v=U.length/4-1}if(f[_m.iR]){$.rect.x=c.hS(f[_m.iR],0);$.rect.y=c.hS(f[_m.iR],4)}if(f[_m.TD]){$.opacity=c.o(f[_m.TD],0)}if(f[_m.vEW]){$.add.lsct=_K.gh;
$.rect=new s(0,0,0,0);$.buffer=e.Q(0);$.xz=24}if(f[_m.T$]){var H=c.o(f[_m.T$],0);$.gd=_m.vEb[H];if($.Hd()&&$.gd=="norm")$.gd="pass"}if(f[_m.TW]){if(c.o(f[_m.TW],0)==0)$.xz+=2}if(f[_m.TS]){var B=c.o(f[_m.TS],0);
$.add.lsct=B&1==1?_K.gh:_K.f_}if(f[_m.iz]){var m=f[_m.iz];for(var Y in m){var q=m[Y];if(Y=="gimp-text-layer"){var r=$a.vpC(q),x=r.text,a=r.font,i=r.color,l=r["font-size"];
if(x==null&&r.markup){var M=new DOMParser,z=M.parseFromString(r.markup,"image/svg+xml");while(z.firstChild!=null&&z.firstChild.tagName!=null){z=z.firstChild;
var V=z.getAttribute("font"),X=z.getAttribute("foreground"),O=z.getAttribute("size");if(V!=null)a=V;
if(X!=null){X=CSS.GQ(X);i=[1,X.h/255,X.J/255,X._/255]}if(O!=null){l=""+parseFloat(O)/245}}x=z.textContent}$.add.lnsr="rend";
$.add.TySh=rD.dg(0,0);$.add.TySh.Vo=new s(0,0,100,100);$.add.TySh.M=new rI(1,0,0,1,$.rect.x,$.rect.y);
var y=$.add.TySh.Qp;rD.Gt(y,0,x);var K=rD.WW(y,0,0),R=r.justify,W=r["line-spacing"];if(i)K.hy.FillColor={Type:1,Values:[1,parseFloat(i[1]),parseFloat(i[2]),parseFloat(i[3])]};
if(l){l=Math.round(parseFloat(l));K.hy.FontSize=l;$.add.TySh.M.Rf+=Math.min(17,l*.17)}if(W){W=Math.round(parseFloat(W)+K.hy.FontSize*1.2);
K.hy.Leading=W;K.hy.AutoLeading=!1}if(R)K.Cx.Justification=["left","right","center","fill"].indexOf(R);
if(a&&a!="Sans-serif"){var N=a.toLowerCase(),I="bold italic semi extra regular condensed light".split(" "),T=N.length;
for(var h=0;h<I.length;h++){var p=N.indexOf(I[h]);if(p!=-1&&p<T&&N[p-1]==" ")T=p}if(T!=N.length)a=a.slice(0,T-1).split(" ").join("")+"-"+a.slice(T).split(" ").join("");
rD._D(K,a)}rD.ey(y,0,x.length,K);var u=r["box-width"],g=r["box-height"],A=u?parseFloat(u):$.rect.W,w=g?parseFloat(g):$.rect.C;
rD.GL(y,1);rD.Cr(y,[0,0,Math.ceil(A),Math.ceil(w)])}else console.log("Unknown property "+Y)}}while(j.tt>v){j.k.push(j.fi());
j.tt--}j.tt=v;if($.add.lsct==_K.gh||$.add.lsct==_K.f_)j.tt++;var r$=F==4?c.o:c.UB;if($.sq()){$.buffer=e.Q($.rect.P()*4);
var rW=new e.mr($.rect.P()),J=r$(Q,C);C+=F;var rr=r$(Q,C);C+=F;$a.Tv(Q,J,rW,Z,F,_);e.qb(rW,$.buffer);
if(rr!=0){$.A=new S.Xh;$.A.color=0;$.A.rect=$.rect.clone();$.A.channel=$a.TO(Q,rr,Z,F,_).hu;if(f[_m.Tr])$.A.isEnabled=c.o(f[_m.Tr],0)==1}}j.k.push($)};
$a.vpC=function(Q){var C="("+c.hI(Q,0,Q.length-1)+")",j=[],Z={};$a.SM(C,1,j);$a.vpf(j,Z);return Z};$a.vpf=function(Q,C){for(var j=0;
j<Q.length;j++){var Z=Q[j],F=Z[0];if(Z.length==2)C[F]=Z[1];else C[F]=Z.slice(1)}};$a.SM=function(Q,C,j){while(!0){if(C>=Q.length)throw"e";
var Z=Q.charAt(C);C++;if(Z=="("){var F=[];C=$a.SM(Q,C,F);j.push(F)}else if(Z==" "||Z=="\n"||Z=="\r"){}else if(Z==")")return C;
else if(Z=="\""){var _=C;while(!0){var $=Q[C];C++;if($=="\"")break;if($=="\\")C++}j.push(JSON.parse(Q.slice(_-1,C)))}else{var _=C-1;
while(Q[C]!=" "&&Q[C]!=")")C++;j.push(Q.slice(_,C))}}};$a.TO=function(Q,C,j,Z,F){var _=c.o(Q,C);C+=4;
var $=c.o(Q,C);C+=4;var L=c.qs(Q,C);C+=L.qV;var D={};C=$a.iK(Q,C,D);var d=new e.mr(_*$),o=Z==4?c.o:c.UB,v=o(Q,C);
C+=Z;$a.Tv(Q,v,d,j,Z,F);return{hu:d.h,VH:D}};$a.Tv=function(Q,C,j,Z,F,_){var $=c.o(Q,C);C+=4;var L=c.o(Q,C);
C+=4;var D=c.o(Q,C);C+=4;var d=F==4?c.o:c.UB,o=d(Q,C);C+=F;$a.vph(Q,o,j,Z,D,F,_)};$a.vph=function(Q,C,j,Z,F,_,$){var L=c.o(Q,C),o=0,q=0;
C+=4;var D=c.o(Q,C);C+=4;var d=new s(0,0,L,D);if($==100)o=1;else if($==150)o=1;else if($==600)o=4;else alert("unsupported bit depth "+$);
var v=F/o,o=Math.round(F/v),f=[];C=$a.ib(Q,C,f,_);var U=new e.mr(64*64*o),H=new s,B=Z[_m.vsP][0],m=[U.h,U.J,U._,U.om];
if(v==3)e.set(U.om,255);var Y=Date.now();for(var r=0;r<D;r+=64)for(var x=0;x<L;x+=64){var a=Math.min(L-x,64),i=Math.min(D-r,64),l=a*i;
H.KL(x,r,a,i);$a.vst(Q,f[q++],l*o,B,v,m);if($==600){var M=$a.vsQ(),z=new Uint32Array(1),V=new Float32Array(z.buffer);
for(var X=0;X<v;X++){var O=m[X];for(var y=0;y<l;y++){z[0]=O[y]<<24|O[l+y]<<16|O[(l<<1)+y]<<8|O[(l<<1)+l+y]<<0;
var K=V[0];if(K<0)K=0;else if(K>1)K=1;O[y]=M[~~(.5+K*1e3)]}}}e.Kd(U,H,j,d)}};$a.vsQ=function(){var Q=$a.vXB;
if(Q!=null)return Q;Q=$a.vXB=new Uint8Array(1001);for(var C=0;C<1001;C++)Q[C]=~~(.49+255*e.KT(C*.001));
return Q};$a.vst=function(Q,C,j,Z,F,_){if(Z==1){for(var $=0;$<F;$++){var L=_[$],D=0;while(D<j){var d=Q[C];
C++;if(d<127){var o=Q[C];C++;d++;for(var v=0;v<d;v++)L[D+v]=o}else if(d==127){var f=Q[C];C++;var U=Q[C];
C++;var o=Q[C];C++;d=f<<8|U;for(var v=0;v<d;v++)L[D+v]=o}else if(d==128){var f=Q[C];C++;var U=Q[C];C++;
d=f<<8|U;for(var v=0;v<d;v++)L[D+v]=Q[C+v];C+=d}else{d=256-d;for(var v=0;v<d;v++)L[D+v]=Q[C+v];C+=d}D+=d}}}else if(Z==2){var H=pako.inflate(Q.slice(C)),B=Math.round(H.length/j);
for(var v=0;v<j;v++){var m=v*B;_[0][v]=H[m];_[1][v]=H[m+1];_[2][v]=H[m+2];_[3][v]=B==3?255:H[m+3]}}else alert("Unknown compression "+Z)};
$a.ib=function(Q,C,j,Z){var F=Z==4?c.o:c.UB;while(!0){var _=F(Q,C);C+=Z;if(_==0)break;else j.push(_)}return C};
$a.iK=function(Q,C,j){while(!0){var Z=c.o(Q,C);C+=4;var F=c.o(Q,C);C+=4;if(Z==_m.vsC)break;else if(Z==_m.iz)j[Z]=$a.vsJ(Q,C,C+F);
else j[Z]=c.sF(Q,C,F);C+=F}return C};$a.vsJ=function(Q,C,j){var Z={};while(C<j){var F=c.qs(Q,C);C+=F.qV;
var _=c.o(Q,C);C+=4;if(_!=1)console.log("unknown flags",_);var $=c.o(Q,C);C+=4;Z[F.iC]=c.sF(Q,C,$);C+=$}return Z};
var _m={vsC:0,vJw:1,vJn:2,vIb:3,vso:4,vIz:5,TD:6,T$:7,TW:8,vIq:9,vII:10,Tr:11,vIX:12,vIa:13,vpB:14,iR:15,vpc:16,vsP:17,vpo:18,vpG:19,vs_:20,iz:21,vsH:22,vEy:23,vEh:24,vdI:25,vdp:26,vdZ:27,vdY:28,vEW:29,TQ:30,TS:31,vdN:32,vdU:33,vXD:34,vX$:35,vXI:36,vXs:37,vXm:38,vXy:0,vXx:1,vXF:2,vXL:3,vXf:1,vXH:2,vXN:0,vXw:1,vav:1};
_m.vEb="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
function Da(){}Da.ig=function(Q,C){var j=Da,Z=Wo.parse(Q),_=0;if(Z.pages.length>1)console.log(Z.pages.length,"pages");
var F=[],$=new s;for(var L=0;L<Z.pages.length;L++){var D=Z.pages[L],d=D.layers,o=j.NM(d,L),f=!1;if(o.P()>8e3*8e3||o.W>3e4||o.C>3e4){j.uQ(d,!0);
var v=j.NM(d,L);if(v.P()>=o.P())j.uQ(d,!1)}o=j.NM(d,L);for(var U=0;U<d.length;U++){var H=d[U];if(j.IS(H)=="artboard")f=!0}if(!f){console.log("no artboard");
var B={};for(var m in D)B[m]=D[m];B._class="group";D.layers=[B]}F.push(o.clone());if(o.jJ())continue;
o.x=0;o.y=_;_+=o.C+200;$=$.fJ(o)}var Y={};if(Z.foreignSymbols)for(var q=0;q<Z.foreignSymbols.length;
q++){var r=Z.foreignSymbols[q].symbolMaster;Y[r.symbolID]={wI:r}}j.ut(Z.pages,Y,C);for(var x in Y){var H=Y[x].wI,a=j.kB(H.layers)}var i=Da.ia($,8192*8192);
C.tb=!0;C.W=Math.round($.W/ i);C.C=Math.round($.C/ i);C.buffer=e.Q(C.W*C.C*4);C.RG(Z.pages[0].layers.length);
C.tQ={};C.wa=[];_=0;for(var L=0;L<Z.pages.length;L++){var l=Z.pages[L],o=F[L],M=new rI(i,0,0,i,o.x,o.y-_);
j.iB(l.layers,C,M,Z,Y,{},[]);_+=o.C+200}delete C.tQ;delete C.wa;if(i!=1)alert("File scaled down "+i+"x")};
Da.va$=0;Da.IS=function(Q){return Q._class?Q._class:Q.$class};Da.ia=function(Q,C){var j=1;while(Math.round(Q.W/j)*Math.round(Q.C/j)>C)j++;
if(j!=1&&!window.confirm("Your image is quite large ("+Q.W+" x "+Q.C+" px).\n"+"Press OK to scale it down "+j+"x, or Cancel to keep the size."))j=1;
return j};Da.NM=function(Q,C){var j=[],Z=Da;for(var F=0;F<Q.length;F++){var _=Q[F],$=Z.Gm(_.frame);if(C==0||Z.IS(_)=="artboard")j.push($)}return e.rect.yR(j)};
Da.uQ=function(Q,C){var j=[],Z=Da;for(var F=0;F<Q.length;F++){var _=Q[F],$=Z.Gm(_.frame);$.W+=150;$.C+=150;
j.push($)}var L=e.rect.yR(j);e.rect.vpW(j,C);var D=e.rect.yR(j);if(D.P()*1.5<L.P()||L.W>3e4&&D.W<=3e4||L.C>3e4&&D.C<=3e4){alert("Re-arranging artboards");
for(var F=0;F<Q.length;F++){var d=j[F],_=Q[F],o=_.frame;o.x=d.x;o.y=d.y}}};Da.ut=function(Q,C,j){var Z=Da;
for(var F=0;F<Q.length;F++){var _=Q[F],$=Z.IS(_);if(["page","artboard","group"].indexOf($)!=-1)Z.ut(_.layers,C,j);
else if($=="symbolMaster")C[_.symbolID]={wI:_}}};Da.kB=function(Q){var C=Da;for(var j=0;j<Q.length;j++){var Z=Q[j],F=C.IS(Z),_=null;
if(["page","artboard","group"].indexOf(F)!=-1)_=C.kB(Z.layers);if(F=="symbolMaster"||F=="symbolInstance")_=Z;
if(_!=null)return _}return null};Da.iB=function(Q,C,j,Z,F,_,$){var L=Da,D=[];for(var d=0;d<Q.length;
d++){var o=Q[d],v=o.frame?L.Gm(o.frame):null,f=o.style,q="",M=null,z=!1;if(f==null){console.log("no styles")}var U=L.mk(o,j),H=L.IS(o),B=H=="shapeGroup"||H=="shapePath"||H=="rectangle"||H=="oval"||H=="triangle",m=["page","artboard","group"].indexOf(H)!=-1;
if(H=="shapeGroup"){for(var Y=0;Y<o.layers.length;Y++)if(L.IS(o.layers[Y])=="shapeGroup")m=!0}var r=o.exportOptions;
if(r){var x=r.exportFormats;if(x==null)x=r.sizes;if(H!="artboard"&&(x&&x.length!=0)){var a=x[0].scale}}var i=C.qg();
i.yh(o.isVisible);var l=o.name;if(!(typeof l=="string"))l=H;i.sp(q+l.slice(0,250));if(f!=null)M=L.vEe(Z,C,f,v,U,i.getName(),B||H=="artboard"||m);
if(H=="rectangle"&&f&&f.fills&&f.fills[0]){var V=f.fills[0];if(V.fillType==4&&V.patternFillType>1&&V.image!=null)z=!0}if(o.shouldBreakMaskChain){while(D.length!=0)L.By(D.pop(),C)}if(m){i.add.lsct=o.layerListExpandedType==2?_K.gh:_K.f_;
i.gd="pass";i.xz=24;i.yh(o.isVisible);C.k.push(C.fi());if(H=="artboard"){var X=v.clone(),O=U.xZ();X.x=-Math.floor(U._Y/O);
X.y=-Math.floor(U.Rf/O);X.W=Math.floor(X.W/O);X.C=Math.floor(X.C/O);i.vo(X);var y=o.backgroundColor;
i.add.artb.Clr={t:"Objc",v:e.q.mx({h:255*y.red,J:255*y.green,_:255*y.blue})};i.add.artb.artboardBackgroundType={t:"long",v:4}}L.iB(o.layers,C,U,Z,F,_,$)}else if(B&&!z){i.add.vmsk=new S.jH;
i.add.vstk=JSON.parse(JSON.stringify(WM.oj.default));i.add.vstk.strokeEnabled.v=!1;i.add.vogk=[];var K=M!=null&&M.frameFXMulti.v.length==1,R=f?f.fills:null,W=f?L.Iq(Z,R,v,U,i.getName(),C,L.iy($,o.do_objectID+"_image")):[];
if(W.length==0){if(K)i.add.vstk.fillEnabled.v=!1;else i.add.iOpa=0;i.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.q.mx({h:0,J:0,_:0})}}}else{var N=W[0],I=null,T=null;
if(N.type=="SoFi"){I="SoCo";T=WM.rE}if(N.type=="GrFl"){I="GdFl";T=WM.FX}if(N.type=="patternFill"){I="PtFl";
T=WM.FF}if(I!=null){i.add[I]={classID:"null"};for(var Y=0;Y<T.length;Y++){var h=T[Y];i.add[I][h]=N.O.v[h]}var p=N.O.v.Opct.v.val;
if(K&&p==0)i.add.vstk.fillEnabled.v=!1;else i.add.iOpa=Math.round(255*p/100)}}i.xz|=16;i.add.vmsk.G=L.ki(o.layers?o.layers:[o],o.layers?U:j,i.add.vogk);
var u=f?f.blur:null;if(u&&u.isEnabled&&u.type<=1)i.add.vmsk.hD=u.radius;if(i.add.vmsk.G.length==2){console.log("shape with no content:",i.getName())}if(K){var g=M.frameFXMulti.v[0].v,A=i.add.vstk,w=f.borders[0];
M.frameFXMulti.v=[];rk.vzv(g,A);var r$=f.borderOptions,rW=f.miterLimit;if(r$){var J=r$.dashPattern;A.strokeStyleLineCapType.v.strokeStyleLineCapType=WM.oj.Eg[r$.lineCapStyle];
A.strokeStyleLineJoinType.v.strokeStyleLineJoinType=WM.oj.join[r$.lineJoinStyle];if(J)A.strokeStyleLineDashSet.v=rk.PO(J,1/g.Sz.v.val);
if(rW!=null)A.strokeStyleMiterLimit.v=rW}}i.Ea(C)}else if(H=="bitmap"||z){var rr=z?f.fills[0]:null,r_=z?rr.image.bdata:o.image.bdata,rO=C.$H(r_,i.getName(),0,0);
rO.xz=i.xz;i=rO;var u=f.blur,k=f.colorControls;if(u||k){i.add.SoLd.filterFX=vr.fh();C.$Y({id:i.add.SoLd.placed.v,rect:new s,buffer:e.Q(1),A:new S.Xh});
var R=i.add.SoLd.filterFX.v.filterFXList.v;if(u){var rv=vr.Xd("GsnB",{});rv.v.enab.v=u.isEnabled;rv.v.Fltr.v.Rds.v.val=u.radius;
R.push(rv)}if(k){var rb=k.brightness,rt=k.contrast,rK=k.hue,rR=k.saturation;if(rK!=0||rR!=1){var rv=vr.Xd("hue2",{});
rv.v.enab.v=k.isEnabled;vM.ht(rv.v.Fltr.v,0,[Math.round(rK*180/Math.PI),Math.round((rR-1)*100),0]);R.push(rv)}if(rb!=0||rt!=1){var rv=vr.Xd("brit",{});
rv.v.enab.v=k.isEnabled;rt=rt-1;if(rt>0)rt/=2;var ri=rv.v.Fltr.v;ri.Brgh.v=Math.round(rb*255);ri.Cntr.v=Math.round(rt*255);
ri.useLegacy.v=!0;R.push(rv)}}}if(z){var ru=rr.patternFillType;if(ru==3){var rS=i.rect.W/ i.rect.C,rg=v.W/v.C;
if(rS<rg){U.translate(-(v.W*(1-rS/rg))/2,0);U.scale(rg/rS,1)}else{U.translate(0,-(v.C*(1-rg/rS))/2);
U.scale(1,rS/rg)}}}v.x=v.y=0;var rd=e.g.iq(v).b;U.Ie();e.g.M(rd,U,rd);i.add.SoLd.Trnf=G.S.Zv(rd);i.add.SoLd.nonAffineTransform=G.S.Zv(rd);
i.RN(C,!1)}else if(H=="text"){if(o.attributedString==null)continue;var vO=U.clone(),rq,rL,rp=0;vO.Ie();
vO.om=vO.xP=Math.min(vO.om,vO.xP);i.add.lnsr="rend";i.add.TySh=rD.dg(0,0);i.add.TySh.Vo=new s(0,0,v.W,v.C);
i.add.TySh.M=vO;var rl=o.attributedString;if(rl.archivedAttributedString)rl=rl.archivedAttributedString;
var rV=rl.NSString;if(rV==null)rV=rl.string;if(rV==null)rV="";if(rV["NS.string"])rV=rV["NS.string"];
if(_[o.do_objectID]!=null)rV=_[o.do_objectID];var ry=L.iy($,o.do_objectID+"_stringValue");if(ry)rV=ry.value;
if(rl.attributes!=null){rq=[];rL=[];var vj=rl.attributes;for(var Y=0;Y<vj.length;Y++){rq.push(vj[Y].length,Y);
rL.push(vj[Y].attributes)}}else if(rl.NSAttributeInfo==null){rq=[rV.length,0];rL=[rl.NSAttributes]}else{rq=rl.NSAttributeInfo["NS.data"];
rL=rl.NSAttributes;rq=Da.vEz(rq,rL)}for(var Y=0;Y<rq.length;Y+=2)rp+=rq[Y];if(rp!=rV.length){while(rp>rV.length){rq[rq.length-2]--;
rp--;if(rq[rq.length-2]==0){rq.pop();rq.pop()}}rq[rq.length-2]+=rV.length-rp}rV=rV.replace(/\u2028/g,"\n");
rV=rV.replace(/\u2029/g,"\n");rV=rV.replace(/\r/g,"\n");var rx=i.add.TySh.Qp;rD.Gt(rx,0,rV);if(rV!=""){var rF=o.textBehaviour,DX=f.textStyle,va=DX?DX.verticalAlignment:0,rB=L.vEi(rx,rq,rL,rV),O=vO.xZ(),vW=rD.WW(rx,0,1),_Q=0;
if(vW.hy.Font){var rN=vW.UT[vW.hy.Font].Name;if(rN=="FontAwesome"||rN=="Ionicons")rB*=.87}var rM=vW.hy.AutoLeading?0:vW.hy.Leading*.6,_O=Math.max(rB,rM)*O,rw=v.W,rj=v.C;
if(rF==0){rD.GL(rx,0);var rE=rD.jS(vW.Cx);if(rE==1)_Q=rw*O;if(rE==2)_Q=rw*O*.5;if(va==0)_O*=1;else _O*=.9}else{rD.GL(rx,1);
rD.Cr(rx,[0,0,Math.round(rw),Math.round(rj)]);if(rF==2&&va==0)_O=_O*.2;else if(rF==2&&va==1){_O=O*.5*(rj-vW.hy.FontSize)}else if(rF==1&&va==0)_O=_O*.2;
else _O=_O*.35}i.add.TySh.M.translate(_Q,_O)}}else if(H=="symbolInstance"||H=="symbolMaster"){var _W=o.symbolID;
if(_[o.do_objectID])_W=_[o.do_objectID].symbolID;var vm=L.iy($,o.do_objectID+"_symbolID");if(vm)_W=vm.value;
if(_W=="")continue;var rf={};for(var h in _)rf[h]=_[h];if(o.overrides)for(var h in o.overrides)rf[h]=o.overrides[h];
var rU=$.slice(0);if(o.overrideValues)rU=rU.concat(o.overrideValues);var Du=F[_W];if(Du==null){console.log("Unknown master master",o.symbolID);
continue}var _s=Da.Gm(Du.wI.frame),_t=_s.W/v.W,_I=_s.C/v.C,Qb=U.clone();Qb.scale(_t,_I);i.add.lsct=_K.f_;
i.gd="pass";i.xz=24;i.yh(o.isVisible);C.k.push(C.fi());var _D=Du.wI;if(C.wa.indexOf(_D)==-1){C.wa.push(_D);
L.iB(_D.layers,C,Qb,Z,F,rf,rU);C.wa.pop()}}else if(H=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+H,o);continue}if(f&&f.contextSettings){var _E=f.contextSettings,vs=_E.blendMode;
if(vs<L.WM.length){i.gd=rP.Cg[rP.kQ.indexOf(L.WM[vs])];if(m&&i.gd=="norm")i.gd="pass"}i.opacity=Math.round(i.opacity*_E.opacity)}if(M!=null){i.add.lmfx=M}C.k.push(i);
if(o.hasClippingMask&&Q.length>1){D.push(i);C.k.push(C.fi())}}while(D.length!=0)L.By(D.pop(),C)};Da.iy=function(Q,C){for(var j=0;
j<Q.length;j++)if(Q[j].overrideName.startsWith(C))return Q[j]};Da.vEz=function(Q,C){var j=0,Z=[];while(j+1<Q.length){var F=Q[j];
j++;if(F>127){F+=128*(Q[j]-1);j++;if(Q[j-1]>127){F+=128*(Q[j]-1);j++}}var _=Q[j];j++;Z.push(F,_)}return Z};
Da.vEi=function(Q,C,j,Z){var F=Da,_=0,v=0,f=0;for(var $=0;$<Z.length;$++){var L=Z.charCodeAt($),D=1473<=L&&L<=1479||1488<=L&&L<=1514||1520<=L&&L<=1524,d=1569<=L&&L<=1594||1600<=L&&L<=1749;
if(D||d)_++}var o=_>Z.length/2;for(var $=0;$<C.length;$+=2){var U=C[$],i=14,l="DejaVuSans";if(U==0)continue;
var H=C[$+1],B=j[H],m=rD.WW(Q,v,v+U-1),Y=B.NSColor;if(Y==null){var Y=B.MSAttributedStringColorDictionaryAttribute;
if(Y==null)Y=B.MSAttributedStringColorAttribute;if(Y==null)Y="0 0 0";else Y=[Y.red,Y.green,Y.blue].join(" ")}else if(F.IS(Y)=="MSArchivedColor")Y=Y.dr+" "+Y.dg+" "+Y.db;
else if(Y.NSRGB){Y=Y.NSRGB;Y=c.hX(Y,0,Y.length-1)}else if(Y.NSCMYK){Y=Y.NSCMYK;Y=c.hX(Y,0,Y.length-1);
Y=Y.split(" ").map(parseFloat);var q=1-Y[0],r=1-Y[1],x=1-Y[2],a=1-Y[3];Y=q*a+" "+r*a+" "+x*a}else if(Y.NSWhite){Y="1 1 1"}Y=Y.split(" ");
m.hy.FillColor={Type:1,Values:[1,parseFloat(Y[0]),parseFloat(Y[1]),parseFloat(Y[2])]};var M=B.MSAttributedStringFontAttribute;
if(B.NSFont){i=B.NSFont.NSSize;l=B.NSFont.NSName}else if(M){if(M.attributes){M=M.attributes;i=M.size;
l=M.name}else{var z=M.NSFontDescriptorAttributes;if(z==null)z=M.UIFontDescriptorAttributes;M=z;i=M.NSFontSizeAttribute;
l=M.NSFontNameAttribute}if(l==null)l="DejaVuSans"}var f=Math.max(f,i);m.hy.FontSize=Math.round(i);rD._D(m,l);
var V=B.NSKern;if(V==null)V=B.kerning;if(V!=null)m.hy.Tracking=Math.round(1e3*V/ i);if(B.NSUnderline!=null)m.hy.Underline=B.NSUnderline>0;
if(B.NSStrikethrough!=null)m.hy.Strikethrough=B.NSStrikethrough>0;if(B.MSAttributedStringTextTransformAttribute==1)m.hy.FontCaps=2;
var X=B.NSParagraphStyle;if(X==null)X=B.paragraphStyle;if(X){var O=X.paragraphSpacing;if(O!=null){m.Cx.SpaceAfter=O}var y=X.NSAlignment;
if(y==null)y=X.alignment;if(y!=null){var K=0;if(!1){}else if(y==1)K=1;else if(y==2)K=2;else if(y==4)K=0;
else{K=y;console.log("unknown align",y)}if(o&&K<2)K=1-K;m.Cx.Justification=K}var R=X.NSMinLineHeight;
if(R==null)R=X.minimumLineHeight;if(R!=null){m.hy.AutoLeading=!1;m.hy.Leading=R}}m.Cx._Direction=o?1:0;
rD.ey(Q,v,v+U,m);v+=U}return f};Da.vEe=function(Q,C,j,Z,F,_,$){var L=Da,D=JSON.parse(WM.default),o=!1;
for(var d=0;d<WM.order.length;d++)D[WM.zV[d]]={t:"VlLs",v:[]};var v=j.fills,f=L.Iq(Q,v,Z,F,_,C);for(var U=0;
U<2;U++){var H=j[["shadows","innerShadows"][U]];if(H==null)continue;var B=["DrSh","IrSh"][U],m=WM.zV[WM.order.indexOf(B)];
for(var d=0;d<H.length;d++){var Y=H[d];if(!Y.isEnabled)continue;if(Y.contextSettings.opacity==0||Y.color.alpha==0)continue;
var q=JSON.parse(WM.oy[WM.order.indexOf(B)]);D[m].v.unshift({t:"Objc",v:q});o=!0;q.Clr.v=L.GQ(Y.color);
q.blur.v.val=Math.round(Y.blurRadius/F.xZ());var r=F.clone();r._Y=r.Rf=0;r.Ie();var x=r.IV(new Wn(Y.offsetX,Y.offsetY)),a=Math.sqrt(x.x*x.x+x.y*x.y);
q.Dstn.v.val=Math.round(a);q.lagl.v.val=Math.round(Math.atan2(x.y,-x.x)*(180/Math.PI));if(q.layerConceals)q.layerConceals.v=f.length!=0;
L.ix(Y,q)}}var i=j.borders;if(i!=null&&(f.length==0||j.blur==null||!j.blur.isEnabled))for(var d=0;d<i.length;
d++){var l=i[d];if(!l.isEnabled)continue;var q=JSON.parse(WM.oy[WM.order.indexOf("FrFX")]),m=WM.zV[WM.order.indexOf("FrFX")];
D[m].v.unshift({t:"Objc",v:q});o=!0;q.Clr.v=L.GQ(l.color);if(l.fillType!=0&&l.gradient){var M=L.rv(l.gradient,Z,F,_),z=["Type","Angl","Ofst","Scl"];
for(var d=0;d<z.length;d++)q[z[d]]=M[z[d]];q.Grad.v=M.Grad.v;q.PntT.v.FrFl="GrFl"}q.Sz.v.val=l.thickness/F.xZ();
q.Styl.v.FStl=["CtrF","InsF","OutF"][l.position];L.ix(l,q)}for(var d=$?1:0;d<f.length;d++){var V=f[d],m=WM.zV[WM.order.indexOf(V.type)];
D[m].v.unshift(V.O);o=!0}return o?D:null};Da.Iq=function(Q,C,j,Z,F,_,$){if(C==null)return[];var L=Da,D=[];
for(var d=0;d<C.length;d++)if(C[d].isEnabled)D.push(C[d]);C=D;var o=[];for(var d=0;d<C.length;d++){var v=C[d],f=null,U=null;
if(v.fillType==0){f="SoFi";var H=JSON.parse(WM.oy[WM.order.indexOf("SoFi")]);U={t:"Objc",v:H};U.v.Clr.v=L.GQ(v.color)}else if(v.fillType==1){f="GrFl";
U={t:"Objc",v:L.rv(v.gradient,j,Z,F)}}else if(v.fillType==4&&v.image!=null){var B=v.image;if($)B=$.value;
var m=vX.Kl(B.bdata.buffer);if(m!=null&&m!="pdf"&&m!="eps"){var Y,a=0,i=0,l=0;if(_.tQ[B.key])Y=_.tQ[B.key];
else{var q=vX.Xo(m).aJ(B.bdata)[0];Y={data:q.data,z:new s(0,0,q.Rm.W,q.Rm.C)};Y.id=rH.qS()+"-d71c-11e5-b1ae-a548a96e5f9f";
Y.name="someImage";Y.Dg=new Uint8Array(Y.data);delete Y.data;_.ES(Y);_.tQ[B.key]=Y}var H=JSON.parse(WM.oy[WM.order.indexOf("patternFill")]);
f="patternFill";U={t:"Objc",v:H};var r=v.patternFillType,x=v.patternTileScale;H.Algn.v=!0;H.Ptrn.v.Idnt.v=Y.id;
if(r==0){a=x*Y.z.W/Math.min(Y.z.W,Y.z.C);i=-Z._Y;l=-Z.Rf}else{a=Math.max(j.W/Y.z.W,j.C/Y.z.C);i=-Z._Y-(Y.z.W*a-j.W)/2;
l=-Z.Rf-(Y.z.C*a-j.C)/2}H.Scl.v.val=100*a*(1/Z.xZ());H.phase.v.Hrzn.v=Math.round(i/Z.xZ());H.phase.v.Vrtc.v=Math.round(l/Z.xZ())}}else if(v.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",v.fillType);
if(f!=null){L.ix(v,U.v);o.push({type:f,O:U})}}return o};Da.var=function(Q){var C=Da,j=new s(0,0,1,1);
Q=Q.slice(0);while(!0){var Z=!1;for(var F=0;F<Q.length-1;F++){var _=Q[F],$=Q[F+1],L=null,D=_.contextSettings;
if(_.fillType==0&&(D==null||D.opacity==1&&D.blendMode==0)&&_.color.alpha==1){var d="norm",o=1,D=$.contextSettings;
if(D){o=D.opacity;d=rP.Jt(C.WM[D.blendMode])}if($.fillType==0){L=JSON.parse(JSON.stringify($));C.Xx(L.color,_.color,L.color,j,d,o)}if($.fillType==1){L=JSON.parse(JSON.stringify($));
var v=L.gradient.stops;for(var f=0;f<v.length;f++)C.Xx(v[f].color,_.color,v[f].color,j,d,o)}if(L!=null&&L.contextSettings){var D=L.contextSettings;
D.opacity=1;D.blendMode=0}}if(L!=null){Q.splice(F,0,L);Z=!0;break}}if(!Z||Q.length<2)break}return Q};
Da.Xx=function(Q,C,j,Z,F,_){var $=Da,L=e.Q(4);$.Bb(Q,L);var D=e.Q(4);$.Bb(C,D);e.B.hW(F,L,Z,D,Z,Z,_);
$.vdO(D,j)};Da.Bb=function(Q,C){C[0]=255*Q.red;C[1]=255*Q.green;C[2]=255*Q.blue;C[3]=255*Q.alpha};Da.vdO=function(Q,C){C.red=Q[0]/255;
C.green=Q[1]/255;C.blue=Q[2]/255;C.alpha=Q[3]/255};Da.By=function(Q,C){Q=Q.clone();Q.xz=24;Q.sp("Mask by "+Q.getName());
C.k.push(Q);Q.add.lsct=_K.gh;Q.add.lyid=C.oG();delete Q.add.lmfx;delete Q.add.SoCo;delete Q.add.GdFl;
delete Q.add.PtFl;delete Q.add.iOpa;if(Q.add.vmsk)Q.add.vmsk.CZ=!0;Q.Ea(C);if((Q.xz&16)==16)Q.xz-=16;
if((Q.xz&2)==2)Q.xz-=2;Q.gd="pass";Q.opacity=255};Da.WM="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
Da.rv=function(Q,C,j,Z){j=j.clone();j.Ie();j._Y=j.Rf=0;var F=j.xZ(),f=0,U=0;j.scale(1/F,1/F);var _=Da,$=JSON.parse(WM.oy[WM.order.indexOf("GrFl")]),L=$.Grad.v;
L.Intr.v=0;if(Q==null)return $;var D=Q.gradientType,d=_.nN(Q.from),o=_.nN(Q.to);d.offset(-.5,-.5);o.offset(-.5,-.5);
d=j.IV(d);o=j.IV(o);var v=Math.atan2(-(o.y-d.y),o.x-d.x);$.Type.v.GrdT=["Lnr","Rdl","Angl"][D];$.Scl.v.val=100*Wn.iQ(d,o);
if(D==0){$.Angl.v.val=180/Math.PI*v;$.Scl.v.val=100*Wn.iQ(d,o);f=(d.x+o.x)/2;U=(d.y+o.y)/2}if(D==1){$.Scl.v.val=200*Wn.iQ(d,o);
f=d.x;U=d.y}if(D==2){$.Angl.v.val=180/Math.PI*(v-Math.PI/2)}var H=$.Ofst.v;H.Hrzn.v.val=f*100;H.Vrtc.v.val=U*100;
var B=[];for(var m=0;m<Q.stops.length;m++){var Y=Q.stops[m],q=Y.color;B.push([Y.position,q?[q.red,q.green,q.blue]:[0,0,0],q.alpha])}e.q.vF(B,L);
return $};Da.ix=function(Q,C){var j=Da,Z=1,F=Q.contextSettings;if(F!=null){C.Md.v.BlnM=j.WM[F.blendMode];
Z*=F.opacity}else C.Md.v.BlnM=j.WM[0];C.enab.v=Q.isEnabled;if(C.uglg!=null)C.uglg.v=!1;if(Q.color!=null)Z*=Q.color.alpha;
C.Opct.v.val=Math.round(Z*100)};Da.GQ=function(Q){return e.q.mx(Q?{h:Q.red*255,J:Q.green*255,_:Q.blue*255}:{h:0,J:0,_:0})};
Da.ki=function(Q,C,j){var Z=Da,F=[{type:6},{type:8,all:0}];for(var _=0;_<Q.length;_++){var $=Q[_],L=$.booleanOperation,D=0,d=$._class,B=!1;
if(d=="group"||d=="text"||d=="symbolInstance"||d=="slice"){console.log(d+" inside ShapeGroup");continue}if(L==-1)D=0;
else if(L==0)D=1;else if(L==1)D=2;else if(L==2)D=3;else if(L==3)D=0;if(_==0)D=1;var o=Da.Gm($.frame),v=Z.mk($,C),f=$.path?$.path:$,U=[{type:0,length:0,rh:D,Vy:2,XN:0,Xn:0}],H=f.points;
for(var m=0;m<H.length;m++){var Y=H[m],q=Z.nN(Y.curveTo),r=Z.nN(Y.point),x=Z.nN(Y.curveFrom);B=B||Y.hasCurveFrom&&!x.gm(r)||Y.hasCurveTo&&!q.gm(r)}var a=[];
if(!B){var i=[],l=H.length;if(l==0)continue;for(var m=0;m<l;m++){a[m]=H[m].cornerRadius;var Y=Z.nN(H[m].point);
i.push(Y.x,Y.y)}v.scale(1/o.W,1/o.C);v.Ie();e.g.M(i,v,i);var M=e.D.yF(i,a);U=U.concat(M);U[0].length=U.length-1}else{var z=H.length;
U[0].length=z;for(var m=0;m<z;m++){var Y=H[m],V=Y.curveMode,X=Z.nN(Y.point);U[1+m]={type:V==2||V==4?1:2,$_:Y.hasCurveTo?Z.nN(Y.curveTo):X.clone(),d:X,jk:Y.hasCurveFrom?Z.nN(Y.curveFrom):X.clone()}}v.scale(1/o.W,1/o.C);
v.Ie();e.D.gw(U,v);var a=[];for(var m=0;m<z;m++){var Y=H[m],V=Y.curveMode,O=Y.cornerRadius;if(V==1&&O!=0)a.push(O);
else a.push(0)}}if(!f.isClosed)for(var m=0;m<U.length;m++)U[m].type+=3;F=F.concat(U);var y=e.Ky.WC(),K=Z.IS($);
if(v._==0&&v.ug==0){var R=v._Y,W=v.Rf,N=R+v.om,I=W+v.xP,T=[R,W,N,I];if(K=="rectangle"&&a.length==4)y=e.Ky.rU(2,T,a);
if(K=="oval")y=e.Ky.rU(5,T)}j.push(y)}return F};Da.mk=function(Q,C){var j=C.clone(),Z=Q.frame?Da.Gm(Q.frame):null;
if(Z)j.translate(-Z.x-Z.W/2,-Z.y-Z.C/2);if(Q.isFlippedHorizontal)j.scale(-1,1);if(Q.isFlippedVertical)j.scale(1,-1);
j.rotate(-Q.rotation*(Math.PI/180));if(Z)j.translate(Z.W/2,Z.C/2);return j};Da.nN=function(Q){Q=Q.slice(1,Q.length-1).split(",");
return new Wn(parseFloat(Q[0]),parseFloat(Q[1]))};Da.Gm=function(Q){return new s(Q.x,Q.y,Q.width,Q.height)};
Da.Sw=function(Q){return{_class:"rect",constrainProportions:!1,x:Q.x,y:Q.y,width:Q.W,height:Q.C}};function vD(){}vD.ig=function(Q,C){var j=vD,Z=UZIP.parse(Q),F=JSON.parse(c.hI(Z.manifest)),_=JSON.parse(c.hI(Z["resources/graphics/graphicContent.agc"])).resources,$=[],L=F.children;
for(var D=0;D<L.length;D++){var d=L[D];if(d.name=="artwork"){var o=d.children;for(var v=0;v<o.length;
v++)if(o[v]["uxdesign#bounds"]){var f=o[v],U=JSON.parse(c.hI(Z["artwork/"+f.path+"/graphics/graphicContent.agc"]));
if(U.children.length!=1)throw"e";f._node=U.children[0];$.push(f)}}}var H=[],B=new s;for(var D=0;D<$.length;
D++){var f=$[D],m=Da.Gm(f["uxdesign#bounds"]);H.push(m);B=B.fJ(m)}var Y=Da.ia(B,8192*8192);C.tb=!0;C.W=Math.round(B.W/Y);
C.C=Math.round(B.C/Y);C.buffer=e.Q(C.W*C.C*4);C.RG($.length);var q=new rI(Y,0,0,Y,B.x,B.y);C.tQ={};for(var D=0;
D<$.length;D++){var f=$[D],m=Da.Gm(f["uxdesign#bounds"]),r=f._node,x=q.clone(),a=m.clone(),i=x.xZ();
x.translate(-m.x,-m.y);a.x=-Math.floor(x._Y/ i);a.y=-Math.floor(x.Rf/ i);a.W=Math.floor(a.W/ i);a.C=Math.floor(a.C/ i);
x.translate(m.x,m.y);vD.IB(r,C,x,_,Z,a);var l=C.k[C.k.length-1];l.sp(f.name);l.vo(a);if(D!=$.length-1)l.add.lsct=_K.f_}delete C.tQ;
console.log(C.H)};vD.kq=function(Q){if(Q==null)return new rI;return new rI(Q.a,Q.b,Q.c,Q.d,Q.tx,Q.ty)};
vD.IB=function(Q,C,j,Z,F,_){var $=vD,L=Q.type,D=Q[L],d=Q.style,o=$.kq(Q.transform),H,B="none",m,Y="none",q,r;
o.Ie();var v=j.clone();v.concat(o);var f=C.qg(),U=Q.name;f.sp(U?U.slice(0,250):"Layer");if(Q.visible!=null)f.yh(Q.visible);
if(d){H=d.stroke;B=H?H.type:"none";m=d.fill;Y=m?m.type:"none";q=d.filters;r=d.clipPath;if(d.opacity)f.opacity=Math.round(255*d.opacity);
if(Y=="solid"&&m.color.alpha)f.opacity=Math.round(f.opacity*m.color.alpha);if(q){f.add.lmfx=$.vdD(q);
for(var x=0;x<q.length;x++)if(q[x].type=="uxdesign#blur"){var a=q[x],i=a.params,l=i.brightnessAmount;
if(l==null)l=0;l=Math.abs(l/100);if((a.visible==null||a.visible==!0)&&i.backgroundEffect)f.opacity=Math.round(f.opacity*(l+(1-l)*i.fillOpacity))}}if(Y=="pattern"&&m.pattern.meta.ux.uid=="")Y="none"}if(L=="artboard"||L=="group"){if(r&&Z.clipPaths[r.ref]){var M=Z.clipPaths[r.ref].children[0],z=M.shape,V=z!=null&&z.type=="rect"&&z.width*z.height>1e6;
if(M.type!="text"&&!V){var o=$.kq(M.transform);o.Ie();var X=v.clone();X.concat(o);f.add.vmsk=new S.jH;
f.add.vmsk.G=$.ki(z);X=X.clone();X.Ie();e.D.gw(f.add.vmsk.G,X);f.Ea(C)}else if(!V)alert("Clipping by text has been ignored")}f.add.lsct=_K.gh;
f.gd="pass";f.xz=24;if(Q.visible!=null)f.yh(Q.visible);C.k.push(C.fi());var O=D.children,y=m;if(y)y=y.color;
if(y)y=y.value;if(m&&(Y!="solid"||y.r!=255||y.g!=255||y.b!=255)){var K=C.qg();K.sp("BACKGROUND");K.xz|=16;
K.add.vstk=JSON.parse(JSON.stringify(WM.oj.default));K.add.vmsk=new S.jH;K.add.vmsk.G=$.ki({type:"rect",x:_.x,y:_.y,width:_.W,height:_.C});
$.rt(m,Y,v,_,_,K,C,Z,F);K.Ea(C);C.k.push(K)}for(var x=0;x<O.length;x++){vD.IB(O[x],C,v,Z,F,_)}}else if(L=="shape"&&Q.shape.type=="rect"&&(Q.shape.r==null||Q.shape.r==0)&&Y=="pattern"&&Math.abs(Q.shape.width/Q.shape.height-m.pattern.width/m.pattern.height)<.01){var R=m.pattern,W=R.meta.ux,N=W.uid,I=F["resources/"+N];
if(I==null){console.log(R);return}var T=C.$H(I,f.getName(),0,0);T.xz=f.xz;T.opacity=f.opacity;f=T;var h=e.g.iq(new s(0,0,R.width,R.height)).b,p=new rI;
p.scale(R.width/Q.shape.width,R.height/Q.shape.height);v.concat(p);v.Ie();e.g.M(h,v,h);f.add.SoLd.Trnf=G.S.Zv(h);
f.add.SoLd.nonAffineTransform=G.S.Zv(h);f.RN(C,!1)}else if(L=="shape"){f.xz|=16;f.add.vstk=JSON.parse(JSON.stringify(WM.oj.default));
f.add.vmsk=new S.jH;f.add.vmsk.G=$.ki(D);var u=e.D.kd(f.add.vmsk.G,null),X=v.clone();X.Ie();e.D.gw(f.add.vmsk.G,X);
var g=e.D.kd(f.add.vmsk.G,null);if(B=="none"){}else{var A=H.color.value,w,r$;w="SoFi";var rW=JSON.parse(WM.oy[WM.order.indexOf("SoFi")]);
r$={t:"Objc",v:rW};r$.v.Clr.v=e.q.mx({h:A.r,J:A.g,_:A.b});var J=H.align,rr=H.cap;if(J==null)J="center";
var r_=f.add.vstk;r_.strokeEnabled.v=!0;r_.strokeStyleLineWidth.v.val=H.width;if(J)r_.strokeStyleLineAlignment.v.strokeStyleLineAlignment=WM.oj.EE[["inside","center","outside"].indexOf(J)];
if(rr)r_.strokeStyleLineCapType.v.strokeStyleLineCapType=WM.oj.Eg[["butt","round","square"].indexOf(rr)];
var rO=["SoFi","GrFl","patternFill"].indexOf(w),k=[WM.rE,WM.FX,WM.FF][rO];r_.strokeStyleContent.v={classID:WM.oj.wH[0]};
var rv=r_.strokeStyleContent.v={classID:WM.oj.wH[rO]};for(var x=0;x<k.length;x++)rv[k[x]]=r$.v[k[x]]}if(q)for(var x=0;
x<q.length;x++)if(q[x].type=="uxdesign#blur"&&q[x].visible){var rb=q[x];f.add.vmsk.hD=rb.params.blurAmount}$.rt(m,Y,v,u,g,f,C,Z,F);
f.Ea(C)}else if(L=="text"&&Q.text){var rt=Q.text,rK=rt.frame,rR=d.font,ri=d.textAttributes,o=v.clone(),rq=0;
o.Ie();f.add.lnsr="rend";f.add.TySh=rD.dg(0,0);f.add.TySh.Vo=new s(0,0,100,100);f.add.TySh.M=o;var ru=f.add.TySh.Qp,rS=rt.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
rD.Gt(ru,0,rS);if(rS!=""){var rg=rD.WW(ru,0,1),rd=rR.postscriptName;if(rd==null)rd=rR.family;rD._D(rg,rd);
rg.hy.FontSize=Math.round(rR.size);if(m){var A=m.color.value;rg.hy.FillColor={Type:1,Values:[1,A.r/255,A.g/255,A.b/255]}}if(ri){if(ri.paragraphAlign)rg.Cx.Justification=["left","right","center"].indexOf(ri.paragraphAlign);
if(ri.letterSpacing)rg.hy.Tracking=Math.round(ri.letterSpacing);if(ri.lineHeight){rg.hy.AutoLeading=!1;
rg.hy.Leading=Math.round(ri.lineHeight)}}rD.ey(ru,0,rS.length,rg)}var vO=Q.meta.ux.rangedStyles;if(vO)for(var x=0;
x<vO.length;x++){var D=vO[x],rL=Math.min(D.length,rS.length-rq),rg=rD.WW(ru,rq,rq+rL),rd=D.postscriptName;
if(rd==null)rd=D.family;if(rd!=null)rD._D(rg,rd);var rl=D.textScript,rV=D.underline,ry=D.fontSize,a=D.fill,vj=D.textTransform;
if(rl&&rl!="none")rg.hy.FontBaseline=rl=="superscript"?1:2;if(rV!=null)rg.hy.Underline=rV;if(ry!=null)rg.hy.FontSize=Math.round(ry);
if(vj!=null)rg.hy.FontCaps=vj=="uppercase"?2:0;if(a!=null){var rp=a.value;rg.hy.FillColor={Type:1,Values:[1,(rp>>>16&255)/255,(rp>>>8&255)/255,(rp>>>0&255)/255]}}rD.ey(ru,rq,rq+rL,rg);
rq+=rL}if(rK.type=="area"){rD.GL(ru,1);rD.Cr(ru,[0,0,rK.width,rK.height])}}else console.log(L,Q);C.k.push(f)};
vD.ki=function(Q){var C=Q.type,j=[{type:6},{type:8,all:0}];if(C=="rect"){var Z=Q.r,F=Q.x,_=Q.y,$=Q.width,L=Q.height;
if(Z==null)j=e.D._K.Rect(F,_,$,L,0);else j=j.concat([{type:0,rh:1,length:8,XN:0,Xn:0,Vy:1}]).concat(e.D.yF([F,_,F+$,_,F+$,_+L,F,_+L],Z,!1))}else if(C=="circle"){var Z=Q.r;
j=e.D._K.Cm(Q.cx-Z,Q.cy-Z,2*Z,2*Z)}else if(C=="ellipse"){var D=Q.rx,d=Q.ry;j=e.D._K.Cm(Q.cx-D,Q.cy-d,2*D,2*d)}else if(C=="path"||C=="compound"){var o=Typr.U.SVGToPath(Q.path);
j=e.g.er({u:o.cmds,b:o.crds},!1)}else if(C=="line"){var v=Q.x1,f=Q.x2,U=Q.y1,H=Q.y2;j=j.concat([{type:0,rh:1,length:2,XN:0,Xn:0,Vy:1}]).concat(e.D.yF([v,U,f,H],0,!0))}else if(C=="polygon"){var B=Q.points,m=[];
for(var Y=0;Y<B.length;Y++)m.push(B[Y].x,B[Y].y);j=j.concat(e.D._K.hH(m,0,!1).slice(2))}else console.log(C,Q);
return j};vD.vdD=function(Q){var C=JSON.parse(WM.default);for(var j=0;j<WM.order.length;j++)C[WM.zV[j]]={t:"VlLs",v:[]};
for(var j=0;j<Q.length;j++){var Z=Q[j],F=Z.type,_=Z.params,$=Z.visible;if(F=="dropShadow"){var L=WM.zV[WM.order.indexOf("DrSh")],D=JSON.parse(WM.oy[WM.order.indexOf("DrSh")]);
C[L].v.unshift({t:"Objc",v:D});var d=_.dropShadows;if(d.length!=1)throw"e";var o=d[j],v=o.color,f=v.value,U=o.dx,H=o.dy;
D.Clr.v=e.q.mx({h:f.r,J:f.g,_:f.b});D.Opct.v.val=Math.round((v.alpha!=null?v.alpha:1)*100);D.uglg.v=!1;
D.enab.v=$!=null?$:!0;D.lagl.v.val=Math.round(180/Math.PI*Math.atan2(H,-U));D.Dstn.v.val=Math.round(Math.sqrt(U*U+H*H));
D.blur.v.val=Math.round(o.r*2.3)}}return C};vD.rt=function(Q,C,j,Z,F,_,$,L,D){var d=vD;if(C=="none"){_.add.vstk.fillEnabled.v=!1;
_.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.q.mx({h:0,J:0,_:0})}}}else{var o,v,f;if(C=="solid"){var U=Q.color.value;
o="SoCo";v=WM.rE;var H=JSON.parse(WM.oy[WM.order.indexOf("SoFi")]);f={t:"Objc",v:H};f.v.Clr.v=e.q.mx({h:U.r,J:U.g,_:U.b})}else if(C=="gradient"){o="GdFl";
v=WM.FX;var H=JSON.parse(WM.oy[WM.order.indexOf("GrFl")]),B=H.Grad.v,x,a,i;B.Intr.v=0;var m=Q[C],Y=m.ref?L.gradients[m.ref]:m.meta.ux.gradientResources,q=["linear","radial"].indexOf(Y.type),r=Y.stops;
H.Type.v.GrdT=["Lnr","Rdl","Angl"][q];if(q==0){var x=new Wn(m.x1,m.y1),a=new Wn(m.x2,m.y2);x.x=a.x+.5*(x.x-a.x);
x.y=a.y+.5*(x.y-a.y)}else{var x=new Wn(m.cx,m.cy),a=new Wn(m.cx+m.r,m.cy)}i=F;if(m.units=="objectBoundingBox"){var l=new rI(Z.W,0,0,Z.C,Z.x,Z.y);
x=l.IV(x);a=l.IV(a)}var l=d.kq(m.transform);x=l.IV(x);a=l.IV(a);l=j.clone();l.Ie();x=l.IV(x);a=l.IV(a);
e.q.m_(x,a,i,H);var M=[];for(var z=0;z<r.length;z++){var V=r[z],X=V.color,U=X.value,O=X.alpha;if(O==null)O=1;
M.push([V.offset,[U.r/255,U.g/255,U.b/255],O])}e.q.vF(M,B);f={t:"Objc",v:H}}else if(C=="pattern"){o="PtFl";
v=WM.FF;var H=JSON.parse(WM.oy[WM.order.indexOf("patternFill")]),I,g=1,A=0,w=0,r$=1;f={t:"Objc",v:H};
var y=Q[C],K=y.meta.ux,R=K.uid,W=D["resources/"+R].buffer,N=vX.Kl(W);if($.tQ[R])I=$.tQ[R];else{var T=new s(0,0,y.width,y.height),h;
if(T.jJ()){T=new s(0,0,1,1);h=new ArrayBuffer(4)}else{var p=vX.Xo(N);if(p.xG){var u=new rH;p.aJ(W,u);
h=u.ln().buffer}else h=p.aJ(W)[0].data}I={data:h,z:T};I.id=rH.qS()+"-d71c-11e5-b1ae-a548a96e5f9f";I.name="someImage";
I.Dg=new Uint8Array(I.data);delete I.data;$.ES(I);$.tQ[R]=I}H.Algn.v=!0;H.Ptrn.v.Idnt.v=I.id;if(K.scaleBehavior=="cover"){g=r$*Math.max(F.W/I.z.W,F.C/I.z.C);
var rW=g;if(K.scale!=null)g*=K.scale;A=F.x-(I.z.W*g-F.W)/2;w=F.y-(I.z.C*g-F.C)/2;if(K.offsetX!=null)A+=K.offsetX*I.z.W*rW;
if(K.offsetY!=null)w+=K.offsetY*I.z.C*rW}else if(K.scaleBehavior=="fill"){g=r$*Math.min(F.W,F.C)/Math.max(I.z.W,I.z.C);
A=F.x-(I.z.W*g-F.W)/2;w=F.y-(I.z.C*g-F.C)/2}else throw"Unknown scale behaviour";H.Scl.v.val=100*g;H.phase.v.Hrzn.v=Math.round(A);
H.phase.v.Vrtc.v=Math.round(w)}else console.log(C);if(o!=null){_.add[o]={classID:"null"};for(var z=0;
z<v.length;z++){var J=v[z];_.add[o][J]=f.v[J]}}}};function vI(){}vI.ig=function(Q,C){Q=new Uint8Array(Q);
var j=c.hI(Q,0,Q.length),Z=new DOMParser,F=Z.parseFromString(j,"image/svg+xml"),_=F.getElementsByTagName("style")[0];
if(_)_=Typr.U.SVG.cssMap(_.textContent);else _={};var $=F.firstChild;while($.tagName!="svg")$=$.nextSibling;
var L=new s(0,0,100,100),D=$.getAttribute("viewBox"),d=$.getAttribute("width"),o=$.getAttribute("height");
if(D){var v=vI.mJ(D);L.x=v[0];L.y=v[1];L.W=v[2];L.C=v[3]}else if(d!=null||o!=null){L.W=d!=null?parseFloat(d):parseFloat(o);
L.C=o!=null?parseFloat(o):parseFloat(d)}L=e.g.fx(L);C.tb=!0;C.W=L.W;C.C=L.C;C.buffer=e.Q(L.P()*4);var f=new rI(1,0,0,1,-L.x,-L.y),U={oK:vI.Lj($),vjL:_};
vI.pw(F,$.children,C,f,U,new rI,0);if(C.k.length==0){var H=C.qg();H.sp("Layer");C.k.push(H)}};vI.mJ=function(Q){var C=" ";
if(Q.indexOf(",")!=-1)C=",";return Q.split(C).map(parseFloat)};vI.pw=function(Q,C,j,Z,F,_,$){var L=vI,D=["display","opacity","fill-opacity"];
for(var d=0;d<C.length;d++){var o=C[d],v=o.tagName,f=o.getAttribute("id"),U=L.Lj(o,F.vjL),B=13,x=1,l="clip-path",M=null;
for(var H in F.oK)if(D.indexOf(H)==-1&&U[H]==null)U[H]=F.oK[H];if(U["font-size"])B=L.iF(U["font-size"],B);
if(o.getAttribute("dx"))Z._Y+=L.iF(o.getAttribute("dx"),B);if(o.getAttribute("dy"))Z.Rf+=L.iF(o.getAttribute("dy"),B);
var m=L.LR(o);m.concat(Z);var Y=o.getAttribute("visibility"),q=U.display,r=j.qg();if(Y=="hidden"||q=="none")r.yh(!1);
r.sp(f!=null?f.split(":::")[0]:"Layer");if(U.opacity)x*=parseFloat(U.opacity);if(U["fill-opacity"]){var a=parseFloat(U["fill-opacity"]);
if(a!=0)x*=a}r.opacity=Math.round(255*x);if(U["mix-blend-mode"]){var i=rP.vKD.indexOf(U["mix-blend-mode"]);
if(i!=-1)r.gd=rP.Cg[i]}if(o.getAttribute(l)==null)l="mask";if(o.getAttribute(l)!=null){var z=o.getAttribute(l);
z=z.slice(4,z.length-1);var V=Q.getElementById(z.slice(1));if(V){var X=V.children;M=j.qg();M.sp("Clip-Path"+(f?": "+f:""));
M.add.lsct=$<2?_K.gh:_K.f_;M.gd="pass";M.xz=24;var O=M.add.vmsk=new S.jH;j.k.push(j.fi());var y=[];if(V.getAttribute(l)){var z=V.getAttribute(l);
z=z.slice(4,z.length-1);y=Q.getElementById(z.slice(1)).children}for(var K=0;K<X.length;K++){var R=L.LR(X[K]);
R.concat(m);var W=L.ki(Q,X[K],!1).slice(2);e.D.gw(W,R);O.G=O.G.concat(W)}for(var K=0;K<y.length;K++){var R=L.LR(X[K]);
R.concat(m);var W=L.ki(Q,y[K],!1).slice(2);for(var N=0;N<W.length;N++)if(W[K].rh!=null)W[K].rh=3;e.D.gw(W,R);
O.G=O.G.concat(W)}M.WU();M.Ea();$++}}if(v=="g"||v=="a"||v=="svg"||v=="switch"||(v=="text"||v=="textPath")&&o.children.length>0){if(v=="text")_=L.ee(o,_);
var I=o.getAttribute("viewBox"),T=o.getAttribute("width"),h=o.getAttribute("height");if(I&&T&&h){var p=vI.mJ(I),u=L.ee(o),g=new rI;
g.translate(-p[0],-p[1]);g.scale(parseFloat(T)/p[2],parseFloat(h)/p[3]);g.translate(u._Y,u.Rf);g.concat(m);
m=g}var A=o.children.length,w=F.oK;F.oK=U;var r$=v!="text"&&v!="textPath"||A>1;if(r$){var rW=r.ow();
r.add.lsct=$<2&&rW&&(f==null||!f.endsWith(":::"))?_K.gh:_K.f_;r.gd="pass";r.xz=24;r.yh(rW);j.k.push(j.fi())}L.pw(Q,o.children,j,m,F,_,$+1);
if(r$)j.k.push(r);F.oK=w}else if(v=="use"){var g=L.ee(o);g.concat(m);var J=L.LJ(o),rr=Q.getElementById(J.slice(1)),w=F.oK;
F.oK=U;L.pw(Q,[rr],j,g,F,_,$+1);F.oK=w}else if(v=="path"||v=="rect"||v=="circle"||v=="ellipse"||v=="polygon"||v=="polyline"||v=="line"){r.xz|=16;
r.add.vmsk=new S.jH;r.add.vstk=JSON.parse(JSON.stringify(WM.oj.default));r.add.vstk.strokeEnabled.v=!1;
var r_=r.add.vstk,O=r.add.vmsk;O.G=L.ki(Q,o,U["fill-rule"]=="evenodd");e.D.gw(O.G,m);var rO=e.D.kd(O.G),k=U.stroke,rv=U["stroke-width"],rb=U["stroke-dasharray"],rt=U.fill,rK=U["stroke-linejoin"],rR=U["stroke-linecap"],ri=U["paint-order"];
if(k==null||k=="none"||k=="null"){}else{var ru=L.mI(Q,k,m,rO),rS=["SoFi","GrFl","patternFill"].indexOf(ru.type),rg=[WM.rE,WM.FX,WM.FF][rS],rd=r_.strokeStyleContent.v={classID:WM.oj.wH[rS]},vO=1;
for(var K=0;K<rg.length;K++)rd[rg[K]]=ru.O.v[rg[K]];rv=rv?parseFloat(rv):1;if(ri&&ri.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){vO=2;
rv/=2}r_.strokeEnabled.v=!0;if(rK)r_.strokeStyleLineJoinType.v.strokeStyleLineJoinType=WM.oj.join[["miter","round","bevel"].indexOf(rK)];
if(rR)r_.strokeStyleLineCapType.v.strokeStyleLineCapType=WM.oj.Eg[["butt","round","square"].indexOf(rR)];
r_.strokeStyleLineWidth.v.val=rv*G.S.xZ(m);r_.strokeStyleLineAlignment.v.strokeStyleLineAlignment=WM.oj.EE[vO];
r_.strokeStyleOpacity.v.val=100*(U["stroke-opacity"]?parseFloat(U["stroke-opacity"]):1);if(rb!=null&&rb!="none")r_.strokeStyleLineDashSet.v=rk.PO(rb.split(",").map(parseFloat),1/rv)}if(rt=="none"||U["fill-opacity"]&&parseFloat(U["fill-opacity"])==0){r.add.vstk.fillEnabled.v=!1;
r.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.q.mx({h:0,J:0,_:0})}}}else{var ru=L.mI(Q,rt,m,rO),rq=null,rL=null;
if(ru.type=="SoFi"){rq="SoCo";rL=WM.rE}if(ru.type=="GrFl"){rq="GdFl";rL=WM.FX}if(ru.type=="patternFill"){rq="PtFl";
rL=WM.FF}if(rq!=null){r.add[rq]={classID:"null"};for(var K=0;K<rL.length;K++){var H=rL[K];r.add[rq][H]=ru.O.v[H]}}}if(U.filter&&U.filter!="none"){var rl=U.filter;
rl=rl.slice(5,rl.length-1);var rV=Q.getElementById(rl).children[0];if(rV.tagName=="feGaussianBlur"){r.add.vmsk.hD=parseFloat(rV.getAttribute("stdDeviation"))*G.S.xZ(m)}}r.WU();
r.Ea(j);j.k.push(r)}else if((v=="text"||v=="tspan")&&o.textContent!=""){_=L.ee(o,_);var g=_.clone();
g.concat(m);if(o.children.length>0){var ry=L.Lj(o.children[0],F.vjL);for(var H in ry)if(D.indexOf(H)==-1)U[H]=ry[H]}var vj=U["xml:space"],rp=o.textContent;
if(vj=="preserve")rp=rp.replace(/\t/g," ").replace(/\n/g," ");if(f==null)r.sp(rp);r.add.lnsr="rend";
r.add.TySh=rD.dg(0,0);r.add.TySh.Vo=new s(0,0,100,100);r.add.TySh.M=g.clone();var rx=r.add.TySh.Qp;rD.Gt(rx,0,rp);
var rt=U.fill,rF=U["font-weight"],DX=U["font-family"],va=U["text-decoration"],k=U.stroke,rv=U["stroke-width"];
if(U["dominant-baseline"]=="text-before-edge")r.add.TySh.M.translate(0,B);var rB=rD.WW(rx,0,1);if(rt&&rt!="none"){var vW=CSS.GQ(rt);
rB.hy.FillColor={Type:1,Values:[1,vW.h/255,vW.J/255,vW._/255]}}if(va=="underline")rB.hy.Underline=!0;
rB.hy.FontSize=Math.round(B);rD._D(rB,"LiberationSans");if(rF=="bold")rD._D(rB,"LiberationSans-Bold");
if(DX){var rN=DX+":"+(rF?rF:"normal"),rM={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(rM[rN])rD._D(rB,rM[rN]);else rD._D(rB,DX)}if(U["text-anchor"])rB.Cx.Justification=["start","end","middle"].indexOf(U["text-anchor"]);
rD.ey(rx,0,rp.length,rB);if(k==null||k=="none"){}else{var _Q=JSON.parse(WM.oy[WM.order.indexOf("FrFX")]);
_Q.Clr.v=e.q.mx(CSS.GQ(k));_Q.Sz.v.val=Math.round(parseFloat(rv)*G.S.xZ(g));var _O=JSON.parse(WM.default);
for(var K=0;K<WM.order.length;K++)_O[WM.zV[K]]={t:"VlLs",v:[]};_O.frameFXMulti.v.push({t:"Objc",v:_Q});
r.add.lmfx=_O}j.k.push(r)}else if(v=="image"){var J=L.LJ(o);if(J.slice(0,4)=="data"){var rw=vX.UY(J),rj=rw,rE=j.$H(rj,r.getName(),0,0);
rE.xz=r.xz;r=rE;var _W=r.rect.clone();_W.x=_W.y=0;var vm=o.getAttribute("width"),rf=o.getAttribute("height");
if(vm)_W.W=parseFloat(vm);if(rf)_W.C=parseFloat(rf);var rU=L.ee(o);rU.concat(m);var Du=e.g.iq(_W).b;
e.g.M(Du,rU,Du);r.add.SoLd.Trnf=G.S.Zv(Du);r.add.SoLd.nonAffineTransform=G.S.Zv(Du);r.RN(j,!1);j.k.push(r)}}else console.log("unknown tag: "+v,o.children.length,o.textContent.length);
if(M!=null){j.k.push(M);$--}}};vI.ki=function(Q,C,j){var Z=vI,F=[{type:6},{type:8,all:0}],_=C.tagName;
if(_=="use"){var $=Z.LJ(C),L=Q.getElementById($.slice(1)),D=new rI;if(L.tagName!="rect")D=Z.ee(L);D.concat(Z.LR(L));
F=Z.ki(Q,L,j);e.D.gw(F,D)}else if(_=="path"){var d=C.getAttribute("d");if(d==null)return F;var o=Typr.U.SVGToPath(d);
F=e.g.er({b:o.crds,u:o.cmds},j)}else if(_=="rect"){var v=C.getAttribute("rx"),f=Z.ee(C);F=e.D._K.Rect(f._Y,f.Rf,parseFloat(C.getAttribute("width")),parseFloat(C.getAttribute("height")),v?parseFloat(v):0)}else if(_=="circle"||_=="ellipse"){var U=[0,0,0,0],H=["cx","cy","rx","ry","r"];
for(var B=0;B<5;B++){var m=C.getAttribute(H[B]);if(m){m=parseFloat(m);if(B<4)U[B]=m;else U[2]=U[3]=m}}F=e.D._K.Cm(U[0]-U[2],U[1]-U[3],2*U[2],2*U[3])}else if(_=="polygon"||_=="polyline"||_=="line"){var Y;
if(_=="line")Y=[C.getAttribute("x1"),C.getAttribute("y1"),C.getAttribute("x2"),C.getAttribute("y2")].map(parseFloat);
else Y=C.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
F=e.D._K.hH(Y,0,_!="polygon")}return F};vI.iF=function(Q,C){if(Q.charAt(Q.length-1)=="m")return C*parseFloat(Q.slice(0,Q.length-2));
else return parseFloat(Q)};vI.mI=function(Q,C,j,Z){var F,_,$=vI,L=JSON.parse(WM.oy[WM.order.indexOf("SoFi")]),D=C!=null?C.indexOf("("):-1;
if(D!=-1){var d=C.indexOf(")"),o=C.slice(0,D).trim(),v=C.slice(D+1,d).trim();if(v.charAt(0)=="'")v=v.slice(1,v.length-1);
if(o=="url"){if(v.charAt(0)=="#"){var f=Q.getElementById(v.slice(1));if(f&&f.tagName.toLowerCase().endsWith("gradient")){var U=$.rv(Q,f,j,Z);
F="GrFl";_={t:"Objc",v:U}}else{F="SoFi";_={t:"Objc",v:L}}}else console.log("unknown url",v)}else if(o=="rgb"){F="SoFi";
_={t:"Objc",v:L};_.v.Clr.v=e.q.mx(CSS.GQ(C))}else console.log("unknown fill",C)}else{F="SoFi";_={t:"Objc",v:L};
_.v.Clr.v=e.q.mx(CSS.GQ(C))}return{type:F,O:_}};vI.LR=function(Q){var C=new rI,j=Q.getAttribute("transform");
if(j)C=vI.iP(j);var Z=Q.getAttribute("style");if(Z!=null){var F={};vI.Lu(F,Z,["transform"]);Z=F.transform;
if(Z)C.concat(vI.iP(Z))}return C};vI.ee=function(Q,C){var j=new rI,Z=Q.getAttribute("x"),F=Q.getAttribute("y");
if(Z)j._Y=parseFloat(Z);else if(C)j._Y=C._Y;if(F)j.Rf=parseFloat(F);else if(C)j.Rf=C.Rf;return j};vI.iP=function(Q){var C=Typr.U.SVG.readTrnf(Q);
return new rI(C[0],C[1],C[2],C[3],C[4],C[5])};vI.Lj=function(Q,C){var j={},Z="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var F=0;F<Z.length;F++){var _=Q.getAttribute(Z[F]);if(_!=null&&_!="inherit")j[Z[F]]=_}var $=Q.getAttribute("class");
if(C!=null&&$!=null&&C["."+$]!=null)vI.Lu(j,C["."+$],Z);var L=Q.getAttribute("id");if(C!=null&&L!=null&&C["#"+L]!=null)vI.Lu(j,C["#"+L],Z);
var D=Q.getAttribute("style");if(D!=null)vI.Lu(j,D,Z);return j};vI.Lu=function(Q,C,j){C=C.trim().split(";");
for(var Z=0;Z<C.length;Z++){var F=C[Z].split(":"),_=F[0]?F[0].trim():"",$=F[1]?F[1].trim():"";for(var L=0;
L<j.length;L++)if(_==j[L]&&$!="inherit")Q[j[L]]=$}};vI.LJ=function(Q){var C=Q.getAttribute("xlink:href");
if(C==null)C=Q.getAttribute("href");return C};vI.rv=function(Q,C,j,Z){var F=vI,_=new rI,$=C.getAttribute("gradientTransform");
if($)_=F.iP($);_.concat(j);var L=JSON.parse(WM.oy[WM.order.indexOf("GrFl")]),D=L.Grad.v;D.Intr.v=0;var d=C.tagName,o=new Wn(0,0),v=new Wn(Z.W,0);
if(d=="linearGradient"){L.Type.v.GrdT="Lnr";if(C.getAttribute("x1"))o.x=parseFloat(C.getAttribute("x1"));
if(C.getAttribute("y1"))o.y=parseFloat(C.getAttribute("y1"));if(C.getAttribute("x2"))v.x=parseFloat(C.getAttribute("x2"));
if(C.getAttribute("y2"))v.y=parseFloat(C.getAttribute("y2"));o.x=v.x+.5*(o.x-v.x);o.y=v.y+.5*(o.y-v.y)}if(d=="radialGradient"){L.Type.v.GrdT="Rdl";
if(C.getAttribute("cx"))o.x=parseFloat(C.getAttribute("cx"));if(C.getAttribute("cy"))o.y=parseFloat(C.getAttribute("cy"));
v.KL(o.x,o.y);if(C.getAttribute("r"))v.x+=parseFloat(C.getAttribute("r"))}if(C.getAttribute("gradientUnits")=="userSpaceOnUse"){o=_.IV(o);
v=_.IV(v)}else{o.x=Z.x+o.x*Z.W;o.y=Z.y+o.y*Z.C;v.x=Z.x+v.x*Z.W;v.y=Z.y+v.y*Z.C}e.q.m_(o,v,Z,L);var f=C.children;
if(f.length==0){var U=F.LJ(C);if(U==null)throw"gradient has no stops";var H=Q.getElementById(U.slice(1));
if(H==null){console.log(U.slice(1));throw"e"}var B=F.rv(Q,H,_,Z);L.Grad=B.Grad}else{var m=[];for(var Y=0;
Y<f.length;Y++){var q=f[Y],r=F.Lj(q),x=r["stop-color"],a=r["stop-opacity"],i=q.getAttribute("offset");
if(x==null)x="#000000";if(a==null)a="1";var l=i?parseFloat(i):0;x=CSS.GQ(x);m.push([l,[x.h/255,x.J/255,x._/255],parseFloat(a)])}e.q.vF(m,D)}return L};
vI.Ry=function(Q,C,j){var Z=[],F=vI;F.mp=C.vgx?"\t":"";var _=C.vpJ,$=C.vpa;Z.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+Q.W+" "+Q.C+"\" width=\""+_+"\" height=\""+$+"\">");
var L={di:[],L:[],wC:0,cO:0,cv:0,cD:{},c$:{},Yh:0,BE:{},we:{},AV:0,ho:[]};vI.md(Q,L,Q.root.children,1,C,j);
if(L.di.length!=0){Z.push(F.jh(1)+"<defs>");Z=Z.concat(L.di);Z.push(F.jh(1)+"</defs>")}Z.push(F.jh(1)+"<style>");
Z.push(F.jh(2)+"tspan { white-space:pre }");for(var D in L.BE)Z.push(F.jh(2)+"."+D+" { "+L.BE[D]+" } ");
Z.push(F.jh(1)+"</style>");Z=Z.concat(L.L);Z.push("</svg>");Z=Z.join(C.vgx?"\n":"");var d=e.Q(Math.round(Z.length*1.5)),o=c.GX(Z,d,0);
if(F.vI){console.log(F.vI);var v="SVGParser.gen.db = [\n";for(var f=0;f<F.vI.length;f++){var U=F.vI[f];
v+="{\n\tnam: \""+U.qy+"\",\n\tpts: [\n";for(var H=0;H<U.yV.length;H++){var B=U.yV[H];v+="\t\t[\""+B[0]+"\", { cmds: "+JSON.stringify(B[1].u)+", crds:"+JSON.stringify(B[1].b)+" } ]"+(H==U.yV.length-1?"":",")+"\n"}v+="\t]\n}"+(f==F.vI.length-1?"":",")+"\n"}v+="]\n";
console.log(v)}return d.buffer.slice(0,o)};vI.mp="";vI.jh=function(Q){var C="";for(var j=0;j<Q;j++)C+=vI.mp;
return C};vI.gX=function(Q){return""+parseFloat(Q.toFixed(3))};vI.md=function(Q,C,j,Z,F,_){var $=vI;
for(var L=0;L<j.length;L++){var D=j[L].c,d=D.add.lsct,o=D.add.vmsk,v=D.add.vstk,f=D.add.TySh,U=[];if(!F.hidden&&!D.ow())continue;
var H=D.opacity/255,B=D.add.iOpa?D.add.iOpa/255:1;if(H!=1)U.push("opacity: "+$.gX(H));if(B!=1)U.push("fill-opacity: "+$.gX(B));
if(D.gd!="norm"){var m=rP.vKD[rP.Cg.indexOf(D.gd)];if(m!=null)U.push("mix-blend-mode: "+m)}if(!D.ow())U.push("display: none");
var Y=[],q=[],r=D.getName(),x=r.indexOf(" .");if(x!=-1){q.push(r.slice(x+2));r=r.slice(0,x)}if(F.names)Y.push("id=\""+$.Zo(r)+"\"");
var a=D.add.lmfx;if(a)a=a.solidFillMulti.v[0];if(a)a=a.v;if(a&&!a.enab.v)a=null;if(D.Hd()){if($.vI&&D.getName().split("-").length==3){$.vI.push({qy:D.getName(),Vv:0,yV:[]})}if(o||D.add.artb){var i;
if(o)i=e.D.WK(o.G).Zi;else{var l=D.se(),M=e.g.iq(l);i=Typr.U.pathToSVG({crds:M.b,cmds:M.u},2)}C.cv++;
Y.push("clip-path=\"url(#cp"+C.cv+")\"");C.di.push($.jh(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+C.cv+"\">");
C.di.push($.jh(3)+"<path d=\""+i+"\" />");C.di.push($.jh(2)+"</clipPath>")}if(U.length!=0)Y.push("style=\""+U.join(";")+"\"");
C.L.push($.jh(Z)+"<g "+$.eU(Y,q)+">");$.md(Q,C,j[L].children,Z+1,F,_);C.L.push($.jh(Z)+"</g>")}else if(D.ql()&&o==null){var z=new s(0,0,Q.W,Q.C);
$.mX(U,D.add,C,z);if(U.length!=0)Y.push("style=\""+U.join(";")+"\"");C.L.push($.jh(Z)+"<rect width=\""+Q.W+"\" height=\""+Q.C+"\" "+$.eU(Y,q)+" />")}else if(o){var z=e.D.kd(o.G),i=e.D.WK(o.G);
if(i.Cj!=0){Y.push("fill-rule=\"evenodd\"")}var V=i.Zi;$.mX(U,D.add,C,z);if(U.length!=0){var X=U.join(";"),O=C.we[X];
if(O==null){O="shp"+C.AV;C.AV++;C.we[X]=O;C.BE[O]=X}q.push(O)}C.L.push($.jh(Z)+"<path "+$.eU(Y,q)+" d=\""+V+"\" />");
if($.vI&&$.vI[$.vI.length-1]){var y=e.g.eV(o.G);y.b=y.b.map(Math.round);var K=$.vI[$.vI.length-1];K.Vv+=JSON.stringify(y).length;
K.yV.push([U[0].split("#").pop(),y])}}else if(f&&F.vpV){var R=f.Qp,W=new _J(R,_);if(a)Y.push("fill=\""+CSS.Xg(a.Clr.v)+"\"");
var N=vQ.PG(W,f),I=e.g.ji(N);for(var T in I){if(a==null)Y.push("fill=\""+T+"\"");var M=I[T],V=Typr.U.pathToSVG({crds:M.b,cmds:M.u},2);
C.L.push($.jh(Z)+"<path "+$.eU(Y,q)+" d=\""+V+"\" />");if(a==null)Y.pop()}}else if(f&&!F.vpS){var R=f.Qp,h=f.M.clone(),r_=0,rO=0;
if(rD.Va(R)==1){var p=rD.WW(R,0,0).Cx.Justification,u=0,g=rD.Lw(R)[2];if(p==2)u=g/2;if(p==1)u=g;h.translate(u,0)}U.push("transform: "+$.ss(h));
var A=rD.Dm(R),w=R.EngineDict.ParagraphRun,r$=w.RunArray,rW=w.RunLengthArray;if(U.length!=0)Y.push("style=\""+U.join(";")+"\"");
C.L.push($.jh(Z)+"<text "+$.eU(Y,q)+" >");var J=D.add.lmfx;if(J)J=J.frameFXMulti.v[0];if(J)J=J.v;var rr=a?CSS.Xg(a.Clr.v):null;
for(var k=0;k<r$.length;k++){var rv=[],rb=rW[k],rt=A.slice(r_,r_+rb-1),rK=rD.WW(R,r_,r_),rR=rK.UT[rK.hy.Font].Name;
if(C.ho.indexOf(rR)==-1)C.ho.push(rR);CSS.vIM(rv,rK,f.M,!0,F.ho,rr);if(J){U.push("stroke: "+CSS.Xg(J.Clr.v));
U.push("stroke-width: "+J.Sz.v.val)}var ri=rK.hy.FontSize*1.12;if(k==0)ri=rD.Va(R)==0?0:rK.hy.FontSize;
rO+=ri;if(rt!=""){var X=rv.join(";"),O=C.we[X],rS="";if(O==null){O="txt"+C.AV;C.AV++;C.we[X]=O;C.BE[O]=X}var ru=rK.hy.Tracking;
if(ru!=null&&ru!=0){ru=Math.round(ru*rK.hy.FontSize/1e3);rS=" dx=\"0";for(var rg=1;rg<rt.length;rg++)rS+=" "+ru;
rS+="\" "}C.L.push($.jh(Z+1)+"<tspan x=\"0\" y=\""+$.gX(rO)+"\" class=\""+O+"\""+rS+">"+$.Zo(rt)+"</tspan>")}r_+=rb}C.L.push($.jh(Z)+"</text>")}else if(D.add.SoLd){var rd=D.add.SoLd,vO=rd.Idnt.v,rq=0,rL=rd.Crop?rd.Crop.v:null;
if(C.c$[vO]!=null)rq=C.c$[vO];else{C.Yh++;rq=C.Yh;C.c$[vO]=C.Yh;var rl=Q.Gx(vO,rL),vj="";if(rl==null)return;
var rV=rl.XJ,ry=vX.Kl(rl.raw.buffer);if(ry=="pdf"){var rp=new rH("h");vX.PDF.aJ(rl.raw.buffer,rp);rp.Ed();
rp.Gc();rp.X();rp.GV();if(rd.Crop&&rd.Crop.v==1){G.QQ._g(rp,rp.root.ET(rp,!0))}var rx=vX.SVG.pU(rp,rp.W,rp.C,null,{ho:_});
vj="data:image/svg+xml;base64,"+vX.XA(rx)}else if(ry=="jpg"||ry=="png"||ry=="gif"||ry=="svg"){var rF={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
vj="data:"+rF[ry]+";base64,"+vX.XA(rl.raw.buffer)}else{vj=vX.Md(rV[0].buffer,rV[1].W,rV[1].C)}C.di.push($.jh(2)+"<image width=\""+rV[1].W+"\" height=\""+rV[1].C+"\" id=\"img"+rq+"\" href=\""+vj+"\"/>")}var DX=e.V.Mr(rd);
if(U.length!=0)Y.push("style=\""+U.join(";")+"\"");var va=$.eU(Y,q);C.L.push($.jh(Z)+"<use "+va+" href=\"#img"+rq+"\" transform=\""+$.ss(DX)+"\"/>")}else if(!D.rect.jJ()&&(F.vpq||f)){if(U.length!=0)Y.push("style=\""+U.join(";")+"\"");
var va=$.eU(Y,q),rB=D.buffer;if(a)rB=rk.vOQ(rB,a,D.rect);var vW=D.rect;C.Yh++;var vj=vX.Md(rB.buffer,vW.W,vW.C,"png",null,!0);
C.di.push($.jh(2)+"<image width=\""+D.rect.W+"\" height=\""+D.rect.C+"\" id=\"img"+C.Yh+"\" href=\""+vj+"\"/>");
C.L.push($.jh(Z)+"<use "+va+" href=\"#img"+C.Yh+"\" x=\""+vW.x+"\" y=\""+vW.y+"\" />")}}};vI.eU=function(Q,C){if(C.length!=0)Q.push("class=\""+C.join(" ")+"\"");
return Q.join(" ")};vI.Zo=function(Q){return String(Q).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")};
vI.ss=function(Q){var C=[Q.om,Q._,Q.ug,Q.xP,Q._Y,Q.Rf].map(vI.gX);return"matrix("+C.join(",")+")"};vI.mX=function(Q,C,j,Z){var F=vI,_=C.vstk,$=C.vmsk,L=C.lmfx;
if($&&$.hD!=0){var D=F.gX($.hD);if(j.cD[D]==null){j.cO++;j.cD[D]=j.cO;j.di.push(F.jh(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"flt"+j.cO+"\"> <feGaussianBlur stdDeviation=\""+D+"\" /> </filter>")}Q.push("filter: url(#flt"+j.cD[D]+")")}var d=rk.kk(L,C),o=d[0],v=d[1];
if(_&&!_.fillEnabled.v)Q.push("fill: none");else if(o){var f=CSS.Xg(o.Clr.v);Q.push("fill: "+f)}else if(v){F.LI(v,j,Z);
Q.push("fill: url(#grd"+j.wC+")")}if(_==null||!_.strokeEnabled.v)_=rk.ks(L);if(_&&_.strokeEnabled.v){var U=_.strokeStyleContent.v,H=U.classID;
if(H=="solidColorLayer")Q.push("stroke: "+CSS.Xg(U.Clr.v));else{F.LI(U,j,Z);Q.push("stroke: url(#grd"+j.wC+")")}var B=WM.oj.Eg.indexOf(_.strokeStyleLineCapType.v.strokeStyleLineCapType),m=WM.oj.join.indexOf(_.strokeStyleLineJoinType.v.strokeStyleLineJoinType),Y=_.strokeStyleOpacity.v.val/100,q=_.strokeStyleLineWidth.v.val,r=WM.oj.EE.indexOf(_.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(r==2){q*=2;Q.push("paint-order:stroke fill markers")}var x=_.strokeStyleLineDashSet.v,a=[];for(var i=0;
i<x.length;i++)a.push(Math.round(x[i].v.val*q));if(B!=0)Q.push("stroke-linecap:"+["butt","round","square"][B]);
if(m!=0)Q.push("stroke-linejoin:"+["miter","round","bevel"][m]);if(Y!=1)Q.push("stroke-opacity:"+F.gX(Y));
if(q!=1)Q.push("stroke-width: "+F.gX(q));if(a.length!=0)Q.push("stroke-dasharray: "+a.join(","))}};vI.LI=function(Q,C,j){C.wC++;
var Z=vI,F=Q.Grad.v,_=F.Clrs.v.slice(0),$=F.Trns.v.slice(0),L=Q.Ofst.v,D=Q.Type.v.GrdT=="Rdl"?1:0,d=(D==1?"radial":"linear")+"Gradient",o=e.q.Rd(Q,j);
if(D==0){o[0].x=o[1].x+2*(o[0].x-o[1].x);o[0].y=o[1].y+2*(o[0].y-o[1].y)}var v=Z.jh(2)+"<"+d+" id=\"grd"+C.wC+"\" gradientUnits=\"userSpaceOnUse\" ";
if(D==0)C.di.push(v+" x1=\""+Z.gX(o[0].x)+"\" y1=\""+Z.gX(o[0].y)+"\" x2=\""+Z.gX(o[1].x)+"\" y2=\""+Z.gX(o[1].y)+"\">");
if(D==1)C.di.push(v+" cx=\""+Z.gX(o[0].x)+"\" cy=\""+Z.gX(o[0].y)+"\" r=\""+Z.gX(Wn.iQ(o[0],o[1]))+"\">");
var f=Q.Rvrs.v;if(f){_.reverse();$.reverse()}for(var U=0;U<_.length;U++){var H=_[U].v,B=U<$.length?$[U].v.Opct.v.val/100:1,B=B==1?"":"stop-opacity=\""+Z.gX(B)+"\"",m=H.Lctn.v/4096;
if(f)m=1-m;C.di.push(Z.jh(3)+"<stop offset=\""+Z.gX(m)+"\" stop-color=\""+CSS.Xg(H.Clr.v)+"\" "+B+" />")}C.di.push(Z.jh(2)+"</"+d+">")};
vI._K=function(Q,C,j,Z,F){var _=[],$=vI._K,L=!1,D={fA:Q,NE:C,AL:[!0,!0,!0],Sr:!1,ts:j,vjN:0};D.pL=Math.round(Math.max(Q,C)*(.02+$.BU(D)*.03));
D.SV=$.vXl(D);D.Ba=$.vXq(D.SV,($.BU(D)<.5?-1:1)*(.2+$.BU(D)*.3));if($.BU(D)<.5){var d=D.SV;D.SV=D.Ba;
D.Ba=d}D.vXP=$.BU(D)<.4&&$.vXi(D.Ba,{h:1,J:1,_:1})>.3;D.vaK=$.BU(D)<.5?0:1;_.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+Q+" "+C+"\" width=\""+Q+"\" height=\""+C+"\">");
D.cb=Z[Math.floor($.iM(D)*Z.length)];D.cK=Z[Math.floor($.iM(D)*Z.length)];_.push("<style>");_.push("@font-face {  font-family: "+D.cb[2]+";  src: url(rsrc/fonts/"+D.cb[5]+");  }");
_.push("@font-face {  font-family: "+D.cK[2]+";  src: url(rsrc/fonts/"+D.cK[5]+");  }");_.push("</style>");
var o=[0,0,Q,C],v=o;if(F==null)_.push("<path style=\"fill: "+$.nw(D.SV)+"\" d=\""+$.Rect(o[0],o[1],o[2]-o[0],o[3]-o[1])+"\" id=\"Background\" />");
else{D.Sr=!0;$.ma(D,o,_,F)}if($.BU(D)<.25&&!D.Sr){D.AL[0]=D.AL[2]=!1;$.vdz(o,D,_);v=o}else if($.BU(D)<.25||D.Sr)v=o;
else{var f=.52+$.BU(D)*.2;if($.BU(D)<.5)f=1-f;var U=o.slice(0),H=o.slice(0);if($.BU(D)<.5)U[2]=H[0]=Math.round(f*Q);
else U[3]=H[1]=Math.round(f*C);if($.BU(D)<.5){var d=U;U=H;H=d}v=U;$.vds(D,H,_,F)}$.vdi(D,v,_);_.push("</svg>");
_=_.join("\n");var B=e.Q(Math.round(_.length*1.5)),m=c.GX(_,B,0);return[B.buffer.slice(0,m),D.WV]};vI._K.vdz=function(Q,C,j){var Z=vI._K,F=Q[2]-Q[0],_=Q[3]-Q[1];
if(Z.BU(C)<.5){j.push("<path id=\"Border\" style=\"fill: "+Z.nw(C.Ba)+"\" d=\""+Z.vXz(Q[0],Q[1],Q[2]-Q[0],Q[3]-Q[1],C.pL)+"\" />")}else if(Z.BU(C)<-.4){Z.vdm(C,Q,j)}else{var $=Z.BU(C)<.5?0:1,L=($==0?_:F)/4,D=Z.in(C,$,Q,j,L,!0),D=Z.in(C,$+2,Q,j,L,!0,D)}};
vI._K.vdi=function(Q,C,j){var Z=vI._K,F="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.".split("-"),_=2*Math.floor(Z.BU(Q)*F.length/2),$=C[2]-C[0],L=C[3]-C[1],d=0,v=0;
Q.VG=(Q.fA+$)*.5*(.04+Z.BU(Q)*.05);Q.VG=Math.min(Q.VG,L*.4,$*.12);Q.VG=Math.round(Q.VG);var D=Math.min(Q.VG*F[_].length*(.35+.3*Z.BU(Q)),$*.9),o=(C[1]+C[3])/2,f=e.Kk(Q.SV)<.85?{h:1,J:1,_:1}:{h:.1,J:.1,_:.1};
if(Z.BU(Q)<.25&&Q.AL[0]){v=0;d=C[0]+Q.pL}else if(Z.BU(Q)<.33&&Q.AL[2]){v=2;d=C[2]-Q.pL}else{v=1;d=(C[0]+C[2])/2}var U=f.h==1?"0,0,0":"255,255,255",H=Q.Sr&&Z.BU(Q)<1;
if(H){var B=C[0],m=$,Y=o-Q.VG*1.1,q=Q.VG*2.2,r=.7;if(v==1&&Z.BU(Q)<.5){B=Y=.2*Math.min($,L);m=$-2*Y;
q=L-Y-Y}else if(Z.BU(Q)<.7){B=Y=0;m=$;q=L;r=.25}j.push("<path id=\"Strip\" style=\"fill: rgb("+U+"); opacity: "+r+"\" d=\""+Z.Rect(B,Y,m,q)+"\" />")}if(Z.BU(Q)<.4){var x=Q.VG*.07;
x*=1.5+Z.BU(Q)*1;if(v==-1&&$/L<3&&!H){j.push("<path id=\"Bar-bottom\" style=\"fill: "+Z.nw(f)+"\" d=\""+Z.Rect(d-D/2,o+Q.VG*1.1-x/2,D,x)+"\" />");
j.push("<path id=\"Bar-top\"    style=\"fill: "+Z.nw(f)+"\" d=\""+Z.Rect(d-D/2,o-Q.VG*1.1-x/2,D,x)+"\" />")}if(v!=1){j.push("<path id=\"Bar\" style=\"fill: "+Z.nw(f)+"\" d=\""+Z.Rect(d-x/2,o-Q.VG*.8,x,Q.VG*.8*2)+"\" />");
d+=(v==0?1:-1)*Q.VG/3}}var a=Q.VG*.4;j.push(Z.mB(F[_+1],d,o+a*1.6,a,f,v,Q.cK));j.push(Z.mB(F[_],d,o+Q.VG*.04,Q.VG,f,v,Q.cb))};
vI._K.vds=function(Q,C,j,Z){var F=C[2]-C[0],_=C[3]-C[1],$=Math.max(F,_),L=Math.min(F,_),D=vI._K;if($/L<5&&!Q.Sr&&!1){D.ma(Q,C,j,Z)}else if(D.BU(Q)<0)j.push("<path style=\"fill: "+D.nw(Q.Ba)+"\" d=\""+D.Rect(C[0],C[1],F,_)+"\" />");
else{var d=0;if(C[3]!=Q.NE)d=0;if(C[2]!=Q.fA)d=3;if(C[0]!=0)d=1;if(C[1]!=0)d=2;var o=d+2&3;if($/L<3){var v=D.vdM(o),f=v[Math.round(D.BU(Q)*(v.length-1))],U=f.qy.slice(0,4),H=U.indexOf(1);
f=JSON.parse(JSON.stringify(f));var B=-1;if(U!="0000"){var m=new rI;if(f.qy[5]=="0"){if(H==3&&d==1){B=1;
m.scale(-1,1)}else B=H}else{var Y=o;while(Y==o)Y=Math.floor(D.BU(Q)*4)&3;m.rotate((-H+Y)*Math.PI/2)}D.M(f,m)}var q=D.NM(f),r=F-2*Q.pL,x=_-2*Q.pL;
if(B!=-1){if((B&1)==0)x-=Q.pL;else r-=Q.pL}var a=Math.min(r/q.W,x/q.C),i=new rI;i.translate(-q.x,-q.y);
i.scale(a,a);var l=(F-q.W*a)/2,M=(_-q.C*a)/2;if(B!=-1){if(B==3)l=0;if(B==0)M=0;if(B==1)l=F-q.W*a;if(B==2)M=_-q.C*a}i.translate(C[0]+l,C[1]+M);
D.da(Q,f,i,Q.Ba,j)}else{D.in(Q,d,C,j,1e9)}}};vI._K.ma=function(Q,C,j,Z){var F=C[2]-C[0],_=C[3]-C[1],$=Math.max(F,_),L=Math.min(F,_),D=vI._K,d=D.iM(Q),o,v,f,U=Z[0]instanceof ArrayBuffer;
if(U){o="data:image/jpg;base64,"+_$.xS(Z[0]);v=Z[1];f=Z[2]}else{var H=Math.floor(d*Z.length),B=Z[H];
Q.WV=B;o=B.webformatURL;v=B.webformatWidth;f=B.webformatHeight}var m=C[0],q=C[1],r=F,x=_;if(F/_>v/f){x=r*f/v;
q=q-(x-_)/2}else{r=x*v/f;m=m-(r-F)/2}if(U){j.push("<defs>");j.push("<image width=\""+v+"\" height=\""+f+"\" id=\"Background\" href=\""+o+"\" />");
j.push("</defs>");var a=r/v;j.push("<use href=\"#Background\" transform=\""+vI.ss(new rI(a,0,0,a,m,q))+"\" />")}else{var i="cp"+Math.random();
j.push("<clipPath id=\""+i+"\">");j.push("<path style=\"fill: "+D.nw(Q.Ba)+"\" d=\""+D.Rect(C[0],C[1],F,_)+"\" />");
j.push("</clipPath>");j.push("<image  clip-path=\"url(#"+i+")\" xlink:href=\""+o+"\" x=\""+m+"\" y=\""+q+"\" width=\""+r+"\" height=\""+x+"\" />")}};
vI._K.mB=function(Q,C,j,Z,F,_,$){var L=vI._K;return"<text x=\""+C+"\" y=\""+j+"\" style=\"fill:"+L.nw(F)+"; font-size:"+Z+"px; text-anchor:"+["start","middle","end"][_]+"; font-family:"+$[2]+";\"><tspan>"+Q+"</tspan></text>"};
vI._K.da=function(Q,C,j,Z,F){var _=vI._K,$=[];for(var L=0;L<C.yV.length;L++){$.push(Z);if(Q.vXP){Z=(L&1)==Q.vaK?{h:1,J:1,_:1}:$[0]}}F.push("<g id=\""+C.qy.split("-")[2]+":::\" style=\"transform: "+vI.ss(j)+";\" >");
for(var L=0;L<C.yV.length;L++){var D=C.yV[L];Z=$.pop();F.push("<path style=\"fill: "+(Z?_.nw(Z):"#"+D[0])+"\" d=\""+Typr.U.pathToSVG({crds:D[1].b,cmds:D[1].u})+"\" />")}F.push("</g>")};
vI._K.vdm=function(Q,C,j){var Z=vI._K,F=vI._K.nU,_=[];for(var $=0;$<F.length;$++){var L=F[$],D=L.qy.slice(0,4);
if(D!="1001")continue;_.push(L)}var L=_[Math.floor(Z.BU(Q)*_.length)];if(Z.BU(Q)<.5)Z.M(L,new rI(0,1,1,0,0,0));
var d=C[3]-C[1],o=C[2]-C[0],v=Z.NM(L),f=.7*Math.min(o,d,.5*Math.max(o,d))/Math.max(v.W,v.C),U=new rI;
U.scale(f,f);if(Z.BU(Q)<.5){U.scale(1,-1);U.translate(0,d)}Z.da(Q,L,U,Q.Ba,j);U.rotate(Math.PI);U.translate(o,d);
Z.da(Q,L,U,Q.Ba,j)};vI._K.vdM=function(Q){var C=vI._K.nU,j=[];for(var Z=0;Z<C.length;Z++){var F=C[Z],_=F.qy.slice(0,4);
if(_=="0000"){j.push(F);continue}if(["1000","0100","0010","0001"].indexOf(_)==-1)continue;var $=_.indexOf("1");
if(F.qy[5]=="0"&&Q==$&&$!=3)continue;j.push(F)}return j};vI._K.in=function(Q,C,j,Z,F,_,$){var L=vI._K.nU,D=vI._K,d=[],r,x;
for(var o=0;o<L.length;o++){var v=L[o],f=v.qy.slice(0,4);if(["1110","1101","1011","0111"].indexOf(f)==-1)continue;
var U=f.indexOf("0")+2&3;if(v.qy[5]=="0")if(_==!0||C!=U&&!(C==1&&U==3))continue;d.push(v)}var H=$!=null?$:Math.floor(D.BU(Q)*d.length),v=d[H],v=JSON.parse(JSON.stringify(v)),f=v.qy.slice(0,4),U=f.indexOf("0")+2&3;
if(U==3&&C==1)e.M(v,new rI(1,0,0,-1,0,1e3));var B=new rI;B.translate(-500,-500);B.rotate(-U*Math.PI/2);
B.translate(500,500);D.M(v,B);var m=j[3]-j[1],Y=j[2]-j[0],q=D.NM(v);if(q.y<0){q.C+=q.y;q.y=0}if(q.y>0){q.C+=q.y;
q.y=0}if((C&1)==0){x=m;r=Y}else{r=m;x=Y}var a=Math.min(Math.min(.5+.5*D.BU(Q))*Math.min(Y,m),F)/q.C,i=Math.ceil(r/(1e3*a)),l=new rI,M=new rI;
M.scale(a,a);if(C==0||C==2){M.translate(-(Y/2),-(m/2));M.rotate(-C*Math.PI/2);M.translate(Y/2+j[0],m/2+j[1])}else{M.rotate(Math.PI/2);
M.scale(1,-1);M.translate(j[0],j[1]);if(C==1){M.scale(-1,1);M.translate(Y,0)}}Z.push("<g id=\"Border-"+["top","right","bottom","left"][C]+":::\">");
for(var o=0;o<i;o++){var z=l.clone();z.concat(M);D.da(Q,v,z,Q.Ba,Z);l.translate(1e3-2,0)}Z.push("</g>");
return H};vI._K.Rect=function(Q,C,j,Z){return Typr.U.pathToSVG({crds:[Q,C,Q+j,C,Q+j,C+Z,Q,C+Z],cmds:["M","L","L","L","Z"]})};
vI._K.vXz=function(Q,C,j,Z,F){var _=[Q,C,Q+j,C,Q+j,C+Z,Q,C+Z];Q+=F;C+=F;j-=2*F;Z-=2*F;_.push(Q,C,Q,C+Z,Q+j,C+Z,Q+j,C);
return Typr.U.pathToSVG({crds:_,cmds:"M L L L Z M L L L Z".split(" ")})};vI._K.vXq=function(Q,C){var j=e.$h(Q.h,Q.J,Q._);
j.qV=Math.max(.1,Math.min(.9,j.qV+C));return e.LD(j.NE,j.iC,j.qV)};vI._K.vaQ=function(Q,C){var j=e.$h(Q.h,Q.J,Q._);
j.NE+=C;return e.LD(j.NE,j.iC,j.qV)};vI._K.vaz=function(Q){var C=e.$h(Q.h,Q.J,Q._);C.qV=1-C.qV;return e.LD(C.NE,C.iC,C.qV)};
vI._K.vXi=function(Q,C){var j=Q.h-C.h,Z=Q.J-C.J,F=Q._-C._;return Math.sqrt(j*j+Z*Z+F*F)};vI._K.vXl=function(Q){var C=vI._K;
return{h:C.BU(Q),J:C.BU(Q),_:C.BU(Q)}};vI._K.nw=function(Q){return CSS.$M({h:Q.h*255,J:Q.J*255,_:Q._*255})};
vI._K.NM=function(Q){var C=Q.yV,j=new s;for(var Z=0;Z<C.length;Z++)j=j.fJ(e.g.NM(C[Z][1].b));return j};
vI._K.M=function(Q,C){var j=Q.yV;for(var Z=0;Z<j.length;Z++)e.g.M(j[Z][1].b,C,j[Z][1].b)};vI._K.BU=function(Q){Q.vjN++;
var C=Q.vjN&3;if(C==0)Q.ts=vI._K.iW(Q.ts);var j=Q.ts>>>8*C&255;return j*(.99999999/255)};vI._K.iM=function(Q){var C=vI._K.iW(Q.ts);
Q.ts=vI._K.iW(C);return C*(1/4294967295)};vI._K.iW=function(Q){Q=(Q^61^Q>>>16)>>>0;Q=Q+(Q<<3)>>>0;Q=(Q^Q>>>4)>>>0;
Q=Q*668265261>>>0;Q=(Q^Q>>>15)>>>0;return Q};vI._K.nU=[{qy:"0001-0-bird",yV:[["4b3c34",{u:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),b:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{u:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),b:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{u:"M C C C C C C C C C C C C L Z".split(" "),b:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{qy:"0001-0-bird2",yV:[["ff7f2a",{u:"M L L L Z M L L L Z".split(" "),b:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{u:"M C C C C C C C C C C C L Z".split(" "),b:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{u:"M C C C C C C L Z M C C Z".split(" "),b:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{u:"M L L L Z M L L L Z".split(" "),b:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{u:"M L C C C C C C C C L Z".split(" "),b:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{u:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),b:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{qy:"0000-1-flower",yV:[["7a59a2",{u:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),b:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{qy:"0000-1-flower",yV:[["d13777",{u:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),b:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{qy:"0000-1-flower",yV:[["ffac42",{u:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),b:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{qy:"0000-1-flower",yV:[["d04040",{u:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),b:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{qy:"0000-1-flower",yV:[["ec7272",{u:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),b:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{u:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),b:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{qy:"0000-0-hearts",yV:[["d17070",{u:"M C C C C C C C C C L Z".split(" "),b:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{u:"M C C C C C C C C C L Z".split(" "),b:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{u:"M C C C C C C C C C L Z".split(" "),b:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{qy:"0000-0-anchor",yV:[["2a3b66",{u:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),b:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{qy:"0000-1-leaf",yV:[["fbb600",{u:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),b:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{qy:"0000-1-acorn",yV:[["a05a2c",{u:"M C C C C C C C L Z".split(" "),b:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{u:"M C C C C C C C C C C C Z".split(" "),b:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{qy:"0000-0-skull",yV:[["808080",{u:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),b:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{qy:"0000-0-ghost",yV:[["e6e6e6",{u:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),b:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{u:"M C C C C Z M C C C C Z".split(" "),b:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{qy:"1001-1-rose",yV:[["9e1460",{u:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),b:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{u:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),b:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{qy:"1001-1-curls",yV:[["53a7ab",{u:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),b:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{u:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),b:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{qy:"0111-0-pines",yV:[["e9e9e9",{u:"M C C C C C C C C L L L Z".split(" "),b:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{u:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),b:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{qy:"0111-0-flowers",yV:[["8cae40",{u:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),b:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{u:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),b:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{qy:"1101-1-confetti",yV:[["e789ff",{u:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),b:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{u:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),b:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{qy:"1101-1-branch",yV:[["7f500b",{u:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),b:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{u:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),b:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{qy:"1101-1-sticks",yV:[["ec7272",{u:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),b:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{u:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),b:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{qy:"1101-1-dots",yV:[["ec7272",{u:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),b:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{u:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),b:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{u:["M","C","C","Z"],b:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{qy:"1101-1-strips",yV:[["ffc88c",{u:"M L L L L Z M L L L L Z M L L L L Z".split(" "),b:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{u:"M L L L L Z M L L L L Z M L L L L Z".split(" "),b:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{u:["M","C","C","Z"],b:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{qy:"1101-1-circs",yV:[["ec7272",{u:"M C C C C Z M C C C C Z".split(" "),b:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{u:"M C C C C Z M C C C C Z".split(" "),b:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{u:["M","C","C","Z"],b:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{qy:"1101-1-squares",yV:[["014ea7",{u:"M L L L L Z M L L L L Z".split(" "),b:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{u:"M L L L L Z M L L L L Z".split(" "),b:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{u:["M","C","C","Z"],b:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{qy:"1101-0-christmas",yV:[["014ea7",{u:"M C C C C Z M C C C C Z M L L L L Z".split(" "),b:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{u:"M C C C C Z M C C C C Z M L L L L Z".split(" "),b:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var Wo={};Wo.parse=function(Q){var C=new Uint8Array(Q),j=null;if(C[0]==80&&C[1]==75){var Z=Date.now(),F=UZIP.parse(C.buffer),j=F["document.json"];
j=JSON.parse(c.hI(j,0,j.length));Wo.lO(j,F)}else{var _=rG.parse(Q);j=Wo.my(_[2][0][1])}return j};Wo.lO=function(Q,C){var j=typeof Q;
if(j=="string"||j=="number"||j=="boolean")return Q;if(Q instanceof Array){for(var Z=0;Z<Q.length;Z++)Q[Z]=Wo.lO(Q[Z],C);
return Q}var F=Q._class;if(F==null)return Q;if(F=="MSJSONFileReference"){var _=Q._ref;if(!1){}else if(C[_+".json"]!=null){var $=C[_+".json"],L=$.length;
for(var Z=0;Z<L;Z++)if($[Z]==11||$[Z]==3)$[Z]=32;var D=c.hI($,0,L);Q=JSON.parse(D)}else if(C[_+".png"]!=null)return{key:_.split("/").pop(),bdata:C[_+".png"]};
else if(C[_+".jpg"]!=null)return{key:_.split("/").pop(),bdata:C[_+".jpg"]};else if(C[_+".pdf"]!=null)return{key:_.split("/").pop(),bdata:C[_+".pdf"]};
else if(C[_]!=null)return{key:_.split("/").pop(),bdata:C[_]};else{console.log(Q,C);return}}else if(F=="MSAttributedString"){var D=atob(Q.archivedAttributedString._archive),d=D.length-1,o=new Uint8Array(d);
for(var Z=0;Z<d;Z++)o[Z]=D.charCodeAt(Z);Q.archivedAttributedString=Wo.my(o)}for(var v in Q)Q[v]=Wo.lO(Q[v],C);
return Q};Wo.mm=function(Q,C,j,Z){if(Q instanceof Uint8Array)return null;if(Z.indexOf(Q)!=-1)return null;
Z.push(Q);if(Q==C)return j;for(var F in Q){j.push(F);var _=Wo.mm(Q[F],C,j,Z);if(_){console.log(Q,_);
throw"e"}j.pop()}};Wo.my=function(Q){var C=Qi.parse(Q,0),j=C.$objects,Z=new Uint8Array(j.length),F=Wo.IC(j,Z,C.$top.root);
for(var _=0;_<j.length;_++)if(Z[_]==0&&_!=0){console.log(_,j[_]);Wo.mm(F,_,[],[])}for(var _=0;_<j.length;
_++){var $=j[_];if($._class&&($._class=="bitmap"||$._class=="fill"&&$.fillType==4&&($.image||$.imageSHA))){var L=$.image,D=$.imageSHA,d=null,o=null;
if(L=="$null")L=null;if(D=="$null")D=null;if(L&&L.data){o=L.sha1["NS.bytes"];o=btoa(c.hX(o,0,o.length));
d=L.data instanceof Uint8Array?L.data:L.data["NS.bytes"]}else if(L==null&&D==null){var v=vX.PNG.pU([[e.Q(4).buffer]],1,1);
d=new Uint8Array(v)}else{var f=(F.assets?F.assets.imageCollection:F.images).images;if(D)o=D instanceof Uint8Array?D:D["NS.bytes"];
else o=L.sha1["NS.bytes"];o=btoa(c.hX(o,0,o.length));var d=f[o].data;if(d["NS.bytes"])d=d["NS.bytes"]}d=new Uint8Array(d.buffer.slice(d.byteOffset,d.byteOffset+d.length));
delete $.imageSHA;$.image={key:o,bdata:d}}}return F};Wo.vXg=function(Q){return Q.slice(0,11)=="MSImmutable"?"MS"+Q.slice(11):Q};
Wo.IC=function(Q,C,j){var Z=Q[j];if(C[j]==1){return Z}C[j]=1;if(typeof Z=="string")return Z;if(typeof Z=="number")return Z;
if(typeof Z=="boolean")return Z;if(Z instanceof Array)return Z;if(Z instanceof Uint8Array){return Z}if(Q[Z.$class]==null){if(Z.$class==null&&Z["NS.data"]!=null)return Z;
console.log(j,Z);throw"e"}var F=Q[Z.$class],_=Wo.vXg(F.$classname);C[Z.$class]=1;Z.$class=_;if(Wo.Fx[_]){delete Z.$class;
Z._class=Wo.Fx[_]}var $=Wo.IC;if(_=="NSMutableArray"||_=="NSArray"){var L=[];if(Z["NS.objects"]!=null)for(var D=0;
D<Z["NS.objects"].length;D++)L.push($(Q,C,Z["NS.objects"][D]));else for(var D=0;Z["NS.object."+D]!=null;
D++)L.push($(Q,C,Z["NS.object."+D]));Q[j]=L;return L}if(_=="NSDictionary"||_=="NSMutableDictionary"){var d={$class:_};
if(Z["NS.keys"]!=null)for(var D=0;D<Z["NS.keys"].length;D++){var o=$(Q,C,Z["NS.keys"][D]);if(o instanceof Uint8Array)o=btoa(Wo.sf.hX(o,0,o.length));
else if(typeof o!="string"&&typeof o!="number")o=btoa(Wo.sf.hX(o["NS.bytes"],0,o["NS.bytes"].length));
d[o]=$(Q,C,Z["NS.objects"][D])}else for(var D=0;Z["NS.key."+D]!=null;D++){var o=$(Q,C,Z["NS.key."+D]);
if(o instanceof Uint8Array)o=btoa(Wo.sf.hX(o,0,o.length));else if(typeof o!="string"&&typeof o!="number")o=btoa(Wo.sf.hX(o["NS.bytes"],0,o["NS.bytes"].length));
d[o]=$(Q,C,Z["NS.object."+D])}for(var v in Z)delete Z[v];for(var v in d)Z[v]=d[v];return Z}if(_=="NSURL")return{$class:_,base:$(Q,C,Z["NS.base"]),relative:$(Q,C,Z["NS.relative"])};
if(Wo.vXV.indexOf(_)!=-1){Q[j]=$(Q,C,Z.array_do);return Q[j]}if(Z.do_objectID!=null)Z.do_objectID=$(Q,C,Z.do_objectID);
if(Wo.vXS.indexOf(_)!=-1)return Z;var f=Wo.vXT[_];if(f==null){console.log(Q,Z);throw"unknown class "+_}for(var D=0;
D<f.length;D++)if(Z[f[D]]!=null)Z[f[D]]=$(Q,C,Z[f[D]]);if(_=="MSTextLayer"){var U=Z,H,B,m,Y;if(U.attributedString)H=U.attributedString.archivedAttributedString;
else H=U.storage;Y=H.NSString;if(typeof Y!="string")Y=c.hI(Y["NS.bytes"],0,Y["NS.bytes"].length);if(H.NSAttributeInfo)B=H.NSAttributeInfo["NS.bytes"];
else{var q=Y.length,r=[];while(q>0){var x=Math.min(100,q);r.push(x,0);q-=x}B=new Uint8Array(r)}m=H.NSAttributes instanceof Array?H.NSAttributes:[H.NSAttributes];
var a={$class:"NSAttributedString",NSString:Y,NSAttributes:m};U.attributedString={_class:"MSAttributedString",archivedAttributedString:a};
a.NSAttributeInfo={$class:"NSMutableData","NS.data":B};delete U.storage}return Z};Wo.sf={bS:function(Q,C){return Q[C+1]<<8|Q[C]},o:function(Q,C){return Q[C+3]<<24|Q[C+2]<<16|Q[C+1]<<8|Q[C]},hX:function(Q,C,j){var Z="";
for(var F=0;F<j;F++)Z+=String.fromCharCode(Q[C+F]);return Z}};Wo.Fx={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
Wo.vXV=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
Wo.vXS="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
Wo.vXT={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var Qi={};Qi.parse=function(Q,C){var j=c.hX(Q,C,8);C+=8;var Z=Qi.parse.vXu(Q,Q.length-31),F=[];if(Z.YN==1){var C=Q.length-31-Z.YN*Z.YM;
for(var _=0;_<Z.YM;_++)F.push(Q[C+_])}else if(Z.YN==2){var C=Q.length-31-Z.YN*Z.YM;for(var _=0;_<Z.YM;
_++)F.push(c.bS(Q,C+_*2))}else if(Z.YN==4){var C=Q.length-31-Z.YN*Z.YM;for(var _=0;_<Z.YM;_++)F.push(c.o(Q,C+_*4))}else{throw"e"}var $=Qi.parse.IC(Q,F,Z.root,Z);
return $};Qi.parse.IC=function(Q,C,j,Z){var F=Qi.sf,_=Z.vaI,$=_==4?F.o:_==2?F.bS:F.vXk,L=Qi.parse,D=C[j],d=Q[D],o=d>>4,v=d&15,U=null;
D+=1;if([4,5,6,10,12,13].indexOf(o)!=-1&&v==15){var f=L.hS(Q,D);D+=f.Vv;v=f.O}if(!1){}else if(o==0)U=v==8?!1:v==9?!0:null;
else if(o==1)U=L.hS(Q,D-1).O;else if(o==2)U=1<<v==4?c.UZ(Q,D):c.ip(Q,D);else if(o==3)U=c.ip(Q,D);else if(o==4)U=new Uint8Array(Q.buffer,D,v);
else if(o==5)U=c.hX(Q,D,v);else if(o==6)U=c.qp(Q,D,v);else if(o==8){U=0;for(var H=0;H<v+1;H++)U=U<<8|Q[D+H]}else if(o==10){U=[];
for(var H=0;H<v;H++)U.push(L.IC(Q,C,$(Q,D+_*H),Z))}else if(o==12){U=[];for(var H=0;H<v;H++)U.push(L.IC(Q,C,$(Q,D+_*H),Z))}else if(o==13){U={};
for(var H=0;H<v;H++){var B=L.IC(Q,C,$(Q,D+_*H),Z),m=L.IC(Q,C,$(Q,D+_*(v+H)),Z);U[B]=m}}else throw"unknown mask "+o;
return U};Qi.parse.hS=function(Q,C){var j=1<<(Q[C]&15),Z=0;for(var F=0;F<j;F++)Z=Z<<8|Q[C+1+F];return{O:Z,Vv:j+1}};
Qi.parse.vXu=function(Q,C){var j={};C+=6;j.YN=Q[C];C++;j.vaI=Q[C];C++;C+=4;j.YM=c.o(Q,C);C+=4;C+=4;j.root=c.o(Q,C);
C+=4;C+=4;j.vtb=c.o(Q,C);C+=4;return j};Qi.sf={vXk:function(Q,C){return Q[C]},bS:function(Q,C){return Q[C]<<8|Q[C+1]},o:function(Q,C){return Q[C]<<24|Q[C+1]<<16|Q[C+2]<<8|Q[C+3]},hX:function(Q,C,j){var Z="";
for(var F=0;F<j;F++)Z+=String.fromCharCode(Q[C+F]);return Z}};var rG={parse:function(Q){var C=new Uint8Array(Q),j=rG.zN(C),Z=[],F=new Uint8Array(C.length),_=[];
Z.push(_);rG.lv(C,j,1,F,_);for(var $=0;$<_.length;$++){var L=[];Z.push(L);rG.lv(C,j,_[$][3],F,L);_[$][3]=$+1}return Z},lv:function(Q,C,j,Z,F){j--;
var _=j*C.tK+(j==0?100:0),$=Q[_],L=rG.bS(Q,_+1);if(L!=0)throw"free block in a page";var D=rG.bS(Q,_+3),d=rG.bS(Q,_+5);
if(d==0)d=65536;var o=Q[_+7],v=rG.bS(Q,_+8);if($==2||$==5)_+=4;else v=0;for(var f=0;f<D;f++){var U=j*C.tK+rG.bS(Q,_+8+2*f),H=-1,B=0,m=0,Y=0;
if($==2||$==5){H=rG.o(Q,U);U+=4}if($==2||$==10||$==13){B=rG.Ls(Q,U);U+=B.Vv}if($==5||$==13){m=rG.Ls(Q,U);
U+=m.Vv}if($==5){rG.lv(Q,C,H,Z,F);continue}var q=C.tK-(j==0?100:0),r=B.dK,x=$==13?q-35:Math.floor((q-12)*64/255)-23,a=Math.floor((q-12)*32/255)-23,i=a+(r-a)%(q-4);
if(r<=x){rG.W_(Q,U,Z,0,r)}else{var l=i<=x?i:a,M=0;rG.W_(Q,U,Z,0,l);M+=l;Y=rG.o(Q,U+l);while(Y!=0){var z=(Y-1)*C.tK;
Y=rG.o(Q,z);var V=Math.min(C.tK-4,r-M);rG.W_(Q,z+4,Z,M,V);M+=V}}F.push(rG.vXJ(Z,r))}},vXJ:function(Q,C){var j=0,Z=rG.Ls(Q,j);
j+=Z.Vv;var F=[],_=[];while(j<Z.dK){var $=rG.Ls(Q,j);j+=$.Vv;F.push($.dK)}if(j!=Z.dK)throw"e";for(var L=0;
L<F.length;L++){var $=F[L];if(!1){}else if($==0)_.push(null);else if($==1){_.push(rG.vaS(Q,j));j+=1}else if($==2){_.push(rG.DK(Q,j));
j+=2}else if($==3){_.push(rG.vaV(Q,j));j+=3}else if($==4){_.push(rG.hS(Q,j));j+=4}else if($==7){_.push(rG.vau(Q,j));
j+=16}else if($==8)_.push(0);else if($==9)_.push(1);else if($>=12&&($&1)==0){var D=$-13>>1,d=new Uint8Array(D);
rG.W_(Q,j,d,0,D);_.push(d);j+=D}else if($>=13&&($&1)==1){var D=$-12>>1;_.push(rG.hI(Q,j,D));j+=D}else throw"unknonw type "+$}return _},zN:function(Q){if(!(Q[18]==1&&Q[19]==1&&Q[20]==0&&Q[21]==64&&Q[22]==32&&Q[23]==32))throw"unexpected SQL3 header";
var C={cV:rG.hX(Q,0,15),tK:rG.bS(Q,16),vtj:rG.o(Q,24),size:rG.o(Q,28),vtz:rG.o(Q,32),vtq:rG.o(Q,36),vti:rG.o(Q,40),vtl:rG.o(Q,44),vtg:rG.o(Q,48),vtV:rG.o(Q,52),vzg:rG.o(Q,56),vtT:rG.o(Q,60),vtu:rG.o(Q,64)!=0,vtk:rG.o(Q,68),vtJ:rG.o(Q,92),vtI:rG.o(Q,96)};
if(C.tK==1)C.tK=65536;if(C.vzg!=1)throw"unsupported text encoding "+C.vzg;return C},vXX:function(Q,C){return Q[C]<<16|Q[C+1]<<8|Q[C+2]},vaV:function(Q,C){var j=rG.vXX(Q,C),Z=j&8388608;
return Z?-(16777215-j+1):j},vaS:function(Q,C){rG.Ih[0]=Q[C];return rG.vaZ[0]},hS:function(Q,C){var j=rG.Ih;
for(var Z=0;Z<4;Z++)j[Z]=Q[C+3-Z];return rG.vaN[0]},DK:function(Q,C){var j=rG.Ih;j[0]=Q[C+1];j[1]=Q[C];
return rG.vaH[0]},bS:function(Q,C){return Q[C]<<8|Q[C+1]},o:function(Q,C){return Q[C]<<24|Q[C+1]<<16|Q[C+2]<<8|Q[C+3]},vau:function(Q,C){var j=rG.Ih;
for(var Z=0;Z<8;Z++)j[Z]=Q[C+7-Z];return rG.van[0]},Ls:function(Q,C){var j=C,Z=0;while(!0){var F=Q[C];
C++;Z=Z*128+(F&127);if(F<128)break}return{dK:Z,Vv:C-j}},hX:function(Q,C,j){var Z="";for(var F=0;F<j;
F++)Z+=String.fromCharCode(Q[C+F]);return Z},hI:function(Q,C,j){var Z="";for(var F=0;F<j;F++)Z+="%"+rG.vas(Q[C+F].toString(16));
return decodeURIComponent(Z)},W_:function(Q,C,j,Z,F){if(Q[C+F-1]==null||j[Z+F-1]==null){console.log(C,Z,F);
throw"e"}for(var _=0;_<F;_++)j[Z+_]=Q[C+_]},vas:function(Q){return Q.length<2?"0"+Q:Q}};rG.Ih=new Uint8Array(8);
rG.vaZ=new Int8Array(rG.Ih.buffer);rG.vaH=new Int16Array(rG.Ih.buffer);rG.vaN=new Int32Array(rG.Ih.buffer);
rG.van=new Float64Array(rG.Ih.buffer);function vt(Q,C,j){this.Jv=Q;this.an=C;this.vap=j;this.tj=new Wn(0,0);
this.BJ=-1;this.BB=0;this.Ao=0;this.SS=new s;this.ST=[];this.cT=null;this.vzp=null;this.cu=null;this.cz=null;
this.AH=null;this.vqX=null}vt.prototype.StartPage=function(Q,C,j,Z){var F=this.an,_=F.xZ(),$=1;while((j-Q)*(Z-C)*_*_/($*$)>8e3*8e3)$++;
F.scale(1/$,1/$);this.vzp=[Q,C,j,Z];var $=F.xZ();Q=Math.round(Q*$);C=Math.round(C*$);j=Math.round(j*$);
Z=Math.round(Z*$);var L=this.Jv,D=this.cu;if(D==null){F._Y=-Q}else{var d=D[2]-D[0]+30,o=Math.round(j-Q)+30;
if(this.tj.x+d+o>8192){F._Y=-Q;this.tj.x=0;this.tj.y+=this.Ao+120;this.Ao=0}else{F._Y+=d;this.tj.x+=d}}F.Rf=this.tj.y+(this.vap?Z:-C);
this.Ao=Math.max(this.Ao,Math.round(Z-C));this.cu=[Q,C,j,Z];L.k.push(L.fi())};vt.prototype.FA=function(){var Q=this.Jv,C=Q.k[Q.k.length-1];
return C};vt.prototype.ZW=function(){var Q=JSON.parse(JSON.stringify(WM.oj.default));Q.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
Q.strokeEnabled.v=!1;Q.fillEnabled.v=!1;return Q};vt.prototype.Zg=function(){var Q=this.Jv,C=Q.qg();
C.sp("Path "+Q.k.length);this.Jv.k.push(C);C.xz|=16;C.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.q.mx({h:0,J:0,_:0})}};
C.add.vmsk=new S.jH;C.add.vstk=this.ZW();return C};vt.prototype.l$=function(Q){var C={b:Q.crds,u:Q.cmds},j=e.g.er(C,!1);
e.D.gw(j,this.an);return j};vt.ZV=function(Q,C){for(var j=0;j<Q.length;j++)if(Q[j].rh!=null)Q[j].rh=C};
vt.vBj=function(Q){return Math.sqrt(Math.abs(Q[0]*Q[3]-Q[1]*Q[2]))};vt.sU=function(Q){return e.q.mx({h:Q[0]*255,J:Q[1]*255,_:Q[2]*255})};
vt.LE=function(Q){return new rI(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5])};vt.prototype.Stroke=function(Q){if(this.BJ!=-1&&this.BJ!=this.BB)return;
if(Q.pth.cmds.length<=1)return;var C=this.l$(Q.pth);if(C.length<=2)return;this.Lm(Q);vt.ZV(C,-1);C[2].rh=1;
var j=vt.sU(Q.COLR),Z=this.FA(),F=this.ZW();F.strokeEnabled.v=!0;F.strokeStyleMiterLimit.v=Q.mlimit;
F.strokeStyleLineDashSet.v=rk.PO(Q.dash,1/Q.lwidth);F.strokeStyleLineDashOffset.v.val=Q.doff;F.strokeStyleLineJoinType.v.strokeStyleLineJoinType=WM.oj.join[Q.ljoin];
F.strokeStyleLineCapType.v.strokeStyleLineCapType=WM.oj.Eg[Q.lcap];F.strokeStyleLineWidth.v.val=Math.max(.4,Q.lwidth*vt.vBj(Q.ctm)*this.an.xZ());
F.strokeStyleContent.v.Clr.v=j;var _=Z!=null&&Z.add.vmsk!=null&&!Z.Hd(),$=_&&!Z.add.vstk.strokeEnabled.v&&S.jH.vqE(Z.add.vmsk.G,C,!0),L=_&&!Z.add.vstk.fillEnabled.v&&JSON.stringify(F)==JSON.stringify(Z.add.vstk);
if(L){vt.ZV(C,-1);Z.add.vmsk.G=Z.add.vmsk.G.concat(C.slice(2))}else if($){Z.add.vstk=F;F.fillEnabled.v=!0}else{Z=this.Zg();
Z.add.vmsk.G=C;Z.add.vstk=F}};vt.prototype.Fill=function(Q,C){if(this.BJ!=-1&&this.BJ!=this.BB)return;
if(Q.ca==0)return;var j=Q.pth.cmds;if(j.length==0)return;if(j.length==2&&JSON.stringify(j)=="[\"M\",\"L\"]")return;
var Z=e.g.NM(Q.cpth.crds),F=e.g.NM(Q.pth.crds);if(F.QU(Z).jJ())return;var _=Q.pth;if(this.cz==null&&UDOC.G.isBox(_,[F.x,F.y,F.x+F.W,F.y+F.C])&&F.yt(Z)){_=Q.cpth}else this.Lm(Q);
var $=this.l$(_),L=e.g.iq(F);e.g.M(L.b,this.an,L.b);F=e.g.NM(L.b);var D=vt.fm(Q.colr,this.an,F),d=this.FA(),o=d!=null&&d.add.vstk!=null&&!d.add.vstk.strokeEnabled.v&&d.add.SoCo&&D.type=="SoFi"&&JSON.stringify(d.add.SoCo.Clr.v)==JSON.stringify(D.O.v.Clr.v);
if(o){var v=!1;for(var f=0;f<$.length;f++){if($[f].rh==0||$[f].rh==2)v=!0}if(v){var U=e.g.NM(e.D.hR(d.add.vmsk.G)),H=e.g.NM(e.D.hR($));
o=U.QU(H).jJ()}}if(o){var B=d.add.vmsk.G;for(var f=2;f<$.length;f++)B.push($[f])}else{d=this.Zg();delete d.add.SoCo;
d.add.vmsk.G=S.jH.Do($);vt.rt(Q.colr,d,this.an,F);vt.hk(Q,d)}};vt.rt=function(Q,C,j,Z){var F=vt.fm(Q,j,Z),_=null,$=null;
C.add.vstk.fillEnabled.v=!0;if(F.type=="SoFi"){_="SoCo";$=WM.rE}if(F.type=="GrFl"){_="GdFl";$=WM.FX}if(F.type=="patternFill"){_="PtFl";
$=WM.FF}if(_!=null){C.add[_]={classID:"null"};for(var L=0;L<$.length;L++){var D=$[L];C.add[_][D]=F.O.v[D]}}};
vt.prototype.Lm=function(Q){var C=this.Jv,j=Q.cpth,Z=j.cmds.join(""),F=j.crds,_=Z+" "+F.join(","),$=UDOC.G.isBox(j,this.vzp);
if($&&this.cz==null)return;if(_==this.cz)return;this.f$();if(!$){this.cz=_;C.k.push(C.fi());var L=C.qg();
L.sp("Mask");L.add.lsct=_K.f_;L.gd="pass";L.xz=24;var D=L.add.vmsk=new S.jH;D.G=this.l$(Q.cpth);if(UDOC.G.isBox(j)){this.AH=e.D.kd(D.G);
this.AH.ac(3,3)}else this.AH=null;this.vqX=L}};vt.prototype.f$=function(){var Q=this.Jv;if(this.cz!=null){var C=Q.k.length-1,j=C,Z=!1;
while(j>=0&&Q.k[j].add.lsct!=_K.sQ)j--;var F=this.AH;if(F){var _=new s,$=C;while($>j){_=Q.k[$].sv(this.Jv,!1,!0);
$--}Z=F.yt(_)}if(Z){this.ST.splice(j,1);Q.k.splice(j,1)}else{Q.k.push(this.vqX)}this.cz=null}};vt.fm=function(Q,C,j){var Z,F;
if(Q.length!=null){Z="SoFi";var _=JSON.parse(WM.oy[WM.order.indexOf("SoFi")]);F={t:"Objc",v:_};F.v.Clr.v=vt.sU(Q)}else{var $=vt.vBl(Q,C,j);
Z="GrFl";F={t:"Objc",v:$}}return{type:Z,O:F}};vt.vBl=function(Q,C,j){var Z=JSON.parse(WM.oy[WM.order.indexOf("GrFl")]),F=Z.Grad.v;
F.Intr.v=0;var _=vt.LE(Q.mat);_.concat(C);var $=new Wn(0,0),L=new Wn(j.W,0),D=Q.crds;if(Q.typ=="rad"){Z.Type.v.GrdT="Rdl";
var d=.7;$.x=(1-d)*D[0]+d*D[3];$.y=(1-d)*D[1]+d*D[4];L.x=$.x;L.y=$.y;L.x+=Math.max(D[2],D[5])}else{Z.Type.v.GrdT="Lnr";
$.x=D[0];$.y=D[1];L.x=D[2];L.y=D[3];$.x=L.x+.5*($.x-L.x);$.y=L.y+.5*($.y-L.y)}$=_.IV($);L=_.IV(L);e.q.m_($,L,j,Z);
var o=Q.grad;e.q.vF(o,F);return Z};vt.prototype.PutText=function(Q,C,j,Z){var F=C.charCodeAt(0),f=null;
if(this.BJ!=-1&&this.BJ!=this.BB)return;if(C.length==0||C.length==1&&(F==0||F==8203))return;this.Lm(Q);
var _=this.Jv,$=Q.font,L=vt.LE(Q.ctm);L.concat(this.an);var D=vt.LE($.Tm);D.concat(L);var d=G.S.xZ(D),o=new rI(1/d,0,0,-1/d,0,0);
o.concat(D);var v=$.Tfs*d;if($.Th!=100||$.Trise!=0){console.log($)}var U=_.k.length-1;while(U>=0&&_.k[U].add.TySh==null)U--;
if(Z==null&&U>=0&&_.k[U].add.TySh){var H=_.k[U],B=this.ST[U],m=H.add.TySh.M,Y=(m._Y+B.SJ-o._Y)/v,q=Math.abs(Y),r=C.indexOf(" ")==-1,x=m.om==o.om&&m._==o._&&m.ug==o.ug&&m.xP==o.xP,a=x&&Math.abs(B.Sh-o.Rf)<1e-5&&q<.6,i=o.Rf-B.Sh;
if(a){f=H;B.SJ=o._Y-m._Y;if(Y>.2&&r&&[".",",","?",":","!"].indexOf(C)==-1)C=" "+C}else if(x&&Math.abs(o._Y-m._Y)<1e-5&&0<i&&i<v*1.7&&B.vqL==v){f=H;
this.hz(B);B.Sh=o.Rf;C="\n"+C}}if(f==null){U=_.k.length;this.ST[U]={xg:[],SJ:0,Sh:o.Rf,cE:"",vqL:v};
f=_.qg();_.k.push(f);f.add.lnsr="rend";f.add.TySh=rD.dg(0,0);f.add.TySh.M=o}var B=this.ST[U];B.SJ+=j*v;
B.cE+=C;var l=f.add.TySh.Qp,M=rD.Dm(l);if(Z){rD.GL(l,1);var z=[0,0,Math.ceil(Z[0]*d),Math.ceil(Z[1]*d)];
rD.Cr(l,z)}var V=M.length-1,X=V+C.length;rD.Gt(l,V,C);if(this.cT==null)this.cT=rD.WW(l,V,V);var O=this.cT;
O.hy.FontSize=Math.round(v);O.hy.Tracking=Math.round($.Tc*100);O.hy.Underline=$.Tun==1;O.hy.FillColor={Type:1,Values:[1,Q.colr[0],Q.colr[1],Q.colr[2]]};
if($.Tal!=null)O.Cx.Justification=$.Tal;if(B.xg.length!=0){O.hy.AutoLeading=!1;O.hy.Leading=B.Sh-B.xg[B.xg.length-1].y}var y=$.Tf;
y=y.replace(/#2B/g,"+");y=y.replace(/#2C/g,"-");y=y.split("+").pop();var K={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(K[y])y=K[y];rD._D(O,y);rD.ey(l,V,X-1,O);f.ux()};vt.prototype.hz=function(Q){Q.xg.push({fA:Q.SJ,bd:Q.cE.slice(Q.xg.length==0?0:1)+"\n",y:Q.Sh,iC:Q.vqL});
Q.SJ=0;Q.cE=""};vt.prototype.PutImage=function(Q,C,j,Z,F,_,$){if(this.BJ!=-1&&this.BJ!=this.BB)return;
var L=this.Jv,D=Q.font.Tmode;if(D==7&&L.k[L.k.length-1].add.TySh){return}this.Lm(Q);var d=vt.LE(Q.ctm);
d.concat(this.an);var o=new rI(1/j,0,0,-1/Z,0,1);o.concat(d);d=o;C=vt.oB(C,j,Z);if(F)F=vt.oB(F,j,Z);
if(F==null){if(C.length==j*Z*4)C=new Uint8Array(vX.PNG.pU([[C.buffer,0]],j,Z))}else{C=this.Gk(C,j,Z,_,!1);
F=this.Gk(F,j,Z,$,!0);var v=e.Q(j*Z);e.yq(F,v,0);e.gG(v,C,3);C=new Uint8Array(vX.PNG.pU([[C.buffer,0]],j,Z))}var f=L.$H(C,"Bitmap",0,0),U=f.rect.clone();
U.x=U.y=0;var H=e.g.iq(U).b;e.g.M(H,d,H);f.add.SoLd.Trnf=G.S.Zv(H);f.add.SoLd.nonAffineTransform=G.S.Zv(H);
f.RN(L,!1);vt.hk(Q,f);L.k.push(f)};vt.hk=function(Q,C){C.opacity=Math.round(255*Q.ca);var j=vt.l_[Q.bmode];
if(j==null)console.log("Unknown blend mode",j);else C.gd=j};vt.l_={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
vt.oB=function(Q,C,j){var Z=vX.Kl(Q.buffer);if(Z=="jpg"){try{Q=new Uint8Array(vX.JPG.vrk(Q.buffer))}catch(rG){Q=new Uint8Array(C*j*4)}}if(Z==null&&Q.length!=C*j*4){var F=new Uint8Array(C*j*4),_=new Uint8Array(Math.ceil(C*j/8));
UTIF.decode._decodeG4(Q,0,Q.length,_,0,C,1);for(var $=0;$<C*j;$++){var L=$*4,D=(_[$>>3]>>7-($&7)&1)*255;
F[L]=D;F[L+1]=D;F[L+2]=D;F[L+3]=255}Q=F}return Q};vt.prototype.Gk=function(Q,C,j,Z,F){if(Q.length!=C*j*4){var _=vX.Kl(Q.buffer),$=vX.Xo(_);
if($==null||_=="tga")$=vX.Xo("jpg");Q=new Uint8Array($.aJ(Q,Z,F)[0].data)}return Q};vt.prototype.ShowPage=function(){var Q=this.Jv;
this.BB++;var C=this.cu;this.f$();var j=Q.qg();Q.k.push(j);var Z=new s(Math.round(this.tj.x),Math.round(this.tj.y),Math.round(C[2]-C[0]),Math.round(C[3]-C[1]));
this.SS=this.SS.fJ(Z);j.vo(Z);j.sp("Page "+this.BB);j.add.lsct=_K.f_;j.gd="pass";j.xz=24};vt.prototype.Print=function(Q){console.log("Print:",Q)};
vt.prototype.Done=function(){var Q=this.Jv;if(this.BB==1)Q.k[Q.k.length-1].add.lsct=_K.gh;Q.RG(this.BB);
for(var C=0;C<Q.k.length;C++){var j=Q.k[C],Z=j.add.vmsk,F=j.add.TySh,_=this.ST[C];j.WU();j.Ea(Q);if(F&&_.xg.length!=0){this.hz(_);
var $=F.Qp,L=_.xg.length,D=_.xg[0],d=0,v=0;for(var o=0;o<L;o++)d=Math.max(d,_.xg[o].fA);rD.GL($,1);F.M.Rf-=D.iC*.7;
rD.Cr($,[0,0,Math.ceil(d*1.1),Math.ceil(_.xg[L-1].y-D.y+D.iC*2)])}if(F){var $=F.Qp;rD.vkr($);var f=rD.Dm($).split("\n");
for(var o=0;o<f.length-1;o++){var U=f[o],H=0;for(var B=0;B<U.length;B++){var m=U.charCodeAt(B);if(1473<=m&&m<=1524)H++}if(H>U.length/2){f[o]=U.split("").reverse().join("");
var Y=$.EngineDict.ParagraphRun.RunArray[o].ParagraphSheet.Properties;Y._Direction=1;Y.Justification=rD.jS(Y)}}rD.Jp($,f.join("\n"))}}Q.tb=!0;
Q.W=this.SS.W;Q.C=this.SS.C;Q.buffer=e.Q(this.SS.P()*4)};var vH={};vH.Ry=function(Q,C,j,Z){var F=!1,_=[Q.root],$=Q.root.children;
if(Q.add.artd){F=!0;for(var L=0;L<$.length;L++)if($[L].c.add.artb==null)F=!1;if(F)_=$}var D=new s(0,0,Q.W,Q.C),d=C[0];
d=d.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();d=d.split(" ");var o=[];for(var L=0;
L<d.length;L++){var v=d[L];if(v=="-"){var f=o.pop(),U=parseInt(d[L+1]);while(f<U){o.push(f);f++}}else o.push(parseInt(v))}d=o;
for(var L=0;L<d.length;L++)if(isNaN(d[L])||d[L]<1||d[L]>_.length){d.splice(L,1);L--}var H=72/Q.zn;for(var L=0;
L<_.length;L++){if(d.length!=0&&d.indexOf(L+1)==-1)continue;var B=_[L],m=F?B.c.se():D,Y=Math.round(m.W*H),q=Math.round(m.C*H);
j.StartPage(0,0,Y,q);var r=UDOC.getState([[0,0,Y,q]]),x=new rI;x.translate(-m.x,-m.y-m.C);x.scale(H,-H);
if(C[2]){var a=Q.ln();if(!D.gm(m)){a=e.Q(m.P()*4);e.tW(Q.ln(),D,a,m)}if(C[1]!=100){var i=vX.JPG.pU([[a.buffer]],m.W,m.C,[C[1]]);
a=new Uint8Array(i)}var l=new rI;l.translate(m.x,m.y);vH.Uz(r,j,a,m,l,x)}else vH.PH(Q,B,r,j,x,C,Z);j.ShowPage()}j.Done()};
vH.Yp=function(Q){Q=e.q.Xa(Q);return[Q.h/255,Q.J/255,Q._/255]};vH.PH=function(Q,C,j,Z,F,_,$){var L=C.c,D=L.add.lsct,d=L.add.lmfx,o=L.add.vmsk,v=L.add.vstk,f=L.add.TySh;
if(!L.ow())return;var U=L.opacity/255,H=L.add.iOpa?L.add.iOpa/255:1;for(var B in vt.l_)if(vt.l_[B]==L.gd)j.bmode=B;
j.ca=j.CA=U*H;var m=d;if(m)m=m.solidFillMulti.v[0];if(m)m=m.v;if(m&&!m.enab.v)m=null;if(L.Hd()){for(var Y=0;
Y<C.children.length;Y++)vH.PH(Q,C.children[Y],j,Z,F,_,$)}else if(o){var q=o.G,r=e.D.kd(q),x=e.g.eV(q),a=!1,i=!1,l=!1;
e.g.M(x.b,F,x.b);j.pth={cmds:x.u,crds:x.b};if(v.fillEnabled.v){var M=rk.kk(d,L.add),z=M[0],V=M[1];if(z){j.colr=vH.Yp(z.Clr.v)}else if(V){var X=V,O=[],y,K=X.Type.v.GrdT=="Rdl"?"rad":"lin",R=e.q.Rd(X,r),W=F.IV(R[0]),N=F.IV(R[1]);
if(K=="rad")y=[W.x,W.y,0,W.x,W.y,Wn.iQ(W,N)];else{W.KL(N.x+(W.x-N.x)*2,N.y+(W.y-N.y)*2);y=[W.x,W.y,N.x,N.y]}var I=X.Grad.v.Clrs.v;
for(var Y=0;Y<I.length;Y++){var T=I[Y].v;O.push([T.Lctn.v/4096,vH.Yp(T.Clr.v)])}j.colr={typ:K,mat:[1,0,0,1,0,0],grad:O,crds:y}}a=!0}var h=rk.ks(d);
if(!v.strokeEnabled.v&&h)v=h;if(v.strokeEnabled.v){var p=v.strokeStyleContent.v,u=v.strokeStyleLineDashSet.v,g=WM.oj.EE.indexOf(v.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(p.Clr==null)return;var A=e.q.Xa(p.Clr.v);j.COLR=[A.h/255,A.J/255,A._/255];j.lwidth=v.strokeStyleLineWidth.v.val*(g==2?2:1)*F.xZ();
j.mlimit=v.strokeStyleMiterLimit.v;j.doff=v.strokeStyleLineDashOffset.v.val;j.ljoin=WM.oj.join.indexOf(v.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
j.lcap=WM.oj.Eg.indexOf(v.strokeStyleLineCapType.v.strokeStyleLineCapType);j.dash=[];for(var Y=0;Y<u.length;
Y++)j.dash.push(u[Y].v.val*j.lwidth);if(j.dash.length==1&&j.dash[0]==0)j.dash=[];i=!0;if(g==2)l=!0}if(a&&!l)Z.Fill(j);
if(i)Z.Stroke(j);if(a&&l)Z.Fill(j)}else if(f&&_[4]){var w=f.Qp,r$=new _J(w,$),x=vQ.PG(r$,f),rW=e.g.ji(x);
for(var A in rW){var J=parseInt(A.slice(1),16);j.colr=m?vH.Yp(m.Clr.v):[(J>>>16&255)/255,(J>>>8&255)/255,(J&255)/255];
var rr=rW[A];e.g.M(rr.b,F,rr.b);rr=e.g.vJE(rr);j.pth={cmds:rr.u,crds:rr.b};Z.Fill(j)}}else if(f&&_[3]==!1){var w=f.Qp,r_=f.M.clone(),rO=new rI(1,0,0,-1,0,0);
rO.concat(r_);rO.concat(F);var k=rD.Dm(w),r$=new _J(w,$);for(var Y=0;Y<r$.Cx.length;Y++){var rv=r$.Cx[Y];
if(rv.xU.length==1&&rv.xU[0].cJ)continue;for(var rb=0;rb<rv.JZ.length;rb++){var rt=rv.JZ[rb],rK=rv.Bi.y+rt.Bi.y,rR=rv.xU[rt.start].start,ri=rv.xU[rt.end-1].end,ru=rD.vkW(w,rR,ri);
for(var rS=0;rS<ru.length;rS++){var rg=r$.PU(rR),rd=ru[rS],vO=rD.WW(w,rR,rR),rq=vO.UT[vO.hy.Font].Name;
j.font.Tf=rq;var A=rD.Xa(vO.hy);j.colr=m?vH.Yp(m.Clr.v):[A.h/255,A.J/255,A._/255];j.font.Tfs=Math.round(vO.hy.FontSize);
var rL=k.slice(rR,rR+rd);if(vO.hy.FontCaps==2)rL=rL.toUpperCase();var rl=new rI;rl.translate(rg.z.x,-rK);
rl.concat(rO);j.ctm=[rl.om,rl._,rl.ug,rl.xP,rl._Y,rl.Rf];Z.PutText(j,rL,0);j.ctm=[1,0,0,1,0,0];rR+=rd}}}}else if(!L.rect.jJ()){var rV,ry,vj=!1,rp=new rI;
if(L.add.SoLd){var rx=L.add.SoLd,rF=rx.Idnt.v,DX=Q.Gx(rF,rx.Crop?rx.Crop.v:null),vW="";if(DX==null)return;
var va=DX.XJ,rB=vX.Kl(DX.raw.buffer);if(_[5].indexOf(rB)!=-1){rV=DX.raw;vj=!0}else rV=va[0];ry=va[1];
rp=e.V.Mr(rx)}else{rV=L.buffer;ry=L.rect;rp.translate(ry.x,ry.y)}if(m&&!vj)rV=rk.vOQ(rV,m,ry);vH.Uz(j,Z,rV,ry,rp,F);
if(m&&vj){var y=[0,0,ry.W,0,ry.W,ry.C,0,ry.C];e.g.M(y,rp,y);e.g.M(y,F,y);var rN=JSON.parse(JSON.stringify(j));
rN.ca=m.Opct.v.val/100;rN.pth={cmds:["M","L","L","L","Z"],crds:y};rN.colr=vH.Yp(m.Clr.v);Z.Fill(rN)}}};
vH.Uz=function(Q,C,j,Z,F,_){var $=new rI;$.scale(Z.W,-Z.C);$.translate(0,Z.C);$.concat(F);$.concat(_);
Q.ctm=[$.om,$._,$.ug,$.xP,$._Y,$.Rf];C.PutImage(Q,j,Z.W,Z.C);Q.ctm=[1,0,0,1,0,0]};var DW={};DW.ig=function(Q){var C=new Uint8Array(Q);
return DW.MS(C,0)};DW.MS=function(Q,C){var j=c.o,Z=c.hX,F={rw:Z(Q,C,4),f:C+8,size:j(Q,C+4)},_=F.rw=="FORM"||F.rw=="LIST"||F.rw=="CAT ";
if(_)F.wH=Z(Q,C+8,4);if(F.size<0||F.f+F.size>Q.length)throw"e";if(_){F.sub=[];C+=12;var L=F.f+F.size;
while(C<L){var D=DW.MS(Q,C);F.sub.push(D);C+=8+D.size+(D.size&1)}}return F};var Qe={};Qe.ig=function(Q,C){var j=new Uint8Array(Q);
return Qe.MS(j,0,C)};Qe.MS=function(Q,C,j){var Z=c.BQ,F=c.hX,_={rw:F(Q,C,4),f:C+8,size:Z(Q,C+4)};if(j&&j[_.size]!=null)_.size=j[_.size];
if(_.rw=="RIFF"||_.rw=="LIST"){_.wH=F(Q,C+8,4)}if(_.size<0||_.f+_.size>Q.length)throw"e";if(_.rw=="RIFF"||_.rw=="LIST"&&(_.wH!="cmpr"&&_.wH!="stlt")){_.sub=[];
C+=12;var L=_.f+_.size;while(C<L){var D=Qe.MS(Q,C,j);_.sub.push(D);C+=8+D.size+(D.size&1)}}return _};
var DW={};DW.ig=function(Q){var C=new Uint8Array(Q);return DW.MS(C,0)};DW.MS=function(Q,C){var j=c.o,Z=c.hX,F={rw:Z(Q,C,4),f:C+8,size:j(Q,C+4)},_=F.rw=="FORM"||F.rw=="LIST"||F.rw=="CAT ";
if(_)F.wH=Z(Q,C+8,4);if(F.size<0||F.f+F.size>Q.length)throw"e";if(_){F.sub=[];C+=12;var L=F.f+F.size;
while(C<L){var D=DW.MS(Q,C);F.sub.push(D);C+=8+D.size+(D.size&1)}}return F};function __(){}__.ig=function(Q,C){var j=new Uint8Array(Q);
C.tb=!0;var Z=c.hX(j,0,2);if(Z=="WL"){alert("Unsupported CDR version")}else{var F=__.lQ,_=Qe.ig(j.buffer),$={data:j,f:0,vm:__.vmo(j[11])},f=300;
$.cd=$.vm<600?16:32;__.lt($,_.sub,C,0);var L=F(_,"cmpr").sub,D=L[0],d=L.slice(1),o=F(D,"mcfg").O,v=o.vaX;
f/=Da.ia(new s(0,0,Math.round(v.x*f),Math.round(v.y*f)),8192*8192);var U=Math.round(v.x*f),H=Math.round(v.y*f);
C.W=U;C.C=H;C.buffer=e.Q(C.W*C.C*4);var B=F(D,"filt").sub,m=F(D,"otlt").sub;D.cB={};for(var Y=0;Y<B.length;
Y++)D.cB[B[Y].sub[0].O.id]=B[Y].sub[0].O;D.cx={};for(var Y=0;Y<m.length;Y++)D.cx[m[Y].O.id]=m[Y].O;var q=new rI(f,0,0,-f,v.x*f/2,v.y*f/2),r=d[1];
__.IB(r,D,C,q);C.RG(1);C.k[C.k.length-1].vo(new s(0,0,U,H))}};__.lQ=function(Q,C){var j=null;for(var Z=0;
Z<Q.sub.length;Z++){var F=Q.sub[Z];if(F.rw==C||F.wH==C)j=F}return j};__.IB=function(Q,C,j,Z){var F=__.lQ,_=Q.wH?Q.wH:Q.rw,$=F(Q,"lgob"),L=F(Q,"txsm"),D,d;
if($){D=F($,"trfl");d=F($,"loda")}var o=D?D.sub[0].U_.clone():new rI;o.concat(Z);var v=j.qg();if(_=="page"||_=="layr"||_=="grp "){v.sp((_=="page"?"Page":"Group")+" "+j.k.length);
v.add.lsct=_K.gh;v.gd="pass";v.xz=24;var f=[];if(_=="page")f=F(Q,"gobj").sub;if(_=="layr")f=Q.sub.slice(2);
if(_=="grp ")f=Q.sub.slice(4);if(f.length==0)return;j.k.push(j.fi());for(var U=f.length-1;U>=0;U--)__.IB(f[U],C,j,Z)}else if(_=="obj "&&d.O&&d.O.path){v.sp("Object "+j.k.length);
var H=C.cB[d.O.vaa],B=C.cx[d.O.vaF],m=v.getName(),Y=H&&H.type!=0,q=Y&&H.O!=null?H.O:[0,0,0];v.xz|=16;
v.add.vstk=JSON.parse(JSON.stringify(WM.oj.default));var r=v.add.vstk;r.strokeEnabled.v=!1;v.add.vmsk=new S.jH;
if(B&&B.vaC!=1){r.strokeEnabled.v=!0;r.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
r.strokeStyleLineWidth.v.val=B.lineWidth*Z.xZ();var x=B.color;r.strokeStyleContent.v.Clr.v=e.q.mx({h:x[0]*255,J:x[1]*255,_:x[2]*255})}var a=d.O.path;
v.add.vmsk.G=e.g.er(a,!1);e.D.gw(v.add.vmsk.G,o);vt.rt(q,v,o,e.D.kd(v.add.vmsk.G));r.fillEnabled.v=Y;
v.WU();v.Ea(j)}else if(_=="obj "&&L){var i=d.O.vaY,l=d.O.vac,V="";v.add.TySh=rD.dg(0,0);var M=o.xZ();
v.add.TySh.M.translate(o._Y,o.Rf);var z=v.add.TySh.Qp,X=L.O.vlq;for(var U=0;U<X.length;U++){var O=X[U],y=V.length;
V+=O.text+"\n";rD.Gt(z,y,O.text+"\n");var K=__.vBJ(O.vaf,C),R=rD.WW(z,y,V.length);if(K.align==3)R.Cx.Justification=1;
else R.Cx.Justification=0;var W=K.fill.O;R.hy.FillColor={Type:1,Values:[1,W[0],W[1],W[2]]};R.hy.FontSize=Math.round(K.vB$.fontSize*o.xZ());
rD.ey(z,y,V.length-1,R)}if(l){rD.GL(z,0)}else{rD.GL(z,1);rD.Cr(z,[0,0,Math.round(i.x*o.om),Math.round(-i.y*o.xP)])}v.sp(V.slice(0,10))}else{v=null}if(v)j.k.push(v)};
__.vBJ=function(Q,C){var j=__.lQ(C,"stlt").O,Z=JSON.parse(JSON.stringify(j.zC[Q]));if(Z.cL!=0){var F=j.zC[Z.cL];
for(var _ in F)if(Z[_]==null||Z[_]==0)Z[_]=F[_];delete Z.cL}Z.align=j.vBr[Z.vB_];Z.fill=C.cB[j.vBR[Z.vlk]];
Z.vbq=C.cx[j.vBz[Z.vlP]];Z.vB$=j.vgQ[Z.vBq];return Z};__.vBp=function(Q){var C=Q.data[Q.f];Q.f+=1;return C};
__.rj=function(Q){var C=c.Ir(Q.data,Q.f);Q.f+=2;return C};__.rV=function(Q){var C=c.BQ(Q.data,Q.f);Q.f+=4;
return C};__.vBs=function(Q){var C=c.BQ(Q.data,Q.f);Q.f+=8;return C};__.Lx=function(Q){var C=c.FI(Q.data,Q.f);
Q.f+=2;return C};__.LF=function(Q){var C=c.SH(Q.data,Q.f);Q.f+=4;return C};__.ip=function(Q){var C=c.vIZ(Q.data,Q.f);
Q.f+=8;return C};__.WQ=function(Q){if(Q.f>=Q.data.length)throw"e";var C=0;while(Q.data[Q.f+C]!=0)C++;
var j=c.hX(Q.data,Q.f,C);Q.f+=C+1;return j};__.vBE=function(Q){if(Q.vm<600)return Math.PI*__.Lx(Q)/1800;
return Math.PI*__.LF(Q)/18e7};__.vBd=function(Q){if(Q.vm<1500)return __.Eb(Q);else return __.ip(Q)/254e3};
__.Eb=function(Q){if(Q.vm<600)return __.Lx(Q)/1e3;else return __.LF(Q)/254e3};__.vBY=function(Q){if(Q.vm<600)return CRDParser.rj(Q);
else return __.rV(Q)};__.vBh=function(Q){if(Q.vm<600)return CRDParser.Lx(Q);else return __.LF(Q)};__.lt=function(Q,C,j,Z){var F=__,_=F.vBp,$=F.rj,L=F.rV,D=F.vBs,d=F.Lx,o=F.LF,v=F.ip,f=F.Eb,U=F.vBd,H=F.vBE,B=F.vBY,m=F.vBh;
for(var Y=0;Y<C.length;Y++){var q=Q.vm,r=C[Y];Q.f=r.f+(r.rw=="LIST"?4:0);if(r.rw=="vrsn"){var x=$(Q);
Q.vm=x;console.log("Version",x);Q.cd=x<600?16:32}else if(r.rw=="DISP"){}else if(r.rw=="LIST"&&r.wH=="cmpr"){var a=L(Q),i=L(Q),l=L(Q),M=L(Q),z=new Uint8Array(Q.data.buffer,Q.f+8+2,a-6-8),V=pako.inflateRaw(z),K=0;
Q.f+=a;z=new Uint8Array(Q.data.buffer,Q.f+8+2);var X=pako.inflateRaw(z),O=[];for(var y=0;y<X.length;
y+=4)O.push(c.BQ(X,y));r.sub=[];while(K<V.length){var R=Qe.MS(V,K,O);K=R.f+R.size;r.sub.push(R)}var W={data:V,f:0,vm:q,cd:Q.cd};
__.lt(W,r.sub,j,Z+1)}else if(r.rw=="LIST"&&r.wH=="stlt"){var N=Q.f,rv=32;r.O={};var I=L(Q);if(I==0)return;
r.O.vBR=__.lb(Q,q>=1300);r.O.vBz=__.lb(Q);r.O.vgQ={};var T=L(Q);for(var h=0;h<T;h++){var p=L(Q);Q.f+=q<1e3?12:20;
var u=$(Q),g=$(Q);Q.f+=8;var A=f(Q);Q.f+=q<1e3?12:20;r.O.vgQ[p]={vBx:u,vbT:g,fontSize:A}}r.O.vBr=__.lb(Q);
var w=L(Q);Q.f+=52*w;var r$=L(Q);Q.f+=152*r$;var rW=L(Q);Q.f+=784*rW;var J=L(Q);for(var h=0;h<J;h++){Q.f+=40;
if(q>1300)Q.f+=4;if(q>=1300){if(L(Q))Q.f+=68;else Q.f+=12}else{Q.f+=20;if(q>=1e3)Q.f+=8;if(L(Q))Q.f+=8;
Q.f+=8}}var rr=L(Q);r.O.vBL={};for(var h=0;h<rr;h++){var r_=L(Q),rO={};Q.f+=12;rO.right=f(Q);rO.vbk=f(Q);
rO.left=f(Q);r.O.vBL[r_]=rO}var k=L(Q);if(q>=1300)rv+=4;Q.f+=rv*k;var rb=L(Q);Q.f+=28*rb;if(q>800){var rt=L(Q);
Q.f+=12*rt}r.O.zC={};for(var h=0;h<I;h++){var rK=L(Q),rR=L(Q),ri={};ri.cL=L(Q);Q.f+=8;var ru=L(Q);if(q>=1200)ru*=2;
Q.f+=ru;ri.vlk=L(Q);ri.vlP=L(Q);if(rK>1){ri.vBq=L(Q);ri.vB_=L(Q);ri.vbJ=L(Q);ri.vbI=L(Q);if(q>800)ri.vbp=L(Q)}if(rK>2){ri.vbs=L(Q);
ri.vbE=L(Q);ri.vbd=L(Q);ri.vbX=L(Q);ri.vba=L(Q)}r.O.zC[rR]=ri}}else if(r.rw=="LIST")__.lt(Q,r.sub,j,Z+1);
else if(r.rw=="txsm"){r.O={};if(q<600)throw"e";if(q<700)throw"e";if(q>=1600)throw"e";if(q>=1500)Q.f+=37;
else Q.f+=36;if(L(Q)){if(q<800)Q.f+=32}if(q<800)Q.f+=4;r.O.vbB=L(Q);r.O.vlq=[];Q.f+=48;if(q>=800){if(L(Q)){Q.f+=32;
if(q>=1300)Q.f+=8}}if(q>=1500)Q.f+=12;var rK=L(Q),rS=1,rg=!1;if(!rK){if(q>=800)Q.f+=4;if(q>800)Q.f+=2;
if(q>=1400)Q.f+=2;Q.f+=24;if(q<800)Q.f+=8;rS=L(Q)}for(var y=0;y<rS;y++){var rd=L(Q),h=0;if(q>=1300&&rK)Q.f++;
Q.f++;var I=L(Q),vO=[];for(h=0;h<I;h++){var rq=_(Q),rl=0;_(Q);var rL=_(Q);if(q>=800)rl=_(Q);var ri={};
if(rL&1){ri.vBx=$(Q);var rV=$(Q);if(rV)ri.vbm=rV}if(rL&2)Q.f+=4;if(rL&4)ri.vby=f(Q);if(rL&8)Q.f+=4;if(rL&16)Q.f+=4;
if(rL&32)Q.f+=4;if(rL&64){ri.vlk=L(Q);if(q>=1500)Q.f+=48}if(rL&128){ri.vlP=L(Q)}if(rl&8){if(q>=1300){var ry=L(Q);
if(Q.f+ry*2>=Q.data.length){rg=!0;break}Q.f+=ry*2}else Q.f+=4}if(rl&32){var vj=_(Q);if(vj)Q.f+=52}if(rq==2)if(q>=1300)Q.f+=48;
vO.push(ri)}if(rg){break}var rp=L(Q);if(Q.f+rp*4>Q.data.length)break;var rx=[];for(h=0;h<rp;h++){var rF=0;
if(q>=1200)rF=D(Q)&4294967295;else rF=L(Q);rx[h]=rF>>16|rF&1}var DX=rp;if(q>=1200)DX=L(Q);var va=__.WQ(Q);
r.O.vlq.push({vaf:rd,text:va,zC:vO})}}else if(r.rw=="font"){var rB=$(Q),vW=$(Q);Q.f+=14;var rN=__.WQ(Q);
r.O={id:rB,vbx:vW,name:rN}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(r.rw)!=-1){}else if(r.rw=="flgs")r.O=L(Q);
else if(r.rw=="bbox"){var rM=f(Q),_Q=f(Q),_O=f(Q),rw=f(Q);r.O=new s(rM,_Q,_O-rM,rw-_Q)}else if(r.rw=="fild"){var rj=L(Q),rE=0,vm;
if(q>=1300){Q.f+=4;rE=$(Q);Q.f+=2}var _W=$(Q);if(_W==0){}else if(_W==1){Q.f+=q>=1300?13:2;vm=__.GQ(Q)}else if(_W==2){Q.f+=q>=1300?8:2;
var rf=_(Q),rU=0;if(q>=1300){Q.f+=17;rU=d(Q)}else if(q>=600){Q.f+=19;rU=o(Q)}else{Q.f+=11;rU=d(Q)}var Du=H(Q),_s=.5+m(Q),_t=.5+m(Q)-.5;
if(q>=600)Q.f+=2;var _I=B(Q)&255,Qb=_(Q)/100;Q.f++;var _D=B(Q)&65535;if(q>=1300)Q.f+=3;var _E=[];for(var h=0;
h<_D;h++){var vs=__.GQ(Q);if(q>=1300){if(rE==158||q>=1600&&rE==150)Q.f+=26;else Q.f+=5}var QO=B(Q)/100;
if(q>=1300)Q.f+=3;_E.push([QO,vs])}vm={typ:rf==1?"lin":"rad",crds:[_s-Math.cos(Du)/2,_t-Math.sin(Du)/2,_s,_t],grad:_E,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",_W);
r.O={id:rj,type:_W,O:vm}}else if(r.rw=="outl"){var v_=L(Q);if(q>=1300){var vR=0,Qq=0;while(vR!=1){Q.f+=Qq;
vR=L(Q);Qq=L(Q)}}var vi=$(Q),_U=$(Q),v$=$(Q);if(q<1300&&q>=600)Q.f+=2;var rn=f(Q),Qa=$(Q)/100;if(q>=600)Q.f+=2;
var Qz=H(Q);if(q>=1300)Q.f+=46;else if(q>=600)Q.f+=52;var vm=__.GQ(Q,v_==270963208||v_==276198e3,v_);
r.O={id:v_,vaC:vi,vbF:_U,vbL:v$,lineWidth:rn,color:vm}}else if(r.rw=="mcfg"){if(1300<=q)Q.f+=12;else if(900<=q)Q.f+=4;
else if(600<=q&&q<700)Q.f+=28;var vw=0,vd=0;if(q<400)throw"e";else{vw=f(Q);vd=f(Q)}r.O={vaX:new Wn(vw,vd)}}else if(r.rw=="loda"){var N=Q.f,_G=B(Q),vb=B(Q),$Z=B(Q),DQ=B(Q),$j=B(Q),_S=[],DB=[];
Q.f=N+$Z;for(var h=0;h<vb;h++)_S[h]=B(Q);Q.f=N+DQ;for(var h=vb-1;h>=0;h--)DB[h]=B(Q);r.O={};for(var h=0;
h<vb;h++){Q.f=N+_S[h];var _M=DB[h];if(_M==10)r.O.vaF=L(Q);else if(_M==20)r.O.vaa=L(Q);else if(_M==200)r.O.vbC=B(Q);
else if(_M==30){if(q<400)$j--;if($j==1){var rM=U(Q),_Q=U(Q),Qp=0,_C=0,DT=0,vo=0;if(q<1500){vo=U(Q);DT=q<900?vo:U(Q);
_C=q<900?vo:U(Q);Qp=q<900?vo:U(Q)}else throw"e";r.O.path=e.g.eV(e.D._K.Rect(0,0,rM,_Q,Qp))}else if($j==2){var Do=f(Q),QK=f(Q),_l=H(Q),_b=H(Q),vS=Math.abs(Do),Ds=Math.abs(QK);
r.O.path=e.g.eV(e.D._K.Cm(0,0,vS,-Ds))}else if($j==3){r.O.path=__.vmY(Q)}else if($j==4){r.O.vac=__.vmu(Q)}else if($j==6){r.O.vaY=__.vmd(Q)}else if($j==37){r.O.path=__.Io(Q)}else console.log($j)}}}else if(r.rw=="trfd"){var N=Q.f,_G=B(Q),vb=B(Q),$Z=B(Q);
Q.f=N+$Z;var _S=[];for(var h=0;h<vb;h++)_S[h]=B(Q);for(var h=0;h<vb;h++){Q.f=N+_S[h];if(q>=1300)Q.f+=8;
var Qv=$(Q);if(Qv==8){var vv,_o,rM,tx,QD,_Q;if(q>=600)Q.f+=6;if(q>=500){vv=v(Q);_o=v(Q);rM=v(Q)/(q<600?1e3:254e3);
tx=v(Q);QD=v(Q);_Q=v(Q)/(q<600?1e3:254e3)}else throw"e";r.U_=new rI(vv,tx,_o,QD,rM,_Q)}else console.log(Qv)}}else if(!1){console.log(r);
var Qs=Math.min(r.size,32);console.log(c.FK(data,r.f,Qs));console.log(c.vIv(data,r.f,Qs))}}};__.lb=function(Q,C){var j=__.rV,Z={},F=j(Q);
for(var _=0;_<F;_++){var $=j(Q);Q.f+=4;var L=j(Q);Z[$]=L;if(C)Q.f+=48}return Z};__.vmu=function(Q){var C=__,j=C.Eb,Z=j(Q),F=j(Q);
return new Wn(Z,F)};__.vmd=function(Q){var C=__,j=C.Eb;Q.f+=4;var Z=j(Q),F=j(Q);return new Wn(Z,F)};
__.Io=function(Q){var C=__,j=C.rV,Z=C.rj,F=C.Eb;Q.f+=4;var _=Z(Q)+Z(Q);Q.f+=16;var $=__.Me(Q,_);return $};
__.vmY=function(Q){var C=__.rj(Q);Q.f+=2;return __.Me(Q,C)};__.Me=function(Q,C){var j=__,Z=j.Eb,F=Q.vm<600?2:4,_=Q.f,$={b:[],u:[]},L=0,D=0,d=0;
for(var o=0;o<C;o++){var L=Z(Q),D=Z(Q),v=Q.data[_+C*F*2+o];if(!(v&64)&&!(v&128)){$.b.push(L,D);$.u.push("M");
d+=2}else if(v&64&&!(v&128)){$.b.push(L,D);$.u.push("L");d+=2}else if(!(v&64)&&v&128){$.b.push(L,D);
$.u.push("C");d+=6}else if(v&64&&v&128){$.b.push(L,D)}}if(d!=$.b.length)throw"e";return $};__.vaq=function(Q,C){var j=c.BQ;
C+=8;var Z=j(Q,C);C+=4;var F=j(Q,C);C+=4;C+=4*7;var _=C,$=e.Q(Z*F*4);C+=1024;for(var L=0;L<F;L++)for(var D=0;
D<Z;D++){var d=L*Z+D,o=(F-L-1)*Z+D,v=Q[C+d]<<2,f=o<<2;$[f+0]=Q[_+v+2];$[f+1]=Q[_+v+1];$[f+2]=Q[_+v+0];
$[f+3]=255}return{Dg:$,rect:new s(0,0,Z,F)}};__.vmo=function(Q){if(Q==32)return 300;else if(Q<49)return 0;
else if(Q<58)return 100*(Q-48);else if(Q<65)return 0;return 100*(Q-55)};__.GQ=function(Q,C,j){var Z=__.rj,F=__.rV,_=Q.vm,$=0,L=0;
if(_>=500){$=Z(Q);if($==1&&_>=1300)$=25;if($==25||$==30)throw"e";else if($==14)throw"e";else{Q.f+=6;
L=F(Q)}}else throw"e";var D=[];if($==2||$==9||$==17){var d=[L>>>0&255,L>>>8&255,L>>>16&255,L>>>24&255];
if($==2)for(var o=0;o<4;o++)d[o]=Math.round(255*d[o]/100);for(var o=0;o<4;o++)d[o]/=255;D=UDOC.C.cmykToRgb(d)}else if($==1||$==5){D=[L>>>0&255,L>>>8&255,L>>>16&255];
for(var o=0;o<3;o++)D[o]=D[o]/255}else console.log("Unknown color model "+$,L,L.toString(16));return D};
var Dr={};Dr.dc=function(){var Q=new ArrayBuffer(4);return[new Uint8Array(Q),new Uint32Array(Q),new Float32Array(Q)]}();
Dr.vDr=function(Q,C,j,Z,F){function _(R,W){for(var N=0;N<R.length;N++)if(R[N][0]==W)return R[N]}function $(){var z=0,R=0,W=0;
do{W=Q[C++];z|=(W&127)<<R;R+=7}while(W&128&&R<35);return z>>>0}var L=Dr.dc,D=L[0],d=L[1],o=L[2],v="",m=1;
for(var f=0;f<F;f++)v+="    ";var U=Z[0]=="mesg",H=Z[2],B={},Y=U?1e9:H.length;while(m<=Y){var q=m;if(U){q=Q[C++];
if(q>127){if(Q[C]!=1)throw"e";C++}if(q==0)break}var r=_(H,q),x=r[2],a=r[1]==1,i=a?$():1,l=new Array(i);
if(x==3){if(!a)throw"e";l=Q.slice(C,C+i);C+=i}else for(var f=0;f<i;f++){var M;if((x&1)==1){if(x==1)M=Q[C++]==1;
else if(x==3)M=Q[C++];else if(x==5){var z=$();M=z&1?~(z>>>1):z>>>1}else if(x==7)M=$();else if(x==9){if(Q[C]==0){M=0;
C++}else{D[0]=Q[C];D[1]=Q[C+1];D[2]=Q[C+2];D[3]=Q[C+3];var V=d[0];d[0]=V<<23|V>>>9;M=o[0];C+=4}}else if(x==11){var X=Dr.vmw(Q,C);
M=X[0];C+=X[1]+1}else throw x}else{var O=j[x>>>1];if(O[0]=="enum"){var y=Q[C++];if(y>127)throw"e";M=O[2][y]}else{var K=Dr.vDr(Q,C,j,O,F+1);
M=K[0];C=K[1]}}l[f]=M}B[r[3]]=a?l:l[0];m++}return[B,C]};Dr.vmw=function(Q,C){var j=C;while(Q[j]!=0)j++;
return[c.hI(Q,C,j-C),j-C]};Dr.vy$=function(Q,C){var j=C;while(Q[j]!=0)j++;for(var Z=C;Z<j;Z++)if(Q[Z]>127)throw"e";
return c.hX(Q,C,j-C)};Dr.vyl=function(Q,C){var j=Dr.vy$,Z=1,F=[];while(Z<Q.length){var _=Z,$=F.length,L=j(Q,Z);
Z+=L.length+1;var D=Q[Z++];if(D==0){var d=Q[Z++];if(d>127)Z++;var o=[];for(var v=0;v<d;v++){var f=j(Q,Z);
Z+=f.length+1;var U=Q[Z++];if(U!=0)throw U;var H=Q[Z++];if(H!=0)throw H;var B=Q[Z++];if(B>127){if(Q[Z]!=1)throw"e";
Z++}if(B!=v)throw B;o.push(f)}F.push(["enum",L,o])}else if(D==1){var d=Q[Z++],o=[];for(var v=0;v<d;v++){var f=j(Q,Z);
Z+=f.length+1;var U=Q[Z++];if(U>127){if(Q[Z]!=1)throw"e";Z++}var H=Q[Z++];if(H>127){if(Q[Z]!=1)throw"e";
Z++}var B=Q[Z++];if(B>127){if(Q[Z]!=1)throw"e";Z++}o.push([B,H,U,f])}F.push(["strc",L,o])}else if(D==2){var d=Q[Z++];
if(d>127)Z++;var o=[];for(var v=0;v<d;v++){var f=j(Q,Z);Z+=f.length+1;var U=Q[Z++];if(U>127){if(Q[Z]!=1)throw"e";
Z++}var H=Q[Z++];if(H>127){if(Q[Z]!=1)throw"e";Z++}var B=Q[Z++];if(B>127){if(Q[Z]!=1)throw"e";Z++}o.push([B,H,U,f])}F.push(["mesg",L,o])}else throw D}return F};
function _A(){}_A.ig=function(Q,C){var j=new Uint8Array(Q),Z=8,F=c.BQ(j,Z),R=1,W=0;Z+=4;var _=[];while(Z<j.length){var $=c.BQ(j,Z);
Z+=4;var L=j.slice(Z,Z+$);if(j[Z]==137&&j[Z+1]==80){}else L=UZIP.inflateRaw(L);_.push(L);Z+=$}var D=Dr.vyl(_[0]),d=Dr.vDr(_[1],0,D,D[D.length-1],0)[0],o={uq:{},So:{},vgm:{}},v=d.nodeChanges;
for(var f=0;f<v.length;f++){var U=v[f],H=U.guid;o.So[H.sessionID+","+H.localID]=U}for(var f=0;f<v.length;
f++){var U=v[f],H=U.parentIndex;if(H){var B=_A.LP(o.So,H.guid);if(B.children==null)B.children=[];B.children.push(U)}}var m=v[0],Y=m.children,q=new s,r=[],x=[];
for(var H=0;H<Y.length;H++){var a=Y[H],i=a.children;if(a.name=="Internal Only Canvas"||i==null)continue;
var l=new s;for(var M=0;M<i.length;M++){var z=i[M],V=z.transform,X=z.size,O=new s(V.m02,V.m12,X.x,X.y);
l=l.fJ(O)}var y=q.C==0?0:q.C+100,K=l.clone();K.x=0;K.y=y;q=q.fJ(K);r[H]=l;x[H]=y}while(Math.max(q.W,q.C)/R>16e3)R++;
if(R!=1)console.log("Scaling down "+R+"x");C.W=Math.round(q.W/R);C.C=Math.round(q.C/R);C.buffer=e.Q(C.W*C.C*4);
for(var H=0;H<Y.length;H++){var a=Y[H],i=a.children;if(a.name=="Internal Only Canvas"||i==null)continue;
i.sort(_A.vvJ);var N=new rI(1,0,0,1,-r[H].x,x[H]-r[H].y);N.scale(1/R,1/R);for(var M=0;M<i.length;M++){var z=i[M];
_A.IB(z,[],N,d.blobs,C,0,o);W++}}C.RG(W);C.tb=!0};_A.IB=function(Q,C,j,Z,F,_,$){var L=_A,V=!1,X,O,K,R,W;
for(var D=0;D<C.length;D++){var d=C[D],o=d.guidPath.guids[0];if(L.vyY(o,Q.guid)){var v={};for(var f in Q)v[f]=d[f]!=null?d[f]:Q[f];
Q=v}}var U=Q.type,H=Q.children,B=Q.size,m=Q.effects,Y=F.qg();Y.sp(Q.name);Y.yh(Q.visible);Y.opacity=Math.round(Q.opacity*255);
var q=L.kq(Q.transform),r=q.clone();r.concat(j);var x=new s(Math.round(r._Y),Math.round(r.Rf),Math.round(B.x*r.xZ()),Math.round(B.y*r.xZ())),a=Q.fillPaints,i=Q.inheritFillStyleID;
if(i){var v=L.LP($.So,i);if(v)a=v.fillPaints}if(a==null)a=[];var a=L.vjX(a),l=a[0],M=Q.strokePaints,i=Q.inheritFillStyleIDForStroke;
if(i){var v=L.LP($.So,i);if(v)M=v.fillPaints}if(M==null)M=[];var M=L.vjX(M),z="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON".split(" ").indexOf(U)!=-1;
if(z||U=="FRAME"){X=new S.jH;O=[];L.v$p(Q,Z,X,O);V=e.D.rM(X.G);e.D.gw(X.G,r);x=e.D.kd(X.G);if($.uq.dh&&l){var y=S.jH.Do($.uq.dh.G);
for(var D=2;D<y.length;D++)if(y[D].rh!=null)y[D].rh=3;X.G=X.G.concat(y.slice(2));O=O.concat(JSON.parse(JSON.stringify($.uq.Ky)))}}if(l&&l.type=="IMAGE"&&l.image.name=="")l=null;
if(l&&l.type=="IMAGE"){W=l.imageScaleMode;K=L.ln(Z,l.image.dataBlob);var N=K.Rm.W/K.Rm.C,I=B.x/B.y;R=Math.abs(N-I)}if(U=="FRAME"){}else if(z&&V&&K&&(W=="FIT"||W=="FILL"&&R<=.05)){var T=Z[l.image.dataBlob].bytes,h=F.$H(T,Y.getName(),0,0);
h.xz=Y.xz;h.opacity=Y.opacity;Y=h;var p=new s(0,0,B.x,B.y);if(W=="FIT"){var u=K.Rm.W,g=K.Rm.C,A=Math.min(B.x/u,B.y/g),w=u*A,r$=g*A;
p=new s(p.x+(p.W-w)/2,p.y+(p.C-r$)/2,w,r$)}var rW=e.g.iq(p).b;e.g.M(rW,r,rW);Y.add.SoLd.Trnf=G.S.Zv(rW);
Y.add.SoLd.nonAffineTransform=G.S.Zv(rW);var J=[],m=Q.effects,rr=l.paintFilter;if(m)for(var D=0;D<m.length;
D++)if(m[D].type=="FOREGROUND_BLUR"){var r_=m[D],rO=vr.Xd("GsnB",{});J.push(rO);rO.v.enab.v=r_.visible;
rO.v.Fltr.v.Rds.v.val=r_.radius/2.4}if(rr&&rr.exposure!=0){var rO=vr.Xd("brit",{});J.push(rO);rO.v.Fltr.v.Brgh.v=Math.round(rr.exposure*160);
rO.v.Fltr.v.useLegacy.v=!0}if(J.length!=0){Y.add.SoLd.filterFX=vr.fh();F.$Y({id:Y.add.SoLd.placed.v,rect:new s,buffer:e.Q(1),A:new S.Xh});
Y.add.SoLd.filterFX.v.filterFXList.v=J}Y.RN(F,!1);L.vD_($,Y,F)}else if(z){Y.xz|=16;Y.add.vogk=O;Y.add.vmsk=X;
var k=Y.add.vstk=JSON.parse(JSON.stringify(WM.oj.default)),rv=L.LZ(Q,l,r,x,Z,F,$);if(rv[0]=="None"){k.fillEnabled.v=!1;
Y.add.SoCo=rv[1]}else{var rb=rv[1].Opct.v.val;if(rb!=100)Y.opacity=Math.round(Y.opacity/255*(rb/100)*255);
Y.add[rv[0]]=rv[1]}var rv=L.LZ(Q,M[0],r,x,Z,F,$);if(rv[0]!="None"){k.strokeEnabled.v=!0;k.strokeStyleLineWidth.v.val=Q.strokeWeight*r.xZ();
k.strokeStyleLineAlignment.v.strokeStyleLineAlignment=WM.oj.EE[["INSIDE","CENTER","OUTSIDE"].indexOf(Q.strokeAlign)];
var rt={SoCo:"SoFi",GdFl:"GrFl"}[rv[0]],rK=["SoFi","GrFl","patternFill"].indexOf(rt),rR=[WM.rE,WM.FX,WM.FF][rK];
k.strokeStyleContent.v={classID:WM.oj.wH[0]};k.strokeStyleLineDashSet.v=rk.PO(Q.dashPattern,1/Q.strokeWeight);
var ri=k.strokeStyleContent.v={classID:WM.oj.wH[rK]};for(var D=0;D<rR.length;D++)ri[rR[D]]=rv[1][rR[D]]}if(m)for(var D=0;
D<m.length;D++){var r_=m[D];if(r_.type!="FOREGROUND_BLUR")continue;X.hD=r_.radius/2.4}Y.Ea(F)}else if(U=="TEXT"){var ru=Q.textData,rS=ru.layoutSize,rg=["LEFT","RIGHT","CENTER"].indexOf(Q.textAlignHorizontal);
Y.add.lnsr="rend";Y.add.TySh=rD.dg(0,0);Y.add.TySh.Vo=new s(0,0,100,100);var rd=r.clone();Y.add.TySh.M=rd;
var vO=Y.add.TySh.Qp,rq=ru.characters;if(Q.textCase=="TITLE"){for(var D=0;D<rq.length;D++)if(D==0||rq[D-1]==" "){var rL=rq.slice(0,D),rl=rq.slice(D+1);
rq=rL+rq[D].toUpperCase()+rl}}rq=rq.replace(/\u2028/g,"\n");rq=rq.replace(/\u2029/g,"\n");rq=rq.replace(/\r/g,"\n");
rD.Gt(vO,0,rq);var rV=Q.textAutoResize,ry=ru.baselines;if(rV=="WIDTH_AND_HEIGHT"){var vj=rg==0?0:rg==1?rS.x:rS.x/2,rp=ry?ry[0].position.y:0;
rd.translate(vj*r.xZ(),rp*r.xZ());rD.GL(vO,0)}else if(rV=="HEIGHT"||rV=="NONE"){var rp=ry?ry[0].position.y-Q.fontSize*.7:0;
rd.translate(0,rp*r.xZ());rD.GL(vO,1);rD.Cr(vO,[0,0,Math.round(rS.x),Math.round(1.2*rS.y)])}else throw rV;
if(rq!=""){var rx=rD.WW(vO,0,1);L.vDW(Q,r,B,rx,Y);rD.ey(vO,0,rq.length,rx);var rF=ru.characterStyleIDs,DX=ru.styleOverrideTable;
if(rF)for(var D=0;D<rF.length;D++){var va=rF[D];if(rq[D]=="\n")continue;if(va!=0){var rB;for(var vW=0;
vW<DX.length;vW++)if(DX[vW].styleID==va)rB=DX[vW];var rx=rD.WW(vO,D,D+1);L.vDW(rB,r,B,rx,Y);rD.ey(vO,D,D+1,rx)}}}}else if(U=="SYMBOL"){}else if(U=="INSTANCE"){var rN=Q.symbolData,rM=rN.symbolOverrides,v=L.LP($.So,rN.symbolID);
if(v)H=v.children;else console.log(Q.name,"symbol not found",rN.symbolID);C=C.slice(0);for(var D=0;D<rM.length;
D++)C.push(rM[D])}else console.log(U);if(!1){}else if(H&&!z){H.sort(L.vvJ);if(_==0&&U!="SYMBOL"&&U!="INSTANCE"){Y.vo(x);
var _Q=a?a[0]:null;if(_Q&&_Q.type=="SOLID"){var _O=_Q.color;Y.add.artb.artboardBackgroundType.v=4;Y.add.artb.Clr=L.GQ(_O)}}F.k.push(F.fi());
var rw=$.uq;$.uq={};for(var rj=0;rj<H.length;rj++)L.IB(H[rj],C,r,Z,F,_+1,$);$.uq=rw;Y.add.lsct=!1?_K.gh:_K.f_;
Y.gd="pass";var rE=Y.ow();Y.xz=24;Y.yh(rE);var _W=_!=0&&a.length!=0&&!Q.frameMaskDisabled&&Q.containerSupportsFillStrokeAndCorners;
if(_W&&X){Y.add.vmsk=X;Y.add.vogk=O;Y.Ea(F)}else L.vD_($,Y,F);F.k.push(Y)}else if(Q.mask){if(X){$.uq.dh=X;
$.uq.Ky=O}}else{var vm=[];if(m)for(var rf=0;rf<m.length;rf++){var r_=m[rf],rU=r_.color,Du=r_.type,_s=["DROP_SHADOW","INNER_SHADOW"].indexOf(Du);
if(_s!=-1){var _t=["DrSh","IrSh"][_s],_I=JSON.parse(WM.oy[WM.order.indexOf(_t)]);vm.push([_t,_I]);_I.enab.v=r_.visible;
_I.Md.v.BlnM=rP.aO(L.vx_(r_.blendMode));_I.Opct.v.val=Math.round(100*rU.a);_I.blur.v.val=Math.round(r_.radius*r.xZ());
_I.Clr=L.GQ(rU);var vj=r_.offset.x,rp=r_.offset.y;_I.uglg.v=!1;_I.lagl.v.val=Math.round(180/Math.PI*Math.atan2(rp,-vj));
_I.Dstn.v.val=Math.round(Math.sqrt(vj*vj+rp*rp)*r.xZ())}}for(var D=1;D<a.length;D++){var Qb=a[D],_D=L.LZ(Q,Qb,r,x,Z,F,$);
if(_D[0]=="GdFl")vm.push(["GrFl",_D[1]]);else if(_D[0]=="SoCo")vm.push(["SoFi",_D[1]]);else if(_D[0]=="PtFl")vm.push(["patternFill",_D[1]]);
else throw _D}if(vm.length!=0){var _E=JSON.parse(WM.default);for(var D=0;D<WM.order.length;D++)_E[WM.zV[D]]={t:"VlLs",v:[]};
for(var D=0;D<vm.length;D++){var vs=vm[D],_t=WM.zV[WM.order.indexOf(vs[0])];_E[_t].v.unshift({t:"Objc",v:vs[1]})}if(H==null)Y.add.lmfx=_E}F.k.push(Y)}};
_A.vvJ=function(Q,C){var j=Q.parentIndex.position,Z=C.parentIndex.position;return j>Z?1:-1};_A.vjX=function(Q){for(var C=1;
C<Q.length;C++){var j=Q[C];if(j.type=="IMAGE"&&j.opacity==1){Q=Q.slice(C);break}}for(var C=0;C<Q.length;
C++){var j=Q[C];if(!j.visible||j.type=="IMAGE"&&j.image.dataBlob==null){Q.splice(C,1);C--}}return Q};
_A.vD_=function(Q,C,j){if(Q.uq.dh){C.add.vmsk=Q.uq.dh.clone();C.add.vogk=JSON.parse(JSON.stringify(Q.uq.Ky));
C.Ea(j)}};_A.vDW=function(Q,C,j,Z,F){var _=Q.fontSize,$=Q.lineHeight,L=Q.fontName,D=Q.textAlignHorizontal,d=Q.textTracking,o=Q.textCase;
if(_==null)_=Z.hy.FontSize;if(L)rD._D(Z,L.postscript);if(_!=null)Z.hy.FontSize=Math.round(_);if(d)Z.hy.Tracking=Math.round(d*1e3);
if(o)Z.hy.FontCaps=o=="UPPER"?2:0;if($&&($.units!="PERCENT"||$.value!=100)){var v=$.value;if($.units=="PERCENT")v=1*_*v/100;
if($.units=="RAW")v=1*_*v;Z.hy.AutoLeading=!1;Z.hy.Leading=Math.round(v)}if(D)Z.Cx.Justification=["LEFT","RIGHT","CENTER"].indexOf(D);
var f=Q.fillPaints;if(f){var U=_A.LZ(Q,f[0],C,j);if(U[0]=="SoCo"){var H=e.q.Xa(U[1].Clr.v);Z.hy.FillColor={Type:1,Values:[1,H.h/255,H.J/255,H._/255]};
F.opacity=Math.round(F.opacity/255*(U[1].Opct.v.val/100)*255)}else console.log(f)}};_A.LZ=function(Q,C,j,Z,F,_,$){var L=_A,D,d,o=Q.size;
if(C){var v=C.type,f=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(v);
if(v=="SOLID"){D="SoCo";var U=C.color;d=JSON.parse(WM.oy[WM.order.indexOf("SoFi")]);d.Clr=L.GQ(U)}else if(f!=-1){var H=JSON.parse(WM.oy[WM.order.indexOf("GrFl")]),B=H.Grad.v;
B.Intr.v=0;H.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][f];var m=[],Y=C.stops;for(var q=0;q<Y.length;q++){var r=Y[q],x=r.color;
m.push([r.position,[x.r,x.g,x.b],x.a])}e.q.vF(m,B);var a=L.kq(C.transform);a.Ie();var i=a.clone();i.scale(o.x,o.y);
i.concat(j);var l=new Wn(0,.5),M=new Wn(1,.5);l=i.IV(l);M=i.IV(M);if(!0){l.x=M.x+.5*(l.x-M.x);l.y=M.y+.5*(l.y-M.y)}e.q.m_(l,M,Z,H);
if(f==3){var z=H.Angl.v;z.val=(z.val+180+180)%360-180;H.Rvrs.v=!H.Rvrs.v}D="GdFl";d=H}else if(v=="IMAGE"){var H=JSON.parse(WM.oy[WM.order.indexOf("patternFill")]),V=H.phase.v,X=C.image.dataBlob,O=$.vgm[X],p=1;
if(O==null){var y=L.ln(F,X);O=$.vgm[X]={Dg:new Uint8Array(y.data),z:y.Rm};O.id=rH.qS()+"-d71c-11e5-b1ae-a548a96e5f9f";
O.name="someImage";_.ES(O)}H.Algn.v=!0;H.Ptrn.v.Idnt.v=O.id;var K=j._Y,R=j.Rf,W=C.imageScaleMode,a=L.kq(C.transform);
a.Ie();var N=Z.W,I=Z.C,T=O.z.W,h=O.z.C;if(W=="FILL"){p=Math.max(N/T,I/h);p=Math.round(p*100)/100}else if(W=="FIT"){p=Math.min(N/T,I/h);
p=Math.round(p*100)/100}else if(W=="STRETCH"){var u=N*a.om,g=I*a.xP;p=.5*(u/T+g/h);p=Math.round(p*100)/100;
K+=(u-N)/2+a._Y*N;R+=(g-I)/2+a.Rf*I}else if(W=="TILE"){p=C.scale;p=Math.round(p*100)/100;K+=(u-N)/2;
R+=(g-I)/2}var A=p*T,w=p*h;K+=-(A-N)/2;R+=-(w-I)/2;H.Scl.v.val=Math.round(100*p);V.Hrzn.v=Math.round(K);
V.Vrtc.v=Math.round(R);D="PtFl";d=H}else throw v;if(d)d.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(C.opacity*100)}}}else{D="None";
d={classID:"null",Clr:{t:"Objc",v:e.q.mx({h:0,J:0,_:0})}}}return[D,d]};_A.ln=function(Q,C){var j=Q[C];
if(j.rslt)return j.rslt;var Z=j.bytes.buffer,F=vX.Kl(Z),_=vX.Xo(F);j.rslt=_.aJ(Z)[0];return j.rslt};
_A.v$p=function(Q,C,j,Z){var F=Q.type,_=Q.size,$=Q.cornerRadius,v;if($==null)$=0;var L=e.Ky.WC(),D=_.x,d=_.y,o=[$,$,$,$],f=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var U=0;U<4;U++)if(Q[f[U]]!=null)o[U]=Q[f[U]];if(F=="RECTANGLE"||F=="ROUNDED_RECTANGLE"||F=="FRAME"){v=e.D._K.Rect(0,0,D,d,o)}else if(F=="ELLIPSE"){var H=Q.arcData,B=H?H.startingAngle:0,m=H?H.endingAngle:2*Math.PI,q=H?H.innerRadius:0;
if(B==0&&m>1.999*Math.PI)v=e.D._K.Cm(0,0,D,d,0);else v=e.D._K.vxq(D/2,d/2,d/2,B,m);if(q!=0&&q!=1){var r=S.jH.Do(v).slice(3);
r.reverse();for(var U=0;U<r.length;U++){var x=r[U],a=x.$_;x.$_=x.jk;x.jk=a}var i=new rI;i.translate(-D/2,-d/2);
i.scale(q,q);i.translate(D/2,d/2);e.D.gw(r,i);v=v.concat(r);v[2].length*=2}}else if(F=="LINE"){v=e.D._K.Rect(0,0,D,d,0);
v.pop();v.pop();v[2].length=2}else if(F=="REGULAR_POLYGON"){v=e.D._K.zQ(.5,.5,.5,Math.PI/2,Q.count,0);
var l=new rI;l.scale(D,d);e.D.gw(v,l)}else if(F=="BOOLEAN_OPERATION"){v=[{type:6},{type:8,all:0}];var M=Q.children,z=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(Q.booleanOperation);
if(z==-1)throw Q;if(M==null)M=[];for(var U=0;U<M.length;U++){var V=M[U],X=new S.jH,O=[],y=_A.v$p(V,C,X,O);
if(X.G==null)continue;e.D.gw(X.G,_A.kq(V.transform));v=v.concat(X.G.slice(2));for(var K=0;K<O.length;
K++)Z.push(O[K])}for(var U=3;U<v.length;U++)if(v[U].rh!=null)v[U].rh=z;L=null}else if(F=="VECTOR"){var R,W;
if(!0){var N=Q.vectorData;R=N.normalizedSize;W=N.vectorNetworkBlob}else{R=_;W=fg[0].commandsBlob;console.log(fg)}var I=C[W].bytes,T=new Uint32Array(I.buffer),h=new Float32Array(I.buffer),p=T[0],u=T[1],g=[];
for(var U=0;U<p;U++){var A=3+U*3,w=new Wn(h[A+1],h[A+2]);g.push(w)}var r$=[],rW=3+p*3;for(var U=0;U<u;
U++){var J=rW+U*7,rr=T[J+1],r_=T[J+4];r$.push([rr,r_,h[J+2],h[J+3],h[J+5],h[J+6]])}var rO=-1;for(var U=0;
U<u;U++){if(rO==-1){}else{var k=-1;for(var K=U;K<u;K++)if(r$[K][1]==rO)k=K;for(var K=U;K<u;K++)if(r$[K][0]==rO)k=K;
if(k!=-1){var rv=0,a=r$[k];r$[k]=r$[U];r$[U]=a;if(a[0]!=rO){rv=a[0];a[0]=a[1];a[1]=rv;rv=a[2];a[2]=a[4];
a[4]=rv;rv=a[3];a[3]=a[5];a[5]=rv}}}rO=r$[U][1]}var rb=[],rt=[],rK=-1;rO=-1;for(var U=0;U<u;U++){var rR=r$[U],rr=rR[0],r_=rR[1],ri=g[rr],ru=g[r_];
if(rO!=rr){rt.push("M");rb.push(ri.x,ri.y);rK=rr}rb.push(ri.x+rR[2],ri.y+rR[3]);rb.push(ru.x+rR[4],ru.y+rR[5]);
rt.push("C");rb.push(ru.x,ru.y);rO=r_;if(rK==r_){rt.push("Z");rK=rO=-1}}v=e.g.er({b:rb,u:rt},!0);if($!=0){var o=[],rS=v[2].length;
for(var U=0;U<rS;U++)o.push($);if(e.D.yx(v))e.D.vyp(v,2,o)}var rg=new rI;rg.scale(R.x==0?1:_.x/R.x,R.y==0?1:_.y/R.y);
e.D.gw(v,rg)}j.G=v;if(L)Z.push(L)};_A.LP=function(Q,C){return Q[C.sessionID+","+C.localID]};_A.vyY=function(Q,C){return Q.sessionID==C.sessionID&&Q.localID==C.localID};
_A.vx_=function(Q){var C={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn"}[Q];if(C==null)throw Q;return C};
_A.GQ=function(Q){return{t:"Objc",v:e.q.mx({h:Q.r*255,J:Q.g*255,_:Q.b*255})}};_A.kq=function(Q){var C=[Q.m00,Q.m10,Q.m01,Q.m11,Q.m02,Q.m12];
for(var j=0;j<6;j++)if(Math.abs(C[j])<1e-20)C[j]=0;return new rI(C[0],C[1],C[2],C[3],C[4],C[5])};var G={};
G.xB=function(Q,C,j){this.name=Q;this.id=C;this.pr=null;if(j!=null)this.Fy=j};G.xB.prototype.yc=function(Q,C,j,Z,F){};
G.xB.prototype.enable=function(Q,C,j,Z,F,_){var $=new P(t.E.m,!0);$.data={$:t.i.ea,Js:"default"};C.Z($)};
G.xB.prototype.disable=function(Q,C,j,Z,F){};G.xB.prototype.vvE=function(Q,C,j,Z,F){return!1};G.xB.prototype.yi=function(Q,C,j,Z,F){};
G.xB.prototype.Le=function(Q,C,j,Z,F){};G.xB.prototype.eF=function(Q,C,j,Z,F){};G.xB.prototype._c=function(Q,C,j,Z,F){};
G.xB.prototype.MJ=function(Q,C,j,Z,F){};G.xB.prototype.ZZ=function(Q,C,j,Z){};G.xB.prototype.IP=function(Q,C,j,Z){};
G.xB.prototype.rg=function(Q,C){};G.xB.prototype.ZH=function(Q,C){};G.xB.prototype.qU=function(Q,C,j,Z,F){};
G.xB.prototype.VD=function(Q,C){};G.xB.prototype.Yy=function(Q,C){return!1};G.xB.prototype.pe=function(Q,C){return!1};
G.xB.prototype.cX=function(){return!1};G.xB.prototype.LA=function(Q,C){return!0};G.xB.prototype.LU=function(){return null};
G.xB.prototype.vvY=function(Q,C,j){};G.xB.prototype.vDE=function(){return!1};G.xB.prototype.vKR=function(Q,C,j,Z){};
G.xB.prototype.track=function(Q){var C=new P(t.E.xD,!0);C.data=Q;Q.TK=!0;this.pr.Z(C)};G.xB.rX=function(Q,C,j,Z,F){G.xB.vDs(Q,C,[rT.get([12,41]).charAt(0)+": "+e.oD.ef(j.W,Z.zn,F,Z.W,!0),rT.get([12,42]).charAt(0)+": "+e.oD.ef(j.C,Z.zn,F,Z.C,!0)],Z)};
G.xB.vDs=function(Q,C,j,Z){var F=14,_=130,$=j.length*17+8,L=new s(Q,C-$,_,$),D=G.xB.vvS;if(D==null)D=G.xB.vvS=document.createElement("canvas");
D.width=_;D.height=$;var d=D.getContext("2d");d.fillStyle="rgba(0,0,1,1)";d.fillRect(0,0,_,$);d.font=F+"px monospace";
d.fillStyle="rgba(255,255,255,1)";for(var o=0;o<j.length;o++)d.fillText(j[o],6,(o+1)*17);Z.j.lw=[[d.getImageData(0,0,_,$).data,L.clone()]]};
G.xB.vvS=null;G.hj="0";G.sT="1";G.vxt="2";G.vxC="3";G.vQw="5";G.vxh="6";G.vOD="7";G.ME="8";G.vO$="9";
G.Eu="10";G.Cv="11";G.CD="12";G.ll="13";G.vDj="14";G.vOT="16";G.v$k="18";G.HH="19";G.vDp="20";G.vbe="22";
G.LX="23";G.C$="24";G.vOJ="25";G.EJ="27";G.rx="31";G.vOL="32";G.vOG="34";G.vOM="35";G.rF="36";G.rC="37";
G.N_="38";G.vDD="39";G.v$C="40";G.vvu="41";G.lS="42";G.Em="43";G.Jl="47";G.My="51";G.CT="52";G.Cu="54";
G.lT="55";G.CF="56";G.Cf="57";G.lu="58";G.Ex="59";G.Eq="61";G.sI="100";G.Ch="101";G.lk="120";G.MF="230";
G.vao="231";G.fo="232";G.tP="233";G.IH="234";G.yz="235";G.CN="236";G.vvk=function(Q){var C=G.Mc,j=null;
for(var Z in C)if(C[Z][1].indexOf(Q[1].classID)!=-1)j=Z;return j};G.Mc={};G.Mc[G.LX]=["tools/brush",["PbTl"]];
G.Mc[G.C$]=["tools/pencil",["PcTl"]];G.Mc[G.rx]=["tools/eraser",["ErTl"]];G.WR=function(Q,C,j){G.xB.call(this,Q,C,j);
this.rd={brush:Q?Dq.jK():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,prsr:[!1,!0],emode:0,wconf:[40,!0,!0],algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:"front",patch:0};
this.VO=null;this.Ki=null;this.Zu=null;this.AA=null;this.gg=null;this.dw=null;this.An=null;this.TR=null;
this.WZ=null;this.Fh=null;this.cZ=null;this.cY=null;this.pq=null;this.vP=1;this.DP=!1;this.Iv=null;this.caller=null};
G.WR.prototype=new G.xB;G.WR.prototype.pe=function(Q,C){return Q.gN&&C.r(b.WO)};G.WR.prototype.Le=function(Q,C,j,Z,F){if(Z.r(b.DT)){this.dw=new Wn(F.x,F.y);
var _=this.rd.brush.Brsh.v,$=_.Dmtr.v.val,L=_.Hrdn!=null?_.Hrdn.v.val:-1;this.An=[$,L,!0,JSON.parse(JSON.stringify(this.rd.brush)),F];
this.$m(j)}};G.WR.prototype.sE=function(Q,C,j){var Z=this.An,F=Q.R.l,_=j.x-Z[4].x,$=j.y-Z[4].y,L=Z[0],D=Z[1],d=Math.abs(_)>Math.abs($);
if(d&&Z[2]){var o=Math.round(2*_/F);L+=o;j.x-=_-.5*o*F}if(!d&&!Z[2]&&D!=-1){var o=Math.round(.25*$);
D+=o;j.y-=$-4*o}L=Math.max(1,L);D=Z[1]==-1?-1:Math.max(0,Math.min(100,D));var v=Z[3];v.Brsh.v.Dmtr.v.val=L;
if(D!=-1)v.Brsh.v.Hrdn.v.val=D;this.An=[L,D,d,v,j];var f=rh.ke(v,C.yD._G,F),U=f[1];U.x=Math.round(this.dw.x-U.W/2);
U.y=Math.round(this.dw.y-U.C/2);Q.j.ca=[f];var H=Q.R.gx(this.dw.x,this.dw.y);Q.j.as={Ut:[],Ui:[H.x-L/2,H.y,H.x+L/2,H.y]};
if(D!=-1)Q.j.as.Ui.push(H.x+50/F,H.y-D/2,H.x+50/F,H.y+D/2);Q.uV=!0};G.WR.prototype.MJ=function(Q,C,j,Z,F){if(this.id==G.vDp)return;
if(this.dw){this.dw=null;this.lJ(JSON.parse(JSON.stringify(this.An[3])));Q.j.ca=[];Q.j.as=null;Q.uV=!0;
return}var _=new P(t.E.m,!0);_.data={$:t.i.hq,Y:this.id,vBC:"showBrushOpts",Tj:new Wn(F.wh+4,F.BY)};
C.Z(_)};G.WR.prototype.lJ=function(Q){var C=new P(t.E.m,!0);C.data={$:t.i.yN,Vh:rQ.vH,Gh:Q};this.caller.Z(C)};
G.WR.Jh=function(Q,C,j,Z){if(Q==null)Q="FrgC";if(C==null)C="norm";if(j==null)j=1;var F={classID:"Fl",Usng:{t:"enum",v:{FlCn:Q}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(j*100)}},Md:{t:"enum",v:{BlnM:rP.aO(C)}}};
if(Q=="Clr")F.Clr={t:"Objc",v:Z};if(Q=="contentAware")F.contentAwareColorAdaptationFill={t:"bool",v:!0};
return{$Q:"fill",aa:F}};G.WR.prototype.yc=function(Q,C,j,Z,F){this.pr=C;var _=j.CG.length;if(_==0&&!j.TE())return;
var $=_!=0?-1-j.CG[0]:j.H[0],L=j.k[$];if(Q.$=="fromAction"){var D=Q.cN,d=D.aa;if(D.$Q=="fill"){var o=(d.Opct?d.Opct.v.val:100)/100,v=d.Md?rP.Jt(d.Md.v.BlnM):"norm",f=d.Usng.v.FlCn,U;
if(f=="contentAware"){if(j.v==null){alert("Select an area to heal first.");return}if(!j.TE())return;
this.ro(j);var H=j.v,B=e.Q(H.rect.P()*4);e.gG(H.channel,B,3);this.Nq(j,"sheal",B,H.rect,H.rect);this.X(j,H.rect);
this.finish(j,H.rect)}else{if(f=="FrgC")U=F.pd;else if(f=="BckC")U=F.JD;else if(f=="Blck")U=0;else if(f=="Wht")U=16777215;
else if(f=="Gry")U=8421504;else if(f=="Clr"){var m=e.q.Xa(d.Clr.v);U=m.h<<16|m.J<<8|m._}var Y=U>>16&255,q=U>>8&255,r=U>>0&255;
this.v$y(j,L,j.v,Y,q,r,Math.round(255*o),v,[2,3])}}else if(D.$Q=="delete"){var x=$<0?1:L.IF,H=j.v,z;
if(H==null)return;var a=$<0?j.$W[-$-1]:x<=0?null:x==1?L.oH():L.qv(j).A,i=x<=0?L.rect:a.rect,l=x<=0?H.rect.QU(i):H.rect.clone();
if(l.jJ())return;var M=l.P();if(x<=0){z=e.Q(M*4);e.tW(L.buffer,L.rect,z,l)}else{z=e.Q(M);a.extend(l);
e.pQ(a.channel,a.rect,z,l)}if(0<=$&&L.hg(j,H)){if(x<=0){e.kM(z,0);e.tW(L.uj.LT,L.uj.tJ,z,l)}else{e.set(z,255);
e.pQ(L.uj.LT,L.uj.tJ,z,l)}}else{if(x<=0){var V=e.Q(z.length>>2);e.yq(z,V,3);e.B.kW(e.WC(H.rect.P()),H.rect,V,l,H.channel,l,1);
e.gG(V,z,3)}else{var X=e.Q(H.rect.P()),Y=F.JD>>16&255,q=F.JD>>8&255,r=F.JD>>0&255;e.set(X,Math.round(e.kg(Y,q,r)));
e.B.kW(X,H.rect,z,l,H.channel,l,1)}}this.lp(j,!0,[2,2],$,x,l,z)}}if(Q.$=="stroke"){var O=Q.vBc,H=j.v;
if(H==null){H={rect:L.rect.clone(),channel:e.Q(L.rect.P())};e.yq(L.buffer,H.channel,3)}var y=rk.GN(O),K=G.jT.vDq(H,Math.ceil(y[0]),Math.ceil(y[1])),U=e.q.Xa(O.Clr.v),Y=Math.round(U.h),q=Math.round(U.J),r=Math.round(U._);
this.v$y(j,L,K,Y,q,r,Math.round(255*O.Opct.v.val/100),rP.Jt(O.Md.v.BlnM),[14,9])}if(Q.$=="fillBMP"){this.vDf(j,L,j.v,Q.NR,Q.lG,Q.vA)}if(Q.$=="draw"){var R=Q.$d,W=Q.vgc?rz.JO.vQR(R,j):R.rect,N=this.rd.bmode;
this.ro(j);this.rd.bmode="norm";this.Nq(j,"draw",R.buffer,W,W.QU(new s(0,0,j.W,j.C)));this.rd.bmode=N;
this.X(j,W);this.finish(j,W,Q.vA,Q.vgc)}};G.WR.prototype.v$y=function(Q,C,j,Z,F,_,$,L,D){var d=j==null?new s(0,0,Q.W,Q.C):j.rect,o=$<<24|_<<16|F<<8|Z<<0,v=e.Q(d.P()*4);
e.kM(v,o);this.vDf(Q,C,j,v,L,D)};G.WR.prototype.vDf=function(Q,C,j,Z,F,_){var $=Q.CG.length!=0?-1-Q.CG[0]:Q.H[0],L=$<0?1:C.IF,D=$<0?Q.$W[-1-$]:L<=0?null:L==1?C.oH():C.qv(Q).A,d=L<=0?C.rect:D.rect,o=j==null?new s(0,0,Q.W,Q.C):j.rect,v=j==null?e.KC(Q.W*Q.C):j.channel,f=o.P(),U,H=null;
if(L<=0){U=e.Q(f*4);e.tW(C.buffer,C.rect,U,o)}else{U=e.Q(f);D.extend(o);e.pQ(D.channel,D.rect,U,o)}if(j!=null)e.nk(v,Z);
if(L>0){H=e.Q(f);e.oS(Z,H)}if(0<=$&&j&&C.hg(Q,j)){var B=C.uj.Zm,m=e.clone(C.uj.Zm);if(L<=0)e.W_(Z,m);
else e.W_(H,m);var Y=new ro([2,3],this);Y.data={$:"drawtemp",c:Q.H[0],xw:L,vBG:B,vBP:m};Q.Rk(Y);this.rg(Y.data,Q)}else{if(L<=0)e.B.hW(F,Z,o,U,o,o,1);
else e.B.kW(H,o,U,o,v,o,1);this.lp(Q,!0,_,$,L,o,U)}};G.WR.prototype.Yy=function(Q){if(b.fX.indexOf(Q)!=-1)return!0;
return!1};G.WR.prototype.ZZ=function(Q,C,j,Z){var F=this.rd.brush,_=Z.r(b.DT),$=_!=this.DP,L=G.WR.lI(F,Z);
if(L!=null)this.lJ(L);if(!Z.r(b.XE)&&Z.Tl()!=-1){var D=t.vIU(Math.round(this.rd.opacity*100),Z.Tl())/100;
this._b({opacity:D},C)}if(this.id==G.ME&&$&&Q!=null){var d=this.rd.qsmode;if(d==2)d=Q.v==null?0:1;else d=2;
this._b({qsmode:d},C)}this.DP=_;if($){if(Q)this.vP=Q.R.l;this.$m(j,Z)}};G.WR.lI=function(Q,C){var j=Q.Brsh.v.Dmtr.v.val,Z=Q.Brsh.v.Hrdn!=null?Q.Brsh.v.Hrdn.v.val:-1,F=j,_=Z,$=C.r(b.WO);
if(C.r(b.fl)){if($)Z=25*Math.floor((Z-1)/25);else{if(j<=10)j--;else if(j<=50)j=5*Math.floor((j-1)/5);
else if(j<=100)j=10*Math.floor((j-1)/10);else if(j<=200)j=25*Math.floor((j-1)/25);else if(j<=400)j=50*Math.floor((j-1)/50);
else j=100*Math.floor((j-1)/100)}}if(C.r(b.Tg)){if($)Z=25*Math.ceil((Z+1)/25);else{if(j<10)j++;else if(j<50)j=5*Math.ceil((j+1)/5);
else if(j<100)j=10*Math.ceil((j+1)/10);else if(j<200)j=25*Math.ceil((j+1)/25);else if(j<400)j=50*Math.ceil((j+1)/50);
else j=100*Math.ceil((j+1)/100)}}j=Math.max(1,j);Z=Math.max(0,Math.min(100,Z));if(_==-1)Z=-1;if(j!=F||Z!=_){var L=JSON.parse(JSON.stringify(Q));
L.Brsh.v.Dmtr.v.val=j;if(_!=-1)L.Brsh.v.Hrdn.v.val=Z;return L}return null};G.WR.prototype.$m=function(Q,C,j,Z){if(Q.yD.list.length==0)return;
var F=this.id,_;if((F==G.EJ||F==G.HH||F==G.LX||F==G.C$)&&(C!=null&&C.r(b.DT)||this.rd.alt[0]))_="crosshair";
else{var $=this.vP,L=this.rd.brush,D;if(j&&j.H.length!=0)D=j.k[j.H[0]];if((F==G.EJ||F==G.HH)&&D!=null&&D.IF<=0){var d=j.R.gx(Z.x,Z.y),o=this.vjW(d),v=this.rd.sfrom,f=D.buffer,U=D.rect,a,i;
if(v!=0){U=new s(0,0,j.W,j.C);f=j.ln(v==1&&j.H[0]!=j.k.length-1?j.H[0]:null)}var H=new s(U.x+o.x,U.y+o.y,U.W,U.C),B=rh.ke(L,Q.yD._G,$),m=B[0],Y=B[1],q=Math.ceil(Y.W/$),r=new s(Math.round(d.x-q/2),Math.round(d.y-q/2),q,q),x=e.Q(r.P()*4);
e.tW(f,H,x,r);if($==1){a=x;i=r}else if($<1){var l=e.Ks(x,r,$);a=l.Dg;i=l.rect;if(i.P()!=Y.P()){i=Y.clone();
i.x=l.rect.x;i.y=l.rect.y;a=e.Q(i.P()*4);e.tW(l.Dg,l.rect,a,i)}}else{a=m.slice(0);i=Y;e.scale.IQ(x,r.W,r.C,a,i.W,i.C,$)}var M=this.rd.opacity/255;
for(var z=0;z<a.length;z+=4)a[z+3]=M*(m[z+3]*a[z+3]);_={WV:a,z:i,_H:new Wn(i.W/2,i.C/2)}}else _=rh.kH(L,Q.yD._G,$)}var V=new P(t.E.m,!0);
V.data={$:t.i.ea,Js:_};if(this.caller)this.caller.Z(V)};G.WR.prototype.enable=function(Q,C,j,Z){this.VO=j;
this.caller=C;this.lJ(JSON.parse(JSON.stringify(this.rd.brush)));if(Q&&Q.R.l!=0)this.vP=Q.R.l;this.$m(j,Z)};
G.WR.prototype.VD=function(Q,C){if(C==rQ.vH){this.rd.brush=Q.yD.US;this.$m(Q)}};G.WR.prototype.qU=function(Q,C,j,Z,F){for(var _ in Q)this.rd[_]=Q[_];
if(this.rd.alt[0])this.$m(F,Z,j)};G.WR.prototype.ro=function(Q,C){var j=Q.CG.length!=0?-1-Q.CG[0]:Q.H[0],Z=Q.k[j],F=j<0?1:Z.IF,_=j<0?Q.$W[-j-1]:F<=0?null:F==1?Z.oH():Z.qv(Q).A;
this.pq=Q.v==null?null:{rect:Q.v.rect.clone(),channel:e.clone(Q.v.channel)};this.Fh=_?_.channel:Z.buffer;
this.WZ=(_?_.rect:Z.rect).clone();var $=new s(0,0,Q.W,Q.C),L=$.fJ(this.WZ);if((this.ZK()&&F<=0||L.gm(this.WZ))&&C!=!0)this.Fh=this.Fh.slice(0);
else{if(_)_.extend(L);else Z.extend(L)}this.cZ=this.WZ;this.cY=this.Fh;if(F<=0&&(this.id==G.EJ||this.id==G.HH)){var D=this.rd.sfrom;
if(D!=0){this.cZ=new s(0,0,Q.W,Q.C);this.cY=e.clone(Q.ln(D==1&&Q.H[0]!=Q.k.length-1?Q.H[0]:null))}}};
G.WR.prototype.CU=function(Q,C,j){if(Q.r(b.DT)){var Z=new P(t.E.a,!0);Z.Y=G.vDj;Z.data={$:"pickhere",vBH:j};
C.Z(Z);return!0}return!1};G.WR.prototype.d$=function(Q,C,j,Z,F,_){if(!Q.TE()){this.Ki=null;return}this.ro(Q);
var $=new s(0,0,Q.W,Q.C),L=null;if(_!=null){var D=Q.CG.length!=0?-1-Q.CG[0]:Q.H[0],d=Q.k[D],o=D<0?Q.$W[-D-1]:d.IF<=0?null:d.IF==1?d.oH():d.qv(Q).A;
L=e.Q($.P()*4);if(o)G.WR.NP(this.Fh,this.WZ,o.color,L,$);else e.tW(this.Fh,this.WZ,L,$)}var v=this.rd;
if(this.Ki&&this.id==G.ME&&v.qsmode!=0){}else{var f=C.pd,U=C.JD;if(this.Iv=="erase"){var H=f;f=U;U=H}var B=this.id==G.ME?this.WZ:$;
this.Ki=new rh(v.brush,C.yD._G,C.yD.vf,{_v:F,cc:_,vBN:v.smth*50*t.s()/Q.R.l,cf:this.id==G.C$||v.emode==1,Ud:v.prsr},f,U,B,L)}if(this.id==G.ME){this.Ki.vll(v.brush,v.qsmode==2?0:16777215)}var m=Q.R.gx(Z.x,Z.y);
m=G.BG.Bu(Q,m,C);if(j.r(b.WO)&&this.Zu){this.Ki.moveTo(this.Zu.x,this.Zu.y,Z.TV);this.Ki.lineTo(m.x,m.y,Z.TV)}else this.Ki.moveTo(m.x,m.y,Z.TV);
this.Zu=m;this.AA=m.clone();this.gg=new bH(m)};G.WR.prototype.dz=function(Q,C,j){if(Q.R.l!=0&&Q.R.l!=this.vP){this.vP=Q.R.l;
this.$m(j)}};G.WR.prototype.du=function(Q,C,j,Z){if(this.Ki==null)return;var F=Q.k[Q.H[0]],_=Q.R.gx(Z.x,Z.y);
_=G.BG.Bu(Q,_,C);var $=this.gg.PL(_,j);if($.gm(this.Zu))return 1;this.Ki.lineTo($.x,$.y,Z.TV);this.Zu=$;
if(this.id==G.EJ||this.id==G.HH){var L=this.ZR(),D=11;L=Q.R.Br(_.x-L.x,_.y-L.y);var d=D>>>1,o=new s(Math.round(L.x)-d,Math.round(L.y)-d,D,D),v=e.Q(o.P()*4);
e.kM(16777215);for(var f=0;f<D;f++)v[(f*D+d)*4+3]=v[(D*d+f)*4+3]=255;Q.j.lw=[[v,o]];Q.uV=!0}};G.WR.prototype.IP=function(Q,C,j,Z){if(j.JT!=this.id)return;
if(this.id!=G.ME||Q==null)return;if(Q.v==null||Q.H[0]!=this.vmO){this.vmO=Q.H[0];this._b({qsmode:0},C)}};
G.WR.prototype.X=function(Q,C){if(Q.CG.length!=0){Q.uV=!0;return}var j=Q.k[Q.H[0]];if(C==null){C=this.Ki.kC();
if(this.ZK()&&j.IF<=0)C=C.QU(this.WZ)}if(C.jJ())return;if(j.IF<=0){j.X(C)}if(j.IF==1){j.oH().CZ=!0;j.Ea(Q)}if(j.IF==3){j.X()}Q.X(Q.root.uw(C,Q,Q.H[0],!0))};
G.WR.prototype._c=function(Q,C,j,Z,F){if(this.Ki==null)return;this.Ki.finish();if(this.id!=G.v$k&&this.id!=G.HH&&this.id!=G.ME)this.n_(Q);
if(this.id==G.EJ||this.id==G.HH){Q.j.lw=[];Q.uV=!0}if(this.id==G.ME){var _=Q.v;Q.v=this.pq;var $=new P(t.E.a,!0);
$.data={$:"setsel",vA:this.name,v:_};$.Y=G.sT;C.Z($);if(this.rd.qsmode==0)this._b({qsmode:1},C)}else{this.finish(Q,this.Ki.mn());
this.Ki=null;this.TR=null}this.dir=0};G.WR.prototype._b=function(Q,C){for(var j in Q)this.rd[j]=Q[j];
var Z=new P(t.E.m,!0);Z.data={$:t.i.hq,Y:this.id,tV:Q};C.Z(Z)};G.WR.prototype.ZK=function(){var Q=this.id;
return Q==G.ME||Q==G.rx||Q==G.vDD||Q==G.v$C||Q==G.vvu||Q==G.vbe};G.WR.prototype.finish=function(Q,C,j,Z){var F=Q.CG.length!=0?-1-Q.CG[0]:Q.H[0],_=Q.k[F],$=F<0?1:_.IF,L=F<0?Q.$W[-F-1]:$<=0?null:$==1?_.oH():_.qv(Q).A,D=L?L.rect:_.rect,v;
if(this.ZK()||!D.gm(this.WZ)){if(L==null){if(this.ZK())_.Dx();else{var d=C.fJ(this.WZ),o=e.Q(d.P()*4);
e.tW(_.buffer,_.rect,o,d);_.buffer=o;_.rect=d}}else L.Dx();this.X(Q,D)}if($<=0){v=e.Q(C.P()*4);e.tW(this.Fh,this.WZ,v,C)}else{v=e.Q(C.P());
e.set(v,L.color);e.pQ(this.Fh,this.WZ,v,C)}this.lp(Q,!1,j?j:this.name,F,$,C,v,Z)};G.WR.prototype.lp=function(Q,C,j,Z,F,_,$,L){var D=$;
if(F>0){D=e.Q(_.P()*4);G.WR.NP($,_,0,D,_)}var d=new ro(j,this);d.data=[{c:Z,xw:F,z:_,xu:D}];if(L)d.data.vVn=[Q.v,null];
Q.Rk(d);if(C)this.rg(d.data,Q);else if(L)Q.v=null;rz.Cz.vTm(Q,d.data)};G.WR.prototype.ZH=function(Q,C){this.v_f(Q,C,!1)};
G.WR.prototype.rg=function(Q,C){this.v_f(Q,C,!0)};G.WR.prototype.v_f=function(Q,C,j){if(Q.$=="drawtemp"){var Z=j?Q.vBP:Q.vBG,F=C.k[Q.c];
F.uj.Zm=Z;F.aW(C,0,0,C.v);F.X();C.IJ=!0}else{rz.Cz.dS(C,Q);if(Q.vVn){C.v=Q.vVn[j?1:0];C.DH=!0}}C.X()};
G.WR.prototype.n_=function(Q){this.Nq(Q,this.Iv,this.Ki.WE(),this.Ki.ET(),this.Ki.kC());this.X(Q)};G.WR.prototype.Nq=function(Q,C,j,Z,F){var _=this.rd,$=Q.k[Q.H[0]],L=Q.CG.length!=0?Q.$W[Q.CG[0]]:$.IF<=0?null:$.IF==1?$.oH():$.qv(Q).A,D=e.Q(F.P()*4);
if(L==null){e.tW(this.Fh,this.WZ,D,F)}else{G.WR.NP(this.Fh,this.WZ,L.color,D,F)}if(Q.v&&C!="qselect"){var d=F.QU(Q.v.rect),o=e.Q(d.P()*4);
if(C=="copy"){var v=e.Q(d.P());e.pQ(Q.v.channel,Q.v.rect,v,d);e.tW(D,F,o,d);e.B.lh(j,Z,o,d,v,d,0,d,1,!1)}else{e.tW(j,Z,o,d);
e.qN(Q.v.channel,Q.v.rect,o,d)}j=o;Z=d}if(C=="idraw"||C=="ierase"){if(this.TR==null)this.TR=e.Q(this.WZ.P());
var f=this.rd.samp,U=this.VO.JD,H=f==0?this.Zu:this.AA,B=H.x,m=H.y,Y=G.gP.Yb(this.Fh,this.WZ,[H,new Wn(B-2,m),new Wn(B+2,m),new Wn(B,m-2),new Wn(B,m+2)]);
if(f==2)Y=[[U>>>16&255,U>>>8&255,U>>>0&255,255]];var q=G.gP.vKp(D,F,this.Zu,Y,this.rd.wconf),r=e.Q(F.P());
e.pQ(this.TR,this.WZ,r,F);e.mh.fJ(q,r,r);e.pQ(r,F,this.TR,this.WZ);e.qN(r,F,j,Z);C=C.slice(1)}if(C=="erase"&&(rz.Cz.vQJ(Q)!=16777215||L))C="draw";
if(C=="draw")e.B.hW(_.bmode,j,Z,D,F,F,_.opacity);else if(C=="erase"){var x=e.Q(F.P()*4);e.tW(j,Z,x,F);
if(L==null){var a=e.Q(F.P());e.yq(x,a,3);e.aV(a,_.opacity);e.Ie(a);e.qN(a,F,D,F)}else{e.kM(x,0,4278190080);
e.B.hW("norm",x,F,D,F,F,_.opacity)}}else if(C=="clone"||C=="heal"){var i=this.ZR(),l=this.cZ.clone();
l.offset(i.x,i.y);var M=F.clone();M.ac(1,1);var z=e.Q(M.P()*4),V=e.Q(M.P());e.tW(j,Z,z,M);e.yq(z,V,3);
e.kM(z,0);if(L==null){e.tW(this.cY,l,z,M);var X=e.Q(M.P());e.yq(z,X,3);e.aA(X,V)}else G.WR.NP(this.Fh,l,L.color,z,M);
if(C=="clone"){e.gG(V,z,3);e.B.hW(_.bmode,z,M,D,F,F,_.opacity)}if(C=="heal"){var O=e.clone(V);e.round(O,20);
var y=e.Q(M.P()*4);e.tW(this.Fh,this.WZ,y,M);e.B.lh(z,M,y,M,O,M,0,M,1,!1);e.yW.vL(y,O,M);e.B.lh(y,M,D,F,V,M,0,F,1,!1)}}else if(C=="dodge"||C=="burn"){var z=e.Q(F.P()*4),W=1,N=0,I=0,T=0;
e.tW(j,Z,z,F);var K=F.P()*4,R=G.WR.Zq;if(this.DP){if(C=="dodge")C="burn";else C="dodge"}var h=_.rng;
if(C=="dodge"){N=[1-W/2,1,1+W][h];I=[1,1/(1+W),1][h];T=[W/2,0,0][h]}if(C=="burn"){N=[1/(1-W/2),1,1-W/2][h];
I=[1,1+W,1][h];T=[-(W/2)/(1-W/2),0,0][h]}for(var p=0;p<K;p+=4){var u=z[p+3];D[p+0]=R(D[p+0],N,I,T,u);
D[p+1]=R(D[p+1],N,I,T,u);D[p+2]=R(D[p+2],N,I,T,u)}}else if(C=="sponge"||C=="redeye"){var z=e.Q(F.P()*4),V=e.Q(F.P());
e.tW(j,Z,z,F);e.yq(z,V,3);e.W_(D,z);var g=_.smode;if(this.DP)g=1-g;var A=vr._j("hue2");if(C=="sponge")vM.ht(A,0,[0,[-50,46][g],[6,5][g]]);
else vM.ht(A,1,{EO:[265,305,25,55],cq:[0,-90,-70]});var w=rY.vT("hue2",A);rY.DZ(w,z,z,F);e.B.lh(z,F,D,F,V,F,0,F,1,!1)}else if(C=="copy")e.tW(j,Z,D,F);
else if(C=="sheal"){var z=e.Q(F.P()*4),V=e.Q(F.P());e.tW(j,Z,z,F);e.yq(z,V,3);e.$v.vL(this.Fh,this.WZ,V,D,F)}else if(C=="qselect"){var r$=this.WZ,rW=r$.W,J=r$.C,rr=rW*J,r_=this.Ki.WE(),Y=this.Fh,rO=G.jT.Zk,V=rO.Xi;
V.fill(128);for(var p=0;p<rr;p++){var k=r_[p<<2],rv=r_[(p<<2)+3];if(rv==255&&(k==0||k==255))V[p]=k}V[0]=V[rW-1]=0;
V[(J>>>1)*rW]=V[(J>>>1)*rW+rW-1]=0;G.ge.Ym(rO,!0);Q.v={rect:r$,channel:rO.v.slice(0)};Q.DH=!0}if(L==null)e.tW(D,F,$.buffer,$.rect);
else G.WR.ZS(D,F,L)};G.WR.ZR=function(){return null};G.WR.Zq=function(Q,C,j,Z,F){var _=Q*(1/255),$=Z+C*Math.pow(_,j),L=Math.round($*F+_*(255-F));
return Math.max(0,Math.min(255,L))};G.WR.NP=function(Q,C,j,Z,F){var _=e.Q(F.P());e.set(_,j);e.pQ(Q,C,_,F);
e.kM(Z,4278190080);e.KI(_,Z)};G.WR.ZS=function(Q,C,j){var Z=e.Q(C.P());e.oS(Q,Z);e.pQ(Z,C,j.channel,j.rect)};
G.jT=function(Q,C,j){G.xB.call(this,Q,C,j);this.rd={xI:"front",hD:0,Im:{bd:0,x:3,y:2},co:[10,!0,!0]};
this.GY=new Wn(-1,-1);this.kw=new Wn(-1,-1);this.tS="default";this.pr=null;this.$X=!1;this.cG=!1;this.DP=!1;
this.cM=0;this.FO=0;this.fW=!1;this.TT=null;this.Tu=null;this.Ux=!1};G.jT.prototype=new G.xB;G.jT.Zk={key:""};
G.jT.Zs=function(Q,C){var j={$Q:Q,aa:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(C)j.aa.T=C;return j};G.jT.ls=function(Q,C){return G.jT.Zs("set",{t:"Objc",v:{classID:Q,Top:{t:"UntF",v:{type:"#Pxl",val:C.y}},Left:{t:"UntF",v:{type:"#Pxl",val:C.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:C.y+C.C}},Rght:{t:"UntF",v:{type:"#Pxl",val:C.x+C.W}}}})};
G.jT._R=function(Q,C){var j=[],Z=[],$="set";for(var F=0;F<Q.length;F+=2){j.push(Q[F]);Z.push(Q[F+1])}var _={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:j},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:Z}]}}}};
if(C)$={front:"set",union:"addTo",difference:"subtractFrom",intersection:"interfaceWhite"}[C];return G.jT.Zs($,_)};
G.jT.vvd=function(Q,C){var j={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:Q.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:Q.y}}}},Z=G.jT.Zs("set",j);
Z.aa.Tlrn={t:"long",v:C[0]};Z.aa.AntA={t:"bool",v:C[1]};Z.aa.Cntg={t:"bool",v:C[2]};return Z};G.jT.fU=function(Q){return G.jT.Zs("set",{t:"enum",v:{Ordn:Q?"Al":"None"}})};
G.jT.vvG=function(Q,C,j){var Z={classID:"null"};if(Q!="border")Z.selectionModifyEffectAtCanvasBounds={t:"bool",v:j};
var F={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[Q[0]];Z[F]={t:"UntF",v:{type:"#Pxl",val:C}};return{$Q:Q,aa:Z}};
G.jT.vvN=function(Q,C,j){var Z={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},F={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Trsp","Msk"][j]}},{t:"name",v:{classID:"Lyr",val:Q}}]},_=[{classID:"null",null:Z,T:F},{classID:"null",null:F,T:Z},{classID:"null",null:F,From:Z},{classID:"null",null:F,With:Z}],$=["set","add","subtract","interfaceIconFrameDimmed"];
return{$Q:$[C],aa:_[C]}};G.jT.vDa=function(Q,C){var j=new P(t.E.m,!0);j.data={$:t.i.yN,Vh:rQ.vq};if(!C.ag)Q.Z(j);
j.data={$:t.i.yN,Vh:rQ.cn};if(!C.ZD.tI)Q.Z(j)};G.jT.prototype.yc=function(Q,C,j,Z,F){G.jT.vDa(C,F);this.pr=C;
var _=Q.$,$,L,D=new s(0,0,j.W,j.C),ri=!1,ru,rS;if(_=="fromAction"){var d=Q.cN,o=d.$Q,v=d.aa,f=v?v.selectionModifyEffectAtCanvasBounds:null,U=f&&f.v;
if(o=="inverse"){if(j.v==null){alert("No selection!");return}$={channel:e.Q(D.P()),rect:D};e.pQ(j.v.channel,j.v.rect,$.channel,$.rect);
e.Ie($.channel);L=[7,2]}else if(o=="expand"){var H=v.By.v.val,B=j.v.rect.clone();B.ac(H,H);var m=e.Q(B.P()),Y=e.Q(B.P());
e.pQ(j.v.channel,j.v.rect,Y,B);e.style.stroke(Y,m,B,H);$={channel:m,rect:B};L=[7,4]}else if(o=="contract"){var H=v.By.v.val,q=j.v.rect.clone();
q.ac(1,1);if(!U)q=q.QU(D);var Y=e.Q(q.P()),r=e.Q(Y.length);e.pQ(j.v.channel,j.v.rect,Y,q);e.Ie(Y);e.style.stroke(Y,r,q,H);
e.Ie(r);$={channel:r,rect:q};e.Dx($);L=[7,5]}else if(o=="border"){var H=v.Wdth.v.val;$=G.jT.vDq(j.v,H/2,H/2);
L=[7,9]}else if(o=="feather"||o=="smoothness"){var H=v.Rds.v.val;$=G.jT.vbH(j.v,H,o=="smoothness",D,U);
L=o=="feather"?[7,6]:[19,3,0]}else{var x=v.null.v;function a(rN){var rM=rN.Top.v.val,rl=rN.Left.v.val;
return new s(rl,rM,rN.Rght.v.val-rl,rN.Btom.v.val-rM)}function i(rN){var rM=rN[0].arr,_Q=rN[1].arr,_O={b:[],u:[]};
for(var rt=0;rt<rM.length;rt++){_O.u.push(rt==0?"M":"L");_O.b.push(rM[rt],_Q[rt])}_O.u.push("Z");return _O}var l=["set","addTo","subtractFrom","interfaceWhite"].indexOf(o),M=v.T?v.T.v:null;
if(M&&M.classID=="Elps"){$=this.vDh(G.IN.vpp(a(M)));L=[10,4]}else if(M&&M.classID=="Rctn"){var z=a(M);
$={channel:e.Q(z.P()),rect:z.clone()};e.set($.channel,255);L=[10,15]}else if(M&&M.classID=="ObSl"){var z=a(M),V=G.jT.Zk,X=V.rect,O=V.Xi,y=X.W,K=X.C,R=z.x-X.x,W=R+z.W-1,N=Math.max(R,Math.min(W,R+W>>>1)),I=z.y-X.y,T=I+z.C-1,h=Math.max(I,Math.min(T,I+T>>>1)),p=Math.max(R,0),u=Math.min(W,y),g=Math.max(I,0),A=Math.min(T,K);
O.fill(128);if(0<=I)for(var w=p;w<u;w++)O[I*y+w]=0;if(T<K)for(var w=p;w<u;w++)O[T*y+w]=0;if(0<=R)for(var r$=g;
r$<A;r$++)O[r$*y+R]=0;if(W<y)for(var r$=g;r$<A;r$++)O[r$*y+W]=0;var rW=G.vz.vQa,J=Math.round(z.W*rW),rr=Math.round(z.C*rW);
for(var w=Math.max(0,N-J);w<Math.min(y,N+J);w++)O[h*y+w]=255;for(var r$=Math.max(0,h-rr);r$<Math.min(K,h+rr);
r$++)O[r$*y+N]=255;G.ge.Ym(V,!0);$={channel:V.v.slice(0),rect:X.clone()};L=[10,44]}else if(M&&M.classID=="Plgn"){$=this.vDh(i(M.Pts.v.arr));
L=[10,9]}else if(M&&M.classID=="Pnt"){$=G.gP.v$b(j,new Wn(M.Hrzn.v.val,M.Vrtc.v.val),[v.Tlrn.v,v.AntA==null||v.AntA.v,v.Cntg==null||v.Cntg.v]);
L=[10,12]}else if(M&&M.Ordn=="None"){$=null;L=[7,1]}else if(M&&M.Ordn=="Al"){$={channel:e.Q(D.P()),rect:D};
e.set($.channel,255);L=[7,0]}else{var r_=j.H[0],rb;if(x.length==2)r_=_R.DJ(j,x[1]);else if(M.length==2)r_=_R.DJ(j,M[1]);
var rO=(M?M:x)[0].v.enum,k=["Trsp","Msk","vectorMask"].indexOf(rO);console.log(k);var rv=l!=-1?l:["set","add","subtract","interfaceIconFrameDimmed"].indexOf(o);
if(M&&M[0].t=="name"){for(var rt=0;rt<j.$W.length;rt++)if(j.$W[rt].name==M[0].v.val)r_=rt;rb={$:"fromchannel",nh:[-5-r_,0,rv]}}else if(rO=="RGB")rb={$:"fromchannel",nh:[-1,0,rv]};
else rb={$:"fromlayer",nh:[r_,k,rv]};this.yc(rb,C,j,Z,F);return}if(v.Fthr)$=G.jT.vbH($,v.Fthr.v.val,!1);
if(o!="set"&&j.v!=null)$=e.mh.jx($,j.v,["","union","difference","intersection"][l])}if(o=="expand"||o=="contract")if(!U&&!D.contains($.rect)){var rK=$.rect.QU(D),rR=e.Q(rK.P());
e.pQ($.channel,$.rect,rR,rK);$.channel=rR;$.rect=rK}}if(_=="qmask"){ri=!0;var rg=j.qj(),rd=new s(0,0,j.W,j.C);
if(rg){$=rg.rect.gm(rd)&&e.al(rg.channel,255)?null:{rect:rg.rect.clone(),channel:rg.channel.slice(0)};
ru=rg}else{$=null;rS=new S.Xh;rS.color=0;rS.name="Quick Mask";rS.me=!0;if(j.v){rS.rect=j.v.rect.clone();
rS.channel=j.v.channel.slice(0)}else{rS.rect=rd;rS.channel=e.Q(rS.rect.P());e.set(rS.channel,255)}}L=[6,6,1]}if(_=="setsel"){$=Q.v;
L=Q.vA}if(_=="crange"){var vO=Q.QF,rq=Q.Qh;$=G.jT.vRp(j,vO,rq,Q.aw);L=[7,8];vO={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:vO.m$},A:{t:"doub",v:vO.om},B:{t:"doub",v:vO._}}};
rq={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:rq.m$},A:{t:"doub",v:rq.om},B:{t:"doub",v:rq._}}};this.track({$Q:"colorRange",aa:{__name:"Color Range",classID:"ClrR",Fzns:{t:"long",v:Math.round(Q.aw*200)},Mnm:vO,Mxm:rq,colorModel:{t:"long",v:0}}})}if(_=="fromlayer"||_=="fromchannel"||_=="frompath"){var rL=Q.nh[0],k=Q.nh[1],l=Q.nh[2];
if(_=="fromlayer"){if(rL==null)rL=j.H[0];var rl=j.k[rL];if(k==0){var rV=rl.rect,ry=rl.buffer;if(rV.jJ())return;
var vj=e.Q(ry.length>>>2);e.yq(ry,vj,3);$={channel:vj,rect:rV.clone()}}else{if(rl.A==null)rl.Ea(j);var rp=k==1?rl.oH():rl.A;
$=G.jT.vKg(rp,D)}this.track(G.jT.vvN(rl.getName(),l,k))}else if(_=="frompath"){var rx=j.Uh(),rF=rx[1],rx=rx[0];
if(rx.length==0||rF.length==0)return;var DX=rx[rF[0]];if(rL!=null)for(var rt=0;rt<rx.length;rt++)if(rx[rt].BW==rL)DX=rx[rt];
var rp=DX.add.vmsk.oH(),va=rp.ET();if(va.P()==0)return;var vj=rp.ab(),rB=j.BA.indexOf(-1-rL);if(rB!=-1)j.BA.splice(rB,1);
$={channel:vj,rect:va}}else{if(rL==null)rL=G.jT.vvB(j);$=G.jT.vSX(j,rL)}if(l!=0&&j.v)$=e.mh.jx($,j.v,["","union","difference","intersection"][l]);
L=[14,11]}if($!=null&&e.al($.channel,0)){$=null;L=[7,1]}if($)e.Dx($);var vW=new ro(L,this);vW.data={$:"changesel",pq:j.v,aB:$,qj:ri,vSD:ru,vSS:rS};
j.Rk(vW);this.rg(vW.data,j)};G.jT.vvB=function(Q){var C=0;if(Q.CG.length!=0)C=-5-Q.CG[0];else if(JSON.stringify(Q.R.oe)=="[1,1,1]")C=-1;
else C=-2-Q.R.oe.indexOf(1);return C};G.jT.vSX=function(Q,C){var j,Z=new s(0,0,Q.W,Q.C);if(-5<C&C<0){var F=-C-1,_=Q.ln(),$=e.Q(Z.P());
if(F==0)e.oS(_,$);else e.yq(_,$,F-1);j={channel:$,rect:Z.clone()}}if(C<-4){j=G.jT.vKg(Q.$W[-C-5],Z)}return j};
G.jT.vKg=function(Q,C){var j,Z;if(Q.Xa()==0){Z=Q.ET();if(Z.P()==0)return;j=Q.ab()}else{Z=C;j=e.Q(Z.P());
Q.sH(Z,j)}return{channel:j,rect:Z}};G.jT.prototype.pe=function(Q){return this.fW||Q.gN&&this.id!=G.vQw};
G.jT.prototype.ZO=function(Q,C,j){var Z=new P(C,!0);Z.data=j;Q.Z(Z)};G.jT.prototype.vbN=function(Q,C){var j=new P(t.E.m,!0);
j.data={$:t.i.ea,Js:C};Q.Z(j)};G.jT.prototype.ET=function(Q,C,j){C=Q.v==null||this.cM>1||this.FO>1?C:null;
var Z=this.GY,F=this.kw;if(j){Z.x=Math.max(0,Math.min(Q.W,Z.x));Z.y=Math.max(0,Math.min(Q.C,Z.y));F.x=Math.max(0,Math.min(Q.W,F.x));
F.y=Math.max(0,Math.min(Q.C,F.y))}var _=G.da.VQ(Z,F,C,!0,this.rd.Im),$=_[0].x,L=_[0].y;return new s($,L,_[1].x-$,_[1].y-L)};
G.jT.prototype.yi=function(Q,C,j,Z,F){if(this.ld())return;this.pr=C;this.$X=!1;this.cG=Z.r(b.WO);this.DP=Z.r(b.DT);
this.cM=this.cG?0:1;this.FO=this.DP?0:1;this.GY=Q.R.gx(F.x,F.y);this.GY=G.BG.Bu(Q,this.GY,j);if(this.vDO(Q,this.GY)){this.fW=!0;
this.TT=Q.v.rect.clone();return}this.GF(Q,j,Z,F);Q.R.Aw=new s};G.jT.prototype.vDO=function(Q,C){if(Q.v&&this.rd.xI=="front")return e.qx(C,Q.v.channel,Q.v.rect);
return!1};G.jT.prototype.eF=function(Q,C,j,Z,F){this.pr=C;if(this.Ux)return;var _=Q.R.gx(F.x,F.y);if(Wn.iQ(this.GY,_)*Q.R.l>5)this.$X=!0;
if(Z.r(b.pG)){if(this.Tu==null)this.Tu=new Wn(_.x-this.GY.x,_.y-this.GY.y);this.GY.x=_.x-this.Tu.x;this.GY.y=_.y-this.Tu.y}else this.Tu=null;
this.kw=_;if(!this.fW)this.kw=G.BG.Bu(Q,this.kw,j);if(this.vDO(Q,this.kw))this.vbN(C,"move");else this.vbN(C,this.tS);
if(this.fW){var $=this.TT.clone();$.x+=this.kw.x-this.GY.x;$.y+=this.kw.y-this.GY.y;var L=G.BG.EP(Q,$,j);
Q.v.rect.x=Math.round(this.kw.x-this.GY.x+this.TT.x+L[0]);Q.v.rect.y=Math.round(this.kw.y-this.GY.y+this.TT.y+L[1]);
Q.DH=!0;G.BG.EL(Q,$,L);return}this.LC(Q,j,Z,F);if(Q.R.Aw)Q.R.Aw=this.ET(Q,Z)};G.jT.prototype.ld=function(){return!1};
G.jT.prototype._c=function(Q,C,j,Z,F){Q.R.Aw=null;this.kw=Q.R.gx(F.x,F.y);this.kw=G.BG.Bu(Q,this.kw,j);
if(this.fW){this.fW=!1;if(this.kw.gm(this.GY)&&this.vvm()=="front"){this.ZO(C,t.E.xD,G.jT.fU());return}this.v$O(Q,this.TT,Q.v.rect.clone());
if(Q!=null&&Q.j.Vt){Q.j.Vt=null;Q.uV=!0}return}this.CB(Q,j,Z,F);G.jT.vDa(C,j)};G.jT.prototype.v$O=function(Q,C,j){var Z=Q.qT();
if(Z!=null&&Z.Y==this&&Z.data.$=="movesel"){}else{Z=new ro([7,7],this);Z.data={$:"movesel",xL:C};Q.Rk(Z)}Z.data.fr=j;
this.rg(Z.data,Q)};G.jT.prototype.Le=function(Q,C,j,Z,F){this.Ux=!0};G.jT.prototype.MJ=function(Q,C,j,Z,F){var _=new P(t.E.m,!0);
_.data={$:t.i.hq,Y:this.id,tc:F,Jv:Q,El:j};C.Z(_);this.Ux=!1};G.jT.prototype.ZZ=function(Q,C,j,Z){var F=Z.r(b.WO),_=Z.r(b.DT);
if(this.$X){if(this.cM==0&&!F)this.cM++;if(this.cM==1&&F)this.cM++;if(this.FO==0&&!_)this.FO++;if(this.FO==1&&_)this.FO++}if(Q!=null&&Q.v!=null){var $=Z.po();
if($.x!=0||$.y!=0){var L=Q.v.rect.clone();L.x+=$.x;L.y+=$.y;this.v$O(Q,Q.v.rect.clone(),L)}}var D=G.jT.lX(this.rd.xI,F,_),d=new P(t.E.m,!0);
d.data={$:t.i.hq,Y:this.id,xI:D};C.Z(d)};G.jT.prototype.finish=function(Q,C,j,Z){var F=Q.v,_=this.getSelection(Q,C,j,Z);
if(_==null)_=G.jT.fU();else{var $=this.rd.hD,L=this.vvm();if($!=0)_.aa.Fthr={t:"UntF",v:{type:"#Pxl",val:$}};
if(L!="front"&&L!="xor")_.$Q={union:"addTo",difference:"subtractFrom",intersection:"interfaceWhite"}[L]}this.ZO(this.pr,t.E.xD,_);
this.GY.KL(-1,-1);this.kw.KL(-1,-1)};G.jT.prototype.vvm=function(){return G.jT.lX(this.rd.xI,this.cG,this.DP)};
G.jT.lX=function(Q,C,j){if(C)Q="union";if(j)Q="difference";if(C&&j)Q="intersection";return Q};G.jT.prototype.getSelection=function(Q,C,j,Z){return null};
G.jT.prototype.GF=function(Q,C,j,Z){};G.jT.prototype.LC=function(Q,C,j,Z){};G.jT.prototype.CB=function(Q,C,j,Z){};
G.jT.prototype.ZH=function(Q,C){var j=Q.$;if(j=="changesel")C.v=Q.pq;if(j=="movesel")C.v.rect=Q.xL;if(Q.qj){if(Q.vSD){C.CG=[C.$W.length];
C.$W.push(Q.vSD)}else{C.$W.pop();C.CG=[]}}C.DH=!0};G.jT.prototype.rg=function(Q,C){var j=Q.$;if(j=="changesel")C.v=Q.aB;
if(j=="movesel")C.v.rect=Q.fr;if(Q.qj){if(Q.vSS){C.CG=[C.$W.length];C.$W.push(Q.vSS)}else{C.$W.pop();
C.CG=[]}}C.DH=!0};G.jT.prototype.qU=function(Q){this.rd=Q};G.jT.prototype.vDh=function(Q){var C=e.g.eI(Q.b);
if(C.jJ())return null;var j=t.e("canvas","");j.width=C.W;j.height=C.C;var Z=j.getContext("2d");Z.beginPath();
Z.translate(-C.x,-C.y);Typr.U.pathToContext({cmds:Q.u,crds:Q.b},Z);Z.closePath();Z.fill();var F=e.Q(C.P()),_=Z.getImageData(0,0,j.width,j.height);
e.yq(_.data,F,3);return{rect:C,channel:F}};G.jT.vbH=function(Q,C,j,Z,F){if(j)C=Math.round(C*.7);var _=Math.ceil(2.6*C),$=Q.rect.clone();
$.ac(_,_);if(Z&&!F)$=$.QU(Z);var L=e.Q($.P()),D=e.Q(L.length);e.pQ(Q.channel,Q.rect,D,$);e.blur.Pt(D,L,$,C);
if(j){var d=L.length;for(var o=0;o<d;o++){var v=(L[o]-128)*C*2.5;L[o]=Math.max(0,Math.min(255,Math.round(128+v)))}}return{channel:L,rect:$}};
G.jT.vDq=function(Q,C,j){var Z=Math.max(1,Math.ceil(j)),F=Q.rect.clone();F.ac(Z,Z);var _=F.P(),$={channel:e.Q(_),rect:F},L=e.Q(_);
e.pQ(Q.channel,Q.rect,L,$.rect);if(j!=0)e.style.stroke(L,$.channel,$.rect,j);else e.W_(L,$.channel);
var D=e.Q(_);e.Ie(L);if(C!=0)e.style.stroke(L,D,$.rect,C);else e.W_(L,D);e.mh.QU($.channel,D,$.channel);
return $};G.jT.vRp=function(Q,C,j,Z){var F=new s(0,0,Q.W,Q.C),_=Q.ln();if(Q.v){var $=Q.v.rect.QU(F),L=e.Q($.P()*4);
e.tW(_,F,L,$);F=$;_=L}var D=F.P(),d=e.Q(D),o=1/Z;for(var v=0;v<D;v++){var f=v<<2,U=e.ZM(_[f],_[f+1],_[f+2]),H=e.nz(U,C,j,Z,o);
d[v]=255*H}return{rect:F,channel:d}};G.ZE=function(){G.WR.call(this,[10,18],G.rF,"tools/blur");this.Iv="copy"};
G.ZE.prototype=new G.WR;G.ZE.prototype.yi=function(Q,C,j,Z,F){var _=Z.r(b.DT)?rh.PC:rh.rF;this.d$(Q,j,Z,F,this.rd.strn,_);
if(this.Ki==null)return;this.n_(Q)};G.ZE.prototype.eF=function(Q,C,j,Z,F){this.dz(Q,C,j);if(this.dw)this.sE(Q,j,F);
if(this.Ki==null)return;if(!F.gN)return;this.du(Q,j,Z,F);this.n_(Q)};G.Zd=function(){G.WR.call(this,[10,0],G.LX,"tools/brush");
this.Iv="draw"};G.Zd.prototype=new G.WR;G.Zd.prototype.yi=function(Q,C,j,Z,F){if(this.CU(Z,C,F))return;
this.d$(Q,j,Z,F,this.rd.flow);if(this.Ki==null)return;this.n_(Q)};G.Zd.prototype.eF=function(Q,C,j,Z,F){this.dz(Q,C,j);
if(this.dw)this.sE(Q,j,F);if(this.Ki==null)return;if(!F.gN)return;this.du(Q,j,Z,F);this.n_(Q)};G.ZX=function(){G.WR.call(this,[10,42],G.vOJ,"tools/crepl");
this.Iv="idraw";this.rd.bmode="hue "};G.ZX.prototype=new G.WR;G.ZX.prototype.yi=function(Q,C,j,Z,F){if(this.CU(Z,C,F))return;
this.d$(Q,j,Z,F,this.rd.flow);if(this.Ki==null)return;this.n_(Q)};G.ZX.prototype.eF=function(Q,C,j,Z,F){this.dz(Q,C,j);
if(this.dw)this.sE(Q,j,F);if(this.Ki==null)return;if(!F.gN)return;this.du(Q,j,Z,F);this.n_(Q)};G.Za=function(){G.WR.call(this,[10,43],G.vbe,"tools/redeye");
this.rd.smode=0;this.Iv="redeye"};G.Za.prototype=new G.WR;G.Za.prototype.yi=function(Q,C,j,Z,F){this.d$(Q,j,Z,F,this.rd.flow);
if(this.Ki==null)return;this.n_(Q)};G.Za.prototype.eF=function(Q,C,j,Z,F){this.dz(Q,C,j);if(this.dw)this.sE(Q,j,F);
if(this.Ki==null)return;if(!F.gN)return;this.du(Q,j,Z,F);this.n_(Q)};G.ZF=function(){G.WR.call(this,[10,38],G.C$,"tools/pencil");
this.Iv="draw"};G.ZF.prototype=new G.WR;G.ZF.prototype.yi=function(Q,C,j,Z,F){if(this.CU(Z,C,F))return;
this.d$(Q,j,Z,F,this.rd.flow);if(this.Ki==null)return;this.n_(Q)};G.ZF.prototype.eF=function(Q,C,j,Z,F){this.dz(Q,C,j);
if(this.dw)this.sE(Q,j,F);if(this.Ki==null)return;if(!F.gN)return;this.du(Q,j,Z,F);this.n_(Q)};G.ZG=function(){G.WR.call(this,[10,22],G.v$C,"tools/burn");
this.Iv="burn"};G.ZG.prototype=new G.WR;G.ZG.prototype.yi=function(Q,C,j,Z,F){this.d$(Q,j,Z,F,this.rd.expo/Math.E);
if(this.Ki==null)return;this.n_(Q)};G.ZG.prototype.eF=function(Q,C,j,Z,F){this.dz(Q,C,j);if(this.dw)this.sE(Q,j,F);
if(this.Ki==null)return;if(!F.gN)return;this.du(Q,j,Z,F);this.n_(Q)};G.MM=function(Q,C,j){G.WR.call(this,Q==""?null:Q?Q:[10,1],C?C:G.EJ,j?j:"tools/clone");
this.Iv="clone";this.tm=null;this.f=null};G.MM.prototype=new G.WR;G.MM.prototype.yi=function(Q,C,j,Z,F){var _=this.rd,$=_.alt[0];
if(Z.r(b.DT)||Z.r(b.IA)||$){this.tm=Q.R.gx(F.x,F.y);this.f=null;if($)this._b({alt:[!1]},C);this.$m(j,Z,Q,F);
return}if(this.tm==null){alert(rT.get([15,7,0]));return}this.$m(j,Z);this.d$(Q,j,Z,F,this.rd.flow);if(this.Ki==null)return;
this.f=this.vjW(Q.R.gx(F.x,F.y));this.n_(Q)};G.MM.prototype.vjW=function(Q){var C=this.f;if(C==null||!this.rd.algnd)C=new Wn(Math.round(Q.x-this.tm.x),Math.round(Q.y-this.tm.y));
return C};G.MM.prototype.eF=function(Q,C,j,Z,F){this.dz(Q,C,j);if(this.dw)this.sE(Q,j,F);if(this.Ki==null){if(this.tm!=null)this.$m(j,Z,Q,F);
return}if(!F.gN||this.tm==null)return;this.du(Q,j,Z,F);this.n_(Q)};G.MM.prototype.ZR=function(){return this.f};
G.MM.prototype.disable=function(Q,C,j,Z){this.tm=null;this.f=null};G.QQ=function(Q,C,j){G.xB.call(this,Q,C,j);
this.FQ={WP:{bd:0,x:0,y:0}};this.sB=null;this.cursor=null;this.vuc=0;this.UX=null;this.GY=null;this.cP=null};
G.QQ.prototype=new G.xB;G.QQ.prototype.cX=function(){return this.sB!=null};G.QQ.prototype.pe=function(Q){return this.sB&&this.sB.vib()};
G.QQ.prototype.yi=function(Q,C,j,Z,F){this.UX=F;var _=Q.R.gx(F.x,F.y);_.x=Math.round(_.x);_.y=Math.round(_.y);
var $=this.FQ.WP,L=$.bd!=0?$.x/$.y:null;if(this.sB)this.sB.yi(Q,j,Z,_,L,!1);else this.GY=G.BG.Bu(Q,_,j)};
G.QQ.prototype.vDI=function(Q,C){var j=[Q.x,Q.y,Q.x+Q.W,Q.y,Q.x+Q.W,Q.y+Q.C,Q.x,Q.y+Q.C];return new _V(j,!0,!1,this.id==G.Cv,!0,C,this.id==G.Cv?2:0,this.id==G.Cv)};
G.QQ.prototype.$m=function(Q){var C=new P(t.E.m,!0);C.data={$:t.i.ea,Js:this.cursor};Q.Z(C)};G.QQ.prototype.enable=function(Q,C,j,Z){this.cursor="crosshair";
this.$m(C);if(Q!=null&&Q.v){var F=this.FQ.WP={bd:0,x:0,y:0};this.ZO(C,t.E.m,{$:t.i.hq,Y:this.id,TJ:!1,Im:F});
this.qU({zR:"cropby",vks:3},C,Q,Z,j)}};G.QQ.prototype.eF=function(Q,C,j,Z,F){this.UX=F;var _=Q.R.gx(F.x,F.y);
if(!F.gN){var $="crosshair";if(this.sB){var L=this.sB.d_(_,Q.R.l);if(L)$=L;else $="default"}if($!=this.cursor){this.cursor=$;
this.$m(C)}}if(this.sB)this.sB.eF(Q,j,Z,_);else if(this.GY){var D=G.da.VQ(this.GY,G.BG.Bu(Q,_,j),Z,!0,this.FQ.WP),d=D[0].x,o=D[0].y,v=this.cP=new s(d,o,D[1].x-d,D[1].y-o);
Q.j.Il=e.g.iq(v);Q.uV=!0;G.xB.rX(F.x+10,F.y-10,v,Q,j)}};G.QQ.prototype._c=function(Q,C,j,Z,F){this.UX=F;
if(this.sB==null){if(this.GY){var _=this.cP;if(_){var $=this.FQ.WP;this.sB=this.vDI(_,$.bd!=0);this.sB.oN(Q,j);
this.cP=null;this.ZO(C,t.E.m,{$:t.i.hq,Y:this.id,TJ:!0})}this.GY=null;Q.j.lw=[];Q.uV=!0}return}var L=Q.R.gx(F.x,F.y);
this.sB._c(Q,j,Z,L);this.ZO(C,t.E.m,{$:t.i.hq,Y:this.id,TJ:!0});var D=this.sB.F_();if(Math.abs(D[0]-D[4])<2||Math.abs(D[1]-D[5])<2){this.disable(Q,C,null,Z);
return}if(Date.now()-this.vuc<200&&this.sB.Qs(L)){this.lB(Q,j);this.disable(Q,C,j,Z);return}this.vuc=Date.now()};
G.QQ.prototype.ZZ=function(Q,C,j,Z){var F=this.sB;if(F==null||this.UX&&this.UX.gN)return;if(Z.r(b.bA)){this.lB(Q,j);
this.disable(Q,C,j,Z)}else if(Z.r(b.Fj)){this.disable(Q,C,j,Z)}else F.ZZ(Q,j,Z)};G.QQ.la=function(Q,C){if(C==null)C=[!0,!0,!0,!0];
var j={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][Q]}}},Z=["Top","Left","Btom","Rght"];
for(var F=0;F<4;F++)j[Z[F]]={t:"bool",v:C[F]};return{$Q:"trim",aa:j}};G.QQ.v$x=function(Q,C,j,Z){var F={classID:"null"};
if(Z!=null){F.Wdth={t:"UntF",v:{type:"#Pxl",val:Q}};F.Hght={t:"UntF",v:{type:"#Pxl",val:C}};F.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][Z]}}}if(j!=null)F.Rslt={t:"UntF",v:{type:"#Rsl",val:j}};
return{$Q:"imageSize",aa:F}};G.QQ.vvX=function(Q,C,j){if(j==null)j=4;var Z=Math.floor(j/3),F=j%3;return{$Q:"canvasSize",aa:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:Q}},Hght:{t:"UntF",v:{type:"#Pxl",val:C}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][F]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][Z]}}}}};
G.QQ.prototype.yc=function(Q,C,j,Z,F){var _=new s(0,0,j.W,j.C),$=[11,3],L=j.zn,D=j.W/2,d=j.C/2,o=1,h,p;
if(Q.$=="fromAction"){var v=Q.cN,f=v.$Q,U=v.aa,H=j.W/j.C,B=U.Wdth?U.Wdth.v.val:-1,m=U.Hght?U.Hght.v.val:-1,L=U.Rslt?U.Rslt.v.val:null,Y=U.Wdth?U.Wdth.v.type:U.Hght?U.Hght.v.type:-1,q=1,r;
if(f=="imageSize"){if(U.Intr){if(U.Intr.v.Intp=="Nrst")q=0;if(U.Intr.v.Intp=="bicubicSharper")q=2;if(B==-1&&m==-1){var x=L/j.zn;
B=Math.round(j.W*x);m=Math.round(j.C*x)}else if(Y=="#Prc"){if(B!=-1)B=Math.round(j.W*B/100);if(m!=-1)m=Math.round(j.C*m/100)}if(U.CnsP&&U.CnsP.v){if(B==-1)B=Math.round(m*H);
if(m==-1)m=Math.round(B/H)}}else{if(Y=="#Prc")L=Math.round(j.zn/((B!=-1?B:m)/100));else if(Y==-1)L=Math.round(L);
else throw"e";B=j.W;m=j.C}r={$:"imgsize",Td:B,Ty:m,TF:L,fS:q}}else if(f=="canvasSize"){console.log(f,U);
if(B==-1)B=j.W;if(m==-1)m=j.C;if(U.Rltv&&U.Rltv.v==!0){if(U.Wdth)B+=j.W;if(U.Hght)m+=j.C}var a=U.Vrtc?U.Vrtc.v.VrtL:"Cntr",i=U.Hrzn?U.Hrzn.v.HrzL:"Cntr";
r={$:"canvsize",Td:B,Ty:m,Xl:3*["Top","Cntr","Btom"].indexOf(a)+["Left","Cntr","Rght"].indexOf(i)}}else if(f=="revealAll"){r={$:"revealAll"}}else if(f=="trim"){var l={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[U.trimBasedOn.v.trimBasedOn];
if(l==null)throw"e";var M=["Top","Left","Btom","Rght"],z=[!0,!0,!0,!0];for(var V=0;V<4;V++)if(U[M[V]])z[V]=U[M[V]].v;
r={$:"trim",vRW:l,Im:z}}if(r)this.yc(r,C,j,Z,F);return}else if(Q.$=="imgsize"){_=new s(0,0,Q.Td,Q.Ty);
if(Q.TF)L=Q.TF;o=Q.fS}else if(Q.$=="canvsize"){var X=Q.Xl!=null?Q.Xl:0;_=new s(0,0,Q.Td,Q.Ty);var O=j.W-Q.Td,y=j.C-Q.Ty,K=Math.round(O/2),R=Math.round(y/2);
if(X==1||X==4||X==7)_.x=K;if(X==2||X==5||X==8)_.x=O;if(X==3||X==4||X==5)_.y=R;if(X==6||X==7||X==8)_.y=y;
if(Q.f){_.x=Q.f.x;_.y=Q.f.y}}else if(Q.$=="rot"&&(Q.O+2*Math.PI)%(Math.PI/2)!=0){var W=e.g.iq(_).b,N=new rI;
N.translate(-D,-d);N.rotate(Q.O);N.translate(D,d);e.g.M(W,N,W);_=e.g.eI(W)}else if(Q.$=="rot"&&Q.O!=Math.PI&&Q.O!=-Math.PI){_=new s(D-j.C/2,d-j.W/2,j.C,j.W);
if((j.W+j.C&1)==1){D=Math.floor(D);d=Math.floor(d);_=new s(D-Math.floor(j.C/2),d-Math.floor(j.W/2),j.C,j.W);
if((j.W&1)==1&&Q.O!=-Math.PI/2)_.y--;if((j.C&1)==1&&Q.O==-Math.PI/2)_.x--}}else if(Q.$=="trim"){$=[11,12,0];
var I=j.ln(),T=new s(0,0,j.W,j.C);_=e.Ka(I,T,Q.vRW,Q.Im);if(_.jJ())_=T}else if(Q.$=="cropbysel"){$=[11,12,1];
_=j.v.rect.clone()}else if(Q.$=="revealAll"){$=[11,12,2];_=j.root.ET(j,!0)}if(Q.$=="imgsize"||Q.$=="rot"||Q.$=="scl"){var u=new rI;
if(Q.$=="imgsize"){$=[11,10];u.scale(Q.Td/j.W,Q.Ty/j.C)}else{u.translate(-D,-d);if(Q.$=="rot")u.rotate(Q.O);
if(Q.$=="scl")u.scale(Q.O.x,Q.O.y);u.translate(D,d);$=Q.vA}p=e.V.ij(u);h=this.vDz(j,F,p,o)}var g=new s(0,0,j.W,j.C);
if(!_.jJ()&&(!_.gm(g)||h!=null)){var A=new ro($,this);A.data={xL:g,fr:_,vp_:j.zn,TF:L,ty:h,ce:p,Th:G.QQ.v$m(j,_,g,h!=null)};
j.Rk(A);this.rg(A.data,j)}};G.QQ.v$m=function(Q,C,j,Z){if(Q.Dl.length==0)return null;var F=JSON.stringify(Q.Dl),_=JSON.parse(F);
G.bC.vrh(_,C,j,Z);_=JSON.stringify(_);return[F,_]};G.QQ.prototype.vDz=function(Q,C,j,Z,F){var _={k:[],ck:null,gO:null};
for(var $=0;$<Q.k.length;$++)_.k.push($);for(var $=0;$<Q.te.length;$++)_.k.push(-1-$);_.ck=G.S.QT(Q,_.k,!0);
G.S.VE(Q,C,_.k,_.ck,Z,j,null,!0,F);_.gO=G.S.QT(Q,_.k,!0);return _};G.QQ.prototype.rg=function(Q,C){if(Q.TF)C.zn=Q.TF;
if(Q.Th)C.Dl=JSON.parse(Q.Th[1]);if(Q.ty){G.QQ.vDX(C,e.V.rk(Q.ce));G.S.Qu(C,Q.ty.k,Q.ty.gO)}G.QQ._g(C,Q.fr)};
G.QQ.prototype.ZH=function(Q,C){if(Q.vp_)C.zn=Q.vp_;if(Q.Th)C.Dl=JSON.parse(Q.Th[0]);var j=Q.xL.clone();
j.offset(-Q.fr.x,-Q.fr.y);G.QQ._g(C,j);if(Q.to)C.R.f.wc(Q.to);C.vDd();if(Q.ty){var Z=e.V.rk(Q.ce).clone();
Z.Ie();G.QQ.vDX(C,Z);G.S.Qu(C,Q.ty.k,Q.ty.ck)}};G.QQ.vDX=function(Q,C){for(var j=0;j<Q.k.length;j++){var Z=Q.k[j];
if(Z.add.artb==null)continue;var F=e.g.iq(Z.se()).b;e.g.M(F,C,F);var _=e.g.eI(F);Z.vo(_)}};G.QQ._g=function(Q,C){Q.W=C.W;
Q.C=C.C;var j=[];for(var Z=0;Z<Q.k.length;Z++)j.push(Z);G.BG.gS(Q,j,null,-C.x,-C.y);for(var Z=0;Z<Q.k.length;
Z++){Q.k[Z].Ea(Q)}Q.vDd();Q.R.f.KL(0,0);if(Q.v)Q.v.rect.offset(-C.x,-C.y);for(var Z=0;Z<Q.$W.length;
Z++)Q.$W[Z].rect.offset(-C.x,-C.y)};G.QQ.prototype.qU=function(Q,C,j,Z,F){if(Q.zR=="commit"){this.lB(j,F);
this.disable(j,C,null,Z)}else if(Q.zR=="cancel"){this.disable(j,C,null,Z)}var _=null,$=this.FQ.WP;if(Q.zR=="config"){this.FQ=Q.FQ;
$=this.FQ.WP;if(j==null)return;_=new s(0,0,j.W,j.C);if($.bd==1){var L=$.x/$.y;_.C=Math.round(_.W/L)}if($.bd==2){_.W=$.x;
_.C=$.y}_.x=Math.round((j.W-_.W)/2);_.y=Math.round((j.C-_.C)/2)}if(Q.zR=="cropby"){if(j==null)return;
var D=Q.vks,_;if(D==0)_=j.root.ET(j,!0);if(D==1){if(j.H.length==0)alert("No layer is selected.");else{var d=j.root.Gl(j.H[0]);
_=d.ET(j,!0)}}if(D==2){if(j.H.length==0)alert("No layer is selected.");else{var v=j.k[j.H[0]];_=e.Ka(v.buffer,v.rect,0);
if(_.jJ())_=v.rect.clone()}}if(D==3){if(j.v!=null)_=j.v.rect;else alert("There is no selection.")}}if(_&&_.jJ())_=null;
if(_!=null){this.sB=this.vDI(_,$.bd!=0);this.sB.oN(j,F);this.ZO(C,t.E.m,{$:t.i.hq,Y:this.id,TJ:!0})}};
G.QQ.prototype.lB=function(Q,C){var j=this.sB.F_(),Z=e.g.eI(j),F=this.v$t(Q,j),_=!1,$=this.FQ.WP,L=$.x,D=$.y,v;
if(this.id==G.Eu&&$.bd==2&&F.P()!=L*D){F=new s(F.x,F.y,L,D);_=!0}var d=e.V.xT(j,F);d=e.V.Ie(d);var o=e.V.mO(d),f=Math.atan2(d[3],d[0]);
if(Math.abs(f)>1e-9||!o||_)v=this.vDz(Q,C,d,1,Z);var U=new ro(this.name,this),H=new s(0,0,Q.W,Q.C);U.data={xL:H,fr:F,ty:v,ce:d,to:Q.R.f.clone(),Th:G.QQ.v$m(Q,F,H,!1)};
Q.Rk(U);this.rg(U.data,Q)};G.QQ.prototype.v$t=function(Q,C){var j=e.V.xT(C),Z=e.V.mO(j),F=e.V.rk(j),_=F._Y,$=F.Rf,L=Math.atan2(F._,F.om);
F.rotate(L);var D=new s(_,$,F.om,F.xP);if(!Z){function d(r,x,a){var i=r[x]-r[a],l=r[x+1]-r[a+1];return Math.sqrt(i*i+l*l)}var o=d(C,0,2),v=d(C,4,6),f=Math.max(o,v),U=d(C,2,4),H=d(C,6,0),B=Math.max(U,H),m=G.QQ.v$K(C,Q.W/2,Q.C/2),Y,q;
if(isNaN(m)||m==Infinity||m==-Infinity||Math.min(m,1/m)<.1)m=(o+v)/(U+H);if(f/B>m){Y=f*1;q=Y/m}else{q=B*1;
Y=q*m}D.W=Y;D.C=q}D.x=Math.round(D.x);D.y=Math.round(D.y);D.W=Math.round(D.W);D.C=Math.round(D.C);return D};
G.QQ.v$K=function(Q,C,j){var Z=Q[0]-C,F=Q[1]-j,_=Q[2]-C,$=Q[3]-j,L=Q[6]-C,D=Q[7]-j,d=Q[4]-C,o=Q[5]-j,v=((F-o)*L-(Z-d)*D+Z*o-F*d)/(($-o)*L-(_-d)*D+_*o-$*d),f=((F-o)*_-(Z-d)*$+Z*o-F*d)/((D-o)*_-(L-d)*$+L*o-D*d),U=-((f*D-F)*(v*$-F)+(f*L-Z)*(v*_-Z))/((f-1)*(v-1));
function H(m){return m*m}var B=Math.sqrt((H(v-1)+H(v*$-F)/U+H(v*_-Z)/U)/(H(f-1)+H(f*D-F)/U+H(f*L-Z)/U));
if(v==1&&f==1)B=Math.sqrt((H($-F)+H(_-Z))/(H(D-F)+H(L-Z)));return B};G.QQ.prototype.disable=function(Q,C,j,Z){if(Q==null)return;
if(this.sB)this.sB.clear(Q);this.sB=null;this.ZO(C,t.E.m,{$:t.i.hq,Y:this.id,TJ:!1})};G.QQ.prototype.ZO=function(Q,C,j,Z){var F=new P(C,!0);
F.data=j;if(Z)F.Y=Z;Q.Z(F)};G.vtN=function(){G.QQ.call(this,[10,2],G.Eu,"tools/rcrop")};G.vtN.prototype=new G.QQ;
G.vIp=function(){G.QQ.call(this,[10,39],G.Cv,"tools/pcrop")};G.vIp.prototype=new G.QQ;G.ZP=function(){G.WR.call(this,[10,21],G.vDD,"tools/dodge");
this.Iv="dodge"};G.ZP.prototype=new G.WR;G.ZP.prototype.yi=function(Q,C,j,Z,F){this.d$(Q,j,Z,F,this.rd.expo/Math.PI);
if(this.Ki==null)return;this.n_(Q)};G.ZP.prototype.eF=function(Q,C,j,Z,F){this.dz(Q,C,j);if(this.dw)this.sE(Q,j,F);
if(this.Ki==null)return;if(!F.gN)return;this.du(Q,j,Z,F);this.n_(Q)};G.Ze=function(){G.WR.call(this,[10,3],G.rx,"tools/eraser");
this.Iv="erase"};G.Ze.prototype=new G.WR;G.Ze.prototype.yi=function(Q,C,j,Z,F){this.d$(Q,j,Z,F,this.rd.flow);
if(this.Ki==null)return;this.n_(Q)};G.Ze.prototype.eF=function(Q,C,j,Z,F){this.dz(Q,C,j);if(this.dw)this.sE(Q,j,F);
if(this.Ki==null)return;if(!F.gN)return;var _=this.du(Q,j,Z,F);this.n_(Q)};G.Yv=function(){G.WR.call(this,[10,45],G.vOL,"tools/beraser");
this.Iv="ierase"};G.Yv.prototype=new G.WR;G.Yv.prototype.yi=function(Q,C,j,Z,F){if(this.CU(Z,C,F))return;
this.d$(Q,j,Z,F,this.rd.flow);if(this.Ki==null)return;this.n_(Q)};G.Yv.prototype.eF=function(Q,C,j,Z,F){this.dz(Q,C,j);
if(this.dw)this.sE(Q,j,F);if(this.Ki==null)return;if(!F.gN)return;this.du(Q,j,Z,F);this.n_(Q)};G._T=function(){G.jT.call(this,[10,15],G.sT,"tools/rselect");
this.tS="crosshair"};G._T.prototype=new G.jT;G._T.prototype.LC=function(Q,C,j,Z){if(!Z.gN||!this.$X)return;
var F=this.ET(Q,j,!0);Q.j.Il=e.g.iq(F);Q.uV=!0;G.xB.rX(Z.x+10,Z.y-10,F,Q,C)};G._T.prototype.CB=function(Q,C,j,Z){Q.j.Il=null;
Q.j.lw=[];Q.uV=!0;this.finish(Q,C,j,Z)};G._T.prototype.getSelection=function(Q,C,j,Z){if(this.GY.gm(this.kw)||!this.$X)return null;
var F=this.ET(Q,j,!0);if(F.jJ())return null;return G.jT.ls("Rctn",F)};G.IN=function(){G.jT.call(this,[10,4],G.vxt,"tools/eselect");
this.tS="crosshair"};G.IN.prototype=new G.jT;G.IN.prototype.LC=function(Q,C,j,Z){if(!Z.gN||!this.$X)return;
var F=this.ET(Q,j);Q.j.Il=G.IN.vpp(F);Q.uV=!0;G.xB.rX(Z.x+10,Z.y-10,F,Q,C)};G.IN.prototype.CB=function(Q,C,j,Z){Q.j.Il=null;
Q.j.lw=[];Q.uV=!0;this.finish(Q,C,j,Z)};G.IN.prototype.getSelection=function(Q,C,j,Z){if(this.GY.gm(this.kw)||!this.$X)return null;
var F=this.ET(Q,j);if(!F.nY(new s(0,0,Q.W,Q.C)))return null;return G.jT.ls("Elps",F)};G.IN.vpp=function(Q){var C=Q.x,j=Q.y,Z=Q.x+Q.W,F=Q.y+Q.C,_=(C+Z)/2,$=(j+F)/2,L=(C-Z)/2,D=(j-F)/2,d=.5522848,o={b:[_,$-D],u:["M","C","C","C","C"]};
o.b.push(_+d*L,$-D,_+L,$-d*D,_+L,$);o.b.push(_+L,$+d*D,_+d*L,$+D,_,$+D);o.b.push(_-d*L,$+D,_-L,$+d*D,_-L,$);
o.b.push(_-L,$-d*D,_-d*L,$-D,_,$-D);return o};G.dn=function(){G.xB.call(this,[10,5],G.vDj,"tools/eyedropper");
this.cA=!1;this.UF=1};G.dn.prototype=new G.xB;G.dn.prototype.pe=function(Q){return Q.gN};G.dn.prototype.yc=function(Q,C,j,Z,F){if(Q.$=="pickhere")this.lm(j,C,F,Z,Q.vBH)};
G.dn.prototype.yi=function(Q,C,j,Z,F){this.cA=!0;this.lm(Q,C,j,Z,F)};G.dn.prototype.eF=function(Q,C,j,Z,F){if(this.cA)this.lm(Q,C,j,Z,F)};
G.dn.prototype._c=function(Q,C,j,Z,F){this.cA=!1};G.dn.prototype.lm=function(Q,C,j,Z,F){var _=G.dn._u(Q,F,this.UF),$=new P(t.E.m);
$.data={$:t.i.yN,Vh:rQ.TH,zW:0,O:_};C.Z($)};G.dn._u=function(Q,C,j){var Z=Q.R.gx(C.x,C.y),F=Math.floor(Z.x),_=Math.floor(Z.y),$=(j-1)/2,L=Math.max(0,F-$),D=Math.max(0,_-$),d=Math.min(Q.W,F+$+1),o=Math.min(Q.C,_+$+1),v=(d-L)*(o-D),f=Q.ln(),U=0,H=0,B=0;
for(var F=L;F<d;F++)for(var _=D;_<o;_++){var m=4*(_*Q.W+F);U+=f[m];H+=f[m+1];B+=f[m+2]}U=Math.round(U/v);
H=Math.round(H/v);B=Math.round(B/v);return U<<16|H<<8|B};G.dn.prototype.qU=function(Q){this.UF=Q.UF};
G.Xt=function(){G.xB.call(this,[10,6],G.vOG,"tools/gradient");this.rd={q:JSON.parse(WM.Gu.vRA).v,oK:"Lnr",bz:!1,vpE:!1,vsq:"norm",_v:1};
this.nb=!1;this.hK=null};G.Xt.prototype=new G.xB;G.Xt.prototype.enable=function(Q,C,j,Z){var F=new P(t.E.m,!0);
F.data={$:t.i.ea,Js:"default"};C.Z(F)};G.Xt.prototype.qU=function(Q){this.rd=Q.Vh};G.Xt.prototype.yi=function(Q,C,j,Z,F){if(!Q.TE())return;
this.hK=Q.R.gx(F.x,F.y);this.hK=G.BG.Bu(Q,this.hK,j);this.nb=!0};G.Xt.prototype.eF=function(Q,C,j,Z,F){if(!this.nb)return;
var _=Q.R.gx(F.x,F.y);_=G.BG.Bu(Q,_,j);if(Z.r(b.WO))_=G.Xt.vv(this.hK,_);Q.j.Il={b:[this.hK.x,this.hK.y,_.x,_.y],u:["M","L"]};
Q.j.CL=[this.hK.x,this.hK.y,_.x,_.y];Q.uV=!0};G.Xt.prototype._c=function(Q,C,j,Z,F){if(!this.nb)return;
var _=Q.k[Q.H[0]],$=Q.R.gx(F.x,F.y);$=G.BG.Bu(Q,$,j);if(Z.r(b.WO))$=G.Xt.vv(this.hK,$);var L=$.qF(this.hK),D=Wn.jg(this.hK,$,.5),d=Math.atan2(L.y,L.x),o=Wn.iQ(this.hK,$),v=Math.sin(d),f=Math.cos(d);
if(o>2){var U;if(Q.v)U=Q.v.rect;else U=new s(0,0,Q.W,Q.C);var H=e.Q(U.P()*4),B=this.rd,m=B.oK;if(m!="Lnr"){o*=2;
D=this.hK}e.q.vx(B.q,H,U,[f*1/o,v*1/o,-v*1/o,f*1/o],D.x,D.y,B.bz,WM.q.types.indexOf(m),j.pd,j.JD,null,B.vpE);
var Y=Math.round(B._v*256),q=H.length;if(Y!=256)for(var r=0;r<q;r+=4)H[r+3]=H[r+3]*Y>>>8;var x=new P(t.E.a);
x.Y=G.rx;x.data={$:"fillBMP",NR:H,lG:B.vsq,vA:this.name};C.Z(x)}Q.j.Il=null;Q.j.CL=[];Q.uV=!0;this.nb=!1};
G.Xt.vv=function(Q,C){if(Q.gm(C))return Q;var j=C.x-Q.x,Z=C.y-Q.y,F=Math.abs(j),_=Math.abs(Z);if(F>_)_=F/2>_?0:F;
if(_>F)F=_/2>F?0:_;F=j>0?F:-F;_=Z>0?_:-_;var $=Math.sqrt(j*j+Z*Z)/Math.sqrt(F*F+_*_);return new Wn(Q.x+F*$,Q.y+_*$)};
G.Xt.ww=function(Q,C,j,Z,F,_,$){if($==null)$=t.e("canvas","");var L=$.getContext("2d");$.width=C;$.height=j;
var D=new s(0,0,C,j),d=e.Q(C*j*4);e.Mm(d,C,j,4,0,0);var o=Math.sin(Z),v=Math.cos(Z),f=e.Q(C*j*4);e.q.vx(Q,f,D,[v*1/C,o*1/C,-o*1/j,v*1/j],C/2,j/2,!1,0,F,_);
e.B.hW("norm",f,D,d,D,D,1);var U=L.getImageData(0,0,C,j);e.W_(d,U.data);L.putImageData(U,0,0);return $.toDataURL()};
G.Xt.v$q=function(Q,C,j){var Z=JSON.parse(JSON.stringify(Q));for(var F=0;F<Z.Clrs.v.length;F++){var _=Z.Clrs.v[F].v,$=_.Type.v.Clry;
if($=="UsrS")continue;var L=$=="FrgC"?C:j;_.Type.v.Clry="UsrS";_.Clr={t:"Objc",v:e.q.mx({h:L>>16&255,J:L>>8&255,_:L&255})}}return Z};
G.hZ=function(){G.xB.call(this,[10,7],G.Ex,"tools/hand");this.cU=new Wn(0,0);this.fO=new Wn(0,0)};G.hZ.prototype=new G.xB;
G.hZ.prototype.yc=function(Q,C,j,Z,F){var _=Q.$;if(_=="setcls"){j.R.oe=Q.oe;j.uV=!0}if(_=="scroll"&&!Z.r(b.DT)){if(Z.r(b.XE))G.hZ.Y$(j,j.R.f.x-Q.tL.y,j.R.f.y-Q.tL.x);
else G.hZ.Y$(j,j.R.f.x-Q.tL.x,j.R.f.y-Q.tL.y)}};G.hZ.prototype.enable=function(Q,C,j,Z){var F=new P(t.E.m,!0);
F.data={$:t.i.ea,Js:"grab"};C.Z(F)};G.hZ.prototype.yi=function(Q,C,j,Z,F){this.fO.wc(Q.R.f);this.cU.KL(F.x,F.y)};
G.hZ.prototype.eF=function(Q,C,j,Z,F){if(!F.gN)return;G.hZ.Y$(Q,this.fO.x+(F.x-this.cU.x),this.fO.y+(F.y-this.cU.y))};
G.hZ.Y$=function(Q,C,j){var Z=Q.R.l;if(Q.W*Z<Q.R.L.W&&Q.C*Z<Q.R.L.C)Q.R.f.KL(0,0);else{Q.R.f.x=C;Q.R.f.y=j}Q.Iy=!0};
G.lC=function(){G.MM.call(this,[10,25],G.HH,"tools/hbrush")};G.lC.prototype=new G.MM("");G.lC.prototype._c=function(Q,C,j,Z,F){if(this.Ki==null)return;
this.Nq(Q,"heal",this.Ki.WE(),this.Ki.ET(),this.Ki.mn());this.X(Q,this.Ki.mn());G.WR.prototype._c.call(this,Q,C,j,Z,F);
if(!this.rd.algnd)this.f=null};G.jX=function(){G.xB.call(this,[10,8],G.Jl,"tools/htype");this.Kr=[];
this.xa=null;this.El=null;this.caller=null;this.vEv=0;this.TP=0;this.vE$=null;this.fv=null;this.hr=null;
this.UC=null;this.Ft=null;this.Kt=null;this.vEt=null;this.tH=null;this.sB=null;this.mt=!1;this.oz=!1;
this.Ee=!1;this.UP=null;this.DU=null;this.vEL=null;this.fD=!1;this.fL=!1;this.JK=-1;this.bJ=-1;this.tz=document.createElement("textarea");
this.tz.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1;  position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; user-select:none; width:200px; height:150px;");
this.tz.addEventListener("input",this.vbw.bind(this),!1);this.tz.addEventListener("keydown",this.vWR.bind(this),!1)};
G.jX.prototype=new G.xB;G.jX.prototype.pe=function(Q){return Q.gN};G.jX.prototype.IP=function(Q,C,j,Z){if(this.hr!=null)return;
this.caller=C;this.xa=Q;var F=this.vvI(Q);if(F.length!=0){var _=null,$=[],L=[];for(var D=0;D<F.length;
D++){var d=Q.k[F[D]],o=d.add.TySh,v=0,f=rD.Dm(o.Qp).length-2,U=rD.WW(o.Qp,v,f);rD.Jy(U,G.S.xZ(o.M));
if(U.hy.Font!=null)U.hy.Font=U.UT[U.hy.Font].Name;_=U.UT;$.push(U.hy);L.push(U.Cx)}var U={UT:_,hy:rD.uY($),Cx:rD.uY(L)};
if(U.hy.Font)rD._D(U,U.hy.Font);this.vTo(C,U)}};G.jX.prototype.vvI=function(Q){var C=[];for(var j=0;
j<Q.H.length;j++)if(Q.k[Q.H[j]].add.TySh)C.push(Q.H[j]);return C};G.jX.prototype.yc=function(Q,C,j,Z,F){if(Q.$=="updateStyles"){if(this.hr==null){var _=this.vvI(j),$=!1;
if(_.length!=0){this.YW(j,C,F,_);for(var L=0;L<_.length;L++){var D=j.k[_[L]],d=D.add.TySh;this.hr=D;
var o=rD.Dm(d.Qp);this.JK=0;this.bJ=o.length-1;rD.ey(d.Qp,this.JK,this.bJ,this.le(F,d));var v=this.pT(j,F);
if(v==!1)$=!0}if($){this.fD=!0;return}this.hp(j,C)}return}this.lf(F)}if(Q.$.startsWith("warp")){var f=this.fL;
if(Q.$=="warp"||Q.$=="warpCancel"){if(Q.$=="warp")this.hr.add.TySh.dP=Q.$k;else this.hr.add.TySh.dP=this.vEt;
var j=this.xa;this.pT(j,F);if(!f)this.pu(j)}if(Q.$!="warp")this.tz.focus();if((Q.$=="warpConfirm"||Q.$=="warpCancel")&&f){this.fL=!1;
if(Q.$=="warpConfirm")this.hp(j,C);else this.QZ(j,C)}}if(Q.$=="editCurr"){if(this.hr!=null)this.disable(j,C,F,Z);
this.xa=j;this.El=F;this.caller=C;this.YW(j,C,F,[Q.b$]);var o=rD.Dm(this.hr.add.TySh.Qp);this.JK=0;this.bJ=o.length-1;
this.pu(j);this._s();this.tz.focus()}if(Q.$=="switchPntPrgr"){var D=j.k[j.H[0]],d=D.add.TySh,U=d.M.xZ(),H=JSON.parse(JSON.stringify(d.Qp)),B=rD.Va(H),m=B==1?rD.Lw(H):[0,0,Math.round(D.rect.W*1.05/U),Math.round(D.rect.C*1.25/U)],Y=rD.WW(H,0,0),q=[0,m[2],m[2]/2][Y.Cx.Justification%3],r=Y.hy.FontSize*.8;
rD.GL(H,1-B);if(B==0){q=-q;r=-r;rD.Cr(H,[0,0,m[2],m[3]])}var x=new rI(1,0,0,1,q,r);x.concat(d.M);this.yc({Kn:j.H[0],$:"newED",fR:H,M:x},C,j,Z,F)}if(Q.$=="newED"){var D=j.k[Q.Kn],d=D.add.TySh,a=this.Yr(j,[Q.Kn]);
d.Qp=Q.fR;if(Q.M)d.M=Q.M;var i=new _J(d.Qp,F.ho),l=vQ.or(i,d);D.rect=l.z;D.buffer=l.Dg;D.X();j.X();var M=new ro(this.name,this);
M.data={rO:a,fj:this.Yr(j,[Q.Kn])};j.Rk(M)}};G.jX.prototype.lf=function(Q){var C=Math.min(this.JK,this.bJ),j=Math.max(this.JK,this.bJ),Z=this.hr.add.TySh;
rD.ey(Z.Qp,C,j-1,this.le(Q,Z));var F=this.xa,_=this.pT(F,Q);if(_)this.pu(F);if(document.activeElement.tagName.toLowerCase()!="input")this.tz.focus()};
G.jX.prototype.Yy=function(Q){return this.Kr.indexOf(Q)!=-1};G.jX.prototype.enable=function(Q,C,j,Z){var F=this.tz;
if(!t.sY(F))C.w.appendChild(F);this.tH="default";this.$m(C)};G.jX.prototype.cX=function(){return this.hr!=null};
G.jX.prototype.v$J=function(Q,C){for(var j=Q.k.length-1;j>=0;j--){var Z=Q.k[j];if(Z.add.TySh&&Z.rect._p(C)&&Q.vbM(j)){var F=Z.Vk(2)||Z.Vk(31);
return F?-2:j}}return-1};G.jX.prototype.yi=function(Q,C,j,Z,F){this.xa=Q;this.El=j;this.caller=C;var _=Q.R.gx(F.x,F.y),$=this.hr==null;
if($){var L=this.v$J(Q,_);if(L==-2){alert(rT.get([6,57,0]));return}if(L>=0){if(!vQ.yO(Q.k[L].add.TySh,j.ho)){alert("Fonts not loaded yet");
return}this.YW(Q,C,j,[L])}else{this.Ee=!0;this.UP=F;return}}if(this.sB&&this.sB.yi(Q,j,Z,_)&&e.$k.CH(this.hr.add.TySh.dP)||!$&&e.g.MU(_,this.hr.rect)>20/Q.R.l&&rD.Va(this.hr.add.TySh.Qp)==0){this.mt=!0;
this.DU=_;this.vEL=this.hr.add.TySh.M.clone();if(this.JK==-1&&this.bJ==-1)this.JK=this.bJ=this.gD(_)}else{if(this.Ft==null){alert("Fonts not loaded yet");
return}this.oz=!0;this.JK=this.bJ=this.gD(_);var D=Date.now();if(D-this.vEv>300)this.TP=0;this.TP++;
this.vEv=D;if(this.TP==2)this.vWO();if(this.TP==3)this.vWt();if(this.TP>1){this.oz=!1;this._s()}}this.pu(Q)};
G.jX.prototype.YW=function(Q,C,j,Z){var F=Q.k[Z[0]];this.hr=F;this.ZO(C,t.E.m,{$:t.i.hq,Y:this.id,zR:"showactive"});
this.UC=Z;Q.H=Z.slice(0);Q.kl();Q.fG=!0;this.Kt=this.Yr(Q,Z);this.vQV(F.add.TySh);this.pT(Q,j)};G.jX.prototype.vQV=function(Q){if(rD.Va(Q.Qp)!=1)return;
var C=rD.Lw(Q.Qp);C=new s(0,0,C[2]-C[0],C[3]-C[1]);var j=[C.x,C.y,C.x+C.W,C.y,C.x+C.W,C.y+C.C,C.x,C.y+C.C];
e.g.M(j,Q.M,j);this.sB=new _V(j,!1,!1,!1,!0)};G.jX.prototype.vWO=function(){var Q=rD.Dm(this.hr.add.TySh.Qp);
this.JK=this.vRm(Q,this.JK);this.bJ=this.vDb(Q,this.JK)};G.jX.prototype.vRm=function(Q,C){var j=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",Z=[];
for(var F=0;F<j.length;F++)Z.push(j.charAt(F));var _=Z.indexOf(Q[C])==-1?!0:!1;for(var F=C-1;F>=0;F--)if(Z.indexOf(Q.charAt(F))!=-1==_)return F+1;
return 0};G.jX.prototype.vDb=function(Q,C){var j=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",Z=[];for(var F=0;
F<j.length;F++)Z.push(j.charAt(F));var _=Z.indexOf(Q[C])==-1?!0:!1;for(var F=C+1;F<Q.length;F++)if(Z.indexOf(Q.charAt(F))!=-1==_)return F;
return Q.length-1};G.jX.prototype.vWt=function(){var Q=this.Ft.vSi(this.JK);this.JK=Q[0];this.bJ=Q[1]};
G.jX.prototype.$m=function(Q){var C=new P(t.E.m,!0);C.data={$:t.i.ea,Js:this.tH};Q.Z(C)};G.jX.prototype.eF=function(Q,C,j,Z,F){var _=Q.R.gx(F.x,F.y),$=this.hr;
if(!F.gN){var L="default";if(this.sB&&e.$k.CH($.add.TySh.dP)){var D=this.sB.d_(_,Q.R.l);if(D)L=D;else if(this.sB.Qs(_))L="text"}else if($&&e.g.MU(_,$.rect)>20/Q.R.l)L="move";
else if(this.v$J(Q,_)>=0)L="text";if(L!=this.tH){this.tH=L;this.$m(C)}}if(this.Ee&&Wn.iQ(this.UP,F)>4){this.Ee=!1;
this.v$j(Q,C,j,Z,F);$=this.hr;this.mt=!0;this.sB=new _V(null,!1,!1,!1,!0);var d=Q.R.gx(this.UP.x,this.UP.y);
d.x=Math.round(d.x);d.y=Math.round(d.y);this.sB.yi(Q,j,Z,d)}if(this.mt){var o=$.add.TySh;if(this.sB){this.sB.eF(Q,j,Z,_);
var v=o.M.clone(),f=Math.atan2(v._,v.om);v.rotate(f);var U=e.V.rk(e.V.xT(this.sB.F_())),H=Math.atan2(U._,U.om);
U.rotate(H);if(!isNaN(U.om)&&U.om*U.xP-U._*U.ug!=0){var B=new s(0,0,U.om/v.om,U.xP/v.xP),m=Math.round(B.W),Y=Math.round(B.C),q=o.Qp.Curve;
if(q){var r=rD.Lw(o.Qp),x=new rI(m/r[2],0,0,Y/r[3],0,0);e.g.M(q.Points,x,q.Points);rD.Io(o)}rD.Cr(o.Qp,[0,0,m,Y]);
o.M=e.V.rk(e.V.xT(this.sB.F_(),B));this.pT(Q,j);rD.Io(o)}}else{var a=_.x-this.DU.x,i=_.y-this.DU.y;o.M=this.vEL.clone();
var l=new Wn(o.M._Y+a,o.M.Rf+i);l=G.BG.Bu(Q,l,j);o.M._Y=l.x;o.M.Rf=l.y;this.pT(Q,j)}}if(this.oz)this.bJ=this.gD(_);
if(this.mt||this.oz)this.pu(Q)};G.jX.prototype.v$j=function(Q,C,j,Z,F){var _=Q.Uh(),$=_[0],L=_[1],D=Q.qg();
D.add.lnsr="rend";var d=Q.k.slice(0);D.sp("Text layer "+d.length);this.hr=D;var o=Q.H.length==0?Q.k.length-1:Q.H[Q.H.length-1],v=o+1;
if(d[o].add.lsct==_K.gh)v--;this.Kt={cR:d.slice(0),pq:Q.H.slice(0)};d.splice(v,0,D);Q.H=[v];this.JK=this.bJ=0;
Q.Fd(d);this.Kt.ba=d.slice(0);this.Kt.aB=Q.H.slice(0);this.ZO(C,t.E.m,{$:t.i.hq,Y:this.id,zR:"showactive"});
var f=Q.R.gx(F.x,F.y);D.add.TySh=rD.dg(f.x,f.y,j.Bz);var U=D.add.TySh,H=U.Qp;if(F.gN)rD.GL(H,1);else{rD.GL(H,0);
var B=$[L.pop()],m=B?B.add.vmsk:null;if(m){m=m.clone();var Y=m.G,x,a;for(var q=0;q<Y.length;q++)if(Y[q].rh!=null)Y[q].rh=0;
var r=4*t.s()/Q.R.l;x=e.D.qx(m.G,f,!0,r);if(x.BW==-1)x=e.D.qx(m.G,f);if(x.BW!=-1){rD.GL(H,1);var i=e.D.Jj(Y,x.BW),l=e.D.jn(Y,x.BW)-1;
Y=m.G=Y.slice(0,2).concat(Y.slice(i,i+l+1));m.H=[];U.add={vmsk:m,vogk:S.WU(Y)};H.Curve={};rD.jI(U);if(x.uq!=null){var M=_J.PA(H.Curve);
e.g.M(M[0],U.M,M[0]);var z=e.g.y$(M[0],f.x,f.y),V=j.Bz.Cx.Justification;if(V==2||V==5){var X=(M[2][z]+M[3]*.5)%M[3];
z=_J.Ju(X,M[2])}var O=M[1][z];O=O%l;m.yV=[O,O];rD.jI(U)}else this.vQV(U)}}}return D};G.jX.prototype._c=function(Q,C,j,Z,F){var _=Q.R.gx(F.x,F.y),$=this.Ee;
if(this.Ee){this.Ee=!1;this.v$j(Q,C,j,Z,F);this.oz=!0}if(this.mt||this.oz){this.pu(Q);this._s();if($)this.lf(j)}if(this.mt&&this.sB)this.sB._c(Q,j,Z,_);
this.mt=this.oz=!1;this.tz.focus()};G.jX.prototype._s=function(){var Q=this.hr.add.TySh,C=Math.min(this.JK,this.bJ),j=Math.max(this.JK,this.bJ),Z,F;
if(C==j){var _=rD.Dm(Q.Qp);if(C==0||_.charAt(C-1)=="\n")Z=F=C;else Z=F=C-1}else{Z=C;F=j-1}var $=rD.WW(Q.Qp,Z,F);
rD.Jy($,G.S.xZ(Q.M));this.vTo(this.caller,$)};G.jX.prototype.vTo=function(Q,C){this.ZO(Q,t.E.m,{$:t.i.yN,Vh:rQ.tq,Bz:C})};
G.jX.prototype.ZZ=function(Q,C,j,Z){if(Z.r(b.Fj))this.QZ(Q,C)};G.jX.prototype.disable=function(Q,C,j,Z){var F=this.hr;
this.hp(Q,C)};G.jX.prototype.qU=function(Q,C,j,Z,F){if(this.fL)return;if(Q.zR=="commit")this.hp(j,C);
if(Q.zR=="cancel")this.QZ(j,C);if(Q.zR=="showwarp"){if(j==null)return;if(this.hr==null){var _=j.k[j.H[0]],$=_.add.TySh;
if($==null)return;this.YW(j,C,F,[j.H[0]]);this.tz.focus();this.fL=!0}this.vEt=this.hr.add.TySh.dP;var L=new P(t.E.m,!0);
L.data={$:t.i.kN,ul:"textwarp"};C.Z(L)}};G.jX.prototype.VD=function(Q,C){if(C!=rQ.vR)return;if(this.fD){this.fD=!1;
var j=this.xa,Z=this.UC;for(var F=0;F<Z.length;F++){this.hr=j.k[Z[F]];this.pT(j,Q)}this.hp(j,this.caller);
return}if(this.hr)this.lf(Q)};G.jX.prototype.le=function(Q,C){var j=JSON.parse(JSON.stringify(Q.Bz));
rD.Jy(j,1/G.S.xZ(C.M));return j};G.jX.prototype.rg=function(Q,C){if(Q.rO!=null)this.lH(C,Q.fj);else this.vvg(C,Q.ba,Q.aB)};
G.jX.prototype.ZH=function(Q,C){if(Q.rO!=null)this.lH(C,Q.rO);else this.vvg(C,Q.cR,Q.pq)};G.jX.prototype.lH=function(Q,C){for(var j=0;
j<C.length;j++){var Z=C[j],F=Z.Kn,_=Q.k[F];_.buffer=Z.xu;_.rect=Z.z.clone();_.X();var $=_.add.TySh;$.dP=Z.$k;
$.Vo=Z.Vo.clone();$.M=Z.M.clone();$.Qp=JSON.parse(JSON.stringify(Z.Qp));_.ux()}Q.X()};G.jX.prototype.Yr=function(Q,C){var j=[];
for(var Z=0;Z<C.length;Z++){var F=C[Z],_=Q.k[F],$=_.add.TySh;j.push({Kn:F,M:$.M.clone(),$k:JSON.parse(JSON.stringify($.dP)),Vo:$.Vo.clone(),Qp:JSON.parse(JSON.stringify($.Qp)),xu:e.clone(_.buffer),z:_.rect.clone()})}return j};
G.jX.prototype.vvg=function(Q,C,j){Q.H=j;Q.Fd(C);Q.X()};G.jX.prototype.pT=function(Q,C,j){if(j==null)j=!1;
var Z=this.hr.add.TySh;if(!vQ.yO(Z,C.ho))return!1;this.Ft=new _J(Z.Qp,C.ho);if(!j){var F=rD.Dm(Z.Qp);
this.tz.value=F.slice(0,F.length-1)}var _=vQ.or(this.Ft,Z);if(e.$k.CH(Z.dP))Z.Vo=new s;else{if(rD.Va(Z.Qp)==1){var $=rD.Lw(Z.Qp),L=_.Vo.y;
Z.Vo=new s(0,L,$[2]-$[0],$[3]-$[1]-L)}else{Z.Vo=_.Vo}}var D=this.hr.rect;this.hr.rect=_.z;this.hr.buffer=_.Dg;
this.hr.X();Q.Ed();Q.X(Q.root.uw(_.z.fJ(D),Q,Q.k.indexOf(this.hr)));return!0};G.jX.prototype.vbw=function(Q){if(this.hr==null||this.fL)return;
var C=this.tz.selectionStart,j=this.hr.add.TySh,Z=rD.Dm(j.Qp),F=this.tz.value+"\n",_=Math.min(this.JK,this.bJ),$=Math.max(this.JK,this.bJ),v=!1;
this.JK=Math.min(C,_);if(F.length-C<Z.length-this.bJ)this.bJ=Z.length-F.length+C;if(Z!=F){while(this.JK>0&&Z.charAt(this.JK-1)!=F.charAt(this.JK-1))this.JK--}var L=Z.substring(0,this.JK),D=Z.substring(this.bJ,Z.length),d=F.substring(this.JK,F.length-D.length);
rD.JE(j.Qp,this.JK,this.bJ);rD.Gt(j.Qp,this.JK,d);var o=this.le(this.El,j),f=-1;for(var U=0;U<d.length;
U++)f=Math.max(f,d.charCodeAt(U));if(f!=-1&&f>128&&o.hy.Font!=null){var H=o.UT[o.hy.Font].Name,B=this.El.ho.Af(f,H,o.UT);
if(H!=B){rD._D(o,B);v=!0}}if(this.fv!=null&&d==this.fv){var m=JSON.parse(this.vE$);o.hy=m.hy;o.UT=m.UT;
v=!0}rD.ey(j.Qp,this.JK,this.JK+d.length-1,o);this.JK=this.bJ=L.length+d.length;var Y=this.xa,q=this.pT(Y,this.El,!0);
if(q)this.pu(Y,!0);if(v)this._s()};G.jX.prototype.vWR=function(Q){if(this.hr==null||this.fL)return;if(this.hr==null)return;
var C=b,j=0,Z=0,Y=!1;if(C.BM(Q.code,C.vRu))j=1;if(C.BM(Q.code,C.vK_))j=-1;if(C.BM(Q.code,C.bo))Z=-1;
if(C.BM(Q.code,C.bP))Z=1;var F=Q.ctrlKey||Q.metaKey,_=C.BM(Q.code,b.vtL),$=C.BM(Q.code,b.vtG);if(C.BM(Q.code,b.bA)&&F){this.hp(this.xa,this.caller);
return}if(C.BM(Q.code,b.ft)){Q.preventDefault();var L=this.tz,D=L.value,d=L.selectionStart,o=L.selectionEnd;
L.value=D.substring(0,d)+"\t"+D.substring(o);L.selectionStart=L.selectionEnd=d+1;this.vbw(null);return}if((C.BM(Q.code,C.dm)||C.BM(Q.code,C.fu))&&F){var v=this.JK,f=this.bJ;
if(v>f){var U=v;v=f;f=U}var H=this.hr.add.TySh,B=rD.Dm(H.Qp);if(v!=f){this.fv=B.slice(v,f);this.vE$=JSON.stringify(this.El.Bz)}}var m=rD.Dm(this.hr.add.TySh.Qp);
if(j!=0||Z!=0||_||$){Q.preventDefault();var q=this.JK;if(j!=0){if(F&&j==-1)q=this.vRm(m,this.JK-1);else if(F&&j==1)q=this.vDb(m,this.JK);
else q=this.JK+j}else if(Z!=0){var r=this.Ft.PU(this.JK);if(Z==-1&&r.Ue==0)q=0;else if(Z==1&&r.Ue==this.Ft.vVb()-1)q=99999999999;
else q=this.Ft.vzG(new Wn(r.z.x+r.z.W/2,0),r.Ue+Z)}else if(_){var x=this.JK-1;while(x>0&&m.charCodeAt(x)!=10)x--;
q=x==0?0:x+1}else if($){var x=this.JK;while(x<m.length-1&&m.charCodeAt(x)!=10)x++;q=x}q=Math.max(0,Math.min(m.length-1,q));
if(Q.shiftKey)this.JK=q;else this.JK=this.bJ=q;Y=!0}if(C.BM(Q.code,b.i)&&F){this.JK=0;this.bJ=m.length-1;
Y=!0}if(Y){this._s();this.pu(this.xa)}};G.jX.vWj=function(Q,C){var j=Q.length;if(j!=C.length)return!1;
for(var Z=0;Z<j;Z++)if(Q[Z].Kn!=C[Z].Kn)return!1;return!0};G.jX.prototype.hp=function(Q,C){if(this.hr==null)return;
this.hr.ux();var j=this.Kt;if(j instanceof Array){var Z=this.Yr(Q,this.UC),F=Q.qT();if(F!=null&&F.Y==this&&F.data.rO&&G.jX.vWj(F.data.rO,j))F.data.fj=Z;
else{var _=new ro(this.name,this);_.data={rO:j,fj:Z};Q.Rk(_)}}else{var _=new ro(this.name,this);_.data={cR:j.cR,ba:j.ba,pq:j.pq,aB:j.aB};
Q.Rk(_)}this.escape(Q,C)};G.jX.prototype.QZ=function(Q,C){if(this.hr==null)return;if(this.Kt instanceof Array){this.lH(Q,this.Kt);
if(this.hr)rD.Io(this.hr.add.TySh)}else{Q.H=this.Kt.pq;Q.Fd(this.Kt.cR)}Q.X();this.escape(Q,C)};G.jX.prototype.escape=function(Q,C){this.hr=null;
this.UC=null;this.Ft=null;this.sB=null;this.tz.blur();Q.j.Il=null;Q.j.RW=null;Q.j.CL=[];Q.uV=!0;this.mt=!1;
this.oz=!1;this.JK=this.bJ=-1;this.ZO(C,t.E.m,{$:t.i.hq,Y:this.id,zR:"hideactive"})};G.jX.prototype.ZO=function(Q,C,j,Z){var F=new P(C,!0);
F.data=j;if(Z)F.Y=Z;Q.Z(F)};G.jX.prototype.gD=function(Q){var C=this.hr.add.TySh,j=this.Ft,Z=C.M.clone();
Z.Ie();var F=Z.IV(Q),_=rD.ET(C,j),$=e.$k.ah(C.dP,_),L=e.tl.n.MO($,0,1,0,1),D=new Uint32Array(30),d=e.tl.n.vVX(L.lW,L.Nl,F.x,F.y,D),o=e.tl.qx($,F.x,F.y,L.lW,D,d,!1),v=e.tl.Bw;
if(v==null)v=new Float64Array(2);F=new Wn(_.x+v[0]*_.W,_.y+v[1]*_.C);var f=j.vzG(F);return f};G.jX.prototype.pu=function(Q,C){if(C==null)C=!1;
var j=this.hr.add.TySh,Z=rD.Va(j.Qp),F=this.Ft,_=F?rD.ET(j,F):null;Q.j.CL=[];Q.j.Il=null;Q.j.RW=null;
if(this.sB){this.sB.oN(Q,this.El,!e.$k.CH(j.dP));var $=j.M.clone();$.Ie();e.g.M(Q.j.CL,$,Q.j.CL);e.g.M(Q.j.Il.b,$,Q.j.Il.b);
if(F&&F.vgM()){var L=_.W-20,D=_.C+8;Q.j.Il.b.push(L,D,L+10,D,L+5,D-5,L+5,D+5);Q.j.Il.u.push("M","L","M","L")}}else if(Z==0)this.vWz(Q,j,F);
else Q.j.Il={b:[],u:[]};var d=Math.min(this.JK,this.bJ),o=Math.max(this.JK,this.bJ);if(!C){this.tz.selectionStart=d;
this.tz.selectionEnd=o}if(F!=null){var v=function(a,i){var l=a.x,M=a.y+a.C,z=new rI;z.translate(-l,-M);
z.rotate(-i);z.translate(l,M);a.y+=a.C*.27;var q=e.g.iq(a);e.g.M(q.b,z,q.b);return q};if(d==o){d=Math.max(d,0);
var f=F.PU(d);if(f){var U=f.z,H=this.El.Bz.hy.FontSize;if(H!=null&&H!=0){U.y+=U.C-H;U.C=H}var B=F.vSW(d);
if(B!=null&&B.Rb==1)U.x+=U.W;var m=v(U,f.bI).b;Q.j.Il.u.push("M","L");Q.j.Il.b.push(m[0],m[1],m[6],m[7])}}else{Q.j.RW={b:[],u:[]};
for(var Y=d;Y<o;Y++){var f=F.PU(Y),q=v(f.z,f.bI);e.g.concat(Q.j.RW,q)}}}if(F!=null){if(!_.jJ()){var r=e.$k.ah(j.dP,_),x=Math.min(_.W,_.C)/10;
if(Q.j.Il){Q.j.Il=e.g.Dv(Q.j.Il);Q.j.Il=e.g.D$(Q.j.Il,x);e.tl.apply(r,Q.j.Il.b,_)}if(Q.j.RW){Q.j.RW=e.g.Dv(Q.j.RW);
Q.j.RW=e.g.D$(Q.j.RW,x);e.tl.apply(r,Q.j.RW.b,_)}e.tl.apply(r,Q.j.CL,_)}}if(Q.j.Il)e.g.M(Q.j.Il.b,j.M,Q.j.Il.b);
if(Q.j.RW)e.g.M(Q.j.RW.b,j.M,Q.j.RW.b);e.g.M(Q.j.CL,j.M,Q.j.CL);Q.uV=!0};G.jX.prototype.vWz=function(Q,C,j){if(j==null)return;
Q.j.CL.push(0,0);if(Q.j.Il==null)Q.j.Il={u:[],b:[]};for(var Z=0;Z<j.Cx.length;Z++){var F=j.Cx[Z];for(var _=0;
_<F.JZ.length;_++){var $=F.JZ[_],L=F.Bi.x+$.Bi.x+$.z.x,D=F.Bi.y+$.Bi.y+$.z.y+$.z.C;Q.j.Il.u.push("M","L");
Q.j.Il.b.push(L,D,L+$.z.W,D)}}Q.uV=!0};G.Je=function(){G.jT.call(this,[10,9],G.vQw,"tools/lasso");this.tS="crosshair";
this.qK=null;this.br=null;this.DU=null};G.Je.prototype=new G.jT;G.Je.prototype.GF=function(Q,C,j,Z){this.qK=this.GY;
this.br={b:[this.qK.x,this.qK.y],u:["M"]}};G.Je.prototype.LC=function(Q,C,j,Z){this.DU=Z;var F=this.br;
if(F==null)return;if(!Z.gN){if(this.br!=null&&this.FO>1&&j.r(b.DT)){F.b.pop();F.b.pop();F.b.push(this.kw.x,this.kw.y);
Q.j.Il=F;Q.uV=!0}return}F.u.push("L");F.b.push(this.kw.x,this.kw.y);this.qK=this.kw;if(this.$X){Q.j.Il=F;
Q.uV=!0}};G.Je.prototype.cX=function(){return this.br!=null};G.Je.prototype.ld=function(){return this.br!=null};
G.Je.prototype.ZZ=function(Q,C,j,Z){G.jT.prototype.ZZ.call(this,Q,C,j,Z);if(this.br&&this.FO>1&&this.DU&&!this.DU.gN&&!Z.r(b.DT))this.v$v(Q,j,Z)};
G.Je.prototype.CB=function(Q,C,j,Z){this.DU=Z;var F=this.br;if(F==null)return;if(this.FO>1&&j.r(b.DT)){F.u.push("L");
F.b.push(this.kw.x,this.kw.y);return}this.v$v(Q,C,j)};G.Je.prototype.v$v=function(Q,C,j){this.finish(Q,C,j,this.DU);
this.br=null;Q.j.Il=null;Q.uV=!0};G.Je.prototype.getSelection=function(Q,C,j,Z){if(this.GY.gm(this.kw)||!this.$X)return null;
return G.jT._R(this.br.b)};G.BG=function(){G.xB.call(this,[10,11],G.hj,"tools/move");this.TN=new Wn(0,0);
this.TM=new Wn(0,0);this.hB=null;this.gg=null;this.zK=new Wn(0,0);this.hP=null;this.VO=null;this.pr=null;
this.Li=null;this.$K=[];this.Fq=null;this.nb=!1;this.$=0;this.fz=null;this.RV=null;this.uO=null;this.UN=!1;
this.rd={h_:!1,hi:!1,as:!1};this.sB=null;this.Bn=null;this.vdW=null;var Q=[];for(var C=0;C<e.oD.D_.length;
C++)Q.push({name:e.oD.D_[C],F:function(j,Z,F){return{H$:Z.ZD.xc==F}}});this.HD=new QG(Q);this.HD.p("select",this.gb,this)};
G.BG.prototype=new G.xB;G.xB.prototype.pe=function(Q){return this.nb&&this.$!=2};G.BG.prototype.vDE=function(){return this.nb&&this.$==0};
G.BG.prototype.vKR=function(Q,C,j,Z){this._E(Q,-this.zK.x,-this.zK.y);this.zK.KL(0,0);this._h(Q,null,j);
this.VK(Q)};G.BG.prototype.LU=function(){var Q=this.rd;return[Q.h_?1:0,Q.hi?1:0,Q.as?1:0]};G.BG.prototype.vvY=function(Q,C,j){var Z=this.rd;
if(Q&&Q[0]!=null)Z.h_=Q[0]==1;if(Q&&Q[1]!=null)Z.hi=Q[1]==1;if(Q&&Q[2]!=null)Z.as=Q[2]==1;var F=new P(t.E.m,!0);
F.data={$:t.i.hq,Y:this.id,mK:Z,vmv:C};j.Z(F)};G.BG.vvv=function(Q,C,j,Z,F,_,$){if($==null)$=[!1,!0];
var L=new s(0,0,Q.W,Q.C),D=Q.oW(null,F,!0),d=Q.vvT(D,$[0]?L:null,$[1]?null:L)[0];if(j!=1){var o=new s(0,0,Math.round(d.W*j),Math.round(d.C*j));
G.QQ._g(d,o);var v=[];for(var f=0;f<d.k.length;f++)v.push(f);var U=G.S.QT(d,v,!0);G.S.VE(d,Z,v,U,1,e.V.ij(new rI(j,0,0,j,0,0)),null,!0);
d.GV()}var H=[];for(var f=0;f<C.length;f++)H.push(vX.TZ(d,C[f].toUpperCase(),null,null,_?_[f]:null,Z));
return H};G.BG.prototype.vkw=function(Q,C,j,Z,F){if(Q==null||Q.H.length==0)return;var _=G.BG.vvv(Q,[C],j,Z,null)[0],$=new P(t.E.m,!0);
$.data={$:t.i.zb,data:_,name:Q.k[Q.H[0]].getName()+"."+C};F.Z($)};G.BG.prototype.qU=function(Q,C,j,Z,F){if(Q.zW=="getPNG"){this.vkw(j,"png",Q.vdJ,F,C)}else if(Q.zW=="getSVG"){this.vkw(j,"svg",Q.vdJ,F,C)}if(Q.zW=="prms"){this.rd=Q;
this.VK(j)}};G.BG.vWi=function(Q){var C=Q.length,Z=0;Q.sort(function(L,D){return L[0]+L[1]/2-(D[0]+D[1]/2)});
var j=Q[C-1][0]+Q[C-1][1]-Q[0][0];for(var F=0;F<C;F++)Z+=Q[F][1];var _=Math.round((j-Z)/(C-1)),$=Q[0][0];
for(var F=0;F<C;F++){Q[F][0]=$;$+=Q[F][1]+_}};G.BG.prototype.yc=function(Q,C,j,Z,F){var _=Q.$;if(_=="trsl"){var $=Math.round(Q.vXr),L=Math.round(Q.vXh);
this.zK.KL($,L);this.YQ(j,C,Z,F,!1,Q.c);this._E(j,$,L);this._h(j,null,F)}else if(_=="gids"||_=="gidsFromLayer"){var D=Q.RV,d,o;
if(D==null)D=JSON.parse(JSON.stringify(j.Wi));if(_=="gids"){d=Q.CP;var v=D[0].length+D[1].length,f=d[0].length+d[1].length;
o=v==f?[23,2]:v>f?[23,3]:[23,4];if(f==0)o=[11,15,0]}else if(_=="gidsFromLayer"){var U=[[],[]];for(var H=0;
H<j.H.length;H++){var B=j.k[j.H[H]].rect;if(B.jJ())continue;U[0].push(B.x,B.x+B.W);U[1].push(B.y,B.y+B.C)}o=[11,15,1];
d=JSON.parse(JSON.stringify(j.Wi));G.BG.gr(d,U)}if(JSON.stringify(D)==JSON.stringify(d))return;var _=new ro(o,this);
_.data={$:2,RV:D,CP:d};j.Rk(_);this.rg(_.data,j)}else if(_=="algn"){var m=Q.O;if(j==null)return;if(j.H.length<2&&!(j.v!=null&&m!=3&&m!=7)){alert(rT.get([15,7,5]));
return}var Y=j.v;j.v=null;var B=Y?Y.rect:G.S.ET(j);this.YQ(j,C,Z,F,!1);if(!this.nb)return;var q=this.Li,r={},x=[],a=[],i=[];
for(var H=0;H<q.length;H++){var l=q[H];while(j.k[l].getName()=="</Layer group>")l++;var M=j.root.Gl(l),z=M;
while(M.parent!=null){M=M.parent;if(q.indexOf(M.index)!=-1)z=M}var V=a.indexOf(z.index);if(V==-1){V=a.length;
a.push(z.index)}x[H]=V}var X=[],O=[],y=[];for(var H=0;H<a.length;H++){var K=G.S.ET(j,j.oW(!0,a[H]));
y.push(K);var R=m==3?[K.y,K.C]:[K.x,K.W];X[H]=R;O.push(R)}G.BG.vWi(O);for(var H=0;H<a.length;H++){var K=y[H],W=K.x,N=K.y;
if(m==0)W=B.x;if(m==1)W=B.x+(B.W-K.W)/2;if(m==2)W=B.x+(B.W-K.W);if(m==3)N=X[H][0];if(m==4)N=B.y;if(m==5)N=B.y+(B.C-K.C)/2;
if(m==6)N=B.y+(B.C-K.C);if(m==7)W=X[H][0];i.push(Math.round(W-K.x),Math.round(N-K.y))}var I=[];for(var H=0;
H<q.length;H++){var T=x[H];I[2*H]=i[2*T];I[2*H+1]=i[2*T+1]}this._E(j,0,0,null,I);var h=m==3||m==7?[20,4,6]:[20,4,m<3?m:m-1];
this._h(j,null,F,I,h);j.v=Y}};G.BG.gr=function(Q,C){for(var j=0;j<C.length;j++)for(var Z=0;Z<C[j].length;
Z++)if(Q[j].indexOf(C[j][Z])==-1)Q[j].push(C[j][Z])};G.BG.prototype.enable=function(Q,C,j,Z,F){this.VO=j;
this.pr=C;this.UN=F?!0:!1;this.VK(Q);this.$m("default",C)};G.BG.prototype.disable=function(Q,C,j,Z){this.v$$(Q)};
G.BG.prototype.v$$=function(Q){if(Q==null)return;if(this.sB){this.sB.clear(Q);this.sB=null}if(Q.j.as){Q.j.as=null;
Q.uV=!0}if(Q.j.Vt){Q.j.Vt=null;Q.uV=!0}if(Q.j.hh[this.id]){delete Q.j.hh[this.id];Q.uV=!0}if(Q.j.lw.length!=0){Q.j.lw=[];
Q.uV=!0}};G.BG.prototype.IP=function(Q,C,j,Z){if(j.JT!=this.id)return;this.VK(Q)};G.BG.prototype.VK=function(Q,C){if(Q==null)return;
var j=this.rd;this.v$$(Q);if(!this.UN){var Z;if(j.hi||j.as)Z=e.g.fx(G.S.ET(Q));if(j.hi&&!Z.jJ()){this.sB=new _V([Z.x,Z.y,Z.x+Z.W,Z.y,Z.x+Z.W,Z.y+Z.C,Z.x,Z.y+Z.C],!0);
this.sB.oN(Q,this.VO)}if(j.as){var F=Q.vRb(Q.H[0]),o=null,v=!1;if(F==null)F=new s(0,0,Q.W,Q.C);Q.j.as={Ut:[Z],Ui:[]};
var _=Q.j.as.Ui,$=Z.x+Z.W,L=Z.y+Z.C,D=Z.x+Math.floor(Z.W/2),d=Z.y+Math.floor(Z.C/2);if(C){var f=Q.root.qx(new Wn(Math.floor(C.x),Math.floor(C.y)));
if(f){o=e.g.fx(f.c.sv(Q));if(o.nY(Z)){v=(o.yt(Z)||Z.yt(o))&&!Z.gm(o);if(!v)o=null}}}this.vDR(Z,_);if(o!=null){Q.j.as.Ut.push(o);
var U=o.x+o.W,H=o.y+o.C,B=o.x+Math.floor(o.W/2),m=o.y+Math.floor(o.C/2);if(v){var Y=D,q=d;if(Z.yt(o)){Y=B;
q=m}_.push(Z.x,q,o.x,q);_.push($,q,U,q);_.push(Y,Z.y,Y,o.y);_.push(Y,L,Y,H)}else{this.vDR(o,_);var r=L<o.y||H<Z.y,x=$<o.x||U<Z.x;
if($<o.x)_.push($,d,o.x,d);if(U<Z.x)_.push(U,d,Z.x,d);if(L<o.y)_.push(D,L,D,o.y);if(H<Z.y)_.push(D,H,D,Z.y);
if(r&&!x){if(Z.x<o.x)_.push(Z.x,m,o.x,m);if(o.x<Z.x)_.push(o.x,d,Z.x,d)}}}else{if(Z.y>F.y)_.push(D,F.y,D,Z.y);
if(L<F.y+F.C)_.push(D,L,D,F.y+F.C);if(Z.x>F.x)_.push(F.x,d,Z.x,d);if($<F.x+F.W)_.push($,d,F.x+F.W,d)}Q.uV=!0}}if(this.$==2&&this.nb){var a=this.Li,i=a[0],l=(i==0?"X":"Y")+": "+e.oD.ef(Q.Wi[i][a[1]],Q.zn,this.VO,i==0?Q.W:Q.C,!0);
G.xB.vDs(Math.round(this.hB.x)+10,Math.round(this.hB.y)-10,[l],Q);Q.uV=!0}if(this.$==3&&this.nb){var M=e.g.iq(this.fz);
Q.j.hh[this.id]={Il:M};Q.uV=!0}};G.BG.prototype.vDR=function(Q,C){var j=Q.W,Z=Q.C,F=Q.x+Math.floor(j*.2),_=Q.y+Math.floor(Z*.2);
C.push(F,Q.y,F,Q.y+Z);C.push(Q.x,_,Q.x+j,_)};G.BG.prototype.$m=function(Q,C){var j={$:t.i.ea,Js:Q},Z=new P(t.E.m,!0);
Z.data=j;C.Z(Z)};G.BG.prototype.oE=function(Q){var C=this.Bn.X_()[0],j=this.hP,Z=this.vdW[C];this.vdh(j,Z)};
G.BG.prototype.gb=function(Q){var C=JSON.parse(JSON.stringify(this.VO.ZD));C.xc=this.HD.X_()[0];var j=new P(t.E.m,!0);
j.data={$:t.i.yN,Vh:rQ.tC,GE:C};this.pr.Z(j)};G.BG.prototype.MJ=function(Q,C,j,Z,F){if(this.nb)this._c(Q,C,j,Z,F);
this.hP=Q;this.VO=j;this.pr=C;var _=Q.R.gx(F.x,F.y),$;if(G.BG.gj(j,F)){$=this.HD}else{if(this.Bn)this.Bn.removeEventListener("select",this.oE);
var L=[];Q.root.qx(_,L);if(L.length==0)return;var D=[];this.vdW=L;for(var d=0;d<L.length;d++)D.push({name:Q.k[L[d]].getName()});
$=this.Bn=new QG(D);$.p("select",this.oE,this)}$.parent=C;$.N();$.update(Q,j);var o=new P(t.E.m,!0);
o.data={$:t.i.Ko,kU:$,x:F.wh+2,y:F.BY+1};C.Z(o)};G.BG.prototype.vvE=function(Q,C,j,Z,F){return G.BG.gj(j,F)};
G.BG.prototype.yi=function(Q,C,j,Z,F){this.hB=F;this.TN.KL(F.x,F.y);this.TM=Q.R.gx(F.x,F.y);this.gg=new bH(this.TM);
this.YQ(Q,C,Z,j,!0)};G.BG.gj=function(Q,C){return Q.XZ&&(0<C.x&&C.x<e.oD.h$||0<C.y&&C.y<e.oD.h$)};G.BG.prototype.YQ=function(Q,C,j,Z,F,_){var $,L=this.TM,D=!1;
if(F){var d=Z.ag&&Z.ZD.Wi;if(G.BG.gj(Z,this.TN)){$=JSON.parse(JSON.stringify(Q.Wi));if(this.TN.x<e.oD.h$)Q.Wi[0].push(L.x);
if(this.TN.y<e.oD.h$)Q.Wi[1].push(L.y);if(!d){var o=new P(t.E.m);if(!Z.ZD.Wi){o.data={$:t.i.yN,Vh:rQ.tY};
C.Z(o)}if(!Z.ag){o.data={$:t.i.yN,Vh:rQ.vq};C.Z(o)}d=!0}}var v=this.vQb(Q,L);if(d&&v){this.$=2;this.RV=$?$:JSON.parse(JSON.stringify(Q.Wi));
this.Li=v;this.nb=!0;this.Fq=G.S.ET(Q);return}if(Q.CG.length!=0){this.$=4;this.Fq=Q.$W[Q.CG[0]].rect.clone();
this.nb=!0;return}if(this.sB&&this.sB.d_(L,Q.R.l,!0)!=null){var o=new P(t.E.m);o.data={$:t.i.TX,Y:G.sI};
C.Z(o);var f=new P(t.E.a);f.Y=G.sI;f.data={$:"doMouseDown",hB:this.TN};C.Z(f);return}if(Q.v&&Q.v.rect._p(L)){var U=Math.round(L.x),H=Math.round(L.y),B=Q.v.rect;
D=Q.v.channel[(H-B.y)*B.W+U-B.x]>128}if(!D&&(!this.UN&&(j.r(b.XE)||this.rd.h_)||this.UN&&this.rd.h_&&(j.r(b.WO)||Q.H.length<2))){var m=this.vWl(Q,L,j);
if(!m){Q.H=[];Q.Vb=null;Q.IJ=Q.n$=!0;this.$=3;this.fz=new s;this.nb=!0;return}}if(j.r(b.DT)&&!D){var f=new P(t.E.a);
f.Y=G.tP;f.data={$:S.sN,vmt:!0};C.Z(f)}}if(Q.CG.length!=0){this.$=4;this.Fq=Q.$W[Q.CG[0]].rect.clone();
this.nb=!0;return}this.Li=Q.oW(_==null,_,null,!0);for(var Y=0;Y<this.Li.length;Y++){var q=Q.k[this.Li[Y]];
if(q.Vk(2)||q.Vk(31)){alert(rT.get([6,57,0]));return}}this.$K=G.BG.vWV(Q,this.Li);this.$=0;if(Q.v&&(!F||D)&&Q.H.length==1&&Q.TE(!1)){if(!Q.vjy()){this.nb=!1;
return}var r=Q.k[Q.H[0]],x=j.r(b.DT);this.$=1;var a=Q.history[Q.V_];if(a.Y==this&&a.data.$==1&&a.data.c==Q.H[0]&&r.IF==r.uj.IF&&!x){this.uO=a}else{var i=r.uj,l=!1,M;
if(!r.hg(Q,Q.v)||x){l=!0;r.um(Q,Q.v,x)}if(r.uj.IF<=0){M=e.Q(r.uj.Zm.length>>2);e.yq(r.uj.Zm,M,3)}else M=e.clone(Q.v.channel);
var z={rect:r.uj.Cj.clone(),channel:M};this.uO=new ro(x?[12,53]:[12,54],this);this.uO.data={$:1,c:Q.H[0],uj:r.uj,by:i,Fk:l,pq:Q.v,aB:z,xP:new Wn(0,0)};
Q.Rk(this.uO);Q.v=z;Q.DH=!0}}this.nb=!0;this.Fq=G.S.ET(Q)};G.BG.prototype.vWl=function(Q,C,j){var Z=Q.root.qx(new Wn(Math.floor(C.x),Math.floor(C.y)));
if(Z){if(Z.c.add.vmsk)Q.uV=!0;var F=Q.k.indexOf(Z.c);if(j.r(b.WO)){var _=Q.H.indexOf(F);if(_==-1)Q.H.push(F);
else if(Q.H.length>1)Q.H.splice(_,1)}else if(Q.H.indexOf(F)==-1){this.vdh(Q,F)}}return Z!=null};G.BG.prototype.vdh=function(Q,C){Q.k[C].IF=0;
Q.H=[C];Q.Vb=null;Q.kl();Q.fG=!0;Q.IJ=!0};G.BG.prototype.eF=function(Q,C,j,Z,F){this.hB=F;var _=Q.R.gx(F.x,F.y),f,U;
if(this.gg&&this.$<2)_=this.gg.PL(_,Z);if(!this.nb){if(j.ag&&j.ZD.Wi){var $=this.vQb(Q,_),L="default";
if($)L=["col-resize","row-resize"][$[0]];else if(this.sB){var D=this.sB.d_(_,Q.R.l);if(D)L=D}this.$m(L,C)}this.VK(Q,_);
return}var d=this.TM,o=Math.round(_.x-d.x)-this.zK.x,v=Math.round(_.y-d.y)-this.zK.y;if(this.Fq){if(this.$==2){_=G.BG.Bu(Q,_,j,[!1,Q.v?Q.v.rect:this.Fq,!0])}else{U=this.Fq.clone();
U.offset(this.zK.x+o,this.zK.y+v);f=G.BG.EP(Q,U,j);o+=Math.round(f[0]);v+=Math.round(f[1])}}this.zK.x+=o;
this.zK.y+=v;this._E(Q,o,v,_,null,Z.r(b.WO));this.VK(Q,_);if(f)G.BG.EL(Q,U,f)};G.BG.prototype.vQb=function(Q,C){C=[C.x,C.y];
for(var j=0;j<2;j++)for(var Z=0;Z<Q.Wi[j].length;Z++)if(Math.abs(Q.Wi[j][Z]-C[j])*Q.R.l<4)return[j,Z];
return null};G.BG.prototype._E=function(Q,C,j,Z,F,_){if(this.$==0){if(F)G.BG.Yt(Q,this.Li,this.$K,F);
else G.BG.gS(Q,this.Li,this.$K,C,j)}else if(this.$==1){var $=this.uO.data;$.xP.offset(C,j);G.BG._d(Q,$.c,C,j)}else if(this.$==2){var L=1e-5;
if(_)L=Q.R.l<=1?10:1;else if(Q.R.l<=1)L=1;var D=L*Math.round(Z.x/L),d=L*Math.round(Z.y/L),o=[D,d],v=this.Li;
Q.Wi[v[0]][v[1]]=o[v[0]]}else if(this.$==3){var f=this.TM,U=e.g.eI([f.x,f.y,Z.x,Z.y]);this.fz=U;var H=[];
Q.root.vSH(U,H);if(JSON.stringify(Q.H)!=JSON.stringify(H)){Q.H=H;Q.IJ=Q.n$=!0}}else if(this.$==4){for(var B=0;
B<Q.CG.length;B++)Q.$W[Q.CG[B]].rect.offset(C,j);Q.uV=!0}};G.BG._d=function(Q,C,j,Z){var F=Q.k[C];Q.v.rect.offset(j,Z);
F.aW(Q,j,Z,Q.v);Q.DH=!0;Q.X()};G.BG.prototype._c=function(Q,C,j,Z,F){this._h(Q,F,j);this.VK(Q)};G.BG.prototype._h=function(Q,C,j,Z,F){if(!this.nb)return;
this.nb=!1;if(this.$==0){if(Z){this.vQI(Q,null,Z,F)}else{if(this.zK.x==0&&this.zK.y==0)return;this.vQI(Q,this.zK.clone())}Q.Iy=!0}else if(this.$==2){var _=0;
C=[C.x,C.y];var $=this.Li,L=this.RV[0].length+this.RV[1].length,D=Q.Wi[0].length+Q.Wi[1].length;if(j.XZ&&C[$[0]]<e.oD.h$){Q.Wi[$[0]].splice($[1],1);
_=1;if(L==D-1)return}if(L<D)_=2;var d=new ro([[23,2],[23,3],[23,4]][_],this);d.data={$:2,RV:this.RV,CP:JSON.parse(JSON.stringify(Q.Wi))};
Q.Rk(d)}else if(this.$==4){var d=new ro([12,54],this);d.data={$:4,H:Q.CG.slice(0),f:this.zK.clone()};
Q.Rk(d)}this.zK.KL(0,0)};G.BG.prototype.ZZ=function(Q,C,j,Z){var F=Z.po();if(Q!=null&&(F.x!=0||F.y!=0)){this.zK.KL(F.x,F.y);
this.YQ(Q,C,Z,j,!1);if(!this.nb)return;this._E(Q,F.x,F.y);this._h(Q,null,j);this.VK(Q)}};G.BG.prototype.ZH=function(Q,C){if(Q.$==0)G.BG.Yt(C,Q.H,Q.RA,Q.nW,!0);
else if(Q.$==2){C.Wi=JSON.parse(JSON.stringify(Q.RV));C.uV=!0}else if(Q.$==4){for(var j=0;j<Q.H.length;
j++)C.$W[Q.H[j]].rect.offset(-Q.f.x,-Q.f.y);C.uV=!0}else{var Z=C.k[Q.c];if(Q.Fk){Z.uy(C,Q.by);C.v=Q.pq;
C.DH=!0;C.X();Z.X()}else{G.BG._d(C,Q.c,-Q.xP.x,-Q.xP.y)}}};G.BG.prototype.rg=function(Q,C){if(Q.$==0)G.BG.Yt(C,Q.H,Q.RA,Q.nW);
else if(Q.$==2){C.Wi=JSON.parse(JSON.stringify(Q.CP));C.uV=!0}else if(Q.$==4){for(var j=0;j<Q.H.length;
j++)C.$W[Q.H[j]].rect.offset(Q.f.x,Q.f.y);C.uV=!0}else{var Z=C.k[Q.c];if(Q.Fk){Z.uj=Q.uj;C.v=Q.aB;G.BG._d(C,Q.c,0,0);
Z.X()}else{G.BG._d(C,Q.c,Q.xP.x,Q.xP.y)}}};G.BG.prototype.vQI=function(Q,C,j,Z){if(j){var F=!0;for(var _=0;
_<j.length;_++)if(j[_]!=0)F=!1;if(F)return}var $=Q.history[Q.V_];if($.data&&$.Y==this&&$.data.$==0&&j==null&&JSON.stringify($.data.H)==JSON.stringify(this.Li)&&JSON.stringify($.data.RA)==JSON.stringify(this.$K)){var L=$.data.nW,D=$.data.vmK.aa.T.v;
D.Hrzn.v.val+=C.x;D.Vrtc.v.val+=C.y;for(var _=0;_<L.length;_+=2){L[_]+=C.x;L[_+1]+=C.y}}else{if(C==null)C=new Wn(j[0],j[1]);
var d={$Q:"move",aa:{classID:"null",null:_R.Ub("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:C.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:C.y}}}}}},o=new ro(Z?Z:[12,54],this);
if(j)o.data={$:0,H:this.Li,RA:this.$K,nW:j};else o.data={$:0,H:this.Li,RA:this.$K,nW:G.BG.vSy(this.Li,C.x,C.y)};
o.data.vmK=d;Q.Rk(o);this.track(d)}};G.BG.vSy=function(Q,C,j){var Z=[];for(var F=0;F<Q.length;F++)Z.push(C,j);
return Z};G.BG.gS=function(Q,C,j,Z,F){G.BG.Yt(Q,C,j,G.BG.vSy(C,Z,F))};G.BG.Yt=function(Q,C,j,Z,F){if(C.length==0)return;
if(j==null){j=[];for(var _=0;_<C.length;_++){j.push(Q.k[C[_]].hm(Q,!0))}}var $=new s,L=new s(0,0,Q.W,Q.C);
for(var _=0;_<C.length;_++){var D=Z[2*_],d=Z[2*_+1];if(F){D=-D;d=-d}var o=Q.k[C[_]],v=j[_];if(o.add.fxrp&&(v.indexOf(0)!=-1||o.ql()))o.add.fxrp.offset(D,d);
for(var f=0;f<v.length;f++){var U=v[f];if(U==0){o.rect.offset(D,d);if(o.nr()&&o.qv(Q))o.qv(Q).rect.offset(D,d);
if(o.add.artb){var H=o.se();H.offset(D,d);o.vo(H)}if(o.add.TySh){o.add.TySh.M.translate(D,d);if(o.add.TySh.add){o.add.TySh.add.vmsk.offset(D,d)}}if(o.add.SoLd){var B=new rI(1,0,0,1,D,d),m=o.add.SoLd,Y=G.S.wN(m.Trnf),q=G.S.wN(m.nonAffineTransform);
e.g.M(Y,B,Y);e.g.M(q,B,q);m.Trnf=G.S.Zv(Y);m.nonAffineTransform=G.S.Zv(q)}}if(U==1)o.oH().rect.offset(D,d);
if(U==2){o.add.vmsk.offset(D,d);if(o.add.vogk)e.Ky.M(o.add.vogk,[1,0,D,0,1,d,0,0],[])}if(U==3){o.qv(Q).A.rect.offset(D,d);
if(v.length==1)o.X()}}if(v.length>0){var r=o.add.GdFl;if(r==null)r=o.add.PtFl;if(o.ql()&&!o.RE()&&o.add.vmsk!=null&&e.D.$q(o.add.vmsk.G)&&o.add.vmsk.To==255&&(r==null||r.Algn&&r.Algn.v)){o.rect.offset(D,d)}else o.Ea(Q);
var x=Q.root.uw(o.sv(Q),Q,C[_]);$=$.fJ(x);x.offset(-D,-d);$=$.fJ(x);if(o.add.SoCo||o.add.GdFl||o.add.PtFl||rY.get(o.add)!=null)$=$.fJ(L);
o.vjm()}}Q.X($)};G.BG.vWV=function(Q,C){var j=[];for(var Z=0;Z<C.length;Z++){var F=Q.k[C[Z]];j.push(F.hm(Q))}return j};
G.BG.EL=function(Q,C,j){var Z=Q.j.Vt={b:[],u:[]},F=C.x+j[0],_=C.y+j[1];if(j[2]!=1e9){Z.u.push("M","L");
Z.b.push(j[2],_,j[2],_+C.C)}if(j[3]!=1e9){Z.u.push("M","L");Z.b.push(F,j[3],F+C.W,j[3])}Q.uV=!0};G.BG.Bu=function(Q,C,j,Z){var F=G.BG.vKJ(Q,[[C.x],[C.y]],j,Z);
return new Wn(C.x+F[0],C.y+F[1])};G.BG.EP=function(Q,C,j,Z,F){var _=F==!0?0:1,$=G.BG.vKJ(Q,[[C.x,C.x+(C.W>>>_),C.x+C.W],[C.y,C.y+(C.C>>>_),C.y+C.C]],j,Z);
return $};G.BG.vKJ=function(Q,C,j,Z){if(Z==null)Z=[!0,null,!0];var F=[0,0,1e9,1e9];if(!j.nt)return F;
var _=JSON.parse(JSON.stringify(C));for(var $=0;$<2;$++){var L=1e9,D=C[$],d=0;for(var o=0;o<D.length;
o++){var v=G.BG.vWI(Q,D[o],_[1-$][o],$,j,Z);if(v!=1e9)_[$][o]=v;if(v!=1e9&&Math.abs(v-D[o])<Math.abs(L)){L=v-D[o];
d=v}}if(L!=1e9){F[$]=L;F[$+2]=d}}return F};G.BG.vWI=function(Q,C,j,Z,F,_){var $=1e9,L=F.bx,D=F.ZD;if(_[0]&&L[0]&&D.Wi&&F.ag){var d=Q.Wi[Z];
for(var o=0;o<d.length;o++)if(Math.abs(d[o]-C)<Math.abs($-C))$=d[o]}if(L[1]&&D.RU&&F.ag){var v=Math.round(e.oD.De(D.mu,Q,D.mM));
if(Z==1&&D.bM==1){var f=j*.5*Math.sqrt(4/3),U;v*=Math.sqrt(4/3);U=Math.round((C-f)/v)*v+f;if(Math.abs(U-C)<Math.abs($-C))$=U;
U=Math.round((C+f)/v)*v-f;if(Math.abs(U-C)<Math.abs($-C))$=U}else{var U=Math.round(C/v)*v;if(Math.abs(U-C)<Math.abs($-C))$=U}}var H=Q.Dl;
if(L[3]&&D.Dl&&F.ag&&H.length!=0){for(var o=0;o<H.length;o++){if(!_[2]&&Q.BV.indexOf(o)!=-1)continue;
var B=G.bC.QY(H,o);for(var m=0;m<3;m+=2)if(B[m+Z]!=C&&Math.abs(B[m+Z]-C)<Math.abs($-C))$=B[m+Z]}}if(_[1]){var Y=_[1],q=Y.W,r=Y.C,x=[Y.x,Y.y,Y.x+(q>>>1),Y.y+(r>>>1),Y.x+q,Y.y+r];
for(var o=0;o<6;o+=2)if(Math.abs(x[o+Z]-C)<Math.abs($-C))$=x[o+Z]}if(L[4]){var q=Q.W,r=Q.C,x=[0,0,q>>>1,r>>>1,q,r];
for(var o=0;o<6;o+=2)if(Math.abs(x[o+Z]-C)<Math.abs($-C))$=x[o+Z]}var a=Math.abs($-C)<=4*t.s()/Q.R.l?$:1e9;
return a};G.gP=function(){G.jT.call(this,[10,12],G.vO$,"tools/mwand")};G.gP.prototype=new G.jT;G.gP.prototype.GF=function(Q,C,j,Z){this.finish(Q,C,j,Z)};
G.gP.prototype.getSelection=function(Q,C,j,Z){var F=this.kw,_=G.jT.vvd(new Wn(Math.floor(F.x),Math.floor(F.y)),this.rd.co);
return _};G.gP.v$b=function(Q,C,j){if(Q.H.length!=1){alert("More than one layer selected.");return null}var Z=Q.k[Q.H[0]],F;
if(Z.add.lsct!=null&&Z.add.lsct!=_K.uF){alert("No layer selected.");return null}if(C.x<0||C.x>Q.W||C.y<0||C.y>Q.C)return null;
var _=new s(0,0,Q.W,Q.C),$=Z.IF<=0?null:Z.IF==1?Z.oH():Z.qv(Q).A;if($==null&&_.gm(Z.rect))F=Z.buffer;
else{F=e.Q(_.P()*4);if($==null)e.tW(Z.buffer,Z.rect,F,_);else G.WR.NP($.channel,$.rect,$.color,F,_)}var L=G.gP.vKp(F,_,C,null,j),D=e.Go(L,_),d=e.Q(D.P());
e.pQ(L,_,d,D);return{rect:D,channel:d}};G.gP.Yb=function(Q,C,j){var Z=C.W,_=0,$=0,L=0,D=0;Q=new Uint32Array(Q.buffer);
var F=[],d=j.length;for(var o=0;o<d;o++){var v=j[o],f=Math.round(v.x-.5-C.x),U=Math.round(v.y-.5-C.y);
if(!C._p(v))f=U=0;var H=U*Z+f,B=Q[H];F.push([B&255,B>>8&255,B>>16&255,B>>>24])}return F};G.gP.vKp=function(Q,C,j,Z,F){Q=new Uint32Array(Q.buffer);
var _=C.W,$=C.C,L=_*$;if(Z==null)Z=G.gP.Yb(Q,C,[j]);var D=Math.round(j.x-.5-C.x),d=Math.round(j.y-.5-C.y),o=d*_+D,v=Date.now(),f=e.Q(_*$),U=F[0],H=1/U,B=F[1]&&U>0?255:0;
if(F[2]){var m=e.Q(f.length),Y=new Uint32Array(L),q=1;Y[0]=D<<16|d;m[o]=1;while(q>0){var r=Y[q-1];q--;
var x=r>>>16,a=r&65535,i=a*_+x,l=G.gP.gk(Q[i],Z);if(l>U){var M=B*(1-Math.max(0,Math.min(1,(l-U)*H)));
f[i]=~~M}else{f[i]=255;if(a!=$-1&&m[i+_]==0){Y[q++]=x<<16|a+1;m[i+_]=1}if(a!=0&&m[i-_]==0){Y[q++]=x<<16|a-1;
m[i-_]=1}if(x!=_-1&&m[i+1]==0){Y[q++]=x+1<<16|a;m[i+1]=1}if(x!=0&&m[i-1]==0){Y[q++]=x-1<<16|a;m[i-1]=1}}}}else{for(var i=0;
i<L;i++){var l=G.gP.gk(Q[i],Z);if(l<=U)f[i]=255}for(var a=0;a<$;a++)for(var x=0;x<_;x++){var i=a*_+x;
if(f[i]==0&&(x>0&&(f[i-1]==255||a>0&&f[i-_-1]==255||a<$-1&&f[i+_-1]==255)||x<_-1&&(f[i+1]==255||a>0&&f[i-_+1]==255||a<$-1&&f[i+_+1]==255)||a>0&&f[i-_]==255||a<$-1&&f[i+_]==255)){var l=G.gP.gk(Q[i],Z),M=B*(1-Math.max(0,Math.min(1,(l-U)*H)));
f[i]=~~M}}}return f};G.gP.gk=function(Q,C){var j=C.length,Z=G.gP.vEJ(Q,C[0]),F=1;while(F!=j){Z=Math.min(Z,G.gP.vEJ(Q,C[F]));
F++}return Z};G.gP.vEJ=function(Q,C){var j=Q&255,Z=Q>>>8&255,F=Q>>>16&255,_=Q>>>24&255;if(C[3]==0)return _<5?0:255;
var $=Math.max(Math.abs(j-C[0]),Math.max(Math.abs(Z-C[1]),Math.abs(F-C[2])));return _==0?255:$};G.v$=function(){G.WR.call(this,[10,26],G.vDp,"tools/patch");
this.qK=null;this.br=null;this.f=null;this.Bi=null;this.fq=new Wn;this.fg=null};G.v$.prototype=new G.WR;
G.v$.prototype.yi=function(Q,C,j,Z,F){var _=Q.R.gx(F.x,F.y);if(Q.v&&e.qx(_,Q.v.channel,Q.v.rect)){var $=new s(0,0,Q.W,Q.C),L=$.QU(Q.v.rect);
if(!Q.TE()||L.jJ())return;if(!L.gm(Q.v.rect)){var D=e.Q(L.P());e.pQ(Q.v.channel,Q.v.rect,D,L);Q.v={channel:D,rect:L}}this.ro(Q);
this.Bi=_;this.fq=new Wn(_.x-Q.v.rect.x,_.y-Q.v.rect.y);this.fg=e.Q(Q.v.rect.P()*4);e.set(this.fg,4294967295);
if(this.rd.patch==1){var d=Q.k[Q.H[0]];d.um(Q,Q.v,!0);if(d.uj==null)this.Bi=null}}else{this.br={b:[_.x,_.y],u:["M"]};
this.qK=_}};G.v$.prototype.eF=function(Q,C,j,Z,F){var _=Q.R.gx(F.x,F.y);if(this.Bi){if(this.rd.patch==1){var $=Q.k[Q.H[0]].uj,L=_.x-this.fq.x,D=_.y-this.fq.y;
G.BG._d(Q,Q.H[0],Math.round(L-$.Cj.x),Math.round(D-$.Cj.y))}else this.vjY(Q,_,"clone")}if(this.qK){this.br.u.push("L");
this.br.b.push(_.x,_.y);this.qK=_;Q.j.Il=this.br;Q.uV=!0}};G.v$.prototype._c=function(Q,C,j,Z,F){var _=Q.R.gx(F.x,F.y);
if(this.Bi){this.vjY(Q,_,"heal");this.finish(Q,Q.v.rect);this.Bi=null}if(this.qK){var $=G.jT.lX(this.rd.setop,Z.r(b.WO),Z.r(b.DT)),L=new P(t.E.xD,!0);
if(this.br.b.length<=4)L.data=G.jT.fU();else L.data=G.jT._R(this.br.b,$);C.Z(L);this.qK=null;Q.j.Il=null;
Q.uV=!0}};G.v$.prototype.ZR=function(){return this.f};G.v$.prototype.qU=function(Q,C,j,Z,F){G.WR.prototype.qU.call(this,Q,C,j,Z,F);
this.$m(F,Z)};G.v$.prototype.$m=function(Q,C){var j="auto;";if(C!=null&&C.r(b.WO)&&!C.r(b.DT)||this.rd.setop=="union")j="copy";
var Z=new P(t.E.m,!0);Z.data={$:t.i.ea,Js:j};if(this.caller)this.caller.Z(Z)};G.v$.prototype.vjY=function(Q,C,j){var Z=new Wn(Math.round(this.Bi.x-C.x),Math.round(this.Bi.y-C.y));
if(this.rd.patch==1)Z.KL(-Z.x,-Z.y);this.f=Z;this.Nq(Q,j,this.fg,Q.v.rect,Q.v.rect);this.X(Q,Q.v.rect)};
G._o=function(){G.WR.call(this,[10,13],G.vOM,"tools/pbucket")};G._o.prototype=new G.WR;G._o.prototype.enable=function(Q,C,j,Z){var F=new P(t.E.m,!0);
F.data={$:t.i.ea,Js:"default"};C.Z(F)};G._o.prototype.VD=function(Q,C){};G._o.prototype._c=function(Q,C,j,Z,F){if(!Q.TE())return;
var _=Q.R.gx(F.x,F.y),$=G.gP.v$b(Q,_,this.rd.wconf);if($==null)return;var L=e.Q($.rect.P()*4);e.kM(L,(j.pd&255)<<16|(j.pd>>8&255)<<8|(j.pd>>16&255)<<0);
e.gG($.channel,L,3);this.ro(Q);this.Nq(Q,"draw",L,$.rect,$.rect);this.X(Q,$.rect);this.finish(Q,$.rect)};
G.xE=function(){G.jT.call(this,[10,14],G.vxh,"tools/plasso");this.tS="crosshair";this.Kr=[];this.br=null;
this.vaA=0};G.xE.prototype=new G.jT;G.xE.prototype.disable=function(Q,C,j,Z){this.wi(Q)};G.xE.prototype.GF=function(Q,C,j,Z){this.Kr=[b.Ae,b.oC]};
G.xE.prototype.Yy=function(Q){return this.Kr.indexOf(Q)!=-1};G.xE.prototype.pe=function(Q){return this.br!=null};
G.xE.prototype.ld=function(){return this.br!=null};G.xE.prototype.cX=function(){return this.br!=null};
G.xE.prototype.LC=function(Q,C,j,Z){if(this.br==null)return;var F=this.br,_=F.b,$=_.length-2,L=this.kw;
if(this.FO>1&&j.r(b.DT)&&Z.gN){_.push(0,0);F.u.push("L");$+=2}else if(j.r(b.WO))L=G.Xt.vv(new Wn(_[$-2],_[$-1]),L);
_[$]=L.x;_[$+1]=L.y;Q.j.Il=F;Q.uV=!0};G.xE.prototype.CB=function(Q,C,j,Z){var F=Date.now();if(this.br==null)this.br={b:[this.kw.x,this.kw.y,this.kw.x,this.kw.y],u:["M","L"]};
else{this.LC(Q,C,j,Z);this.br.u.push("L");this.br.b.push(this.kw.x,this.kw.y);Q.j.Il=this.br;if(F-this.vaA<250||Wn.iQ(this.kw,new Wn(this.br.b[0],this.br.b[1]))<5*t.s()/Q.R.l){this.finish(Q,C,j,Z);
this.wi(Q)}}this.vaA=F;Q.j.Il=this.br};G.xE.prototype.wi=function(Q){this.br=null;this.Kr=[];if(Q!=null){Q.j.Il=null;
Q.uV=!0}};G.xE.prototype.ZZ=function(Q,C,j,Z){G.jT.prototype.ZZ.call(this,Q,C,j,Z);if(this.br==null)return;
if(Z.r(b.Ae)||Z.r(b.oC)){this.br.b.pop();this.br.b.pop();this.br.u.pop();this.LC(Q,j,Z)}if(Z.r(b.bA)){if(this.br.b.length>4)this.finish(Q,j,Z);
this.br=null}if(Z.r(b.Fj)){this.br=null}Q.j.Il=this.br;Q.uV=!0};G.xE.prototype.getSelection=function(Q,C,j,Z){return G.jT._R(this.br.b)};
G.LH=function(){G.jT.call(this,[10,10],G.vOD,"tools/mlasso");this.tS="crosshair";this.Kr=[];this.G=[];
this.nV=[];this.JZ=[];this.nS=null;this.yQ=null;this.uT=null;this.uu=0;this.Mh=0};G.LH.prototype=new G.jT;
G.LH.prototype.disable=function(Q,C,j,Z){this.clear(Q)};G.LH.prototype.pe=function(Q){return this.G.length!=0};
G.LH.prototype.cX=function(){return this.G.length!=0};G.LH.prototype.Yy=function(Q){return this.Kr.indexOf(Q)!=-1};
G.LH.prototype.GF=function(Q,C,j,Z){this.Kr=[b.Ae,b.oC];var F=this.YK(this.GY,Q);if(this.G.length!=0&&(Wn.iQ(F,this.G[0])<4*t.s()/Q.R.l||Date.now()-this.uu<300)){this._P(Q,this.G[0]);
this.finish(Q,C,j);this.clear(Q);return}this.uu=Date.now();if(this.G.length!=0)F=this.gp(F,Q);else{var _=Q.W,$=Q.C,L=e.Q(_*$),D=Q.ln(),d=_*$*4;
for(var o=0;o<d;o+=4)L[o>>>2]=~~(.5+e.kg(D[o],D[o+1],D[o+2])*(D[o+3]*(1/255)));this.nS=e.XD.vVa(L,_,$);
this.uT=new Uint16Array(L.length)}this._P(Q,F);this.Mh=j.r(b.DT)?1:0;this.hx(Q)};G.LH.prototype._P=function(Q,C){var j=this.G;
this.nV[j.length]=this.JZ.length;if(j.length!=0){e.XD.Rj(this.yQ,C.y*Q.W+C.x);var Z=this.gJ(Q,C);Z.reverse();
var F=G.LH.v$D(Q,Z);this.JZ=this.JZ.concat(F)}j.push(C);this.vsR(Q)};G.LH.prototype.vsR=function(Q){var C=this.G[this.G.length-1],j=C.y*Q.W+C.x;
this.yQ=e.XD.vVB(this.nS.Fu,this.nS.qV,j);this.uT.fill(0)};G.LH.prototype.YK=function(Q,C){return new Wn(Math.floor(Math.max(0,Math.min(C.W-1,Q.x))),Math.floor(Math.max(0,Math.min(C.C-1,Q.y))))};
G.LH.prototype.clear=function(Q){this.JZ=[];this.G=[];this.nV=[];this.nS=null;this.yQ=null;this.uT=null;
if(Q!=null){Q.j.Il=null;Q.j.CL=[];Q.uV=!0}this.Kr=[]};G.LH.prototype.LC=function(Q,C,j,Z){var F=this.G,_=F.length;
if(_==0)return;var $=this.gp(this.YK(this.kw,Q),Q),L=this.gJ(Q,$);for(var D=0;D<L.length;D++){var d=L[D],o=new Wn(d%Q.W,Math.floor(d/Q.W));
if(this.uT[d]>30&&Wn.iQ(o,F[_-1])>20){this._P(Q,o);return}this.uT[d]++}if(this.Mh==1&&Z.gN)this._P(Q,$);
this.hx(Q)};G.LH.prototype.hx=function(Q){var C=this.G;if(C.length!=0){var j=this.gp(this.YK(this.kw,Q),Q),Z=this.gJ(Q,j);
Z.reverse();var F=G.LH.v$D(Q,Z),_=this.JZ.concat(F),$=Q.j.Il={b:_,u:["M"]};for(var L=2;L<_.length;L+=2)$.u.push("L")}Q.j.CL=[];
for(var L=0;L<C.length;L++)Q.j.CL.push(C[L].x+.5,C[L].y+.5);Q.uV=!0};G.LH.prototype.CB=function(Q,C,j,Z){};
G.LH.prototype.ZZ=function(Q,C,j,Z){if(this.G.length==0)return;if(Z.r(b.Ae)||Z.r(b.oC)){this.G.pop();
this.JZ=this.JZ.slice(0,this.nV[this.G.length]);this.nV.pop();if(this.G.length==0)this.clear(Q);else this.vsR(Q);
this.hx(Q)}if(Z.r(b.bA)){var F=this.YK(this.kw,Q);this._P(Q,F);this.finish(Q,j,Z);this.clear(Q)}if(Z.r(b.Fj)){this.clear(Q)}};
G.LH.prototype.getSelection=function(Q,C,j,Z){return G.jT._R(this.JZ)};G.LH.prototype.gJ=function(Q,C){var j=this.G[this.G.length-1],Z=j.y*Q.W+j.x,F=C.y*Q.W+C.x;
if(this.Mh==1)return[F,Z];var _=[F];while(F!=Z){F=this.yQ.aG[F];_.push(F);if(_.length>5e3){console.log(_);
throw"e"}}return _};G.LH.v$D=function(Q,C){var j=[],Z=Q.W;for(var F=0;F<C.length;F++){var _=C[F];j.push(_%Z+.5,Math.floor(_/Z)+.5)}return j};
G.LH.prototype.gp=function(Q,C){var j=C.W,Z=C.C,F=Q.clone(),$=3;e.XD.Rj(this.yQ,Q.y*j+Q.x);var _=this.yQ.lj[Q.y*j+Q.x];
for(var L=-$+1;L<$;L++)for(var D=-$+1;D<$;D++){var d=Q.x+D,o=Q.y+L;if(d<0||d>=j||o<0||o>=Z)continue;
e.XD.Rj(this.yQ,o*j+d);if(this.yQ.lj[o*j+d]<_)F.KL(d,o)}return F};G.oO=function(){G.xB.call(this,[10,36],G.vOT,"tools/ruler");
this.yV=null;this.yb=null;this.fk=null;this.fI=null};G.oO.prototype=new G.xB;G.oO.prototype.pe=function(Q){return Q.gN};
G.oO.prototype.disable=function(Q,C,j,Z){this.yV=this.yb=null;if(Q)this.VK(Q)};G.oO.prototype.yi=function(Q,C,j,Z,F){var _=Q.R.l/t.s(),$=Q.R.gx(F.x,F.y);
$.x=Math.round($.x);$.y=Math.round($.y);var L=this.yV;if(L&&Wn.iQ($,L[0])*_<6)this.yb=[0];else if(L&&Wn.iQ($,L[1])*_<6)this.yb=[1];
else if(L&&G.oO.vWL(L[0],L[1],$)*_<6&&Math.min(L[0].x,L[1].x)-5<=$.x&&$.x<=Math.max(L[0].x,L[1].x)+5&&Math.min(L[0].y,L[1].y)-5<=$.y&&$.y<=Math.max(L[0].y,L[1].y)+5){this.yb=[0,1];
this.fI=[L[0].clone(),L[1].clone()];this.fk=$}else{this.yV=[$.clone(),$.clone()];this.yb=[1]}};G.oO.prototype.eF=function(Q,C,j,Z,F){if(this.yb==null)return;
var _=this.yV,$=this.yb,L=Q.R.gx(F.x,F.y);L.x=Math.round(L.x);L.y=Math.round(L.y);if($.length==2){var D=L.x-this.fk.x,d=L.y-this.fk.y;
_[0]=this.fI[0].clone();_[0].offset(D,d);_[1]=this.fI[1].clone();_[1].offset(D,d)}else{_[$[0]].KL(L.x,L.y);
if(Z.r(b.WO)){_[$[0]]=G.Xt.vv(_[1-$[0]],_[$[0]])}}this.VK(Q);this.ZO(C,t.E.m,{$:t.i.hq,Y:this.id,vmj:_[0],lY:_[1]})};
G.oO.prototype._c=function(Q,C,j,Z,F){this.yb=null};G.oO.prototype.ZO=function(Q,C,j){var Z=new P(C,!0);
Z.data=j;Q.Z(Z)};G.oO.prototype.VK=function(Q){var C=this.yV;if(C==null){Q.j.Il=null;Q.j.CL=[]}else{var j=[C[0].x,C[0].y,C[1].x,C[1].y];
Q.j.Il={u:["M","L"],b:j};Q.j.CL=j}Q.uV=!0};G.oO.vWL=function(Q,C,j){var Z=C.x-Q.x,F=C.y-Q.y,_=Math.abs(F*j.x-Z*j.y+C.x*Q.y-C.y*Q.x),$=Math.sqrt(Z*Z+F*F);
return _/$};G.Yj=function(){G.WR.call(this,[10,19],G.rC,"tools/sharpen");this.Iv="copy"};G.Yj.prototype=new G.WR;
G.Yj.prototype.yi=function(Q,C,j,Z,F){var _=this.rd.pdetail?rh.PC:rh.rC;if(Z.r(b.DT))_=rh.rF;this.d$(Q,j,Z,F,this.rd.strn,_);
if(this.Ki==null)return;this.n_(Q)};G.Yj.prototype.eF=function(Q,C,j,Z,F){this.dz(Q,C,j);if(this.dw)this.sE(Q,j,F);
if(this.Ki==null)return;if(!F.gN)return;this.du(Q,j,Z,F);this.n_(Q)};G._U=function(){G.WR.call(this,[10,24],G.v$k,"tools/shbrush");
this.Iv="draw";this.rd.opacity=.5};G._U.prototype=new G.WR;G._U.prototype.yi=function(Q,C,j,Z,F){this.d$(Q,j,Z,F,1);
if(this.Ki==null)return;this.n_(Q)};G._U.prototype.eF=function(Q,C,j,Z,F){this.dz(Q,C,j);if(this.dw)this.sE(Q,j,F);
if(this.Ki==null)return;if(!F.gN)return;this.du(Q,j,Z,F);this.n_(Q)};G._U.prototype._c=function(Q,C,j,Z,F){if(this.Ki==null)return;
this.Nq(Q,"sheal",this.Ki.WE(),this.Ki.ET(),this.Ki.mn(),null);this.X(Q,this.Ki.mn());G.WR.prototype._c.call(this,Q,C,j,Z,F)};
G.Yz=function(){G.WR.call(this,[10,20],G.N_,"tools/smudge");this.Iv="copy"};G.Yz.prototype=new G.WR;
G.Yz.prototype.yi=function(Q,C,j,Z,F){this.d$(Q,j,Z,F,this.rd.strn,rh.N_);if(this.Ki==null)return;this.n_(Q)};
G.Yz.prototype.eF=function(Q,C,j,Z,F){this.dz(Q,C,j);if(this.dw)this.sE(Q,j,F);if(this.Ki==null)return;
if(!F.gN)return;this.du(Q,j,Z,F);this.n_(Q)};G.Yq=function(){G.WR.call(this,[10,23],G.vvu,"tools/sponge");
this.Iv="sponge"};G.Yq.prototype=new G.WR;G.Yq.prototype.yi=function(Q,C,j,Z,F){this.d$(Q,j,Z,F,this.rd.flow);
if(this.Ki==null)return;this.n_(Q)};G.Yq.prototype.eF=function(Q,C,j,Z,F){this.dz(Q,C,j);if(this.dw)this.sE(Q,j,F);
if(this.Ki==null)return;if(!F.gN)return;this.du(Q,j,Z,F);this.n_(Q)};G.VF=function(){G.xB.call(this,[10,17],G.Eq,"tools/zoom");
this.Ie=!1;this.Gb=!0;this.up=0;this.nT=null;this.hK=null;this.fp=0;this.to=null;this.K$=0;this.HD=new QG([{name:[8,0],Gw:"Ctrl + +"},{name:[8,1],Gw:"Ctrl + -",ui:!0},{name:[20,3],Gw:"Ctrl + 0"},{name:[20,2],F:function(Q){return{yC:rT.get([20,2])+": 100%"}},Gw:"Ctrl + 1"}],[{T:t.E.a,Y:G.Eq,I:{$:"zoom",Gb:!0}},{T:t.E.a,Y:G.Eq,I:{$:"zoom",Gb:!1}},{T:t.E.a,Y:G.Eq,I:{$:"adapt",O:"fitscr"}},{T:t.E.a,Y:G.Eq,I:{$:"adapt",O:"pixel"}}])};
G.VF.prototype=new G.xB;G.VF.prototype.MJ=function(Q,C,j,Z,F){var _=this.HD;_.N();_.parent=C;_.update(Q,j);
var $=new P(t.E.m,!0);$.data={$:t.i.Ko,kU:_,x:F.wh+2,y:F.BY+1};C.Z($)};G.VF.prototype.enable=function(Q,C,j,Z){this.gn(C,Z);
if(Date.now()-this.up<300)this.yc({$:"adapt",O:"pixel"},C,Q,Z,j);this.up=Date.now()};G.VF.prototype.yi=function(Q,C,j,Z,F){this.hK=new Wn(F.x,F.y);
this.fp=Q.R.l;this.to=Q.R.f.clone()};G.VF.prototype.eF=function(Q,C,j,Z,F){if(this.hK==null)return;var _=Math.round((F.x-this.hK.x)/16);
if(_==0)return;var $=G.VF.gF(this.fp),L=G.VF.JH[Math.max(0,Math.min(G.VF.JH.length-1,$-_))];Q.R.l=this.fp;
Q.R.f=this.to.clone();this.yc({$:"zoom",l:L,hB:this.hK},C,Q,Z,j)};G.VF.prototype._c=function(Q,C,j,Z,F){if(Wn.iQ(this.hK,F)<4){var _=this.vva(Z);
this.yc({$:"zoom",Gb:_,hB:F},C,Q,Z,j)}this.hK=null};G.VF.JH=[32,16,12,8,7,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
G.VF.gB=function(Q,C,j,Z){var F=1;while(Q*F*1/2>j||C*F*1/2>Z)F*=1/2;if(Q*F*2/3>j||C*F*2/3>Z)F*=1/2;else if(Q*F>j||C*F>Z)F*=2/3;
return F};G.VF.vWc=function(Q,C){var j=G.VF.gF(Q);if(C&&j==0)return Q;if(!C&&j==G.VF.JH.length-1)return Q;
return G.VF.JH[C?j-1:j+1]};G.VF.gF=function(Q){var C=0;while(G.VF.JH[C]>Q)C++;return C};G.VF.QO=function(Q,C,j,Z){var F=Q.xa;
if(Z==0||Z==null){Z=G.VF.vWc(Q.l,j);if(Z==Q.l)return}var _=Q.gx(C.x,C.y);if(F.W*Z<=Q.L.W&&F.C*Z<=Q.L.C)Q.f.KL(0,0);
else{Q.f.x=Math.round(F.W*Z/2-_.x*Z+(C.x-Q.L.W/2));Q.f.y=Math.round(F.C*Z/2-_.y*Z+(C.y-Q.L.C/2))}Q.l=Z};
G.VF.prototype.yc=function(Q,C,j,Z,F){var _=0,$=!1,L=null;if(Q.$=="adapt"){var D=0;if(Q.O=="pixel")D=1;
if(Q.O=="fitscr"){var D=0,d=j.R.L.W,o=j.R.L.C;if(j.W<=d&&j.C<=o){var v=1;while(j.W*(v+1)<=d&&j.C*(v+1)<=o)v++;
D=v}else{D=G.VF.gB(j.W,j.C,d,o)}}L=new Wn(Math.round(j.R.L.W/2),Math.round(j.R.L.C/2));_=D;G.VF.QO(j.R,L,$,_);
j.Iy=!0}if(Q.$.startsWith("multi")){function f(X){var O=X[0].x-X[1].x,y=X[0].y-X[1].y;return Math.sqrt(O*O+y*y)}function U(X){return new Wn((X[0].x+X[1].x)/2,(X[0].y+X[1].y)/2)}var H=Q.fs,B=U(H);
if(Q.$=="multidown"){this.nT=[H,j.R.l,j.R.gx(B.x,B.y)]}else{_=this.nT[1]*f(H)/f(this.nT[0]);if(_>=1)_=Math.min(32,Math.round(_));
else{var m=0,Y=1e9,q=G.VF.JH;for(var r=0;r<q.length;r++){var x=Math.abs(1-_/q[r]);if(x<Y){Y=x;m=r}}_=q[m]}if(_!=j.R.l)G.VF.QO(j.R,B,$,_);
var a=this.nT[2],i=j.R.Br(a.x,a.y),l=j.R.f;l.x=Math.round(l.x+B.x-i.x);l.y=Math.round(l.y+B.y-i.y);j.Iy=!0}}if(Q.$=="scroll"){L=Q.hB;
this.K$+=Q.tL.y;var M=14;if(this.K$<-M){$=!0;this.K$=Math.max(this.K$+M,-(M-1))}else if(this.K$>M){$=!1;
this.K$=Math.min(this.K$-M,M-1)}else return;G.VF.QO(j.R,L,$,_);j.Iy=!0}if(Q.$=="zoom"){L=Q.hB?Q.hB:new Wn(Math.round(j.R.L.W/2),Math.round(j.R.L.C/2));
if(Q.l!=null)_=Q.l;else $=Q.Gb;G.VF.QO(j.R,L,$,_);j.Iy=!0}if(Q.$=="mskView"){var z=j.k[j.H[0]],V=z.IF==3?z.qv(j).A:z.oH();
if(Q.O==0){j.R.oe=[1,1,1];V.me=!1}if(Q.O==1){j.R.oe=[1,1,1];V.me=!0}if(Q.O==2){j.R.oe=[0,0,0];V.me=!0}for(var r=0;
r<j.$W.length;r++)j.$W[r].me=!1;j.CG=[];j.uV=!0}};G.VF.prototype.ZZ=function(Q,C,j,Z){if(this.Ie!=Z.r(b.DT)){this.Ie=Z.r(b.DT);
var F={$:t.i.hq,Y:this.id,Ie:this.Ie},_=new P(t.E.m,!0);_.data=F;C.Z(_);this.gn(C,Z)}};G.VF.prototype.gn=function(Q,C){var j=new P(t.E.m,!0),Z=this.vva(C);
j.data={$:t.i.ea,Js:Z?"zoom-in":"zoom-out"};Q.Z(j)};G.VF.prototype.qU=function(Q,C,j,Z){this.Gb=Q.Gb;
this.gn(C,Z)};G.VF.prototype.vva=function(Q){var C=this.Gb;if(Q.r(b.pG)&&Q.r(b.XE))C=!0;if(this.Ie)C=!C;
return C};G.oP=function(Q,C,j){G.xB.call(this,Q,C,j);this.i_=null;this.VO=null;this.pr=null;this.vBX=0};
G.oP.prototype=new G.xB;G.oP.prototype.enable=function(Q,C,j,Z,F){this.VO=j;var _=new P(t.E.m,!0);_.data={$:t.i.ea,Js:"default"};
C.Z(_)};G.oP.prototype.MJ=function(Q,C,j,Z,F){if(Q.Uh()[0].length==0)return;var _=new P(t.E.m,!0);_.data={$:t.i.hq,Y:this.id,tc:F,Jv:Q,El:j};
C.Z(_)};G.oP.prototype.vKI=function(Q,C){var j=new P(t.E.m,!0);j.data={$:t.i.yN,Vh:rQ.vq};if(!C.ag)Q.Z(j);
j.data={$:t.i.yN,Vh:rQ.Xu};if(!C.ZD.te)Q.Z(j)};G.oP.prototype.IP=function(Q,C,j,Z){if(j.JT!=this.id)return;
if(Q.H.length==0)return;var F=Q.k[Q.H[0]],_=F.add.vmsk,$=F.add.vstk,L=G.oP.VW(Q,Q.H[0]);this.i_=Q;this.pr=C;
if(F.ql()&&_!=null&&(JSON.stringify($)!=JSON.stringify(j.uG)||JSON.stringify(L)!=JSON.stringify(j.uP))){this.vBX=Date.now();
var D=new P(t.E.m,!0);D.data={$:t.i.yN,Vh:rQ.Xb,O:L};C.Z(D);D.data={$:t.i.yN,Vh:rQ.tg,O:$};C.Z(D)}};
G.oP.prototype.VD=function(Q,C){if(this.i_==null)return;if(C==rQ.yY||C==rQ.Xb||C==rQ.tg){if(Date.now()-this.vBX<50)return;
var j=C==rQ.Xb,Z=this.i_,F=j?Q.uP:Q.uG,_=[];for(var $=0;$<Z.H.length;$++){var L=Z.H[$],D=Z.k[L];if(!D.ql()||D.add.vmsk==null)continue;
_.push(L)}var d=new P(t.E.a,!0);d.Y=G.tP;d.data={$:S.mG,CY:_,aq:j,O:F};if(_.length!=0)this.pr.Z(d)}};
G.oP.prototype.vrX=function(Q){if(typeof Q=="number"){var C=new P(t.E.xD,!0);C.data=G.da.Jh(0);C.data.aa.Usng.v.Type.v.Clr.v=e.q.mx({h:Q>>>16&255,J:Q>>>8&255,_:Q>>>0&255});
this.pr.Z(C)}};G.oP.prototype.yc=function(Q,C,j,Z,F){this.pr=C;if(Q.$=="newfill"){if(Q.BL==0){var _=new P(t.E.m,!0);
_.data={$:t.i.kN,ul:"colorpicker",Uw:F.pd,np:this.vrX.bind(this)};C.Z(_)}}else if(Q.$=="pathedit"){var $=Q.zW,L="",D=j.te.slice(0),d=j.BA.slice(0),o=j.te.slice(0),v=j.BA.slice(0);
if($=="rnm"){var f=-1-Q.BW,U=D[f],H=rH.$B(Q.name,U.add);o[f]=H;L="Rename"}else if($=="new"){o.push(rH.$B("Path "+D.length));
v=[o.length-1];L="New"}else if($=="del"){if(v.length==0)return;v.sort(function(V,I){return V-I});if(v[0]==0){o[0]=rH.$B(D[0].name);
v=v.slice(1)}var B=0;while(v.length!=0){o.splice(v[0]-B,1);v=v.slice(1);B++}L="Delete"}else if($=="fromsel"){var m=o[0]=rH.$B("Work Path");
v=[0];if(j.v==null)return;var Y=j.v.channel.slice(0);for(var q=0;q<Y.length;q++)Y[q]=Y[q]>128?2:1;var r=j.v.rect.clone();
r.ac(1,1);var x=e.Q(r.P());e.pQ(Y,j.v.rect,x,r);var a=tI.zJ(x,r.W,r.C,Math.round(r.P()*5e-4)),i=tI.Uh(a),l=new rI(1,0,0,1,-1+j.v.rect.x,-1+j.v.rect.y);
for(var q=0;q<i.length;q++)e.g.M(i[q].path.b,l,i[q].path.b);for(var q=0;q<i.length;q++){var M=i[q];if(M.color==1&&M.parent==-1)continue;
var z=e.g.er(i[q].path,!1);m.add.vmsk.G=m.add.vmsk.G.concat(z)}m.add.vogk=S.WU(m.add.vmsk.G);L="Selection to"}var V=new ro(L+" Path",this);
V.data={A$:D,fa:d,vmq:o,fy:v};if($=="fromsel"){V.data.pq=j.v;V.data.aB=null}j.Rk(V);this.rg(V.data,j)}else{var X=j.Uh(Q.$=="append"),i=X[0],O=X[1],m=i[O[0]],y=m.add.vmsk,K=m.add.vogk,R=y.clone(),W=y.clone(),N=JSON.stringify(K);
if(Q.$=="remove"){if(W.H.length==0)return;var B=0;for(var q=0;q<W.H.length;q++){K.splice(W.H[q]+B,1);
B--}W.G=e.D.vmc(W.G,W.H);W.H=[];W.hc=[]}if(Q.$=="append"){G.oP.vyR(Q.vmg,W,K)}this.Xz(j,m.BW,W,K);this.ov(j,Q.vA,m.BW,R,W.clone(),null,N,JSON.stringify(K))}};
G.oP.vpk=function(Q,C){var j=e.D.vmG(Q.G,Q.H),Z=[];for(var F=0;F<Q.H.length;F++)Z.push(JSON.parse(JSON.stringify(C[Q.H[F]])));
return[j,Z]};G.oP.vyR=function(Q,C,j){var Z=e.D.iJ(C.G),F=e.D.iJ(Q[0]);C.G=C.G.concat(Q[0].slice(2));
C.H=[];for(var _=0;_<F;_++)C.H.push(Z+_);for(var _=0;_<F;_++)j.push(JSON.parse(JSON.stringify(Q[1][_])))};
G.oP.prototype.Yy=function(Q,C){if(C==null)return!1;var j=C.Uh(),Z=j[0],F=j[1];if(F.length==0)return!1;
var _=Z[F[0]],$=_.add.vmsk;if($&&$.H.length+$.hc.length!=0)return[b.Ae,b.oC].indexOf(Q)!=-1};G.oP.prototype.ZZ=function(Q,C,j,Z){if(Q==null)return;
var F=Q.Uh(),_=F[0],$=F[1];if($.length==0)return;var L=_[$[0]],D=L.add.vmsk;if(Z.r(b.Fj)||Z.r(b.bA)){D.hc=[];
Q.uV=!0}if(D.H.length!=0){var d=Z.po();if(d.x!=0||d.y!=0){var o=D.clone(),v=D.clone(),f=new rI(1,0,0,1,d.x,d.y),U=L.add.vogk,H=JSON.stringify(U);
e.D.gw(v.G,f,v.H);e.Ky.M(U,e.V.ij(f),v.H);this.Xz(Q,L.BW,v,U);this.ov(Q,"Move Paths",L.BW,o,v.clone(),!0,H,JSON.stringify(U))}if(Z.r(b.Ae)||Z.r(b.oC))this.yc({$:"remove",vA:"Delete Paths"},C,Q,Z,j)}};
G.oP.prototype.ov=function(Q,C,j,Z,F,_,$,L){var D=new ro(C,this);D.data={qH:j,fH:Z,_X:F,vBa:_,vBZ:$,od:L};
Q.Rk(D)};G.oP.prototype.rg=function(Q,C){if(Q.qH!=null)this.Xz(C,Q.qH,Q._X.clone(),JSON.parse(Q.od));
else{C.te=Q.vmq.slice(0);C.BA=Q.fy.slice(0);C.uV=C.IJ=!0}if(Q.pq||Q.aB){C.v=Q.aB;C.DH=!0}};G.oP.prototype.ZH=function(Q,C){if(Q.qH!=null)this.Xz(C,Q.qH,Q.fH.clone(),JSON.parse(Q.vBZ));
else{C.te=Q.A$.slice(0);C.BA=Q.fa.slice(0);C.uV=C.IJ=!0}if(Q.pq||Q.aB){C.v=Q.pq;C.DH=!0}};G.oP.prototype.Xz=function(Q,C,j,Z){var F=C<0?Q.te[-1-C]:C<1e6?Q.k[C]:Q.k[C-1e6].add.TySh;
F.add.vmsk=j;F.add.vogk=Z;if(1e6<=C){rD.jI(F);var _=Q.k[C-1e6],$=F,L=this.VO,D=new _J($.Qp,L.ho),d=vQ.or(D,$);
_.rect=d.z;_.buffer=d.Dg;_.X();Q.X()}else if(0<=C){j.CZ=!0;F.Ea(Q);Q.X()}Q.uV=Q.IJ=!0};G.oP.VW=function(Q,C){var j=Q.k[C],Z=j.add.vstk,F=null;
if(Z&&!Z.fillEnabled.v)F={Gg:0};else if(j.add.SoCo)F={Gg:1,hv:j.add.SoCo};else if(j.add.GdFl)F={Gg:2,hv:j.add.GdFl};
else if(j.add.PtFl)F={Gg:3,hv:j.add.PtFl};return F};G.oP.Yg=function(Q,C){var j=Q.add.vmsk,Z=Q.add.vstk,F=C.Gg;
if(Z)Z.fillEnabled.v=F!=0;if(F>0){var _=["SoCo","GdFl","PtFl"][F-1];for(var $=0;$<3;$++)delete Q.add[["SoCo","GdFl","PtFl"][$]];
Q.add[_]=C.hv}};G.da=function(Q,C,j,Z){G.oP.call(this,Q,C,j);this.rd={tmode:1,shape:Wh._j(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,cstr:{bd:0}};
this.vmS=Z;this.Kq=null;this.oY=null;this.ue=null};G.da.prototype=new G.oP;G.da.prototype.pe=function(Q){return Q.gN&&this.id!=G.Em};
G.da.prototype.enable=function(Q,C,j,Z,F){this.VO=j;var _=new P(t.E.m,!0);_.data={$:t.i.ea,Js:"crosshair"};
C.Z(_)};G.da.prototype.rU=function(Q,C,j,Z){};G.da.prototype.yi=function(Q,C,j,Z,F){this.vKI(C,j);var _=this.rd.tmode;
if(_==2&&!Q.TE())return;var $=Q.R.gx(F.x,F.y);$=G.BG.Bu(Q,$,j);this.ue=[$.x,$.y];this.Kq=$;this.oY=new Wn(0,0)};
G.da.prototype.vDB=function(Q,C,j){var Z=[this.Kq.clone(),C.clone()];if(this.vmS)Z=G.da.VQ(Z[0],Z[1],j,!0,this.rd.cstr);
if(Q)Q.R.Aw=new s(Z[0].x,Z[0].y,Z[1].x-Z[0].x,Z[1].y-Z[0].y);return this.rU(Z[0],Z[1],j.r(b.WO),this.ue)};
G.da.prototype.vzb=function(Q,C,j){var Z=Q.R.gx(C.x,C.y),F=this.rd.cstr;if(F.bd==2){var _=new s(Z.x-F.x,Z.y-F.y,F.x,F.y),$=G.BG.EP(Q,_,j);
Z.x+=$[0];Z.y+=$[1];G.BG.EL(Q,_,$)}else Z=G.BG.Bu(Q,Z,j);return Z};G.da.prototype.eF=function(Q,C,j,Z,F){if(this.Kq==null)return;
var _=this.vzb(Q,F,j);if(Z.r(b.pG))this.Kq=_.qF(this.oY);else this.oY=_.qF(this.Kq);this.ue.push(_.x,_.y);
if(this.rd.shape==null)this.rd.shape=j.uN[0];var $=this.vDB(Q,_,Z)[0],L=e.g.eV($);Q.j.Il=L;if(this.id!=G.Em&&this.id!=G.CF&&this.id!=G.Cf)G.xB.rX(F.x+10,F.y-10,Q.R.Aw,Q,j);
Q.uV=!0};G.da.prototype.vrC=function(Q,C,j,Z){var F=Q[4].clone();if(Z){F.x-=C/2;F.y-=j/2}var _=this.rU(F,new Wn(F.x+C,F.y+j),!1,this.ue);
this.vTK(Q[0],Q[1],Q[2],_)};G.da.prototype.vTK=function(Q,C,j,Z){var F=new P(t.E.xD,!0);F.data=G.da.vus(Z[1],j);
C.Z(F);if(Z[1].v.classID=="customShape"&&Z[1].v.Nm.v.startsWith("--")){var _=Q.Uh(),$=_[0],L=_[1],D=$[L.pop()],d=D.add.vmsk,o=D.add.vogk,v=d.clone();
v.G=Z[0];this.Xz(Q,D.BW,v,o)}};G.da.prototype._c=function(Q,C,j,Z,F){if(this.Kq==null)return;var _=this.vzb(Q,F,j),$=this.rd.binop,L=this.rd.tmode,D=this.ue,d=D.length;
if(this.id==G.Em&&d<=4){}else if(d<=4){_.x=Math.round(_.x);_.y=Math.round(_.y);var o=new P(t.E.m);o.data={$:t.i.kN,ul:"createshape",vmp:this.vrC.bind(this),vms:this.name,vma:[Q,C,j,Z,_]};
C.Z(o)}else if(d!=2){var v=this.vDB(Q,_,Z),f=v[0];if(L==0&&f.length>2){f[2].rh=[1,2,3,0][$];var U=Q.Uh(!0),H=U[0],B=U[1],m=H[B.pop()],Y=m.add.vmsk,q=m.add.vogk,r=Y.clone(),x=Y.clone(),a=JSON.stringify(q);
x.G=x.G.concat(f.slice(2));x.H=[e.D.iJ(x.G)-1];var i=e.Ky.MH(v[1]);q.push(i?i:e.Ky.WC());this.Xz(Q,m.BW,x,q);
this.ov(Q,this.name,m.BW,r,x,null,a,JSON.stringify(q))}else if(L==1){this.vTK(Q,C,j,v)}else if(L==2){var x=new S.jH;
x.G=x.G.concat(f.slice(2));var l=x.oH(),M=e.Q(l.rect.P()*4);e.kM(M,(j.pd&255)<<16|(j.pd>>8&255)<<8|(j.pd>>16&255)<<0);
e.gG(l.channel,M,3);var z=new P(t.E.a,!0);z.Y=G.LX;z.data={$:"draw",$d:{buffer:M,rect:l.rect.clone()},vA:this.name};
C.Z(z)}}this.Kq=null;Q.j.Il=null;Q.j.Vt=null;Q.j.lw=[];Q.R.Aw=null;Q.uV=!0};G.da.prototype.qU=function(Q,C,j,Z,F){for(var j in Q)this.rd[j]=Q[j]};
G.da.VQ=function(Q,C,j,Z,F){var _=Q.x,$=Q.y,L=C.x,D=C.y;if(F&&F.bd==2){if(Z){L=Math.round(L);D=Math.round(D)}_=L-F.x;
$=D-F.y}else{var d=0;if(F&&F.bd==1)d=F.y/F.x;else if(j&&j.r(b.WO))d=1;if(d!=0){if(Z){if(_<L)_=Math.floor(_);
else _=Math.ceil(_);if($<D)$=Math.floor($);else $=Math.ceil($)}var o=Math.abs(L-_),v=Math.abs(D-$),f=o;
if(v/o<d)f*=v/o/d;L=L>_?_+f:_-f;D=D>$?$+f*d:$-f*d}if(j&&j.r(b.DT)){_-=L-_;$-=D-$}}var Q=new Wn(_,$),C=new Wn(L,D);
if(Z)G.da.vrZ(Q,C);return[Q,C]};G.da.vrZ=function(Q,C){if(Q.x>C.x){var j=Q.x;Q.x=C.x;C.x=j}if(Q.y>C.y){var j=Q.y;
Q.y=C.y;C.y=j}Q.x=Math.floor(Q.x);Q.y=Math.floor(Q.y);C.x=Math.ceil(C.x);C.y=Math.ceil(C.y)};G.da.vrY=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
G.da.Jh=function(Q,C){var j=G.da.vrY();if(C==null)C=JSON.parse(JSON.stringify(WM.$y[Q]));rz.JO.QP(C,j.Usng.v.Type.v,Q);
return{$Q:"make",aa:j}};G.da.vus=function(Q,C){var j=C.uP,Z=JSON.parse(JSON.stringify(C.uG));if(j.Gg==0)Z.fillEnabled.v=!1;
var F=G.da.Jh(Math.max(0,j.Gg-1),j.hv);F.aa.Usng.v.Shp=Q;F.aa.Usng.v.strokeStyle={t:"Objc",v:Z};return F};
G.wd=function(){G.oP.call(this,[10,29],G.lS,"tools/pen");this.yG=null;this.FB=null;this.uM=1;this.vmU=0;
this.ns=null;this.ny=!1};G.wd.prototype=new G.oP;G.wd.prototype.pe=function(Q){return this.yG!=null};
G.wd.prototype.yi=function(Q,C,j,Z,F){this.vKI(C,j);var _=Q.R.gx(F.x,F.y),U,H;_.x=Math.round(_.x);_.y=Math.round(_.y);
var $=G.BG.Bu(Q,_,j),L=Q.Uh(this.uM==0),D=L[0],d=L[1],o=D[d.pop()],v=o?o.add.vmsk:null,f=4*t.s()/Q.R.l;
if(v)U=e.D.qx(v.G,_,!0,f);if(this.uM==1&&(v==null||(v.hc.length==0||v.hc[0]!=v.G.length-1)&&U.BW==-1)){var B=new P(t.E.xD,!0),m=e.Ky.fV("customShape",[0,0,1,1],null,null,null,"--");
B.data=G.da.vus(m,j);C.Z(B);L=Q.Uh(!0);D=L[0];d=L[1];o=D[d.pop()];v=o.add.vmsk;v.G=v.G.slice(0,2)}var Y=o.add.vogk;
this.yG=v.clone();this.FB=JSON.stringify(Y);var q=v.G,r=e.D.iJ(q);H=e.D.ya(v.G,new s(_.x-f,_.y-f,f*2,f*2));
U=e.D.qx(v.G,_,!0,f);if(U.BW!=-1&&H[0].length==0){var x=e.D.Jj(q,U.BW);while(q[x].length<=U.uq){U.uq-=q[x].length;
x+=q[x].length+1}q[x].length++;q.splice(x+2+U.uq,0,{type:4,$_:$.clone(),d:$.clone(),jk:$.clone()});v.hc=[x+2+U.uq]}else if(H[0].length==1&&Z.r(b.DT)){var a=H[0],i=v.G.length-1,l=v.G[a];
l.jk=l.d.clone();if(a!=i)l.$_=l.d.clone()}else{var M=0;if(v.hc.length!=1){v.H=[r];q.push({type:3,length:1,rh:[1,2,3,0][this.vmU],Vy:0,XN:0,Xn:0});
M=q.length;Y.push(e.Ky.WC())}else{var z=v.hc[0],V=e.D.WX(q,z),x=e.D.Jj(q,V);if(z==x+q[x].length&&Wn.iQ(_,q[x+1].d)<f){q[x].type=0;
v.hc=[x+1];this.ns=$;this.ny=!0;this.Xz(Q,o.BW,v,Y);Q.uV=!0;return}q[x].length++;M=z+1}if(Z.r(b.WO)&&q[M-1]&&q[M-1].d)$=G.Xt.vv(q[M-1].d,$);
q.splice(M,0,{type:4,$_:$.clone(),d:$.clone(),jk:$.clone()});v.hc=[M];this.ns=$}this.Xz(Q,o.BW,v,Y);
Q.uV=!0};G.wd.prototype.eF=function(Q,C,j,Z,F){if(this.yG==null)return;var _=Q.R.gx(F.x,F.y),$=G.BG.Bu(Q,_,j),L=Q.Uh(this.uM==0),D=L[0],d=L[1],o=D[d.pop()],v=o.add.vmsk,f=v.G,U=f[v.hc[0]];
if(Z.r(b.pG)){if(Z.r(b.WO))$=G.Xt.vv(this.ns,$);var H=U.d.qF(U.jk),B=U.$_.qF(U.d);U.jk=$;U.d=$.add(H);
U.$_=U.d.add(B)}else{if(Z.r(b.WO))$=G.Xt.vv(U.d,$);if(this.ny){var m=Wn.iQ(U.d,$),Y=m==0?0:Wn.iQ(U.d,U.jk)/m;
U.jk.x=U.d.x+Y*($.x-U.d.x);U.jk.y=U.d.y+Y*($.y-U.d.y)}else U.jk=$;if(Z.r(b.DT))U.type=5;else{U.type=4;
U.$_=U.d.add(U.d.qF($))}this.ns=$}this.Xz(Q,o.BW,v,o.add.vogk);Q.uV=!0};G.wd.prototype._c=function(Q,C,j,Z,F){if(this.yG==null)return;
var _=Q.Uh(this.uM==0),$=_[0],L=_[1],D=$[L.pop()],d=D.add.vmsk,o=D.add.vogk;this.ov(Q,this.ny?"Close Path":"Add Anchor Point",D.BW,this.yG,d.clone(),null,this.FB,JSON.stringify(o));
this.ny=!1;this.yG=null};G.wd.prototype.qU=function(Q,C,j,Z,F){this.uM=Q.tmode;this.vmU=Q.binop};G.Vl=function(){G.da.call(this,[10,30],G.Em,"tools/fpen",!1)};
G.Vl.prototype=new G.da;G.Vl.prototype.rU=function(Q,C,j,Z){return[e.D.zv(Z,this.rd.tolr),e.Ky.fV("customShape",[0,0,1,1],null,null,null,"--")]};
G.pk=function(){G.oP.call(this,[10,27],G.My,"tools/pselect");this.ih=null;this.kO=!1;this.br=null;this.yG=null;
this.oo=null;this.FB=null;this.Gv=null;this.Fq=null;this.kD=null;this.gg=null};G.pk.prototype=new G.oP;
G.pk.prototype.pe=function(Q){return Q.gN};G.pk.prototype.yi=function(Q,C,j,Z,F){var _=Q.R.gx(F.x,F.y),$=Q.Uh(),L=$[0],D=$[1],d,o;
for(var v=0;v<D.length;v++){var f=L[D[v]],U=f.add.vmsk,H=e.D.qx(U.G,_).BW;if(H!=-1){this.br=d=f;o=H}for(var B=0;
B<U.yV.length;B++){var m=e.D.$n(U.G,U.yV[B]);if(m==null)continue;var Y=Wn.iQ(m,_);if(Y<4*t.s()/Q.R.l){var q=Q.k[f.BW-1e6].add.TySh,r=q.Qp.Curve,x=q.M,a=r.Reversed;
r.Reversed=!1;var r=_J.PA(q.Qp.Curve);r.Reversed=a;e.g.M(r[0],x,r[0]);this.kD=[r,B,x.om*x.xP-x._*x.ug];
this.br=d=f;o=0}}if(this.kD)break}if(d!=null){var U=d.add.vmsk;U.hc=[];var i=U.H.indexOf(o);if(Z.r(b.WO)){if(i==-1){U.H.push(o);
this.kO=!0}else U.H.splice(i,1)}else{if(i==-1)U.H=[o];this.kO=!0}this.Fq=e.D.kd(U.G,U.H)}this.ih=_;this.gg=new bH(_);
Q.IJ=!0;Q.uV=!0};G.pk.prototype.eF=function(Q,C,j,Z,F){if(this.ih==null)return;var _=Q.R.gx(F.x,F.y);
if(this.kO){_=this.gg.PL(_,Z);var $=this.br;if(this.yG==null){this.yG=this.oo=$.add.vmsk.clone();this.FB=this.Gv=JSON.stringify($.add.vogk);
if(Z.r(b.DT)){var L=this.yG.clone(),D=JSON.parse(this.FB),d=G.oP.vpk(L,D);G.oP.vyR(d,L,D);this.oo=L;
this.Gv=JSON.stringify(D)}}var L=this.oo.clone(),D=JSON.parse(this.Gv);if(this.kD){var o=this.kD,v=o[0][0],f=e.g.y$(v,_.x,_.y);
L.yV[o[1]]=o[0][1][f];var U=v[f*2],H=v[f*2+1],B=(v[f*2+2]-U)*(_.y-H)-(v[f*2+3]-H)*(_.x-U);if(o[2]<0)B=-B;
L.bz=B>0}else{var m=this.Fq.clone(),Y=m.x,q=m.y;m.offset(_.x-this.ih.x,_.y-this.ih.y);m.x=Math.round(m.x);
m.y=Math.round(m.y);var r=G.BG.EP(Q,m,j),x=new rI(1,0,0,1,m.x-Y+r[0],m.y-q+r[1]);e.D.gw(L.G,x,L.H);e.Ky.M(D,e.V.ij(x),L.H);
G.BG.EL(Q,m,r)}this.Xz(Q,$.BW,L,D)}else{var a=this.ih;Q.j.Il=e.g.iq(new s(a.x,a.y,_.x-a.x,_.y-a.y));
Q.uV=!0}};G.pk.prototype._c=function(Q,C,j,Z,F){if(this.ih==null)return;var _=Q.R.gx(F.x,F.y),$=this.br,L=$?$.add.vmsk:null;
if(this.kO){var D=JSON.stringify($.add.vogk);if(!this.ih.gm(_))this.ov(Q,"Move Paths",$.BW,this.yG,L,null,this.FB,D);
if(Q!=null&&Q.j.Vt){Q.j.Vt=null;Q.uV=!0}}else{if(L){var d=this.ih,o=new s(d.x,d.y,_.x-d.x,_.y-d.y),v=e.D.vmI(L.G,o);
if(Z.r(b.WO)){for(var f=0;f<v.length;f++)if(L.H.indexOf(v[f])==-1)L.H.push(v[f])}else L.H=v}Q.j.Il=null;
Q.uV=!0}this.ih=null;this.yG=null;this.kD=null;this.kO=!1;this.gg=null};G.pk.prototype.IP=function(Q,C,j,Z){G.oP.prototype.IP.call(this,Q,C,j,Z);
if(j.JT!=this.id)return;if(Q.H.length==0)return;var F=Q.Uh(),_=F[0],$=F[1];if($.length==0)return;var L=_[$[0]],D=L.add.vmsk,d=L.add.vstk,o=L.add.vogk,v=new P(t.E.m,!0);
v.data={$:t.i.hq,Y:this.id,zR:"main",dh:D?D:null,Ky:o};C.Z(v)};G.pk.prototype.qU=function(Q,C,j,Z,F){var _=Q.nh;
if(_.dh){var $=j.Uh(),L=$[0],D=$[1],d=L[D[0]],o=d.add.vmsk.clone(),v=JSON.stringify(d.add.vogk),f=_.dh;
this.Xz(j,d.BW,f,_.Ky);var U=[18,5];if(o.G.length==f.G.length)U=o.H[0]==f.H[0]?"Fill Rule":"Path Order";
this.ov(j,U,d.BW,o,f,null,v,JSON.stringify(_.Ky))}};G._a=function(){G.oP.call(this,[10,28],G.CT,"tools/dselect");
this.Rn=-1;this.yj=-1;this.nF=null;this.ih=null;this.br=null;this.yG=null;this.FB=null;this.uu=0;this.vyZ={psnap:!1};
this.gg=null};G._a.prototype=new G.oP;G._a.prototype.pe=function(Q){return Q.gN};G._a.prototype.qU=function(Q){this.vyZ=Q};
G._a.prototype.disable=function(Q,C,j,Z){this.VT(Q)};G._a.prototype.yi=function(Q,C,j,Z,F){this.VT(Q);
var _=Q.R.gx(F.x,F.y),v,f,U;this.nF=_.clone();var $=Q.Uh(),L=$[0],D=$[1];if(D.length==0)return;var d=4*t.s()/Q.R.l,o=new s(_.x-d,_.y-d,d*2,d*2);
for(var H=0;H<D.length;H++){v=this.br=L[D[H]];f=v.add.vmsk;U=e.D.ya(f.G,o);if(U[0].length+U[1].length+U[2].length!=0)break}var B=[!1,!1,!1];
for(var m=0;m<3;m++){for(var Y=0;Y<U[m].length;Y++)if(f.hc.indexOf(U[m][Y])!=-1){U[m]=[U[m][Y]];B[m]=!0;
break}}if(U[0].length!=0&&(B[0]||!B[1]&&!B[2])){var q=U[0][0],r=f.hc.indexOf(q);if(Z.r(b.WO)){if(r==-1)f.hc.push(q);
else{f.hc.splice(r,1);Q.uV=!0;return}}else if(r==-1)f.hc=[q];this.Rn=q;this.yj=0}else if(U[1].length!=0&&(B[1]||!B[2])){this.Rn=U[1][0];
this.yj=1}else if(U[2].length!=0){this.Rn=U[2][0];this.yj=2}else{var x=e.D.qx(f.G,_,!0,d);if(x.BW==-1)this.ih=_;
else{f.H=[x.BW];f.hc=[]}}if(this.yG==null){this.yG=v.add.vmsk.clone();this.FB=JSON.stringify(v.add.vogk)}this.gg=new bH(_);
Q.uV=!0};G._a.prototype.eF=function(Q,C,j,Z,F){if(Q==null)return;var _=Q.R.gx(F.x,F.y),$=this.br;if(this.Rn!=-1){var L=this.yG.clone(),D=$.add.vogk,d=L.G[this.Rn];
d=[d.d,d.$_,d.jk][this.yj];if(Z.r(b.WO)){_=this.gg.PL(_,Z);_.x+=d.x-this.nF.x;_.y+=d.y-this.nF.y}else{if(this.vyZ.psnap){_.x=Math.round(_.x);
_.y=Math.round(_.y)}_=G.BG.Bu(Q,_,j)}if(this.yj==0){var o=new rI(1,0,0,1,_.x-d.x,_.y-d.y);e.D.gw(L.G,o,null,L.hc)}else{var v=L.G[this.Rn],f=v.$_,U=v.jk;
if(this.yj==2){f=v.jk;U=v.$_}f.KL(_.x,_.y);if(v.type==1||v.type==4){var H=Wn.iQ(f,v.d),B=Wn.iQ(U,v.d);
if(B!=0){U.x=v.d.x-(f.x-v.d.x)*(B/H);U.y=v.d.y-(f.y-v.d.y)*(B/H)}}}this.VI(L,D);this.Xz(Q,$.BW,L,D)}else if(this.ih!=null){var m=this.ih;
Q.j.Il=e.g.iq(new s(m.x,m.y,_.x-m.x,_.y-m.y));Q.uV=!0}else{var Y=Q.Uh(),q=Y[0],r=Y[1],$,L,i;if(r.length==0)return;
var x=4*t.s()/Q.R.l,a=new s(_.x-x,_.y-x,x*2,x*2);for(var l=0;l<r.length;l++){$=q[r[l]];L=$.add.vmsk;
i=e.D.ya(L.G,a);if(i[0].length+i[1].length+i[2].length!=0)break}this.VT(Q);for(var M=0;M<3;M++){for(var z=0;
z<i[M].length;z++){var V=i[M][z],X=L.G[V];X=M==0?X.d:M==1?X.$_:X.jk;Q.j.k$.push(Q.j.FZ.length>>>1);Q.j.FZ.push(X.x,X.y);
Q.uV=!0}}}};G._a.prototype.VT=function(Q){if(Q.j.FZ.length!=0){Q.j.FZ=[];Q.j.k$=[];Q.uV=!0}};G._a.prototype._c=function(Q,C,j,Z,F){var _=Q.R.gx(F.x,F.y),$=this.br,L=$?$.add.vmsk:null,D=$?$.add.vogk:null;
if(this.Rn!=-1){if(Date.now()-this.uu<300){var d=L.G[this.Rn],o=this.yj,v=null;if(o==0){var f=d.$_.gm(d.d),U=d.jk.gm(d.d);
if(!f&&!U){v="Anchor Type";if(d.type==1||d.type==4)d.type++;else{d.type--;d.jk=d.d.add(d.d.qF(d.$_))}}else{v="Add Handles";
if(f&&U){d.$_.x-=30;d.jk.x+=30}else if(f)d.$_=d.d.add(d.d.qF(d.jk));else if(U)d.jk=d.d.add(d.d.qF(d.$_))}}else{v="Remove Handle";
if(o==1)d.$_.wc(d.d);else d.jk.wc(d.d)}this.VI(L,D);this.Xz(Q,$.BW,L,D);this.ov(Q,v,$.BW,this.yG,L,null,this.FB,JSON.stringify(D))}else if(!this.nF.gm(_)){this.ov(Q,"Drag Anchors",$.BW,this.yG,L,null,this.FB,JSON.stringify(D))}this.uu=Date.now()}else if(this.ih!=null){var H=this.ih,B=new s(H.x,H.y,_.x-H.x,_.y-H.y);
if(B.W<0)B.x+=B.W;if(B.C<0)B.y+=B.C;B.W=Math.abs(B.W);B.C=Math.abs(B.C);var m=e.D.ya(L.G,B);L.hc=m[0];
Q.j.Il=null}this.br=null;this.yG=null;this.ih=null;this.Rn=this.yj=-1;this.gg=null;Q.uV=!0};G._a.prototype.VI=function(Q,C){for(var j=0;
j<Q.hc.length;j++){var Z=e.D.WX(Q.G,Q.hc[j]);e.Ky.mC(C,Z)}};G._a.prototype.ZZ=function(Q,C,j,Z){if(Q==null)return;
var F=Q.Uh(),_=F[0],$=F[1];if($.length==0)return;var L=_[$[0]],D=L.add.vmsk;if(D==null||D.hc.length==0)return;
var d=L.add.vogk,o=JSON.stringify(d),v=Z.po();if(v.x!=0||v.y!=0){var f=D.clone(),U=D.clone(),H=new rI(1,0,0,1,v.x,v.y);
e.D.gw(U.G,H,null,U.hc);this.VI(U,d);this.Xz(Q,L.BW,U,d);this.ov(Q,"Move Anchors",Q.H[0],f,U.clone(),!0,o,JSON.stringify(d))}if(Z.r(b.Ae)||Z.r(b.oC)){var f=D.clone(),U=D.clone();
U.G=e.D.vmF(U.G,U.hc,d);U.hc=[];this.Xz(Q,L.BW,U,d);this.ov(Q,"Delete Anchors",L.BW,f,U.clone(),!0,o,JSON.stringify(d))}};
G._a.prototype.ov=function(Q,C,j,Z,F,_,$,L){var D=Q.qT();if(_&&D!=null&&D.Y==this&&D.data.vBa&&D.data.qH==j&&JSON.stringify(D.data.fH.hc)==JSON.stringify(Z.hc)){D.data._X=F;
D.data.od=L}else{var D=new ro(C,this);D.data={qH:j,fH:Z,_X:F,vBa:_,vBZ:$,od:L};Q.Rk(D)}};G.Rect=function(){G.da.call(this,[10,32],G.Cu,"tools/rect",!0)};
G.Rect.prototype=new G.da;G.Rect.prototype.rU=function(Q,C,j){var Z=this.rd.crad,F=C.x-Q.x,_=C.y-Q.y;
return[e.D._K.Rect(Q.x,Q.y,F,_,Z),e.Ky.fV("Rctn",[Q.x,Q.y,C.x,C.y],[Z,Z,Z,Z])]};G.Cm=function(){G.da.call(this,[10,33],G.lT,"tools/ellipse",!0)};
G.Cm.prototype=new G.da;G.Cm.prototype.rU=function(Q,C,j){var Z=C.x-Q.x,F=C.y-Q.y;return[e.D._K.Cm(Q.x,Q.y,Z,F),e.Ky.fV("Elps",[Q.x,Q.y,C.x,C.y])]};
G.Vp=function(){G.da.call(this,[10,34],G.CF,"tools/pshape",!1)};G.Vp.prototype=new G.da;G.Vp.prototype.rU=function(Q,C,j){var Z=this.rd.pshape,F=this.rd.crad,_=this.rd.irad/100,$=this.rd.sides,L=this.rd.width,D=this.rd.tsiz,d=this.rd.length,m;
C=C.clone();if(j){if(Math.abs(C.x-Q.x)<Math.abs(C.y-Q.y))C.x=Q.x;else C.y=Q.y}var o=Q.x,v=Q.y,f=C.x,U=C.y,H=Math.sqrt((f-o)*(f-o)+(U-v)*(U-v)),B=Math.atan2(-U+v,f-o);
if(Z==0)m=e.D._K.zQ(o,v,H,B,$,F);if(Z==1)m=e.D._K.vxQ(o,v,H,B,$,F,_);if(Z==2)m=e.D._K.vxz(Q.x,Q.y,C.x,C.y,L,D/100);
if(Z==3)m=e.D._K.vyx(o,v,H,B,d);return[m,e.Ky.fV("customShape",[Q.x,Q.y,C.x,C.y],null,null,null,"--")]};
G.Id=function(){G.da.call(this,[10,35],G.Cf,"tools/line",!1)};G.Id.prototype=new G.da;G.Id.prototype.rU=function(Q,C,j){var Z=this.rd.width;
C=C.clone();if(j){C=G.Xt.vv(Q,C)}return[e.D._K.Id(Q.x,Q.y,C.x,C.y,Z),e.Ky.fV("Ln",null,null,[Q.x,Q.y,C.x,C.y],Z)]};
G.Vs=function(){G.da.call(this,[10,31],G.lu,"tools/cshape",!0)};G.Vs.prototype=new G.da;G.Vs.prototype.rU=function(Q,C,j){var Z=this.rd.shape,F=Z.LT.W/Z.LT.C,_=S.jH.Do(Z.G);
C=C.clone();if(j){C.y=Q.y+(C.x-Q.x)/F}var $=C.x-Q.x,L=C.y-Q.y;e.D.gw(_,new rI($,0,0,L,Q.x,Q.y));return[_,e.Ky.fV("customShape",[Q.x,Q.y,C.x,C.y],null,null,null,Z.BX)]};
G.S=function(Q,C,j){G.xB.call(this,Q,C,j);this.io=0;this.k=null;this.RM=null;this.El=null;this.fS=1;
this.nf=!1;this.cursor=null;this.by=null;this.pq=null;this.Fk=!1;this.ck=null;this.vxd=0;this.GD=null;
this.Mh=0;this.xL=null;this.sB=null;this.au=null;this.G$=null;this.vmy=null};G.S.prototype=new G.xB;
G.S.EU=function(Q,C){var j={classID:"null",null:_R.Ub("Dcmn",!0)};if(Q)j.Angl={t:"UntF",v:{type:"#Ang",val:C}};
else j.Axis={t:"enum",v:{Ornt:C}};return{$Q:Q?"rotateEventEnum":"flip",aa:j}};G.S.prototype.MJ=function(Q,C,j,Z,F){var _=new P(t.E.m,!0);
_.data={$:t.i.hq,Y:this.id,tc:F,Jv:Q,El:j};C.Z(_);this.Ux=!1};G.S.prototype.pe=function(Q){return this.sB&&this.sB.vib()};
G.S.prototype.yc=function(Q,C,j,Z,F){this.El=F;if(Q.$=="again"&&this.GD==null)return;if(Q.$=="doMouseDown"){if(this.sB==null)return;
this.yi(j,C,F,Z,Q.hB);return}if(!this.LA(j,F))return;if(this.sB){this.vQT(Q,this.sB.ph());this.AT(j,F,0,!0);
this.pJ(j);return}this.v_L(j,Q.c==null,Q.c);this.vQu(j);this.vQT(Q);this.hp(j,C,Q.vA,!1)};G.S.prototype.vQT=function(Q,C){var j=this.xL;
if(C==null){var Z=Q.Xl!=null?Q.Xl:4;C=this.sB.v_D()[Z]}var F=C.x,_=C.y;if(Q.$=="rot"&&Q.O!=Math.PI&&(j.W+j.C&1)==1){F=Math.floor(F);
_=Math.floor(_)}var $=new rI;$.translate(-F,-_);if(Q.$=="rot")$.rotate(Q.O);if(Q.$=="scl")$.scale(Q.O.x,Q.O.y);
if(Q.$=="mat")$.concat(Q.O);$.translate(F,_);if(Q.$=="again")$=this.GD;var L=this.sB.F_();e.g.M(L,$,L);
this.sB.Sv(L)};G.S.prototype.cX=function(){return!0};G.S.prototype.LA=function(Q,C){if(Q==null)return!1;
if(this.id==G.Ch)return Q.v!=null;var j=Q.oW(!0,null,null,!0);for(var Z=0;Z<j.length;Z++){var F=Q.k[j[Z]];
if(F.Vk(2)||F.Vk(31)){alert(rT.get([6,57,0]));return!1}if(F.add.artb){alert("You can not transform the whole artboard");
return!1}if(F.add.TySh)if(!vQ.yO(F.add.TySh,C.ho))return!1;if(F.add.SoLd){if(j.length==1&&!e.$k.CH(F.add.SoLd.warp.v)&&(F.oH()&&F.oH().J_||F.add.vmsk&&F.add.vmsk.J_)){alert("Unlink masks before transforming Smart Object");
return!1}if(!Q.viI(F.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+Q.Es(F.add.SoLd.Idnt.v).RJ+")");
return!1}}}if(Q.v==null)return!0;if(!Q.TE())return!1;return Q.vjy()};G.S.prototype.yi=function(Q,C,j,Z,F){var _=Q.R.gx(F.x,F.y);
if(this.Mh==1){var $=e.V.Ie(e.V.xT(this.sB.F_(),this.xL));_=e.V.MQ($,_)}var L=this.Mh==0?this.sB:this.au;
this.nf=L.yi(Q,j,Z,_);if(this.nf&&L.Qs(_)){if(Date.now()-this.vxd<250)this.hp(Q,C,null,!0);this.vxd=Date.now()}};
G.S.prototype.$m=function(Q){var C=new P(t.E.m,!0);C.data={$:t.i.ea,Js:this.cursor};Q.Z(C)};G.S.prototype.eF=function(Q,C,j,Z,F){var _=Q.R.gx(F.x,F.y);
if(this.Mh==1){var $=e.V.Ie(e.V.xT(this.sB.F_(),this.xL));_=e.V.MQ($,_)}var L=this.Mh==0?this.sB:this.au;
if(!F.gN){var D="default";if(L){var d=L.d_(_,Q.R.l);if(d)D=d}if(D!=this.cursor){this.cursor=D;this.$m(C)}}if(!this.nf)return;
L.eF(Q,j,Z,_);this.AT(Q,j,0,!0);this.pJ(Q);this.dD(C)};G.S.prototype._c=function(Q,C,j,Z,F){var _=Q.R.gx(F.x,F.y);
this.sB._c(Q,j,Z,_);this.nf=!1};G.S.prototype.ZZ=function(Q,C,j,Z){if(Z.r(b.bA))this.hp(Q,C,null,!0);
else if(Z.r(b.Fj))this.QZ(Q,C);else{var F=this.sB.ZZ(Q,j,Z);if(F){this.AT(Q,j,0,!0);this.dD(C)}}};G.S.prototype.qU=function(Q,C,j,Z){if(Q.zR=="commit")this.hp(j,C,null,!0);
else if(Q.zR=="cancel")this.QZ(j,C);else if(Q.zR=="switchWarp"){this.Mh=1-this.Mh;this.vrc();this.pJ(j);
this.dD(C)}else if(Q.zR=="wrp"){this.au.v$n(Q.nn);this.pJ(j);this.AT(j,this.El,0,!0)}else if(Q.zR=="ctyp"){this.sB.v_u(Q.GW);
this.pJ(j);this.dD(C)}else if(Q.zR=="cen"){this.sB.v_y(Q._H);this.pJ(j);this.AT(j,this.El,0,!0);this.dD(C)}else if(Q.zR=="trn"){var F=e.V.ij(Q.yK),_=this.xL,$=e.V.xT(this.sB.F_(),this.xL);
F[6]=$[6],F[7]=$[7];var L=[_.x,_.y,_.x+_.W,_.y,_.x+_.W,_.y+_.C,_.x,_.y+_.C];e.V.apply(F,L);this.fS=Q.fS;
this.sB.Sv(L);this.pJ(j);this.AT(j,this.El,0,!0)}};G.S.prototype.pJ=function(Q){if(this.Mh==0)this.sB.oN(Q,this.El);
else{this.au.oN(Q);var C=e.V.xT(this.sB.F_(),this.xL);e.V.apply(C,Q.j.Il.b);e.V.apply(C,Q.j.CL)}};G.S.prototype.hp=function(Q,C,j,Z){this.AT(Q,this.El,this.fS);
var F=new ro(j?j:this.name,this);if(this.io==0)F.data={type:this.io,k:this.k,ck:this.RM,gO:G.S.QT(Q,this.k)};
else if(this.io==1){var _=Q.k[this.k[0]],$;if(_.uj.IF<=0){$=e.Q(_.uj.Cj.P());e.yq(_.uj.Zm,$,3)}else $=Q.v.channel;
var L={rect:_.uj.Cj.clone(),channel:$};F.data={type:this.io,c:this.k[0],pq:this.pq,aB:L,by:this.by,Fk:this.Fk,uj:_.uj,ck:this.ck,gO:{z:_.uj.Cj,xu:_.uj.Zm}}}else if(this.io==2){F.data={type:this.io,pq:this.pq,aB:{rect:Q.v.rect.clone(),channel:e.clone(Q.v.channel)}}}Q.Rk(F);
var D=this.xL,d=new Wn(D.x+D.W/2,D.y+D.C/2),o=e.V.xT(this.sB.F_(),D),v=e.V.rk(o),f=new rI;f.translate(d.x,d.y);
f.concat(v);f.translate(-d.x,-d.y);v=f.clone();var U=-Math.atan2(-v._,v.om),H=new rI;H.rotate(U);v.concat(H);
function B(Y,q){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][q],val:Y}}}var m={classID:"null",null:_R.Ub("Lyr",!0),FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:B(f._Y,0),Vrtc:B(f.Rf,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:B(Math.atan(v.ug)*180/Math.PI,2),Vrtc:B(0,2)}},Wdth:B(v.om*100,1),Hght:B(v.xP*100,1),Angl:B(U*180/Math.PI,2)};
this.pr=C;this.track({$Q:"transform",aa:m});this.escape(Q,C,Z)};G.S.prototype.QZ=function(Q,C){if(this.io==0)G.S.Qu(Q,this.k,this.RM);
else if(this.io==1){var j=Q.k[this.k[0]];Q.v=this.pq;if(!this.Fk){j.uj.Cj=this.ck.z;j.uj.Zm=this.ck.xu;
j.aW(Q,0,0,Q.v)}else{j.uy(Q,this.by)}Q.X();Q.DH=!0}else if(this.io==2){Q.v=this.pq;Q.DH=!0}this.escape(Q,C,!0)};
G.S.prototype.escape=function(Q,C,j){this.sB.clear(Q);this.sB=null;this.au=null;this.Mh=0;if(j)this.ZO(C,t.E.m,{$:t.i.sk})};
G.S.prototype.rg=function(Q,C){if(Q.type==0)G.S.Qu(C,Q.k,Q.gO);else{if(Q.type==1){var j=C.k[Q.c];if(Q.Fk){j.uj=Q.uj}else{j.uj.Cj=Q.gO.z;
j.uj.Zm=Q.gO.xu}j.aW(C,0,0,C.v);C.X()}C.v={rect:Q.aB.rect.clone(),channel:e.clone(Q.aB.channel)};C.DH=!0}};
G.S.prototype.ZH=function(Q,C){if(Q.type==0)G.S.Qu(C,Q.k,Q.ck);else{if(Q.type==1){var j=C.k[Q.c];if(Q.Fk){j.uy(C,Q.by)}else{j.uj.Cj=Q.ck.z;
j.uj.Zm=Q.ck.xu;j.aW(C,0,0,C.v)}C.X()}C.v=Q.pq;C.DH=!0}};G.S.prototype.v_L=function(Q,C,j){Q.Uh();var Z=[];
if(j==null)for(var F=0;F<Q.BA.length;F++)if(Q.te[Q.BA[F]].add.vmsk.G.length>2)Z.push(-1-Q.BA[F]);var _=[];
if(j!=null||Z.length==0||Q.Vb!=null&&Q.Vb.length!=0)_=Q.oW(C,j,null,!0);_=_.concat(Z);this.k=_};G.S.prototype.enable=function(Q,C,j,Z,F,_,$){if(this.cursor==null)this.cursor="default";
this.$m(C);if(this.sB)return;this.El=j;this.v_L(Q,!0);this.vQu(Q,_&&_.t$!=null&&_.t$!=-1?_.t$:null,$);
this.dD(C);this.pJ(Q);if(_&&_.t$==-1)this.qU({zR:"switchWarp"},C,Q,Z)};G.S.prototype.dD=function(Q){var C={$:t.i.hq,Y:this.id};
if(this.Mh==0){var j=e.V.xT(this.sB.F_(),this.xL),Z=e.V.rk(j);C.yK={U_:Z,GW:this.sB.v_R(),_H:this.sB.ph(),z:this.xL.clone()}}else{C.nn=this.au.S_()}C.vmL=this.au!=null;
this.ZO(Q,t.E.m,C)};G.S.prototype.vQu=function(Q,C,j){var Z=this.id==G.Ch,F=!0,_=this.k[0],$=Q.k[_],d=null;
if(Z){this.io=2;this.pq=Q.v}else if(Q.v&&this.k.length==1&&_>=0&&!$.rect.jJ()){this.io=1;this.pq=Q.v;
this.by=$.uj;this.Fk=!1;if(!$.hg(Q,Q.v)){this.Fk=!0;$.um(Q,Q.v,!1)}this.ck={xu:$.uj.Zm,z:$.uj.Cj}}else{this.io=0;
this.RM=G.S.QT(Q,this.k,null,j);for(var L=0;L<this.RM.length;L++)if(this.RM[L][3]!=null)F=!1}var D=this.io==1;
if(this.RM&&this.RM.length==1){var o=this.RM[0];if(o[3]==null)D=!0;if(o[4]!=null){d=Q.k[this.k[0]].add.SoLd;
if(o[1]||o[2])D=!1}}var v=Z?Q.v.rect.clone():G.S.ET(Q,this.k,j);this.xL=v;if(!Z&&d){var f=G.S.wN(d.nonAffineTransform);
this.xL=e.g.NM(e.$k.ah(d.warp.v));if(D)this.au=new Dx(d.warp.v);this.G$=e.V.xT(f,this.xL);this.sB=new _V(f,!0,!0,F,!1,!1,C)}else{if(D||Z)this.au=new Dx(e.$k.Q(this.xL));
this.G$=[1,0,0,0,1,0,0,0];this.sB=new _V([v.x,v.y,v.x+v.W,v.y,v.x+v.W,v.y+v.C,v.x,v.y+v.C],!0,!0,F,!1,!1,C)}this.vmy=[1,0,0,0,1,0,0,0]};
G.S.ET=function(Q,C,j){if(C==null)C=Q.oW(!0,null,null,!0);var Z=new s;if(Q.v&&C.length==1&&C[0]>=0)Z=Q.v.rect.clone();
else for(var F=0;F<C.length;F++){var _=C[F],$=0<=_?Q.k[_]:Q.te[-1-_],L=$.add.vmsk,D=0<=_?$.sv(Q,C.length==1,!1,j):e.D.kd(L.G,C.length==1&&L.H.length!=0?L.H:null);
Z=Z.fJ(D)}return Z};G.S.prototype.ZO=function(Q,C,j,Z){var F=new P(C,!0);F.data=j;if(Z)F.Y=Z;Q.Z(F)};
G.S.QT=function(Q,C,j,Z){var F=[];for(var _=0;_<C.length;_++){var $=C[_],L,D;if($>=0){L=Q.k[$];D=L.hm(Q,j,Z)}else{L=Q.te[-1-$];
D=[2]}var d=[];if(D.indexOf(0)!=-1){var o={Gr:[e.clone(L.buffer),L.rect.clone()]};d.push(o);if(L.nr()){var v=L.qv(Q);
o.vmA=e.clone(v.buffer);o.vyO=v.rect.clone()}}else d.push(null);if(D.indexOf(1)!=-1)d.push(L.oH().clone());
else d.push(null);if(D.indexOf(2)!=-1)d.push({dh:L.add.vmsk.clone(),oj:L.add.vstk?JSON.parse(JSON.stringify(L.add.vstk)):null,hv:L.add.vstk?G.oP.VW(Q,$):null,Ky:L.add.vogk?JSON.parse(JSON.stringify(L.add.vogk)):null});
else d.push(null);if(L.add.TySh&&d[0]){rD.jI(L.add.TySh);d.push(L.add.TySh.M.clone())}else d.push(null);
if(L.add.SoLd&&d[0])d.push(JSON.parse(JSON.stringify(L.add.SoLd)));else d.push(null);if(D.indexOf(3)!=-1)d.push(L.qv(Q).A.clone());
else d.push(null);if(L.add.lmfx)d.push(JSON.stringify(L.add.lmfx));else d.push(null);F.push(d)}return F};
G.S.Qu=function(Q,C,j){for(var Z=0;Z<C.length;Z++){var F=C[Z],_=0<=F?Q.k[F]:Q.te[-1-F],$=j[Z];if($[0]){_.rect=$[0].Gr[1].clone();
_.buffer=e.clone($[0].Gr[0]);if(_.nr()){var L=_.qv(Q);L.buffer=e.clone($[0].vmA);L.rect=$[0].vyO.clone()}}if($[1]){_.oH().channel=e.clone($[1].channel);
_.oH().rect=$[1].rect.clone();_.oH().CZ=!0}if($[2]){_.add.vmsk=$[2].dh.clone();if($[2].hv)G.oP.Yg(_,$[2].hv);
if($[2].oj)_.add.vstk=JSON.parse(JSON.stringify($[2].oj));if($[2].Ky)_.add.vogk=JSON.parse(JSON.stringify($[2].Ky))}if($[3]){_.add.TySh.M=$[3].clone();
rD.Io(_.add.TySh)}if($[4]){_.add.SoLd=JSON.parse(JSON.stringify($[4]))}if($[5]){var D=_.qv(Q).A;D.channel=e.clone($[5].channel);
D.rect=$[5].rect.clone()}if($[6]){_.add.lmfx=JSON.parse($[6])}if(0<=F){_.Ea(Q);_.X()}}Q.X()};G.S.xZ=function(Q){var C=Q.clone(),j=Math.atan2(-C._,C.om),Z=new rI;
Z.rotate(-j);C.concat(Z);return(Math.abs(C.om)+Math.abs(C.xP))/2};G.S.VE=function(Q,C,j,Z,F,_,$,L,D,d){var o=e.V.rk(_),v=G.S.xZ(o);
for(var f=0;f<j.length;f++){var U=j[f],H=0<=U?Q.k[U]:Q.te[-1-U],B=Z[f];if(H.add.lmfx&&L)rk.vWM(H.add.lmfx,v);
if(B[0]&&!B[3]&&!B[4]&&!B[5]){var m=B[0].Gr;if(D){var Y=D.clone(),q=e.Q(Y.P()*4);e.tW(m[0],m[1],q,Y);
m=[q,Y]}var r=G.S.pI(m,F,_,$,F==0?H.buffer.buffer:null,null,null,d);if(r){H.rect=r.rect;H.buffer=r.buffer}}if(B[1])G.S.vKK(Q,B[1],H.oH(),F,_,$);
if(B[2]){var x=$&&!e.$k.CH($),a=B[2].dh.clone(),i=j.length==1&&a.H.length!=0,l=j.length==1&&a.hc.length>1;
if(l)i=!1;var M=i?a.H:null,z=l?a.hc:null;if(x){var V=e.$k.ah($);e.V.apply(_,V);e.D.vBV(a.G,V,M,z)}else e.D.vBb(a.G,_,M,z);
if(H.add.vstk&&L){H.add.vstk.strokeStyleLineWidth.v.val=B[2].oj.strokeStyleLineWidth.v.val*v;var X=B[2].hv;
if(X.Gg==3){X=JSON.parse(JSON.stringify(X));var O=X.hv.phase.v;X.hv.Scl.v.val=Math.round(X.hv.Scl.v.val*v);
O.Hrzn.v=Math.round(O.Hrzn.v*v);O.Vrtc.v=Math.round(O.Vrtc.v*v);G.oP.Yg(H,X)}}if(H.add.vogk){H.add.vogk=JSON.parse(JSON.stringify(B[2].Ky));
if(x||l)e.Ky.vkC(H.add.vogk);else e.Ky.M(H.add.vogk,_,j.length>1?[]:a.H,L)}a.hD*=v;H.add.vmsk=a;if(H.add.vogk)e.Ky.mY(H.add.vogk,H.add.vmsk)}if(B[3]){var y=B[3].clone();
y.concat(o);H.add.TySh.M=y;rD.Io(H.add.TySh);var K=new _J(H.add.TySh.Qp,C.ho),R=vQ.or(K,H.add.TySh);
H.rect=R.z;H.buffer=R.Dg}if(B[4]){var W=H.add.SoLd,N=G.S.wN(B[4].nonAffineTransform);e.V.apply(_,N);
var I=e.g.eI(N);if(_V.SD(N)){if($){var T=e.g.NM(e.$k.ah(B[4].warp.v)),h=e.V.xT(N,T),p=e.g.NM(e.$k.ah($));
N=[p.x,p.y,p.x+p.W,p.y,p.x+p.W,p.y+p.C,p.x,p.y+p.C];e.V.apply(h,N);W.warp.v=$}var u=e.V.xT(N),g=N;if(!e.V.mO(u)){u[6]=u[7]=0;
g=[0,0,1,0,1,1,0,1];e.V.apply(u,g)}W.Trnf=G.S.Zv(g);W.nonAffineTransform=G.S.Zv(N);H.RN(Q,F==0)}}if(B[5])G.S.vKK(Q,B[5],H.qv(Q).A,F,_,$);
if(0<=U){if(F!=0)H.Dx();H.Ea(Q);H.X()}}Q.X()};G.S.Ia=function(Q,C,j,Z,F,_){if(j==null)j=!1;return G.S.pI(Q,j?0:1,e.V.ij(C),null,Z,F,_,j)};
G.S.pI=function(Q,C,j,Z,F,_,$,L){if(L==null)L=!1;if(L&&$)throw"e";var D={},f=0,U=.3;if(Z&&!e.$k.CH(Z)){var d=e.$k.ah(Z);
e.V.apply(j,d);D.rect=e.g.eI(d);D.buffer=e.Q(D.rect.P()*4);e.tl.drawImage(d,Q[0],Q[1].W,Q[1].C,D.buffer,D.rect,C==0);
return D}e.aR(Q);var o=Q[0],v=Q[1],H=v.P()*G.S.xZ(e.V.rk(j));if(L&&H>4e6)U=H>8e6?2.2:1.2;while(f+3<Q.length&&Q[f+3].P()>16&&e.V.mO(j)&&G.S.xZ(e.V.rk(j))<U){f+=2;
var B=Q[f],m=Q[f+1],Y=v.W/m.W,q=v.C/m.C;j=e.V.uY(j,[1,0,v.x,0,1,v.y,0,0]);j=e.V.uY(j,[Y,0,0,0,q,0,0,0]);
j=e.V.uY(j,[1,0,-v.x,0,1,-v.y,0,0]);v=m;o=B}var r=e.V.uY(j,e.V.ij(new rI(v.W,0,0,v.C,v.x,v.y))),x=[0,0,1,0,1,1,0,1];
e.V.apply(r,x);D.rect=e.g.eI(x);if($)D.rect=D.rect.QU($);if(L){while((D.rect.W&3)!=0)D.rect.W++;while((D.rect.C&3)!=0)D.rect.C++}if(!_V.SD(x)||D.rect.W>1e5||D.rect.C>1e5||D.rect.P()>3e4*3e4)return null;
var a=D.rect.P()*4;if(F&&F.byteLength>=a&&a>=F.byteLength>>2){D.buffer=new Uint8Array(F)}else{D.buffer=e.Q(a)}e.V.drawImage(r,o,v.W,v.C,D.buffer,D.rect,C==0,_,L);
if(C==2&&D.buffer){var i=D.rect.W,l=D.rect.C,M;M=[0,-1,0,-1,16,-1,0,-1,0];M=e.qq.kp(M);var z=D.buffer.slice(0);
e.vW(z);e.qq.Yf(z,D.buffer,i,l,M,0);e.nE(D.buffer);e.vj(D.buffer)}if(D.buffer)return D};G.S.vKK=function(Q,C,j,Z,F,_){if(C.color==255)e.Ie(C.channel);
var $=C.rect,L=e.Q($.P()*4);e.gG(C.channel,L,3);var D=G.S.pI([L,$],Z,F,_);if(D){j.rect=D.rect;j.channel=e.Q(D.rect.P());
e.yq(D.buffer,j.channel,3);j.CZ=!0}if(C.color==255){e.Ie(C.channel);if(D)e.Ie(j.channel)}};G.S.wN=function(Q){var C=[],j=Q.v.length;
for(var Z=0;Z<j;Z++)C.push(Q.v[Z].v);return C};G.S.Zv=function(Q){var C={t:"VlLs",v:[]},j=Q.length;for(var Z=0;
Z<j;Z++)C.v.push({t:"doub",v:Q[Z]});return C};G.S.prototype.vrc=function(){var Q=e.g.NM(e.$k.ah(this.au.S_())),C=e.V.xT(this.sB.F_(),this.xL),j=[Q.x,Q.y,Q.x+Q.W,Q.y,Q.x+Q.W,Q.y+Q.C,Q.x,Q.y+Q.C];
e.V.apply(C,j);this.sB.Sv(j);this.xL=Q};G.S.prototype.AT=function(Q,C,j,Z){var F=e.V.xT(this.sB.F_(),this.xL);
F=e.V.uY(F,e.V.Ie(this.G$));var _=this.au?this.au.S_():null;if(this.io==0){this.GD=e.V.rk(F);G.S.VE(Q,C,this.k,this.RM,j,F,_,null,null,Z)}else if(this.io==1){var $=Q.k[this.k[0]],L=this.ck.z;
if($.IF<=0){var D=this.ck.xu,d=this.pq;if(_&&!e.$k.CH(_)&&!d.rect.gm(L)){var o=e.Q(d.rect.P()*4);e.tW(D,L,o,d.rect);
D=o;L=d.rect}var v=G.S.pI([D,L],j,F,_);if(v){$.uj.Zm=v.buffer;$.uj.Cj=v.rect;var f=e.Q(v.rect.P());e.yq($.uj.Zm,f,3);
Q.v={channel:f,rect:$.uj.Cj.clone()}}}else{var U=e.Q(L.P()*4);e.gG(this.ck.xu,U,3);var v=G.S.pI([U,L],j,F,_);
if(v){$.uj.Zm=e.Q(v.rect.P());e.yq(v.buffer,$.uj.Zm,3);$.uj.Cj=v.rect}this.vKM(Q,j,F,_)}$.aW(Q,0,0,Q.v);
if(j!=0){$.Dx();e.Dx(Q.v)}Q.DH=!0;Q.X()}else if(this.io==2)this.vKM(Q,j,F,_)};G.S.prototype.vKM=function(Q,C,j,Z){var F=this.pq.rect,_=e.Q(F.P()*4);
e.gG(this.pq.channel,_,3);var $=G.S.pI([_,F],C,j,Z),L=e.Q($.rect.P());e.yq($.buffer,L,3);Q.v={channel:L,rect:$.rect};
Q.DH=!0};G.S.prototype.disable=function(Q,C,j,Z){if(this.sB)this.hp(Q,C,null,!0)};G.vjb=function(){G.S.call(this,[10,16],G.sI,"tools/transform")};
G.vjb.prototype=new G.S;G.vJD=function(){G.S.call(this,[7,10],G.Ch,"tools/transform")};G.vJD.prototype=new G.S;
G.gq=function(Q,C,j){G.xB.call(this,[10,46],G.lk,"tools/transform");this.Er=[1,1,2,!0];this.qI="\0\0\x03\x82";
this.GR=null;this.vOs=null;this.yu=null;this.dc=null;this.DU=null;this.ry=null;this.hN=[]};G.gq.prototype=new G.xB;
G.gq.prototype.cX=function(){return!0};G.gq.vQj=function(Q){if(Q==null)return!1;if(Q.H.length!=1)return!1;
var C=Q.k[Q.H[0]];return C.add.SoLd||Q.TE(!1)};G.gq.prototype.LA=function(Q,C){return G.gq.vQj(Q)};G.gq.prototype.enable=function(Q,C,j,Z,F,_,$){this.vOs=_.qL;
var L=_.qL,D,B=null;if(L){var d=Q.k[L.c];if(d.add.SoLd.filterFX!=null){var o=d.add.SoLd.filterFX.v.filterFXList.v;
if(o[L.index])D=JSON.parse(JSON.stringify(o[L.index].v.Fltr.v))}}var v=D==null,d=Q.k[Q.H[0]],f=d.buffer,U=d.rect,H=d.add.SoLd;
if(H){var m=H.nonAffineTransform.v;B=[];for(var Y=0;Y<4;Y++)B.push(m[Y*2].v,m[Y*2+1].v);if(v)this.YS("edit",C);
var q=d.qv(Q);f=q.buffer;U=q.rect}this.GR={buffer:f.slice(0),rect:U.clone(),vyr:B};if(v)D=G.gq.vDQ(this.GR,this.Er);
this.yu=D;this.dc=G.gq.VA(this.yu,this.Er);this.Vx();this.VK(Q);if(v)this.MT(C);var r=new P(t.E.m,!0);
r.data={$:t.i.hq,Y:this.id,Vh:this.Er};C.Z(r);r.data={$:t.i.ea,Js:"default"};C.Z(r)};G.gq.prototype.disable=function(Q,C,j,Z){if(this.dc)this.hp(Q,C,!0)};
G.gq.prototype.Vx=function(Q){var C=this.dc;this.hN=[];for(var j=0;j<C.length;j++){var Z=C[j];for(var F=0;
F<Z.H.length;F++)this.hN.push([j,Z.H[j]]);Z.NZ=e.pN.j_(Z);if(Q)e.pN.Rq(Z)}};G.gq.prototype.qU=function(Q,C,j,Z){if(Q.zR=="commit")this.hp(j,C,!0);
else if(Q.zR=="cancel")this.QZ(j,C,!0);else if(Q.zR=="prm"){var F=!1;for(var _=0;_<3;_++)if(this.Er[_]!=Q.Vh[_])F=!0;
this.Er=Q.Vh;if(F){this.yu=G.gq.vDQ(this.GR,this.Er,this.yu);this.dc=G.gq.VA(this.yu,this.Er);this.Vx(!0);
this.MT(C)}this.VK(j)}else if(Q.zR=="moveDepth"){var $=this.dc;for(var L=0;L<$.length;L++){var D=$[L];
for(var _=0;_<D.H.length;_++){var d=D.H[_];D.hn[d]+=Q.vy_?1:-1}}this.MT(C)}};G.gq.prototype.Yy=function(Q,C){return Q==b.Ae||Q==b.oC};
G.gq.prototype.ZZ=function(Q,C,j,Z){var F=Z.po();if(Z.r(b.bA))this.hp(Q,C,!0);else if(Z.r(b.Fj))this.QZ(Q,C,!0);
else if(Z.r(b.Ae)||Z.r(b.oC)){var _=this.dc;for(var $=0;$<_.length;$++){var L=_[$];L.H.sort(function(v,f){return f-v});
for(var D=0;D<L.H.length;D++){var d=L.H[D],o=d*2;L.hn.splice(d,1);L.Mt.splice(d,1);L.Mb.splice(d,1);
L.Jf.splice(d,1);L.Qy.splice(o,2);L.wO.splice(o,2)}L.H=[];if(L.Jf.length==0){L.YT=L.bZ.slice(0);L.QW=L.bZ.slice(0)}}this.Vx(!0);
this.MT(C);this.VK(Q)}else if(F.x!=0||F.y!=0){this.vp$(Q,F.x,F.y,C);this._Q=null}};G.gq.prototype.hp=function(Q,C,j){this.YS("confirm",C);
this.escape(Q,C,j)};G.gq.prototype.QZ=function(Q,C,j){this.YS("cancel",C);this.escape(Q,C,j)};G.gq.prototype.escape=function(Q,C,j){Q.j.Il=null;
Q.j.FZ=[];Q.uV=!0;this.dc=null;var Z=new P(t.E.m,!0);Z.data={$:t.i.sk};if(j)C.Z(Z)};G.gq.prototype.yi=function(Q,C,j,Z,F){var _=Q.R.gx(F.x,F.y),$=_.x,L=_.y,D=this.dc,d=null,o=[0,2,4,1.2,1.2,1.2],v=-1,f=t.s()*5/Q.R.l;
for(var U=0;U<D.length;U++){var H=D[U],B=e.g.y$(H.wO,$,L,f);if(B!=-1)d=[U,B];if(v==-1&&e.pN.jQ.vER(H.QW,H.qM,$,L))v=U}if(d==null&&v!=-1){var H=D[v];
G.gq.vju(H,$,L,$,L,0);d=[v,H.Jf.length-1];H.NZ=e.pN.j_(H)}this.DU=_;if(d){var m=D[d[0]].H.indexOf(d[1])!=-1;
if(Z.r(b.WO)&&!m){D[d[0]].H.push(d[1]);this.hN.push(d)}else if(!m){D[d[0]].H=[d[1]];this.hN=[d]}}this.VK(Q)};
G.gq.vju=function(Q,C,j,Z,F,_){var $=e.g.y$(Q.QW,C,j);Q.Jf.push($);Q.wO.push(Z,F);Q.Qy.push(Q.QW[$*2]-C,Q.QW[$*2+1]-j);
Q.Mb.push(0);Q.Mt.push(!1);Q.hn.push(_)};G.gq.prototype.eF=function(Q,C,j,Z,F){var _=Q.R.gx(F.x,F.y),$=this.DU;
if($)this.vp$(Q,_.x-$.x,_.y-$.y,C)};G.gq.prototype.vp$=function(Q,C,j,Z){var F={},_=this.hN,$=this.dc;
if(this._Q==null){this._Q=[];for(var L=0;L<$.length;L++)this._Q.push($[L].wO.slice(0))}for(var L=0;L<_.length;
L++){var D=this.hN[L],d=D[0],o=$[D[0]],v=D[1]*2;o.wO[v+0]=this._Q[d][v+0]+C;o.wO[v+1]=this._Q[d][v+1]+j;
F[d]=d}for(var d in F)e.pN.Rq(this.dc[F[d]]);this.VK(Q);this.MT(Z)};G.gq.prototype.YS=function(Q,C){var j=new P(t.E.a,!0);
j.Y=G.yz;j.data={$:Q,qL:this.vOs,qI:this.qI,dK:this.yu};C.Z(j)};G.gq.prototype._c=function(Q,C,j,Z,F){this.DU=null;
this._Q=null};G.gq.prototype.MT=function(Q){G.gq.vuq(this.dc,this.Er,this.yu);this.YS("edit",Q)};G.gq.prototype.VK=function(Q){var C=this.dc,j=this.yu;
Q.j.Il={b:[],u:[]};Q.j.FZ=[];Q.j.k$=[];for(var Z=0;Z<C.length;Z++){var F=C[Z];for(var _=0;_<F.H.length;
_++)Q.j.k$.push((Q.j.FZ.length>>>1)+F.H[_]);Q.j.FZ=Q.j.FZ.concat(F.wO);if(this.Er[3])e.g.concat(Q.j.Il,e.g.vIt(F.QW,F.qM))}Q.uV=!0};
G.gq.vDQ=function(Q,C,j){var Z=Q.buffer,F=Q.rect,_=Q.vyr,$=vr._j("\0\0\x03\x82");if(_)for(var L=0;L<4;
L++){$["PuX"+L].v=_[L*2];$["PuY"+L].v=_[L*2+1]}var D=$.puppetShapeList.v,d=e.pN.vzT(Z,F.W,F.C,C[1],C[2]),o=[];
for(var v=0;v<d.length;v++){var f={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
f.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var U=d[v];D.push({t:"Objc",v:f});var H=U.bZ.slice(0);e.g.M(H,new rI(1,0,0,1,F.x,F.y),H);var B=U.qM;
for(var L=0;L<B.length;L+=3){var m=B[L+1];B[L+1]=B[L+2];B[L+2]=m}o.push({qM:B,bZ:H,YT:H,QW:H,Jf:[],Qy:[],wO:[],NZ:null,H:[],Mb:[],Mt:[],hn:[]})}if(j){var Y=G.gq.VA(j,[]),q=o[0];
for(var L=0;L<Y.length;L++){var r=Y[L];for(var x=0;x<r.H.length;x++)q.H.push((q.wO.length>>>1)+r.H[x]);
for(var x=0;x<r.Jf.length;x++){var a=r.Jf[x]*2,i=r.bZ[a]-r.Qy[x*2],l=r.bZ[a+1]-r.Qy[x*2+1];G.gq.vju(q,i,l,r.wO[x*2],r.wO[x*2+1],r.hn[x])}}}G.gq.vuq(o,C,$);
return $};G.gq.VA=function(Q,C){function j(l){var M=[];for(var B=0;B<l.length;B++)M.push(l[B].v);return M}var Z=Q.puppetShapeList.v,F=[];
for(var _=0;_<Z.length;_++){var $=Z[_].v;C[0]=$.meshRigidity.v-1;C[1]=$.meshQuality.v-1;C[2]=$.meshExpansion.v;
var L=$.pinVertexIndices.v.length,D=$.meshBoundaryPath.v.pathComponents.v[0].v.SbpL.v[0].v.Pts;D.v=[];
var d=new Uint32Array(new Uint8Array($.indexArray.v).buffer),o=new Float32Array(new Uint8Array($.originalVertexArray.v).buffer),v=new Float32Array(new Uint8Array($.deformedVertexArray.v).buffer),f=[],U=[],H=[];
for(var B=0;B<d.length;B++)f.push(d[B]);for(var B=0;B<o.length;B++){U.push(o[B]);H.push(v[B])}var m=j($.pinVertexIndices.v),Y=j($.pinOffsets.v),q=j($.posFinalPins.v),r=j($.PnRt.v),x=j($.PnOv.v),a=j($.PnDp.v),i=j($.selectedPin.v);
F.push({qM:f,bZ:U,YT:H.slice(0),QW:H,Jf:m,Qy:Y,wO:q,NZ:null,Mb:r,Mt:x,hn:a,H:i})}return F};G.gq.vuq=function(Q,C,j){function Z(U,H){var B=[];
for(var o=0;o<U.length;o++)B.push({t:H,v:U[o]});return B}function F(U,H,B){var m=new(B?Uint32Array:Float32Array)(U),Y=new Uint8Array(m.buffer);
for(var o=0;o<Y.length;o++)H[o]=Y[o]}var _=j.puppetShapeList.v;for(var $=0;$<_.length;$++){var L=Q[$],D=_[$].v;
D.meshRigidity.v=C[0]+1;D.meshQuality.v=C[1]+1;D.meshExpansion.v=C[2];F(L.qM,D.indexArray.v,!0);F(L.bZ,D.originalVertexArray.v);
F(L.QW,D.deformedVertexArray.v);var d=[];for(var o=0;o<L.Jf.length;o++){var v=L.Jf[o]*2,f=o*2;d[f]=L.bZ[v]-L.Qy[f];
d[f+1]=L.bZ[v+1]-L.Qy[f+1]}D.PinP.v=Z(d,"doub");D.pinVertexIndices.v=Z(L.Jf,"long");D.pinOffsets.v=Z(L.Qy,"doub");
D.posFinalPins.v=Z(L.wO,"doub");D.PnRt.v=Z(L.Mb,"long");D.PnOv.v=Z(L.Mt,"bool");D.PnDp.v=Z(L.hn,"doub");
D.selectedPin.v=Z(L.H,"long")}};G.bC=function(Q,C,j){G.xB.call(this,Q?Q:[10,40],C?C:G.CD,j?j:"tools/slice");
this.gc=null;this.pr=null;this.kr=null;this.v$g=null;this._C=null;this.HD=null};G.bC.prototype=new G.xB;
G.bC.qx=function(Q,C){var j=-1;for(var Z=0;Z<Q.length;Z++){var F=G.bC.QY(Q,Z);if(F[0]<=C.x&&C.x<=F[2]&&F[1]<=C.y&&C.y<=F[3]){j=Z;
break}}return j};G.bC.prototype.yc=function(Q,C,j,Z,F){this.Uj(j);j.Dl[j.BV[0]].v=Q;j.uV=!0;this.dr(j)};
G.bC.prototype.enable=function(Q,C,j,Z,F,_){G.xB.prototype.enable.call(this,Q,C,j,Z,F,_);if(!j.ZD.Dl){var $=new P(t.E.m,!0);
$.data={$:t.i.yN,Vh:rQ.cH};C.Z($)}};G.bC.prototype.disable=function(){this.gc=null;this.pr=null};G.bC.prototype.MJ=function(Q,C,j,Z,F){var _=Q.R.gx(F.x,F.y),$=G.bC.qx(Q.Dl,_);
if($==-1)return;this.gc=Q;this.pr=C;Q.BV=[$];Q.uV=!0;if(this.HD==null){this.HD=new QG([{name:[5,4]},{name:[8,11,1],qm:!0}]);
this.HD.p("select",this.gb,this)}var L=this.HD;L.parent=C;L.N();L.update(Q,j);var D=new P(t.E.m,!0);
D.data={$:t.i.Ko,kU:L,x:F.wh+2,y:F.BY+1};C.Z(D)};G.bC.prototype.gb=function(Q){var C=this.HD.X_()[0],j=this.gc;
if(C==0){this.Uj(j);j.Dl.splice(j.BV[0],1);j.BV=[];j.uV=!0;this.dr(j)}if(C==1){var Z=new P(t.E.m,!0);
Z.data={$:t.i.kN,ul:"soptions",O:j.Dl[j.BV[0]].v};this.pr.Z(Z)}};G.bC.prototype.yi=function(Q,C,j,Z,F){if(Q==null)return;
this.Uj(Q);var _=Q.R.gx(F.x,F.y);_=G.BG.Bu(Q,_,j,[!0,null,!1]);_.x=Math.round(_.x);_.y=Math.round(_.y);
this._C=_;Q.Dl.unshift(G.bC.vTw());Q.BV=[0];G.bC.Ug(Q.Dl,0,[_.x,_.y,_.x+20,_.y+20]);Q.uV=!0};G.bC.prototype.eF=function(Q,C,j,Z,F){if(this.kr==null)return;
var _=Q.R.gx(F.x,F.y),$=this._C;_=G.BG.Bu(Q,_,j,[!0,null,!1]);_.x=Math.round(_.x);_.y=Math.round(_.y);
var L=[$.x,$.y,_.x,_.y];G.bC.vQW(L);G.bC.Ug(Q.Dl,0,L);Q.uV=!0};G.bC.prototype._c=function(Q,C,j,Z,F){this.dr(Q);
this._C=null};G.bC.prototype.Uj=function(Q){this.kr=JSON.stringify(Q.Dl);this.v$g=JSON.stringify(Q.BV)};
G.bC.prototype.dr=function(Q){var C=JSON.stringify(Q.Dl);if(C!=this.kr){var j=new ro(this.name,this);
j.data={ck:this.kr,gO:C,vyt:this.v$g,vyV:JSON.stringify(Q.BV)};Q.Rk(j)}this.kr=null};G.bC.prototype.ZH=function(Q,C){C.Dl=JSON.parse(Q.ck);
C.BV=JSON.parse(Q.vyt);C.uV=!0};G.bC.prototype.rg=function(Q,C){C.Dl=JSON.parse(Q.gO);C.BV=JSON.parse(Q.vyV);
C.uV=!0};G.bC.prototype.Yy=function(Q,C){return C!=null&&C.BV.length!=0&&(Q==b.Ae||Q==b.oC)};G.bC.prototype.ZZ=function(Q,C,j,Z){if(Q==null)return;
this.Uj(Q);var F=Z.po();if(F.x!=0||F.y!=0)G.bC.oz(Q,F);if(Z.r(b.Ae)||Z.r(b.oC)){var _=Q.Dl.slice(0);
for(var $=0;$<Q.BV.length;$++)Q.Dl.splice(Q.Dl.indexOf(_[Q.BV[$]]),1);Q.BV=[]}this.dr(Q)};G.bC.prototype.qU=function(Q,C,j,Z,F){if(j==null||j.BV.length==0)return;
this.Uj(j);var _=j.Dl,$=j.BV;$.sort(function(H,B){return H-B});console.log($);var L=_.slice(0),D=[],d=[];
for(var o=0;o<$.length;o++){var v=$[o],f=_[v];d.push(f);L.splice(L.indexOf(f),1)}var U=Math.max(0,Math.min(L.length,$[0]-Q.dir));
for(var o=0;o<d.length;o++){L.splice(U+o,0,d[o]);D.push(U+o)}j.Dl=L;j.BV=D;this.dr(j)};G.bC.vrh=function(Q,C,j,Z){var F=new Wn(-C.x,-C.y),_=C.W/j.W,$=C.C/j.C,L=[0,0,C.W,C.C];
for(var D=0;D<Q.length;D++){var d=G.bC.QY(Q,D);if(Z){d[0]=Math.round(d[0]*_);d[1]=Math.round(d[1]*$);
d[2]=Math.round(d[2]*_);d[3]=Math.round(d[3]*$)}else{G.bC.VM(d,F);G.bC.vrG(d,L)}if(d[0]>=d[2]||d[1]>=d[3]){Q.splice(D,1);
D--;continue}G.bC.Ug(Q,D,d)}};G.bC.oz=function(Q,C){var j=Q.Dl;for(var Z=0;Z<Q.BV.length;Z++){var F=G.bC.QY(j,Q.BV[Z]);
G.bC.VM(F,C);G.bC.Ug(j,Q.BV[Z],F)}};G.bC.vrG=function(Q,C){if(Q[0]<C[0])Q[0]=C[0];if(Q[1]<C[1])Q[1]=C[1];
if(C[2]<Q[2])Q[2]=C[2];if(C[3]<Q[3])Q[3]=C[3]};G.bC.VM=function(Q,C){Q[0]=Math.round(Q[0]+C.x);Q[2]=Math.round(Q[2]+C.x);
Q[1]=Math.round(Q[1]+C.y);Q[3]=Math.round(Q[3]+C.y)};G.bC.Ug=function(Q,C,j){var Z=Q[C].v.bounds.v;Z.Left.v=j[0];
Z.Top.v=j[1];Z.Rght.v=j[2];Z.Btom.v=j[3]};G.bC.QY=function(Q,C){var j=Q[C].v.bounds.v;return[j.Left.v,j.Top.v,j.Rght.v,j.Btom.v,C]};
G.bC.vQW=function(Q){if(Q[2]<Q[0]){var C=Q[0];Q[0]=Q[2];Q[2]=C}if(Q[2]==Q[0])Q[2]++;if(Q[3]<Q[1]){var C=Q[1];
Q[1]=Q[3];Q[3]=C}if(Q[3]==Q[1])Q[3]++};G.bC.NM=function(Q,C){var j=1e9,Z=-1e9,F=1e9,_=-1e9;for(var $=0;
$<C.length;$++){var L=G.bC.QY(Q,C[$]);j=Math.min(j,L[0]);F=Math.min(F,L[1]);Z=Math.max(Z,L[2]);_=Math.max(_,L[3])}return[j,F,Z,_]};
G.bC.vTw=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
G.pp=function(){G.bC.call(this,[10,41],G.ll,"tools/sselect");this._C=null;this.cl=null;this.IW=null;
this.ry=null;this.Gi=!1};G.pp.prototype=new G.bC;G.pp.prototype.yi=function(Q,C,j,Z,F){if(Q==null)return;
var _=Q.R.gx(F.x,F.y),$=G.pp.v_j(_,4/Q.R.l,Q.Dl,Q.BV);$.pop();if($.length!=0){this._C=_;this.IW=$;this.Uj(Q);
return}var L=Q.Dl,D=G.bC.qx(L,_);if(D==-1)Q.BV=[];else{var d=Q.BV.indexOf(D);if(Z.r(b.WO)){if(d==-1)Q.BV.push(D);
else Q.BV.splice(d,1)}else{Q.BV.sort(function(m,Y){return m-Y});if(d==-1)Q.BV=[D];this._C=_;this.Uj(Q);
this.cl=G.bC.NM(L,Q.BV);this.ry=[];for(var o=0;o<Q.BV.length;o++)this.ry.push(G.bC.QY(L,Q.BV[o]));if(Z.r(b.DT)){var v=L.slice(0),f=Q.BV,U=[];
for(var o=0;o<f.length;o++){var D=f[o],H=v[D],B=L.indexOf(H);U.push(B);L.splice(B,0,JSON.parse(JSON.stringify(H)))}Q.BV=U}}}Q.uV=!0};
G.pp.prototype.eF=function(Q,C,j,Z,F){var _=Q.R.gx(F.x,F.y);if(this._C==null){var $=G.pp.v_j(_,4/Q.R.l,Q.Dl,Q.BV),L=$.pop(),D=$.length==0?"default":["ew","nwse","ns","nesw"][L]+"-resize",d=new P(t.E.m,!0);
d.data={$:t.i.ea,Js:D};C.Z(d);return}if(!this.Gi&&_.gm(this._C))return;this.Gi=!0;var o=Q.Dl,$=this.IW;
if($){_=G.BG.Bu(Q,_,j,[!0,null,!1]);var v=Math.round(_.x),f=Math.round(_.y);for(var U=0;U<$.length;U+=2){var H=G.bC.QY(o,$[U]),B=$[U+1];
H[B]=(B&1)==0?v:f;G.bC.vQW(H);G.bC.Ug(o,$[U],H)}}else{var m=_.qF(this._C),Y=this.cl.slice(0);G.bC.VM(Y,m);
var q=new s(Y[0],Y[1],Y[2]-Y[0],Y[3]-Y[1]),r=G.BG.EP(Q,q,j,[!0,null,!1],!0);G.BG.EL(Q,q,r);m.x+=r[0];
m.y+=r[1];for(var U=0;U<Q.BV.length;U++)G.bC.Ug(o,Q.BV[U],this.ry[U]);G.bC.oz(Q,m)}Q.uV=!0};G.pp.prototype._c=function(Q,C,j,Z,F){if(this._C==null)return;
this.dr(Q);Q.j.Vt=null;Q.uV=!0;this._C=null;this.IW=null;this.ry=null;this.Gi=!1};G.pp.v_j=function(Q,C,j,Z){var F=Q.x,_=Q.y,$=[],L=-1,D=[];
for(var d=0;d<Z.length;d++){var o=Z[d],v=G.bC.QY(j,o),f=v[0],U=v[1],H=v[2],B=v[3];if(F<f-C||H+C<F||_<U-C||B+C<_)continue;
var m=[F<f+C,_<U+C,H-C<F,B-C<_],Y=-1;for(var q=0;q<4;q++){if(m[q]&&m[q+1&3])Y=1+2*(q&1);if(m[q])$.push(o,q)}if(Y==-1){if(m[0]||m[2])Y=0;
if(m[1]||m[3])Y=2}if(Y!=-1){L=Y;D.push(o)}}var r=$.length;for(var d=0;d<r;d+=2){var o=$[d],x=$[d+1],a=G.bC.QY(j,o)[x];
for(var q=0;q<Z.length;q++){var i=Z[q];if(D.indexOf(i)!=-1)continue;var v=G.bC.QY(j,i);if(v[x&1]==a)$.push(i,x&1);
if(v[2+(x&1)]==a)$.push(i,2+(x&1))}}$.push(L);return $};G.vz=function(){G.jT.call(this,[10,44],G.vxC,"tools/oselect");
this.tS="crosshair";this.v$f=0};G.vz.prototype=new G.jT;G.vz.prototype.GF=function(Q,C,j,Z){if(Math.random()<1/(1+this.v$f)){alert("The cross should be fully inside the object.",3500);
this.v$f++}};G.vz.prototype.LC=function(Q,C,j,Z){G.ge.vSs(Q,G.jT.Zk,this.pr);if(!Z.gN||!this.$X)return;
var F=this.ET(Q,j,!1),_=F.W,$=F.C,L=F.x,D=F.y,d=F.x+_,o=F.y+$,v=L+_/2,f=D+$/2,U=G.vz.vQa;Q.j.Il={b:[L,D,d,D,d,o,L,o,v-_*U,f,v+_*U,f,v,f-$*U,v,f+$*U],u:"M L L L Z M L M L".split(" ")};
Q.uV=!0};G.vz.vQa=.12;G.vz.prototype.CB=function(Q,C,j,Z){Q.j.Il=null;Q.uV=!0;this.finish(Q,C,j,Z)};
G.vz.prototype.getSelection=function(Q,C,j,Z){if(this.GY.gm(this.kw)||!this.$X)return null;var F=this.ET(Q,j,!1),_=Q.k[Q.H[0]];
if(F.jJ()||!F.nY(_.rect))return null;return G.jT.ls("ObSl",F)};G.ge=function(){G.WR.call(this,[10,37],G.ME,"tools/qselect");
this.Iv="qselect"};G.ge.prototype=new G.WR;G.ge.prototype.yi=function(Q,C,j,Z,F){this.d$(Q,j,Z,F,1);
if(this.Ki==null)return;this.n_(Q)};G.ge.prototype.eF=function(Q,C,j,Z,F){this.dz(Q,C,j);G.ge.vSs(Q,G.jT.Zk,C);
if(this.dw)this.sE(Q,j,F);if(this.Ki==null)return;if(!F.gN)return;var _=this.du(Q,j,Z,F);if(_!=1)this.n_(Q)};
G.ge.vSs=function(Q,C,j){if(Q&&C.key!=G.ge.SO(Q)){C.key=G.ge.SO(Q);var Z=Q.k[Q.H[0]].rect.P(),_="Image Analysis ...";
if(Z==0)return;var F=Z>1e6,$=new P(t.E.m,!0);$.data={$:t.i.sJ,yp:_};if(F)j.Z($);setTimeout(function(){var L=G.ge.vRa(Q);
for(var D in L)C[D]=L[D];var $=new P(t.E.m,!0);$.data={$:t.i.sd,yp:_};if(F)j.Z($)},30)}};G.ge.SO=function(Q){var C=Q.H[0],j=Q.k[C],Z=j.rect,F=Z.W,_=Z.C,$=F*_,L=j.buffer;
return[C,Z.x,Z.y,F,_,L[0],L[1],L[2],L[3]].join(",")};G.ge.vRa=function(Q){var C=Q.H[0],j=Q.k[C],Z=j.rect,F=Z.W,_=Z.C,$=F*_,L=j.buffer,D=Date.now(),d=e.Q($);
d.fill(128);var o=e.xJ.zL(L,F,_);console.log(Date.now()-D);var v={key:G.ge.SO(Q),GS:L,rect:Z.clone(),fA:F,NE:_,aw:12,vWW:!1,Xi:d,Gs:o,v:e.Q($),EI:null,Mz:null,Ml:null};
G.ge.Ym(v);return v};G.ge.Ym=function(Q,C){var j=Q.fA,Z=Q.NE,F=0,_=0,$=Date.now(),L=Q.EI!=null&&e.xJ.vpQ(Q.Gs.qM,Q.EI.qM,Q.EI.IA,Q.Xi);
F=Date.now()-$;$=Date.now();if(!L&&!Q.vWW){Q.EI=e.xJ.zv(Q.Gs,j,Z,Q.Xi,Q.aw);if(!e.xJ.vpQ(Q.Gs.qM,Q.EI.qM,Q.EI.IA,Q.Xi)){Q.vWW=!0;
console.log("conflict")}Q.Mz=e.xJ.vEa(Q.GS,j,Z,Q.EI.qM,Q.EI.IA);Q.Ml=[Q.Mz[0].slice(0),[]];_=Date.now()-$;
$=Date.now()}var $=Date.now();if(C){Q.Ml[0].set(Q.Mz[0]);var D=Q.Mz[1],d=Q.Ml[1];for(var o=0;o<D.length;
o++)d[o]=D[o].slice(0);e.xJ.vEB(Q.EI.qM,j,Z,Q.EI.IA,Q.Xi,Q.v,Q.Ml)}};function _V(Q,C,j,Z,F,_,$,L){this.A$=null;
this.yV=Q?Q.slice(0):null;this.iG=4;this.kw=null;this.Ga=null;this.MX=null;this.nO=-1;this.gu=null;this.vWr=!1;
this.vWT=[];for(var D=0;D<8;D++)this.vWT.push(vX.vrO(0,PIMG.rotate,-.5,-.5,-45-D*45));this.vWa=C;this.vyS=j;
this.vys=Z;this.vyE=F;this.vWB=_;this.t$=$;this.vyd=L}_V.prototype.vib=function(){return this.nO!=-1};
_V.prototype.F_=function(){return this.yV.slice(0)};_V.prototype.Sv=function(Q){this.yV=Q};_V.prototype.v_D=function(){return this.M$(this.yV)};
_V.prototype.v_R=function(){return this.iG};_V.prototype.v_u=function(Q){this.iG=Q};_V.prototype.ph=function(Q){if(Q==null)Q=this.yV;
if(this.iG==9)return this.kw;else return this.M$(Q)[this.iG]};_V.prototype.v_y=function(Q){if(this.iG==9)this.kw=Q.clone();
else{var C=this.ph(),j=new rI(1,0,0,1,Q.x-C.x,Q.y-C.y);e.g.M(this.yV,j,this.yV)}};_V.prototype.d_=function(Q,C,j){var Z=this.Qc(Q,C),F;
if(Z==9)return"default";if(Z==10){if(j)return null;return!this.vWa?"move":null}if(Z==-1||Z==4)return null;
if(Z==11){var _=this.ph().qF(Q);F=90-Math.atan2(_.y,_.x)*180/Math.PI;var $=Math.round(8*(F/360));$=($+8)%8;
return this.vWT[$]}else{var L=this.dQ(Q,this.yV);F=[135,90,45,180,0,0,225,270,315][Z];var D=e.V.xT(this.yV);
F+=Math.atan2(-D[3],D[0])*180/Math.PI;var d="ew nesw ns nwse ew nesw ns nwse".split(" "),$=Math.round(8*(F/360));
$=($+8)%8;return d[$]+"-resize"}};_V.prototype.dQ=function(Q,C){var j=e.V.Ie(e.V.xT(C)),Z=new Float64Array(2);
e.V.Rs(Q.x,Q.y,j,Z);return new Wn(Z[0],Z[1])};_V.prototype.Qs=function(Q){var C=this.dQ(Q,this.yV);return 0<=C.x&&C.x<=1&&0<=C.y&&C.y<=1};
_V.prototype.yi=function(Q,C,j,Z,F,_){this.vWr=_;this.gu=Z;var $=Q.R.l,L;if(this.yV==null)Z=G.BG.Bu(Q,Z,C);
this.MX=Z.clone();if(this.yV==null){this.MX.offset(1,1);var D=F==null?1:1/F;this.yV=[Z.x,Z.y,Z.x+1,Z.y,Z.x+1,Z.y+D,Z.x,Z.y+D];
L=8}else{L=this.Qc(Z,$);if(0<=L&&L<=8)this.MX=this.M$(this.yV)[L]}this.A$=this.yV.slice(0);this.nO=L;
this.oN(Q,C);this.Ga=this.ph();return L!=-1};_V.prototype.Qc=function(Q,C){var j=-1,Z=this.M$(),F=6*t.s()/C;
if(j==-1)if(Wn.iQ(this.ph(),Q)<F)j=9;if(j==-1)for(var _=0;_<Z.length;_++)if(_!=4&&Wn.iQ(Z[_],Q)<F)j=_;
if(j==-1||this.t$==4){if(this.Qs(Q)){if(this.vWa)j=10}else{var $=this.dQ(Q,this.yV),L=new s(0,0,1,1);
L.ac(.2,.2);j=L._p($)&&this.t$!=3?11:10}}return j};_V.prototype.eF=function(Q,C,j,Z){if(this.nO==-1)return;
this.gu=Z;var F=j.r(b.WO),_=j.r(b.DT),$=j.r(b.XE),L=Q.R.l,D=this.MX,d=this.nO,o=this.M$(),v=G.BG.Bu(Q,D,C),f=G.BG.Bu(Q,Z,C),U,H;
if(d==9){var o=this.M$(),B=-1;for(var m=0;m<o.length;m++)if(Wn.iQ(o[m],f)*L<10)B=m;this.iG=B==-1?9:B;
this.kw=F?G.Xt.vv(v,f):f.clone()}else if(d==10){H=e.g.NM(this.A$);var Y=H.x,q=H.y;H.offset(Z.x-D.x,Z.y-D.y);
if(this.vDY()){H.x=Math.round(H.x);H.y=Math.round(H.y)}U=G.BG.EP(Q,H,C);var r=new rI(1,0,0,1,H.x-Y+U[0],H.y-q+U[1]);
e.g.M(this.A$,r,this.yV)}else if(d==11){var x=this.ph(this.A$),a=x.qF(Z),i=x.qF(D),l=Math.atan2(a.y,a.x),M=Math.atan2(i.y,i.x),r=new rI(1,0,0,1,-x.x,-x.y),z=Math.PI/12;
if(F)r.rotate(Math.round((M-l)/z)*z);else r.rotate(M-l);r.translate(x.x,x.y);e.g.M(this.A$,r,this.yV)}else{var V,X=this.A$,O=d==0||d==2||d==6||d==8;
if(this.t$==1){if(O)F=_=$=!0}else if(this.t$==2&&O&&this.vWr!=!0)$=!0;if(this.t$==3)$=!1;if(this.vys&&O&&$){var m=[0,0,2,0,0,0,6,0,4,0][d],y=-1,K=f.x,R=f.y;
if(F){var W=m+6&7,N=m+10&7,I=_V.vvC(X[m],X[m+1],X[W],X[W+1],f.x,f.y),T=_V.vvC(X[m],X[m+1],X[N],X[N+1],f.x,f.y),h=I[2]<T[2]?I:T;
K=h[0];R=h[1];if(_)y=I[2]<T[2]?W:N}else if(_)y=m+4&7;V=X.slice(0);if(y!=-1){var p=X[y],u=X[y+1],g=(X[m]+p)/2,A=(X[m+1]+u)/2;
V[y]=g-(K-g);V[y+1]=A-(R-A)}V[m]=K;V[m+1]=R}else if(O&&_){var x=this.Ga,w=x.x,r$=x.y,rW=v.x-w,J=v.y-r$,rr=1,r_=1;
if(Math.abs(rW)>=1)rr=(f.x-w)/rW;if(Math.abs(J)>=1)r_=(f.y-r$)/J;if(F)rr=r_=(rr+r_)/2;var rO=new rI;
rO.translate(-w,-r$);rO.scale(rr,r_);rO.translate(w,r$);V=X.slice(0);e.g.M(V,rO,V)}else{if(this.vDY()){f.x=Math.round(f.x);
f.y=Math.round(f.y)}var k=[0,1,2,5,8,7,6,3],rv=k[(k.indexOf(d)+4)%8],rb=[];for(var m=0;m<3;m++)for(var y=0;
y<3;y++)rb.push(new Wn(y/2,m/2));var x=this.Ga,rt=this.dQ(f,X),rK=this.dQ(D,X),rR=_&&(this.iG==4||this.iG==9)?this.dQ(x,X):rb[rv],ri=new rI,ru=new rI,rr=(rt.x-rR.x)/(rK.x-rR.x);
if(rr==0)rr=1e-4;var r_=(rt.y-rR.y)/(rK.y-rR.y);if(r_==0)r_=1e-4;if(this.vyE){rr=Math.max(rr,0);r_=Math.max(r_,0)}if(d==0||d==2||d==6||d==8){if(F||this.vWB)ri.scale(rr,rr);
else ri.scale(rr,r_)}if(d==1||d==3||d==5||d==7){var rS=this.vWB;if(d==1||d==7)ri.scale(rS?r_:1,r_);else ri.scale(rr,rS?rr:1);
if(this.vyS&&$){if(d==1||d==7)ru.ug=(rt.x-rR.x)/(rt.y-rR.y);else ru._=(rt.y-rR.y)/(rt.x-rR.x)}}var rO=new rI;
rO.translate(-rR.x,-rR.y);rO.concat(ri);rO.concat(ru);rO.translate(rR.x,rR.y);V=[0,0,1,0,1,1,0,1];e.g.M(V,rO,V);
var h=e.V.xT(X);e.V.apply(h,V)}if(_V.SD(V))this.yV=V}this.oN(Q,C);if(U)G.BG.EL(Q,H,U)};_V.vvC=function(Q,C,j,Z,F,_){var $=j-Q,L=Z-C,D=F-Q,d=_-C,o=$*$+L*L,v=D*$+d*L,f=v/o,U=Q+f*$,H=C+f*L,B=F-U,m=_-H;
return[U,H,Math.sqrt(B*B+m*m)]};_V.prototype.vDY=function(){var Q=this.yV;return Math.abs(Q[1]-Q[3])<1e-6&&Math.abs(Q[2]-Q[4])<1e-6||Math.abs(Q[0]-Q[2])<1e-6&&Math.abs(Q[3]-Q[5])<1e-6};
_V.SD=function(Q){return e.g.MA(Q)||e.g.MA([Q[6],Q[7],Q[4],Q[5],Q[2],Q[3],Q[0],Q[1]])};_V.prototype._c=function(Q,C,j,Z){this.nO=-1;
this.gu=null;Q.j.Vt=null;Q.j.lw=[];Q.uV=!0};_V.prototype.ZZ=function(Q,C,j){var Z=j.po();if(Z.x||Z.y){var F=new rI(1,0,0,1,Z.x,Z.y);
e.g.M(this.yV,F,this.yV);this.oN(Q,C);return!0}return!1};_V.prototype.M$=function(Q){if(Q==null)Q=this.yV;
var C=Q[6]-Q[0],j=Q[7]-Q[1],Z=Q[4]-Q[2],F=Q[5]-Q[3],_=[Q[0],Q[1],Q[2],Q[3],Q[0]+C/2,Q[1]+j/2,Q[2]+Z/2,Q[3]+F/2,Q[6],Q[7],Q[4],Q[5]],$=[];
for(var L=0;L<3;L++){var D=L*4,d=_[D+0],o=_[D+1],v=_[D+2],f=_[D+3];$.push(new Wn(d,o));$.push(new Wn(d+(v-d)/2,o+(f-o)/2));
$.push(new Wn(v,f))}return $};_V.prototype.oN=function(Q,C,j){if(j==null)j=!1;var Z=this.M$(),F=Z[0],_=Z[2],$=Z[6],L=Z[8];
Q.j.Il={u:[],b:[]};Q.j.Il.u.push("M","L","L","L","Z");Q.j.Il.b.push(F.x,F.y,_.x,_.y,L.x,L.y,$.x,$.y);
if(this.vyd){var D=_.qF(F),d=$.qF(F),o=L.qF(_),v=L.qF($);for(var f=0;f<3;f++){Q.j.Il.u.push("M","L","M","L");
var U=(f+1)*.25;Q.j.Il.b.push(F.x+D.x*U,F.y+D.y*U,$.x+v.x*U,$.y+v.y*U);Q.j.Il.b.push(F.x+d.x*U,F.y+d.y*U,_.x+o.x*U,_.y+o.y*U)}}Q.R.Aw=new s(0,0,Wn.iQ(Z[0],Z[2]),Wn.iQ(Z[0],Z[6]));
if(this.nO!=-1&&this.nO<9&&this.gu){var H=Q.R.Br(this.gu.x,this.gu.y);G.xB.rX(H.x+10,H.y-10,Q.R.Aw,Q,C)}if(!j){Q.j.CL=[];
for(var f=0;f<Z.length;f++)if(f!=4)Q.j.CL.push(Z[f].x,Z[f].y);var B=this.ph();Q.j.CL.push(B.x,B.y)}Q.uV=!0};
_V.prototype.clear=function(Q){Q.R.Aw=null;Q.j.Vt=null;Q.j.Il=null;Q.j.CL=[];Q.uV=!0};function Dx(Q,C){this.$k=null;
this.nO=-1;this.v$n(Q)}Dx.prototype.S_=function(){return JSON.parse(JSON.stringify(this.$k))};Dx.prototype.v$n=function(Q){this.$k=JSON.parse(JSON.stringify(Q))};
Dx.prototype.Qs=function(Q){return!0};Dx.prototype.d_=function(Q,C){var j=this.Qc(Q,C);if(j==-1)return"default";
return"pointer"};Dx.prototype.yi=function(Q,C,j,Z){this.nO=this.Qc(Z,Q.R.l);return this.nO!=-1};Dx.prototype.Qc=function(Q,C){var j=-1,Z=20*t.s(),F=this.vTJ();
for(var _=0;_<F.length;_++)if(Wn.iQ(F[_],Q)*C<Z)j=_;return j};Dx.prototype.eF=function(Q,C,j,Z){if(this.nO==-1)return;
var F=Q.R.l,_=this.nO,$=e.$k.ah(this.$k);$[_*2]=Z.x;$[_*2+1]=Z.y;e.$k._y($,this.$k)};Dx.prototype._c=function(Q,C,j,Z){this.nO=-1;
Q.uV=!0};Dx.prototype.ZZ=function(Q,C,j){var Z=j.po();if(Z.x||Z.y){var F=new rI(1,0,0,1,Z.x,Z.y);e.g.M(this.yV,F,this.yV);
this.oN(Q)}};Dx.prototype.vTJ=function(Q){var C=e.$k.ah(this.$k),j=[];for(var Z=0;Z<C.length;Z+=2)j.push(new Wn(C[Z],C[Z+1]));
return j};Dx.prototype.oN=function(Q){var C=this.vTJ();Q.j.Il={u:[],b:[]};Q.j.Il.u.push("M","C","C","C","C");
var j=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var Z=0;Z<j.length;Z++)Q.j.Il.b.push(C[j[Z]].x,C[j[Z]].y);
Q.j.Il.u.push("M","L","L","M","L","L","M","L","L","M","L","L");j=[4,0,1,2,3,7,11,15,14,13,12,8];for(var Z=0;
Z<j.length;Z++)Q.j.Il.b.push(C[j[Z]].x,C[j[Z]].y);Q.j.CL=[];for(var Z=0;Z<C.length;Z++)Q.j.CL.push(C[Z].x,C[Z].y);
Q.uV=!0};Dx.prototype.clear=function(Q){Q.j.Il=null;Q.j.CL=[];Q.uV=!0};var rz={};rz.ha=function(Q){this.id=Q;
this.pr=null};rz.ha.prototype.yc=function(Q,C,j,Z,F){};rz.ha.prototype.rg=function(Q,C){};rz.ha.prototype.ZH=function(Q,C){};
rz.ha.prototype.track=function(Q){var C=new P(t.E.xD,!0);C.data=Q;Q.TK=!0;this.pr.Z(C)};rz.History=function(){rz.ha.call(this,G.fo);
this.GZ=!0;this.vr$=0};rz.History.prototype=new rz.ha;rz.History.prototype.yc=function(Q,C,j,Z){j.Iy=!0;
if(Q.$=="h_itemchange"){if(Q.index<j.V_)for(var F=j.V_;F>Q.index;F--)this.SQ(j);if(Q.index>j.V_)for(var F=j.V_;
F<Q.index;F++)this.St(j)}if(Q.$=="h_stepfwd")this.St(j);if(Q.$=="h_stepbck")this.SQ(j);if(Q.$=="h_undoredo"){var _=this.GZ||this.vr$!=j.V_;
if(_){this.SQ(j);_=!1}else{this.St(j);_=!0}this.GZ=_;this.vr$=j.V_}else this.GZ=!0};rz.History.prototype.SQ=function(Q){if(Q.V_==0)return;
var C=Q.history[Q.V_];C.Y.ZH(C.data,Q);Q.V_--};rz.History.prototype.St=function(Q){if(Q.V_==Q.history.length-1)return;
var C=Q.history[Q.V_+1];C.Y.rg(C.data,Q);Q.V_++};rz.JO=function(){rz.ha.call(this,G.tP);this.pr=null};
rz.JO.prototype=new rz.ha;rz.JO.prototype.yc=function(Q,C,j,Z,F){this.pr=C;var _=Q.$,$=Q.c!=null?Q.c:j.H.length!=0?j.H[0]:j.k.length-1,L=j.k[$];
j.IJ=!0;if(_==S.$g&&j.v==null)_=S.sN;if(_==S.DN){var D=new ro([6,33],this),d=L.Hd()?["pass"].concat(rP.Cg):rP.Cg,o=Q.c!=null?[Q.c]:j.H,v=JSON.stringify(o),f=[];
for(var U=0;U<o.length;U++)f.push(j.k[o[U]].gd);D.data={$:_,CY:v,eo:f,GE:d[Q.GE]};j.Rk(D);this.rg(D.data,j);
this.track(_R.TB("Md",{t:"enum",v:{BlnM:rP.kQ[Q.GE]}}))}if(_==S.$V){var D,H=j.qT(),o=Q.c!=null?[Q.c]:j.H,v=JSON.stringify(o);
if(H&&H.data&&H.data.$==_&&H.data.CY==v)D=H;else{var B=_R.TB("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(B);var f=[];for(var U=0;U<o.length;U++)f.push(j.k[o[U]].opacity);D=new ro([6,32],this);D.data={$:_,CY:v,eo:f,GE:Q.GE,GG:B.aa};
j.Rk(D)}D.data.GE=Q.GE;D.data.GG.T.v.Opct.v.val=Math.round(Q.GE*100/255);this.rg(D.data,j)}if(_==S.Ke){if(L.add.iOpa==null)L.add.iOpa=255;
var D,H=j.qT();if(H&&H.data&&H.data.$==_&&H.data.c==$)D=H;else{D=new ro("Fill Opacity Change",this);
D.data={$:_,c:$,eo:L.add.iOpa,GE:Q.GE};j.Rk(D)}D.data.GE=Q.GE;this.rg(D.data,j)}if(_==S.B_){if(L.add.lspf==null)L.add.lspf=0;
var f=L.add.lspf,m=f,Y=Q.GE,D;for(var U=0;U<Y[0].length;U++){var q=Y[1][U],r=1<<q;if((m&r)==0&&Y[0][U])m^=r;
else if((m&r)!=0&&!Y[0][U])m^=r}var H=j.qT();if(H&&H.data&&H.data.$==_&&H.data.c==$)D=H;else{var D=new ro([6,57,1],this);
D.data={$:_,c:$,eo:f,GE:m};j.Rk(D)}D.data.GE=m;this.rg(D.data,j)}if(_==S.oQ){var x="----",a=Q.MB,m=null;
for(var U=0;U<rZ.ju.je.length;U++)if(L.add[rZ.ju.je[U]])x=rZ.ju.je[U];var i=L.add[x];if(a=="TySh")m=rD.dg(50,50,F.Bz);
var D=new ro("Layer Type",this);D.data={$:_,c:$,vrB:[x,i],MB:[a,m]};j.Rk(D);this.rg(D.data,j)}if(_==S.sh){var l=[];
if(Z.r(b.DT)){var M=j.qT(),z=M?M.data:null;if(M!=null&&M.Y==this&&z.$==S.sh&&z.CY.length!=1){var V=new P(t.E.a);
V.Y=G.fo;V.data={$:"h_stepbck"};C.Z(V);if(z.c==$)return}var X=j.root.Gl($),O=j.oW(null,$);while(X.parent!=j.root){O.push(X.parent.index);
X=X.parent}for(var U=0;U<j.k.length;U++){var y=j.k[U],K=y.ow(),R=O.indexOf(U)!=-1;if(!R&&K)l.push(U);
if(U==$&&!K)l.push(U)}}else{l.push($);var K=j.k[$].ow(),B={$Q:K?"hide":"show",aa:{classID:K?"Hd":"Shw",null:{t:"VlLs",v:[_R.Ub("Lyr",!0)]}}};
this.track(B)}var D=new ro("Layer visibility",this,!0);D.data={$:_,CY:l,c:$};j.Rk(D);this.rg(D.data,j)}if(_==S.$I){var B={$Q:"select",aa:{classID:"null",MkVs:{t:"bool",v:!1}}},W,escape=!1;
if(j.R.oe.join("")!="111"){j.R.oe=[1,1,1];j.uV=!0}if(Z.r(b.XE)||Q.v__==0){var N=j.H.indexOf($);if(N==-1)j.H.push($);
else if(j.H.length>1)j.H.splice(N,1);j.H.sort(function(D,_o){return D-_o});B.aa.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};
W=$}else if(Z.r(b.WO)&&!Z.r(b.DT)&&Q.$e>0){_=Q.$e==1?S.DV:Q.$e==2?S.az:S.Kp;escape=!0}else if((Z.r(b.WO)||Q.v__==1)&&j.H.length>0){var I=Math.min($,j.H[0]),T=Math.max($,j.H[j.H.length-1]);
j.H=[];for(var U=I;U<=T;U++)if(j.k[U].add.lsct!=_K.sQ)j.H.push(U);B.aa.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
W=$}else{W=$;var y=j.k[$];if(y.Hd()&&Q.vyB)y.add.lsct=_K.gh;else if(j.H.length==1&&j.H[0]==$&&Q.$e==y.IF){return}j.H=[$];
j.kl()}if(W!=null){B.aa.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:j.k[W].getName()}}]},this.track(B)}if(!escape){if(j.H.length==1){var h=j.H[0];
for(var U=0;U<j.k.length;U++){if(U==h)continue;var p=j.k[U];p.IF=0;p.gC=!1}var L=j.k[h];if(Q.$e==2)L.gC=!L.gC;
else{L.IF=Q.$e<=0?0:Q.$e;if(Q.$e==1||Q.$e==3){var u=Q.$e==3?L.qv(j).A:L.oH();u.me=!1}}}else for(var U=0;
U<j.k.length;U++){var p=j.k[U];p.IF=0;p.gC=!1}j.Vb=null;j.Iy=!0}}if(_==S.DV||_==S.Kp){var g=_==S.DV,u=g?L.oH():L.qv(j).A;
if(u==null)return;var D=new ro(u.isEnabled?g?[6,15]:[6,42]:g?[6,14]:[6,41],this);D.data={$:_,c:$};j.Rk(D);
this.rg(D.data,j)}if(_==S.az){var u=L.add.vmsk;if(u==null)return;var D=new ro(u.isEnabled?[6,17]:[6,16],this);
D.data={$:_,c:$};j.Rk(D);this.rg(D.data,j)}if(_==S.vvx){if(L.add.lsct==_K.gh)L.add.lsct=_K.f_;else L.add.lsct=_K.gh;
j.Iy=!0}if(_==S.$R){if(!j.oh($))return;var D=new ro(L.kK?[6,19]:[6,18],this);D.data={$:_,c:$};j.Rk(D);
if(Q.GE==null||Q.GE!=L.kK)this.rg(D.data,j);this.track({$Q:"groupEvent",aa:{classID:"GrpL",null:{t:"obj ",v:[_R.Ub("Lyr",!0)]}}})}if(_==S.vQX){if(L.bH())L.xz-=32;
else L.xz+=32;j.Iy=!0}if(_==S.KH||_==S.RF){var D;if(_==S.KH)D=new ro(L.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);
if(_==S.RF)D=new ro(L.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);D.data={$:_,c:$};j.Rk(D);this.rg(D.data,j)}if(_==S.KN||_==S.Rh){var h=Q.index,D;
if(_==S.KN)D=new ro(L.add.lmfx[WM.zV[h[0]]].v[h[1]].v.enab.v?[6,30]:[6,29],this);if(_==S.Rh)D=new ro(L.add.SoLd.filterFX.v.filterFXList.v[h].v.enab.v?[6,44]:[6,43],this);
D.data={$:_,c:$,index:Q.index};j.Rk(D);this.rg(D.data,j)}if(_==S.oV){if(Q.src==Q.cg)return;var A=j.k[Q.src],w=j.k[Q.cg],r$=A.add.lmfx?JSON.stringify(A.add.lmfx):"",rW=w.add.lmfx?JSON.stringify(w.add.lmfx):"";
if(w.add.lmfx==null){w.add.lmfx=JSON.parse(WM.default);for(var U=0;U<WM.order.length;U++)w.add.lmfx[WM.zV[U]]={t:"VlLs",v:[]}}if(Q.DL==null){w.add.lmfx=JSON.parse(r$);
if(!Q.FY)delete A.add.lmfx}else{var J=Q.DL[0],rr=WM.zV[J];if(WM.vdH.indexOf(WM.order[J])==-1)w.add.lmfx[rr].v=[];
w.add.lmfx[rr].v.push(A.add.lmfx[rr].v[Q.DL[1]]);if(!Q.FY)A.add.lmfx[rr].v.splice(Q.DL[1],1)}var r_=A.add.lmfx?JSON.stringify(A.add.lmfx):"",rO=w.add.lmfx?JSON.stringify(w.add.lmfx):"";
if(!w.bH())w.xz+=32;var D=new ro("Move Layer Styles",this);D.data={$:_,vts:Q.src,vtX:Q.cg,vyP:r$,vyw:rW,vyU:r_,vyM:rO};
j.Rk(D);this.rg(D.data,j)}if(_==S.vRn){var p=j.k[Q.src],k=JSON.stringify(p.add.SoLd),rv=JSON.parse(k),rb=rv.filterFX.v.filterFXList.v;
rb.splice(Q.DL,1);var D=new ro([6,53],this);D.data={$:S.Ro,RA:[{qH:Q.src,x$:[k,JSON.stringify(rv)]}]};
j.Rk(D);this.rg(D.data,j)}if(_==S.vRV){var A=j.k[Q.src],w=j.k[Q.cg],rt=[];if(A!=w&&w.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(A==w&&!Q.FY&&(Q.DL==Q.Mo||Q.DL==-1))return;var rK=A.qv(j),k=JSON.stringify(A.add.SoLd),rv=JSON.parse(k),rb=rv.filterFX.v.filterFXList.v;
if(A==w){rb.splice(Q.Mo,0,rb[Q.DL]);if(!Q.FY)rb.splice(Q.DL+(Q.DL<Q.Mo?0:1),1);rt.push({qH:Q.src,x$:[k,JSON.stringify(rv)]})}else if(Q.DL==-1){var rR=rv.filterFX;
if(!Q.FY){delete rv.filterFX;rt.push({qH:Q.src,x$:[k,JSON.stringify(rv)],VZ:[rK,null]})}var ri=w.nr()?w.qv(j):null,ru=rH.vqP(rK),rS=JSON.stringify(w.add.SoLd),rg=JSON.parse(rS);
rg.placed.v=ru.id;rg.filterFX=rR;rt.push({qH:Q.cg,x$:[rS,JSON.stringify(rg)],VZ:[ri,ru]})}else{var rd=rb[Q.DL];
if(!Q.FY){rb.splice(Q.DL,1);rt.push({qH:Q.src,x$:[k,JSON.stringify(rv)]})}var rS=JSON.stringify(w.add.SoLd),rg=JSON.parse(rS);
if(rg.filterFX==null)rg.filterFX=vr.fh();var vO=rg.filterFX.v.filterFXList.v;vO.splice(Q.Mo,0,rd);var rq={qH:Q.cg,x$:[rS,JSON.stringify(rg)]};
if(!w.nr()){var ru=rH.vpY(w.add.SoLd.placed.v);rq.VZ=[null,ru]}rt.push(rq)}var D=new ro([6,52],this);
D.data={$:S.Ro,RA:rt};j.Rk(D);this.rg(D.data,j)}if(_==S.KP){var u=L.oH(),D=new ro(u.J_?[6,26]:[6,25],this);
D.data={$:_,c:$};j.Rk(D);this.rg(D.data,j);this.track({$Q:"set",aa:{classID:"setd",null:{t:"obj ",v:[_R.Ub("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:u.J_}}}}})}if(_==S.hA){var u=L.add.vmsk,D=new ro(u.J_?[6,28]:[6,27],this);
D.data={$:_,c:$};j.Rk(D);this.rg(D.data,j)}if(_==S.hU){var rL=[],D;for(var U=0;U<j.H.length;U++){var rl=j.H[U],y=j.k[rl];
if(y.add.vogk)rL.push(rl,JSON.stringify(y.add.vogk))}for(var U=0;U<j.BA.length;U++){var rl=j.BA[U],y=j.te[rl];
if(y.add.vogk)rL.push(-1-rl,JSON.stringify(y.add.vogk))}e.Ky.vJl(j,Q.LT,Q.vxv);var rV=[];for(var U=0;
U<j.H.length;U++){var rl=j.H[U],y=j.k[rl];if(y.add.vogk)rV.push(rl,JSON.stringify(y.add.vogk))}for(var U=0;
U<j.BA.length;U++){var rl=j.BA[U],y=j.te[rl];if(y.add.vogk)rV.push(-1-rl,JSON.stringify(y.add.vogk))}var H=j.qT();
if(H&&H.data&&H.data.$==_){var ry=!0;for(var U=0;U<rL.length;U+=2)if(rL[U]!=H.data.MG[U])ry=!1;if(ry){D=H;
D.data.tV=rV}}if(D==null){var D=new ro([12,91,1],this);D.data={$:_,MG:rL,tV:rV};j.Rk(D)}this.rg(D.data,j)}if(_==S.o_){var D,H=j.qT();
if(H&&H.data&&H.data.$==_&&H.data.c==$){D=H;D.data.k_=JSON.stringify(Q.k_)}if(D==null){var D=new ro("Editing Artboard",this);
D.data={$:_,c:$,vxD:JSON.stringify(L.add.artb),k_:JSON.stringify(Q.k_)};j.Rk(D)}this.rg(D.data,j)}if(_==S.DC){var rV=j.$W.slice(0),vj=j.CG.slice(0),rp=j.v,rx=j.v;
if(Q.zW=="fromAction"){var rF=Q.O.$Q,DX=Q.O.aa;if(rF=="make"||rF=="duplicate"){var va=rV.length,vW=!1,rN=!1;
if(j.qj())va--;var rB=new S.Xh;rB.name="Alpha "+(va+1);if(rF=="make"){var rM=DX.Nw.v;rB.color=255;vj=[va];
rB.me=!0;rB.S$=rM.Opct.v;if(rM.Nm)rB.name=rM.Nm.v;if(rM.classID=="SCch"){vW=!0;rx=null;rB.BL=1}}else{var _Q=DX.null.v[0].v;
if(_Q.keyID=="fsel")vW=!0;else{var _O=G.jT.vvB(j);rx=G.jT.vSX(j,_O);rB.color=0;rB.rect=rx.rect;rB.channel=rx.channel}}if(vW){rB.color=0;
if(j.v){rB.rect=j.v.rect.clone();rB.channel=j.v.channel.slice(0)}if(rN){rB.color=255-rB.color;e.Ie(rB.channel)}}rV.splice(va,0,rB)}else if(rF=="delete"){var O=j.CG;
O.sort(function(D,_o){return _o-D});if(O.length==0)return;for(var U=0;U<O.length;U++)rV.splice(O[U],1);
vj=[]}else if(rF=="hide"){rV[vj[0]]=rV[vj[0]].clone();rV[vj[0]].me=!1}}if(Q.zW=="rnm"){rV[Q.BW]=rV[Q.BW].clone();
rV[Q.BW].name=Q.name}var D=new ro("Channel Edit",this);D.data={$:_,MG:j.$W.slice(0),fa:j.CG.slice(0),tV:rV,fy:vj,pq:rp,aB:rx};
this.rg(D.data,j);j.Rk(D)}if(_==S.P_){var D=new ro(Q.vA,this);D.data={$:S.P_,cR:j.k.slice(0),ba:Q.ba,Dw:j.H.slice(0),$Z:Q.aB};
j.Rk(D);this.rg(D.data,j)}if(_==S.sV){var rw=j.oW(null,Q.c),rE=1e10;if(rw.length==0)return;if(j.k.length==rw.length){alert("Project must have at least 1 layer");
return}var rj=[];for(var U=0;U<j.k.length;U++)if(rw.indexOf(U)==-1)rj.push(j.k[U]);for(var U=0;U<rw.length;
U++)rE=Math.min(rE,rw[U]);rE=Math.max(rE-1,0);while(rj[rE].name=="</Layer group>")rE++;this.track({$Q:"delete",aa:{classID:"Dlt",null:_R.Ub("Lyr",!0)}});
var D=new ro([6,31],this);D.data={$:S.P_,cR:j.k.slice(0),ba:rj,Dw:j.H.slice(0),$Z:[rE]};j.Rk(D);this.rg(D.data,j)}if(_==S.aj){var O=Q.vta?Q.vta:j.H,_W=0,rU=!1;
if(O.length==0)return;if(O.length==1&&j.k[O[0]].Dj==0){alert(rT.get([15,7,5]));return}var vm=[];for(var U=0;
U<j.k.length;U++){var rf=j.k[U].Dj;vm.push(rf);_W=Math.max(_W,rf)}var Du=-1,_s=-1;for(var U=0;U<O.length;
U++){var rf=j.k[O[U]].Dj;if(rf==0)rU=!0;else if(Du==-1||Du==rf)Du=rf;else _s=rf}if(!rU)for(var U=0;U<O.length;
U++)j.k[O[U]].Dj=0;else if(Du!=-1&&_s==-1)for(var U=0;U<O.length;U++)j.k[O[U]].Dj=Du;else for(var U=0;
U<O.length;U++)j.k[O[U]].Dj=_W+1;var _t=[];for(var U=0;U<j.k.length;U++){var rf=j.k[U].Dj;if(_t[rf]==null)_t[rf]=0;
_t[rf]++}for(var U=0;U<j.k.length;U++){var rf=j.k[U].Dj;if(_t[rf]==1)j.k[U].Dj=0}var _I=vm;vm=[];for(var U=0;
U<j.k.length;U++){var rf=j.k[U].Dj;vm.push(rf);_W=Math.max(_W,rf)}var D=new ro(rU?[6,54,0]:[6,54,1],this);
D.data={$:S.aj,vxW:_I,vxK:vm};j.Rk(D);this.rg(D.data,j)}if(_==S.sN&&(Q.c!=null||j.H.length!=0)||_==S.uL){var Qb=j.Rw(_==S.sN?Q.c:$,null,Q.vmt);
if(_==S.uL){var p=Qb[0],rF=p.add.SoLd.Idnt.v,_D=j.Es(rF).clone();p.add.SoLd.Idnt.v=_D.rw=rH.qS()+rF.slice(8);
j.add.lnk2.push(_D)}if(_==S.sN){var _E={$Q:"duplicate",aa:{classID:"null",null:_R.Ub("Lyr",!0)}};if(Q.Ww){Qb[0].sp(Q.Ww);
_E.Nm={t:"TEXT",v:Q.Ww}}this.track(_E);Q.vKu=Q.c}_=S.Rr;Q.k=Qb;Q.jf=j;Q.MP=j}if(_==S.Rr){var vs,QO,v_=Q.jf,vR=Q.MP;
if(v_!=vR){console.log("ADDLAYERS different projs");var vs=new s(0,0,v_.W,v_.C),QO=new s(0,0,vR.W,vR.C),Qq=[],vi=[];
for(var U=0;U<Q.k.length;U++){var p=Q.k[U];if(p.add.SoLd==null)continue;var rF=p.add.SoLd.Idnt.v;if(Qq.indexOf(rF)==-1){Qq.push(rF);
vi.push(rH.qS()+rF.slice(8))}p.add.SoLd.Idnt.v=vi[Qq.indexOf(rF)];var rK=p.qv(v_);if(rK){v_.kz(rK);vR.$Y(rK)}}if(Qq.length>0){if(vR.add.lnk2==null)vR.add.lnk2=[];
for(var U=0;U<Qq.length;U++){var _U=v_.Es(Qq[U]),_D=_U.clone();_D.rw=vi[U];vR.add.lnk2.push(_D)}}}var rp=vR.H.slice(0);
rp.sort(function(D,_o){return D-_o});var rj=vR.k.slice(0),rx=[],v$=-1;for(var U=0;U<rp.length;U++)v$=Math.max(v$,rp[U]);
if(Q.vKu!=null)v$=Q.vKu;v$++;for(var U=0;U<Q.k.length;U++){var y=Q.k[U];rj.splice(v$,0,y);rx.push(v$);
v$++}if(Q.k[Q.k.length-1].Hd())rx=[v$-1];var D=new ro([6,0],this);D.data={$:S.P_,cR:vR.k.slice(0),ba:rj,Dw:rp,$Z:rx};
vR.Rk(D);this.rg(D.data,vR)}if(_==S.vKe){var rn=Q.c!=null?[Q.c]:j.oW(),rj=j.k.slice(0);for(var U=0;U<rn.length;
U++){var y=j.k[rn[U]].clone();y.vgE(j);rj.splice(rn[U],1,y)}var D=new ro([6,8],this);D.data={$:S.P_,cR:j.k.slice(0),ba:rj,Dw:j.H.slice(0),$Z:j.H.slice(0)};
j.Rk(D);this.rg(D.data,j)}if(_==S.vKA){var rj=j.k.slice(0),y=rj[j.H[0]]=rj[j.H[0]].clone(),Qa=y.add.lmfx,vd=0;
delete y.add.lmfx;var Qz=e.Q(y.rect.P());e.yq(y.buffer,Qz,3);var vw=rk.kJ(Qa,null,Qz,y.rect,j,y.rect).type;
for(var U=0;U<WM.order.length;U++){var _G=WM.order[U],vb=vw[_G],$Z=U>7;for(var DQ=0;DQ<vb.length;DQ++){var $j=vb[DQ],o=j.qg();
o.gd=$j.lG;o.opacity=Math.round(255*$j.xI);o.kK=!$Z;o.buffer=$j.Dg;o.rect=$j.Ws;o.rect.offset(y.rect.x,y.rect.y);
o.sp(y.getName()+"'s "+rT.get(WM.names[U]));rj.splice(j.H[0]+($Z?0:1),0,o);if($Z)vd++}}var D=new ro("Styles to Layers",this);
D.data={$:S.P_,cR:j.k.slice(0),ba:rj,Dw:j.H.slice(0),$Z:[j.H[0]+vd]};j.Rk(D);this.rg(D.data,j)}if(_==S.uZ){var rn=j.oW(),rj=j.k.slice(0),_S=new s(0,0,j.W,j.C);
for(var U=0;U<rn.length;U++){var DB=j.k[rn[U]],_M=DB.ow();DB.yh(!0);var Qp=j.root.Gl(rn[U]);if(DB.Hd())continue;
if(Qp==null)continue;var y=DB.clone();y.vgE(j);var _C=Qp.ET(j,!0),DT=j.k;j.Fd([DB]);j.X();j.GV();y.buffer=e.Q(_C.P()*4);
e.tW(j.ln(),_S,y.buffer,_C);y.rect=_C;y.opacity=255;y.add.iOpa=255;y.gd="norm";y.X();y.n.tT=!0;j.Fd(DT);
if(y.add.lmfx)delete y.add.lmfx;y.A=y.gy=null;rj.splice(rn[U],1,y);y.yh(_M);DB.yh(_M)}var D=new ro([6,34],this);
D.data={$:S.P_,cR:j.k.slice(0),ba:rj,Dw:j.H.slice(0),$Z:j.H.slice(0)};j.Rk(D);this.rg(D.data,j)}if(_==S.vKj){var rn=j.oW(),rj=j.k.slice(0);
for(var U=0;U<rn.length;U++){var y=j.k[rn[U]],vo=y.add.TySh;if(vo==null)continue;var p=new _J(vo.Qp,F.ho),Do=e.g.ji(vQ.PG(p,vo));
for(var QK in Do){var _l=Do[QK],_b=y.clone();delete _b.add.TySh;_b.xz=_b.xz|1<<4;_b.add.SoCo=JSON.parse(JSON.stringify(WM.$y[0]));
var vS=_b.add.SoCo.Clr.v;vS.Rd.v=parseInt(QK.slice(1,3),16);vS.Grn.v=parseInt(QK.slice(3,5),16);vS.Bl.v=parseInt(QK.slice(5,7),16);
var Ds=new S.jH;Ds.G=e.g.er(_l,!1);if(_b.add.vmsk!=null){_b.add.vmsk.vqY();Ds.concat(_b.add.vmsk)}_b.add.vmsk=Ds;
_b.add.vstk=JSON.parse(JSON.stringify(WM.oj.default));_b.WU();_b.Ea(j);rj.splice(rj.indexOf(y),0,_b)}rj.splice(rj.indexOf(y),1)}var rx=j.H.slice(0);
for(var U=rx.length-1;U>=0;U--)if(rx[U]>=rj.length)rx.splice(U,1);var D=new ro([6,40],this);D.data={$:S.P_,cR:j.k.slice(0),ba:rj,Dw:j.H.slice(0),$Z:rx};
j.Rk(D);this.rg(D.data,j)}if(_==S.vKw){var Qv=j.H.length;if(Qv<2)return;if(!j.oU())return;var _b=j.k[j.H[0]].clone(),rj=[];
for(var U=0;U<j.k.length;U++)if(j.H.indexOf(U)==-1)rj.push(j.k[U]);rj.splice(j.H[0],0,_b);for(var U=1;
U<Qv;U++){var y=j.k[j.H[U]],vv=y.rect.clone();vv.ac(1,1);var _o=e.Q(vv.P()*4);e.tW(y.buffer,y.rect,_o,vv);
_b.extend(vv);var tx=e.Q(vv.P()*4);e.tW(_b.buffer,_b.rect,tx,vv);var D=e.Q(vv.P());e.yq(_o,D,3);e.round(D,200);
e.gG(D,_o,3);e.B.hW("norm",_o,vv,tx,vv,vv,1);e.yW.vL(tx,D,vv);e.tW(tx,vv,_b.buffer,_b.rect)}var D=new ro([2,10],this);
D.data={$:S.P_,cR:j.k.slice(0),ba:rj,Dw:j.H.slice(0),$Z:[j.H[0]]};j.Rk(D);this.rg(D.data,j)}if(_==S.uo){var rj=j.k.slice(0),vj=j.H.slice(0);
for(var U=0;U<rj.length;U++){var y=rj[U],QD=y.add.vmsk;if(y.ql()&&QD&&y.add.vstk.strokeEnabled.v&&!y.add.vstk.fillEnabled.v){var Qs=QD.G,QV=0,Dz=-1;
for(var DQ=0;DQ<Qs.length;DQ++){if((Qs[DQ].type==0||Qs[DQ].type==3)&&Qs[DQ].rh!=-1){QV++;if(Qs[DQ].type==3&&Dz==-1){Qs[DQ].Vy=Qs[DQ].rh=1;
Dz=DQ}}}if(QV>1&&Dz!=-1){console.log("separating an open path into a new layer");y=y.clone();QD=y.add.vmsk;
Qs=QD.G;var o=Qs[Dz].length,Di=y.clone();Di.add.lyid=j.oG();QD.G=Qs.slice(0,2).concat(Qs.slice(Dz,Dz+o+1));
QD.H=[];y.Ea(j);y.X();var tP=Di.add.vmsk.G;Di.add.vmsk.G=tP.slice(0,Dz).concat(tP.slice(Dz+o+1,tP.length));
Di.add.vmsk.H=[];Di.Ea(j);rj[U]=y;rj.splice(U+1,0,Di);for(var DQ=0;DQ<vj.length;DQ++)if(vj[DQ]>U)vj[DQ]++;
var Wk=vj.indexOf(U);if(Wk!=-1){vj.splice(Wk+1,0,U+1)}}}}if(rj.length!=j.k.length){var D=new ro("Splitting open paths",this);
D.data={$:S.P_,cR:j.k.slice(0),ba:rj,Dw:j.H.slice(0),$Z:vj};j.Rk(D);this.rg(D.data,j)}}if(_==S.vQk){this.yc({$:S.uo},C,j,Z,F);
var rp=j.H.slice(0),DT=j.k.slice(0),rn=j.oW();if(rn.length==0)return;j.vvF(rn);var D=new ro([6,36,0],this);
D.data={$:S.P_,cR:DT,ba:j.k.slice(),Dw:rp,$Z:j.H.slice(0)};j.Rk(D);this.rg(D.data,j)}if(_==S.K_){var _U=Q.xa.Es(Q.id),_D=_U.clone();
_D.raw=Q.data;_D.Yd="8BIM";_D.Gg="8BPB";_D.RJ=_D.RJ+".psd";_D.ln(!1);_U.ln(!1);var D=new ro([6,36,1],this);
D.data={$:S.K_,id:Q.id,vO:_U,vD:_D};Q.xa.Rk(D);this.rg(D.data,Q.xa)}if(_==S.vKh){var Qt,Dh;if(Q.ob){Qt=Q.xa;
Dh=Q.ob}else{Q.xa.Ed();Q.xa.Gc();Q.xa.X();Q.xa.GV();Q.xa.ln();Qt=vX.PSD.pU(Q.xa,0,0,[!0,!0]);Dh=Q.xa.name}if(!(Qt instanceof ArrayBuffer))throw"e";
Qt=new Uint8Array(Qt);var N=Q.b$!=null?Q.b$:j.H[j.H.length-1]+1,_T=j.$H(Qt,Dh,0,0,!0),rj=j.k.slice(0);
rj.splice(N,0,_T);var D=new ro([6,36,2],this);D.data={$:S.P_,cR:j.k.slice(),ba:rj,Dw:j.H.slice(0),$Z:[rj.indexOf(_T)]};
j.Rk(D);this.rg(D.data,j)}if(_==S.vjD){var tS=[],$B=[],$D=0;for(var U=0;U<j.H.length;U++){var rl=j.H[U],y=j.k[rl];
if(y.Hd()&&tS.indexOf(rl)==-1){tS.push(rl);$B.push(y.getName())}}if(tS.length!=2){tS=[];$B=[];for(var U=0;
U<j.k.length;U++){var rl=U,y=j.k[rl];if(y.Hd()&&tS.indexOf(rl)==-1){tS.push(rl);$B.push(y.getName())}}}if(tS.length<2){alert("We need at least two folders of layers");
return}var vb=[];for(var $m=0;$m<tS.length;$m++){var X=j.root.Gl(tS[$m]),rq=[[],[],0,$m];vb.push(rq);
if(X.children.length==0){alert("There is a folder \""+X.c.getName()+"\" without any layers.");return}for(var U=0;
U<X.children.length;U++){var rl=X.children[U].index,y=X.children[U].c,rB=y.getName(),Qr=20;if(!rB.startsWith("_a_")){alert("Name of every frame should start with \"_a_\"");
return}var _Z=rB.split(",");if(_Z.length>1){var _w=parseInt(_Z.pop());if(!isNaN(_w)&&_w!=0)Qr=_w}rq[0].push(y);
rq[1].push(Qr);rq[2]+=Qr}}vb.sort(function(D,_o){return _o[2]-D[2]});var Qk=vb[0],Qy=Qk[2];for(var Df=1;
Df<vb.length;Df++){var rq=vb[Df],$W=1,DU=rq[1].slice(0),$L=0;while(($W+1)*rq[2]<=Qk[2]){$W++;DU=DU.concat(rq[1])}rq[1]=DU;
rq[2]*=$W;var QC=Qk[2]/rq[2];for(var U=0;U<rq[1].length;U++){var $s=Math.floor(rq[1][U]*QC);rq[1][U]=$s;
$L+=$s}while($L<Qy){$L++;rq[1][rq[1].length-1]++}rq[2]=$L}var $d=[],W_=[],$s=[];for(var U=0;U<vb.length;
U++){$d.push(0);W_.push(0)}while($D<Qy){var WW=1e9,va=-1;for(var U=0;U<vb.length;U++){var vV=vb[U][1],Q_=$d[U];
if(Q_!=vV.length&&W_[U]+vV[Q_]<$D+WW){va=U;WW=W_[U]+vV[Q_]-$D}}W_[va]+=vb[va][1][$d[va]];$d[va]++;if(WW!=0){$s.push(WW);
$D+=WW}}for(var U=0;U<$s.length;U++){var $H=$s[U],QS=$H>>>1;if($H<17){var rl=$s.length-1;if(U==0)$s[1]+=$H;
else if(U==$s.length-1)$s[rl-1]+=$H;else{$s[U-1]+=QS;$s[U+1]+=$H-QS}$s.splice(U,1);U--}}var QN=j.H.slice(0);
j.H=tS;var rw=j.oW();rw.sort(function(D,_o){return D-_o});var rj=[];for(var U=0;U<j.k.length;U++){if(rw.indexOf(U)==-1)rj.push(j.k[U])}vb.sort(function(D,_o){return D[3]-_o[3]});
function $_(vV,bV){var U=0,bS=0;while(bS+vV[U]<=bV){bS+=vV[U];U++}return U}$D=0;rj.splice(rw[0],0,j.fi());
for(var $z=0;$z<$s.length;$z++){var l=[],QA=new s;for(var U=0;U<vb.length;U++){var Q_=$_(vb[U][1],$D)%vb[U][0].length,y=vb[U][0][Q_];
l.push(y);QA=QA.fJ(y.rect)}var y=j.qg();y.rect=QA;y.buffer=e.Q(QA.P()*4);for(var U=0;U<vb.length;U++){var WV=l[U],Dd=WV.opacity/255*(j.k[tS[U]].opacity/255);
e.B.hW("norm",WV.buffer,WV.rect,y.buffer,QA,QA,Dd)}y.yh($z==0);y.sp("_a_frm"+$z+","+$s[$z]);rj.splice(rw[0]+1+$z,0,y);
$D+=$s[$z]}var y=j.qg();y.sp($B.join(" + "));y.gd="pass";y.add.lsct=_K.f_;y.xz=24;rj.splice(rw[0]+1+$s.length,0,y);
var D=new ro([6,12,0],this);D.data={$:S.P_,cR:j.k,ba:rj,Dw:QN,$Z:[rw[0]+1+$s.length]};j.Rk(D);this.rg(D.data,j)}if(_==S.vM||_==S.Kb||_==S.KS){var DT=j.k.slice(0),rp=j.H.slice(0),bW=!0,_T,rx;
if(_==S.vM)j.H=[j.H[0],j.H[0]-1];if(_==S.KS){j.H=[];for(var U=0;U<j.k.length;U++)if(j.k[U].ow())j.H.push(U)}var rn=j.oW();
rn.sort(function(D,_o){return D-_o});var $K=new s,_S=new s(0,0,j.W,j.C);for(var U=0;U<rn.length;U++){var rl=rn[U],y=j.k[rl];
bW=bW&&y.ql()&&y.add.vmsk!=null;$K=$K.fJ(j.root.Gl(rl).ET(j,!0))}if(bW){_T=j.k[rn[0]].clone();var QD=_T.add.vmsk;
for(var U=1;U<rn.length;U++){var o=j.k[rn[U]],tP=S.jH.Do(o.add.vmsk.G);QD.G=QD.G.concat(tP.slice(2));
_T.add.vogk=_T.add.vogk.concat(JSON.parse(JSON.stringify(o.add.vogk)))}_T.add.vmsk.CZ=!0;_T.Ea(j)}else if(_S.yt($K)){_T=j.qg();
_T.sp(j.k[rn[rn.length-1]].getName());_T.rect=$K;_T.buffer=e.Q($K.P()*4);var tD=j.ln(rn);e.tW(tD,_S,_T.buffer,$K);
_T.X()}else{j.vvF(rn,!0);_T=j.k[j.H[0]];j.k.splice(j.H[0],1);var Qm=j.Es(_T.add.SoLd.Idnt.v);j.add.lnk2.splice(j.add.lnk2.indexOf(Qm),1);
delete _T.add.SoLd}var $v=Z.r(b.DT),tr=-1;if(Q.aa&&Q.aa.Dplc&&Q.aa.Dplc.v)$v=!0;if($v&&_==S.KS&&j.k[rp[0]].sq()&&j.k[rp[0]].rect.jJ()){tr=rp[0];
_T.sp(j.k[tr].getName())}var rj=[];for(var U=0;U<j.k.length;U++)if($v||rn.indexOf(U)==-1)if(U!=tr)rj.push(j.k[U]);
var Dl=rn[rn.length-1],t$=Dl==j.k.length-1?null:j.k[Dl+1],tt=t$?rj.indexOf(t$):rj.length;rj.splice(tt,0,_T);
rx=[tt];var D=new ro([6,12,0],this);D.data={$:S.P_,cR:DT,ba:rj,Dw:rp,$Z:rx};j.Rk(D);this.rg(D.data,j)}if(_==S.uc){var _b=j.qg();
_b.rect=new s(0,0,j.W,j.C);_b.buffer=e.Q(_b.rect.P()*4);e.kM(_b.buffer,4294967295);e.B.hW("norm",j.ln(),_b.rect,_b.buffer,_b.rect,_b.rect,1);
_b.sp("Background");_b.add.lspf=1<<2;var D=new ro([6,12,1],this);D.data={$:S.P_,cR:j.k.slice(),ba:[_b],Dw:j.H.slice(0),$Z:[0]};
j.Rk(D);this.rg(D.data,j)}if(_==S.sn||_==S.RQ||_==S.EQ||_==S.Rz||_==S.$g){var y=_==S.$g?j.k[j.H[0]].clone():j.qg(),DZ=rT.get([0,3]),vn=Q.Ww,ty=!1,tk,tC;
if(_==S.EQ)DZ=rT.get([12,76,1]);if(_==S.$g){var DB=j.k[j.H[0]],QZ=DB.viE(j,j.v);if(QZ==null){alert("Copied area is empty");
return}y.rect=QZ.rect,y.buffer=QZ.xu}if(_==S.Rz){y.rect=rz.JO.vQR(Q.$d,j);y.buffer=e.clone(Q.$d.buffer)}if(_==S.sn){this.track({$Q:"make",aa:{classID:"Mk",null:_R.Ub("Lyr")}})}if(_==S.RQ){y.xz|=16;
var _L=Q.aa.Usng.v,We=_L.Type.v,DY=rY.fc[We.classID];DZ=rT.get(rY.names[DY]);if(_L.Nm)vn=_L.Nm.v;y.add[DY]=vr._j(DY);
for(var tQ in We)y.add[DY][tQ]=JSON.parse(JSON.stringify(We[tQ]));y.A=rz.JO.vIJ(j)}if(_==S.EQ){y.xz|=16;
var DX=Q.aa,_L=DX.Usng.v,QT=_L.Type.v,_c=_L.Shp;if(_c==null)y.A=rz.JO.vIJ(j);else{console.log(_L);y.add.vmsk=new S.jH;
y.add.vstk=JSON.parse(JSON.stringify(_L.strokeStyle?_L.strokeStyle.v:WM.oj.default));y.add.vogk=[];if(_c){var _N=e.Ky.MH(_c);
if(_N){y.add.vogk=[_N];y.add.vmsk.G.push({type:0,rh:1,length:0});e.Ky.mY(y.add.vogk,y.add.vmsk)}else{_c=_c.v;
var tu=_c.classID;if(tu=="Plgn"){var tz=_c.Cntr.v,te=_c.corner.v;tz=new Wn(tz.Hrzn.v.val,tz.Vrtc.v.val);
te=new Wn(te.Hrzn.v.val,te.Vrtc.v.val);y.add.vmsk.G=e.D._K.zQ(tz.x,tz.y,Math.sqrt(te.x*te.x+te.y*te.y),Math.atan2(te.y,te.x),_c.sides.v,0)}else if(tu=="customShape"){var WC=e.Ky.jr(_c),tg=WC[2]-WC[0],ts=WC[3]-WC[1],Qh=F.uN,DG,bh;
for(var U=0;U<Qh.length;U++)if(Qh[U].BX==_c.Nm.v)DG=Qh[U];if(DG){bh=S.jH.Do(DG.G);e.D.gw(bh,new rI(tg,0,0,ts,WC[0],WC[1]))}else bh=e.D._K.Rect(WC[0],WC[1],tg,ts,0);
y.add.vmsk.G=bh}y.WU()}}}var vU={solidColorLayer:0,gradientLayer:1,patternLayer:2}[QT.classID],WL=["SoCo","GdFl","PtFl"][vU];
y.add[WL]=JSON.parse(JSON.stringify(WM.$y[vU]));rz.JO.QP(QT,y.add[WL],vU);if(_c==null)DZ=rT.get([6,48,0,vU]);
if(WL=="PtFl")j.ES(rk.Fw(y.add[WL].Ptrn.v,F._N));y.Ea(j)}var Qv=rz.JO.vTa(j,DZ+" ");y.sp(DZ+" "+(Qv+1));
if(vn)y.sp(vn);var Dg=j.H.length==0?j.k.length-1:j.H[j.H.length-1],WN=j.k[Dg];if(_==S.EQ&&WN.sq()&&WN.rect.jJ()){ty=!0;
y.sp(WN.getName());tk=Dg}else{tk=Dg+1;if(WN.add.lsct==_K.gh)tk--}var rj=j.k.slice(0);rj.splice(tk,ty?1:0,y);
var Qg=[5,2];if(_==S.sn)Qg=[6,13];if(_==S.RQ)Qg=[6,1];if(_==S.EQ){Qg=[6,48,1];var _c=Q.aa.Usng.v.Shp;
if(_c){var $r={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[_c.v.classID];
if($r)Qg=$r}}if(_==S.$g){Qg=[6,49]}if(_==S.$g||_==S.EQ||_==S.Rz)if(j.v)tC=[j.v,null];var D=new ro(Qg,this);
D.data={$:S.P_,cR:j.k.slice(0),ba:rj,Dw:j.H.slice(0),$Z:[tk],zG:tC};j.Rk(D);this.rg(D.data,j);if(_==S.EQ&&_c==null&&vU!=0||_==S.RQ){var QM=new P(t.E.m);
QM.data={$:t.i.yP,ul:re.Hb.HB};C.Z(QM)}}if(_==S.oq){var y=j.qg();y.sp(rT.get([0,4])+" "+j.k.length);
y.gd="pass";y.add.lsct=_K.gh;y.xz=24;var Qx=j.fi(),Dg=$,tk=Dg+1,rj=j.k.slice(0);rj.splice(tk,0,Qx,y);
var D=new ro([6,20],this);D.data={$:S.P_,cR:j.k.slice(0),ba:rj,Dw:j.H.slice(0),$Z:[tk+1]};j.Rk(D);this.rg(D.data,j)}if(_==S.Bc||_==S.$E){var DF=_==S.Bc?Q.source:j.H[0],$b,tK,QE=j.H.indexOf(DF)!=-1,tF=Z.r(b.DT)|Q.vxR,vL;
if(QE)vL=j.oW();else vL=j.jD(DF);vL.sort(function(D,_o){return D-_o});if(_==S.Bc){$b=Q.target;tK=Q.GP>.5}else if(Q.target!=null){$b=Q.target;
tK=!0;j.fG=!0}else{var Qd=Q.zW;tK=Qd>1;if(Qd==0){$b=j.k.length-1}if(Qd==1){$b=vL[vL.length-1]+1;var o=j.jD($b);
if(o.indexOf(DF)==-1)$b+=o.length-1}if(Qd==2){$b=vL[0]-1;var o=j.jD($b);if(o.indexOf(DF)==-1)$b-=o.length-1}if(Qd==3){$b=0}if($b<0||$b>j.k.length-1)return;
j.fG=!0}if(vL.indexOf($b)!=-1)return;var tp=j.k[$b],rj=[];if(tF)rj=j.k.slice(0);else for(var U=0;U<j.k.length;
U++)if(vL.indexOf(U)==-1)rj.push(j.k[U]);var tN=rj.indexOf(tp);if(_==S.Bc&&tp.Hd()&&tp.add.lsct==_K.f_&&Q.GP>.8)tN-=j.jD($b).length-1;
var Ww=[],tU=tF?j.Rw(QE?null:DF):null;for(var U=0;U<vL.length;U++){var tw=tN+(tK?0:1)+U,p=tF?tU[U]:j.k[vL[U]];
rj.splice(tw,0,p);Ww.push(tw)}var D=new ro(tF?[6,0]:[6,35],this);D.data={$:S.P_,cR:j.k.slice(0),ba:rj,Dw:j.H.slice(0),$Z:Ww};
j.Rk(D);this.rg(D.data,j);var DX={classID:"move",null:_R.Ub("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:tN+(tK?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:tF}};
this.track({$Q:"move",aa:DX})}if(_==S.Ru){var y=j.qg(),tl=rT.get([0,4])+" ";y.sp(tl+(rz.JO.vTa(j,tl)+1));
y.gd="pass";if(Q.Ww)y.sp(Q.Ww);y.add.lsct=j.H.length==1?_K.gh:_K.f_;y.xz=24;var Qx=j.fi(),vL=j.oW();
if(vL.length==0)return;vL.sort(function(D,_o){return D-_o});var rj=[];for(var U=0;U<j.k.length;U++)if(vL.indexOf(U)==-1)rj.push(j.k[U]);
var Dg=j.H[j.H.length-1]-vL.length;rj.splice(Dg+1,0,Qx);for(var U=0;U<vL.length;U++)rj.splice(Dg+2+U,0,j.k[vL[U]]);
rj.splice(Dg+2+vL.length,0,y);var D=new ro([6,9],this);D.data={$:S.P_,cR:j.k.slice(0),ba:rj,Dw:j.H.slice(0),$Z:[rj.indexOf(y)]};
j.Rk(D);this.rg(D.data,j);var B={$Q:"make",TK:!0};B.aa={classID:"Mk",null:_R.Ub("layerSection"),From:_R.Ub("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:y.getName()}}}};
this.track(B)}if(_==S.vsL){if(j.H.length!=1)return;var N=j.H[0],td=Z.r(b.DT);if(j.k[N].oH()==null){_=S.q$;
Q.t$=j.v?!td?"RvlS":"HdSl":!td?"RvlA":"HdAl"}else _=S.Dd}if(_==S.q$){if(j.H.length!=1)return;var N=j.H[0],y=j.k[N],Qo=y.oH();
if(Qo==null||Q.vxl){var D=new ro([6,21],this),$Y=new S.Xh,vB=Q.t$,br=vB=="RvlS"||vB=="HdSl";if(vB=="RvlS"||vB=="HdAl"||vB=="Trns")$Y.color=0;
if(br){$Y.channel=e.clone(j.v.channel);$Y.rect=j.v.rect.clone();if(vB=="HdSl")e.Ie($Y.channel)}if(vB=="Trns"){$Y.rect=y.rect.clone();
$Y.channel=e.Q(y.rect.P());e.yq(y.buffer,$Y.channel,3)}D.data={$:_,c:N,A:$Y,GA:Qo,zG:br?[j.v,null]:null};
j.Rk(D);this.rg(D.data,j);j.k[N].IF=1;this.track({$Q:"make",aa:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:vB}}}})}}else if(_==S.hC){var A=j.k[Q.src],w=j.k[Q.cg];
if(w.oH())return;var D=new ro([6,21],this),$Y=A.oH();if(Q.FY){D.data={$:S.q$,c:Q.cg,A:$Y.clone()}}else{D.data={$:_,src:Q.src,cg:Q.cg,A:$Y}}j.Rk(D);
this.rg(D.data,j)}if(_==S.aS){if(j.H.length!=1)return;var N=$;if(j.k[N].oH()!=null){var D=new ro([6,22],this);
D.data={$:_,c:N,A:j.k[N].oH()};j.Rk(D);this.rg(D.data,j)}}if(_==S.uf){var DT=j.k.slice(0),_b=L.clone(),b_=_b.oH();
e.qN(b_.sH(_b.rect),_b.rect,_b.buffer,_b.rect);rz.JO.dt(j,_b);j.k[j.H[0]]=_b;var D=new ro([5,8],this);
D.data={$:S.P_,cR:DT,ba:j.k.slice(),Dw:j.H.slice(0),$Z:j.H.slice(0)};j.Rk(D);this.rg(D.data,j)}if(_==S.os){if(j.H.length!=1)return;
var N=j.H[0];if(j.k[N].qv(j).A==null){var D=new ro([6,45],this);D.data={$:_,c:N,A:new S.Xh};j.Rk(D);
this.rg(D.data,j)}}if(_==S.oa){if(j.H.length!=1)return;var N=j.H[0];if(j.k[N].qv(j).A!=null){var D=new ro([6,46],this);
D.data={$:_,c:N,A:j.k[N].qv(j).A};j.Rk(D);this.rg(D.data,j)}}if(_==S.uh){if(Q.c==null&&j.H.length!=1)return;
if(j.k[$].nr()){var D=new ro([6,47],this),k=JSON.stringify(j.k[$].add.SoLd),rv=JSON.parse(k);delete rv.filterFX;
D.data={$:S.Ro,RA:[{qH:$,x$:[k,JSON.stringify(rv)],VZ:[j.k[$].qv(j),null]}]};j.Rk(D);this.rg(D.data,j)}}if(_==S.Dd){if(j.H.length!=1)return;
if(L.add.vmsk==null){var D=new ro([6,23],this),$Y=new S.jH;$Y.G[1].all=Q.vRJ?0:1;D.data={$:_,c:$,GU:!0,A:$Y,Ky:"[]",oj:null};
if(L.ql()){D.data.oj=JSON.stringify(WM.oj.default)}j.Rk(D);this.rg(D.data,j)}}if(_==S.hG){var A=j.k[Q.src],w=j.k[Q.cg];
if(w.add.vmsk)return;var D=new ro([6,23],this),QD=A.add.vmsk;D.data={c:Q.cg,GU:A.gC,A:QD.clone(),Ky:JSON.stringify(A.add.vogk),oj:A.add.vstk?JSON.stringify(A.add.vstk):null};
if(Q.FY){D.data.$=S.Dd}else{D.data.$=_;D.data.src=Q.src;D.data.cg=Q.cg}j.Rk(D);this.rg(D.data,j)}if(_==S.aH){if(j.H.length!=1)return;
var y=j.k[$],QD=y.add.vmsk;if(QD!=null){var D=new ro([6,24],this);D.data={$:_,c:$,GU:y.gC,A:QD,Ky:JSON.stringify(y.add.vogk),oj:y.add.vstk?JSON.stringify(y.add.vstk):null};
j.Rk(D);this.rg(D.data,j)}}if(_==S.ou){var D=new ro("Metadata",this);D.data={$:_,ck:JSON.stringify(j.vh),gO:JSON.stringify(Q.gO)};
j.Rk(D);this.rg(D.data,j)}if(_==S.RX){var bQ=Q.cg?Q.cg:j,Qn=bQ.name,vn=Q.O+".psd";if(Qn==vn)return;var D=new ro([6,37],this);
D.data={$:_,Gn:Qn,Ww:vn};if(Q.vxg!=!0)bQ.Rk(D);this.rg(D.data,bQ)}if(_==S.BN){var Qn=L.getName(),vn=Q.name.substring(0,255);
if(Qn==vn)return;var D=new ro([6,37],this);D.data={$:_,c:$,Gn:Qn,Ww:vn,vji:L.add.lnsr,vz$:null};j.Rk(D);
this.rg(D.data,j);this.track(_R.TB("Nm",{t:"TEXT",v:vn}))}if(_==S.mF){var tn=j.oW(),bK=[],bR=[];for(var U=0;
U<tn.length;U++){bK.push(j.k[tn[U]].add.lclr);bR.push(Q.vzk)}var D=new ro([6,38],this);D.data={$:_,k:tn,vxV:bK,vxT:bR};
j.Rk(D);this.rg(D.data,j)}if(_==S.oL){var D=j.history[j.V_];if(D!=null&&D.Y==this&&D.data.$==_&&D.data.c==Q.GM&&D.data.GE.oi==Q.ci.oi)D.data.GE=Q.ci;
else{D=new ro("Mask Density / Feather",this);D.data={$:_,c:Q.GM,Fc:j.k[Q.GM].vSF(Q.ci.oi),GE:Q.ci};j.Rk(D)}this.rg(D.data,j)}if(_==S.mG){var $y=JSON.stringify(Q.O),tW=JSON.parse($y),D=j.history[j.V_];
if(D!=null&&D.Y==this&&D.data.$==_&&D.data.aq==Q.aq&&D.data.CY.join(",")==Q.CY.join(",")){for(var U=0;
U<Q.CY.length;U++)D.data.Pv[U]=tW;if(D.data.aa&&tW.Gg!=0)rz.JO.QP(tW.hv,D.data.aa.T.v,tW.Gg-1)}else{D=new ro([11,6],this);
D.data={$:_,CY:Q.CY,aq:Q.aq,vzJ:[],Pv:[]};var bi=!1;for(var U=0;U<Q.CY.length;U++){var rl=Q.CY[U],y=j.k[rl],QF=Q.aq?G.oP.VW(j,rl):JSON.parse(JSON.stringify(y.add.vstk));
D.data.vzJ.push(QF);D.data.Pv.push(tW);if(JSON.stringify(QF)!=$y)bi=!0}if(!bi)return;j.Rk(D);if(Q.aq&&tW.Gg>0){var DX=D.data.aa={classID:"setd",null:_R.Ub("contentLayer",!0),T:{t:"Objc",v:{}}},WL=["SoCo","GdFl","PtFl"][tW.Gg-1];
rz.JO.QP(tW.hv,DX.T.v,tW.Gg-1);this.track({$Q:"set",aa:DX})}}if(Q.aq&&tW.Gg==3)j.ES(rk.Fw(tW.hv.Ptrn.v,F._N));
if(!Q.aq){var tB=tW.strokeStyleContent.v;if(tB.classID==WM.oj.wH[2])j.ES(rk.Fw(tB.Ptrn.v,F._N))}this.rg(D.data,j)}};
rz.JO.QP=function(Q,C,j){var Z=[WM.rE,WM.FX,WM.FF][j];if(C.classID==null)C.classID=["solidColorLayer","gradientLayer","patternLayer"][j];
for(var F=0;F<Z.length;F++)if(Q[Z[F]])C[Z[F]]=JSON.parse(JSON.stringify(Q[Z[F]]))};rz.JO.vIJ=function(Q){var C=new S.Xh;
if(Q.v!=null){C.color=0;C.channel=e.clone(Q.v.channel);C.rect=Q.v.rect.clone()}return C};rz.JO.vzs=function(Q,C,j,Z){var F=Z.W/j.W,_=Z.C/j.C,$=Z.W/2,L=Z.C/2,D=e.g.iq(Z).b;
for(var d=0;d<Q.k.length;d++){var o=Q.k[d],v=o.add.SoLd;if(v==null||v.Idnt.v!=C)continue;if(F!=1||_!=1){var f=G.S.wN(v.nonAffineTransform),U=e.V.xT(f,Z),H=new rI;
H.translate(-$,-L);H.scale(F,_);H.translate($,L);var B=e.V.uY(U,e.V.ij(H)),m=D.slice(0);e.V.apply(B,m);
v.Trnf=G.S.Zv(m);v.nonAffineTransform=G.S.Zv(m)}o.RN(Q)}Q.X()};rz.JO.vBv=function(Q,C,j){C.color=255-C.color;
e.Ie(C.channel);C.CZ=!0;Q.Ea(j);j.X()};rz.JO.prototype.ZH=function(Q,C){var j=Q.$,Z=C.k[Q.c];C.IJ=!0;
if(j==S.K_){C.add.lnk2.splice(C.add.lnk2.indexOf(Q.vD),1,Q.vO);rz.JO.vzs(C,Q.id,Q.vD.XJ[1],Q.vO.XJ[1])}if(j==S.DN){var F=JSON.parse(Q.CY);
for(var _=0;_<F.length;_++)C.k[F[_]].gd=Q.eo[_];C.X()}if(j==S.$V){var F=JSON.parse(Q.CY);for(var _=0;
_<F.length;_++)C.k[F[_]].opacity=Q.eo[_];C.X()}if(j==S.B_){Z.add.lspf=Q.eo}if(j==S.oQ){var $=Q.MB,L=Q.vrB;
delete Z.add[$[0]];if(L[0]!="----")Z.add[L[0]]=L[1]}if(j==S.Ke){Z.add.iOpa=Q.eo;C.X()}if(j==S.sh){for(var _=0;
_<Q.CY.length;_++){var D=C.k[Q.CY[_]];D.yh(!D.ow())}C.X()}if(j==S.DV){var d=Z.oH();d.isEnabled=!d.isEnabled;
Z.Ea(C);C.X()}if(j==S.Kp){var d=Z.qv(C).A;d.isEnabled=!d.isEnabled;Z.X();C.X()}if(j==S.az){var d=Z.add.vmsk;
d.isEnabled=!d.isEnabled;if(!d.isEnabled){if(Z.gy){Z.A=Z.gy;Z.gy=null}else Z.A=null}else if(Z.A){Z.gy=Z.A;
Z.A=null}Z.Ea(C);C.X()}if(j==S.$R){Z.kK=!Z.kK;C.X()}if(j==S.KH){Z.add.lmfx.masterFXSwitch.v=!Z.add.lmfx.masterFXSwitch.v;
Z.n.tT=!0;C.X()}if(j==S.RF){Z.add.SoLd.filterFX.v.enab.v=!Z.add.SoLd.filterFX.v.enab.v;Z.Ds(C);C.X()}if(j==S.KN){var o=Q.index,v=Z.add.lmfx[WM.zV[o[0]]].v[o[1]].v;
v.enab.v=!v.enab.v;Z.n.tT=!0;C.X()}if(j==S.oV){var f=C.k[Q.vts],U=C.k[Q.vtX],H=Q.vyP,B=Q.vyw;if(H=="")delete f.add.lmfx;
else f.add.lmfx=JSON.parse(H);if(B=="")delete U.add.lmfx;else U.add.lmfx=JSON.parse(B);f.n.tT=!0;U.n.tT=!0;
C.X()}if(j==S.Rh){var m=Z.add.SoLd.filterFX.v.filterFXList.v[Q.index].v;m.enab.v=!m.enab.v;Z.Ds(C);C.X()}if(j==S.vjB){Z.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(Q.vlf));
Z.Ds(C);C.X()}if(j==S.KP){var d=Z.oH();d.J_=!d.J_}if(j==S.hA){var d=Z.add.vmsk;d.J_=!d.J_}if(j==S.hU){var Y=Q.MG;
for(var _=0;_<Y.length;_+=2){var q=Y[_],D=q>=0?C.k[q]:C.te[-1-q];D.add.vogk=JSON.parse(Y[_+1]);e.Ky.mY(D.add.vogk,D.add.vmsk);
if(q>=0)D.Ea(C)}C.X()}if(j==S.o_){Z.add.artb=JSON.parse(Q.vxD);C.X()}if(j==S.DC){C.v=Q.pq;C.$W=Q.MG.slice(0);
C.CG=Q.fa.slice(0);C.uV=C.Iy=!0}if(j==S.aj){var r=Q.vxW;for(var _=0;_<r.length;_++)C.k[_].Dj=r[_]}if(j==S.P_){if(Q.Dw)C.H=Q.Dw;
if(Q.zG)C.v=Q.zG[0];C.Vb=null;C.X();C.Fd(Q.cR)}if(j==S.q$){rz.JO.dt(C,Z);if(Q.GA)rz.JO.QA(C,Z,Q.GA);
if(Q.zG){var x=Q.zG[0];if(x==null)delete C.v;else C.v=x}}if(j==S.hC){rz.JO.dt(C,C.k[Q.cg]);rz.JO.QA(C,C.k[Q.src],Q.A)}if(j==S.aS){rz.JO.QA(C,Z,Q.A)}if(j==S.os){Z.qv(C).A=null;
Z.X();C.X()}if(j==S.oa){Z.qv(C).A=Q.A;Z.X();C.X()}if(j==S.Ro){rz.JO.v$L(C,Q.RA,0)}if(j==S.Dd){rz.JO.Yc(C,Z,!0)}if(j==S.hG){rz.JO.Yc(C,C.k[Q.cg],Q.A.isEnabled);
rz.JO.Ye(C,C.k[Q.src],Q)}if(j==S.aH){rz.JO.Ye(C,Z,Q)}if(j==S.ou){C.vh=JSON.parse(Q.ck)}if(j==S.RX){C.name=Q.Gn}if(j==S.BN){Z.sp(Q.Gn);
if(Q.vji)Z.add.lnsr=Q.vji;else delete Z.add.lnsr}if(j==S.mF){for(var _=0;_<Q.k.length;_++)C.k[Q.k[_]].add.lclr=Q.vxV[_]}if(j==S.mG){var a=Q.vzJ;
for(var _=0;_<Q.CY.length;_++){var D=C.k[Q.CY[_]],i=a[_];if(!Q.aq)D.add.vstk=JSON.parse(JSON.stringify(i));
else G.oP.Yg(D,JSON.parse(JSON.stringify(i)));D.fn(C)}C.X()}if(j==S.oL){Z.vDc(Q.Fc);Z.Ea(C);C.X()}C.Iy=!0};
rz.JO.prototype.rg=function(Q,C){var j=Q.$,Z=C.k[Q.c];C.IJ=!0;if(j==S.K_){C.add.lnk2.splice(C.add.lnk2.indexOf(Q.vO),1,Q.vD);
rz.JO.vzs(C,Q.id,Q.vO.XJ[1],Q.vD.XJ[1])}if(j==S.DN){var F=JSON.parse(Q.CY);for(var _=0;_<F.length;_++)C.k[F[_]].gd=Q.GE;
C.X()}if(j==S.$V){var F=JSON.parse(Q.CY);for(var _=0;_<F.length;_++)C.k[F[_]].opacity=Q.GE;C.X()}if(j==S.B_){Z.add.lspf=Q.GE}if(j==S.oQ){var $=Q.vrB,L=Q.MB;
delete Z.add[$[0]];if(L[0]!="----")Z.add[L[0]]=L[1]}if(j==S.Ke){Z.add.iOpa=Q.GE;C.X()}if(j==S.sh){for(var _=0;
_<Q.CY.length;_++){var D=C.k[Q.CY[_]];D.yh(!D.ow())}C.X()}if(j==S.DV){var d=Z.oH();d.isEnabled=!d.isEnabled;
Z.Ea(C);C.X()}if(j==S.Kp){var d=Z.qv(C).A;d.isEnabled=!d.isEnabled;Z.X();C.X()}if(j==S.az){var d=Z.add.vmsk;
d.isEnabled=!d.isEnabled;if(!d.isEnabled){if(Z.gy){Z.A=Z.gy;Z.gy=null}else Z.A=null}else if(Z.A){Z.gy=Z.A;
Z.A=null}Z.Ea(C);C.X()}if(j==S.$R){Z.kK=!Z.kK;C.X()}if(j==S.KH){Z.add.lmfx.masterFXSwitch.v=!Z.add.lmfx.masterFXSwitch.v;
Z.n.tT=!0;C.X()}if(j==S.RF){Z.add.SoLd.filterFX.v.enab.v=!Z.add.SoLd.filterFX.v.enab.v;Z.Ds(C);C.X()}if(j==S.KN){var o=Q.index,v=Z.add.lmfx[WM.zV[o[0]]].v[o[1]].v;
v.enab.v=!v.enab.v;Z.n.tT=!0;C.X()}if(j==S.oV){var f=C.k[Q.vts],U=C.k[Q.vtX],H=Q.vyU,B=Q.vyM;if(H=="")delete f.add.lmfx;
else f.add.lmfx=JSON.parse(H);if(B=="")delete U.add.lmfx;else U.add.lmfx=JSON.parse(B);f.n.tT=!0;U.n.tT=!0;
C.X()}if(j==S.Rh){var m=Z.add.SoLd.filterFX.v.filterFXList.v[Q.index].v;m.enab.v=!m.enab.v;Z.Ds(C);C.X()}if(j==S.vjB){Z.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(Q.vlh));
Z.Ds(C);C.X()}if(j==S.KP){var d=Z.oH();d.J_=!d.J_}if(j==S.hA){var d=Z.add.vmsk;d.J_=!d.J_}if(j==S.hU){var Y=Q.tV;
for(var _=0;_<Y.length;_+=2){var q=Y[_],D=q>=0?C.k[q]:C.te[-1-q];D.add.vogk=JSON.parse(Y[_+1]);e.Ky.mY(D.add.vogk,D.add.vmsk);
if(q>=0)D.Ea(C)}C.X()}if(j==S.o_){Z.add.artb=JSON.parse(Q.k_);C.X()}if(j==S.DC){C.v=Q.aB;C.$W=Q.tV.slice(0);
C.CG=Q.fy.slice(0);C.uV=C.Iy=!0}if(j==S.aj){var r=Q.vxK;for(var _=0;_<r.length;_++)C.k[_].Dj=r[_]}if(j==S.P_){var x=Q.ba,a=0,i;
for(var _=0;_<x.length;_++){var D=x[_],l=D.add.lsct;if(l==_K.sQ)a++;else if(l==_K.gh||l==_K.f_)a--;if(D.add.artb&&a!=0)i="Artboards can not be inside folders."}if(i){C.history.pop();
C.V_--;alert(i);return}if(Q.$Z)C.H=Q.$Z;if(Q.zG)C.v=Q.zG[1];C.Vb=null;C.X();C.Fd(Q.ba)}if(j==S.q$){if(Q.GA)rz.JO.dt(C,Z);
rz.JO.QA(C,Z,Q.A);if(Q.zG){var M=Q.zG[1];if(M==null)delete C.v;else C.v=M}}if(j==S.hC){rz.JO.dt(C,C.k[Q.src]);
rz.JO.QA(C,C.k[Q.cg],Q.A)}if(j==S.aS){rz.JO.dt(C,Z)}if(j==S.os){Z.qv(C).A=Q.A;Z.IF=0;Z.X();C.X()}if(j==S.oa){Z.qv(C).A=null;
Z.IF=0;Z.X();C.X()}if(j==S.Ro){rz.JO.v$L(C,Q.RA,1)}if(j==S.Dd){rz.JO.Ye(C,Z,Q)}if(j==S.hG){rz.JO.Yc(C,C.k[Q.src],Q.A.isEnabled);
rz.JO.Ye(C,C.k[Q.cg],Q)}if(j==S.aH){rz.JO.Yc(C,Z,Q.A.isEnabled)}if(j==S.ou){C.vh=JSON.parse(Q.gO)}if(j==S.RX){C.name=Q.Ww}if(j==S.BN){Z.sp(Q.Ww);
if(Q.vz$)Z.add.lnsr=Q.vz$;else delete Z.add.lnsr}if(j==S.mF){for(var _=0;_<Q.k.length;_++)C.k[Q.k[_]].add.lclr=Q.vxT[_]}if(j==S.mG){var z=Q.Pv;
for(var _=0;_<Q.CY.length;_++){var D=C.k[Q.CY[_]],V=z[_];if(!Q.aq)D.add.vstk=JSON.parse(JSON.stringify(V));
else G.oP.Yg(D,JSON.parse(JSON.stringify(V)));D.fn(C)}C.X()}if(j==S.oL){Z.vDc(Q.GE);Z.Ea(C);C.X()}C.Iy=!0};
rz.JO.vTa=function(Q,C){var j=0;for(var Z=0;Z<Q.k.length;Z++){var F=Q.k[Z].getName();if(F.startsWith(C)){var _=F.slice(C.length).trim(),$=parseInt(_);
if(!isNaN($)&&$+""==_)j=$}}return j};rz.JO.v$L=function(Q,C,j){for(var Z=0;Z<C.length;Z++){var F=C[Z],_=Q.k[F.qH];
if(F.x$){_.add.SoLd=JSON.parse(F.x$[j])}if(F.VZ){if(F.VZ[1-j]!=null)Q.kz(F.VZ[1-j]);if(F.VZ[j]!=null)Q.$Y(F.VZ[j]);
else _.IF=0}_.RN(Q)}};rz.JO.vQR=function(Q,C){var j=Q.WZ,Z=Q.rect.clone();if(j!=null&&(j.x!=C.W||j.y!=C.C)){Z.x=Math.floor((C.W-Z.W)/2);
Z.y=Math.floor((C.C-Z.C)/2)}return Z};rz.JO.dt=function(Q,C){if(C.gy)C.gy=null;else C.A=null;C.Ea(Q);
Q.X();C.IF=0};rz.JO.QA=function(Q,C,j){if(C.A)C.gy=j;else C.A=j;C.Ea(Q);Q.X()};rz.JO.Yc=function(Q,C,j){if(C.gy&&j){C.A=C.gy;
C.gy=null}else if(C.A&&j){C.A=null}delete C.add.vogk;delete C.add.vstk;delete C.add.vmsk;C.Ea(Q);C.gC=!1;
Q.X()};rz.JO.Ye=function(Q,C,j){C.add.vogk=JSON.parse(j.Ky);if(j.oj)C.add.vstk=JSON.parse(j.oj);else delete C.add.vstk;
C.add.vmsk=j.A.clone();if(C.A&&C.add.vmsk.isEnabled)C.gy=C.A;C.Ea(Q);C.gC=j.GU;Q.X()};rz.hL=function(){rz.ha.call(this,G.IH);
this._A=null;this.aI=null;this.qW=null;this.oy=[];this.vr=null};rz.hL.prototype=new rz.ha;rz.hL.prototype.yc=function(Q,C,j,Z,F){var _=j.k[Q.c],$=Q.BW,D=null;
if(this._A==null){this.qW=rz.hL.vp(j,_);this._A=JSON.stringify(this.qW);if(_.add.lmfx)this.aI=JSON.stringify(_.add.lmfx)}if(_.add.lmfx==null){_.add.lmfx=JSON.parse(WM.default);
for(var L=0;L<WM.order.length;L++)_.add.lmfx[WM.zV[L]]={t:"VlLs",v:[]}}if(Q.$=="changeprop"){if($!=0){var d=this.oy[$[0]];
if(d==null)d=WM.oy[$[0]];d=JSON.parse(d);var o=_.add.lmfx[WM.zV[$[0]]].v;if(o[$[1]]==null)o[$[1]]={t:"Objc",v:d};
D=o[$[1]].v;for(var v in d)if(D[v]==null)D[v]=d[v]}if(Q.$=="changeprop"){if($==0){this.qW[Q.VH].v=Q.O;
rz.hL.tv(j,_,this.qW)}else if(Q.VH=="lagl"){if(D.uglg&&D.uglg.v){j.GO(Q.O.val);this.qW.vzm=j.WD()}else D[Q.VH].v=Q.O}else if(Q.VH=="Lald"){if(D.uglg.v){j.Gd(Q.O.val);
this.qW.vzL=j.RH()}else D[Q.VH].v=Q.O}else if(($[0]==3||$[0]==8)&&(Q.VH=="Clr"||Q.VH=="Grad")){if(Q.VH=="Clr"){D.Clr={t:"Objc",v:Q.O};
delete D.Grad}if(Q.VH=="Grad"){D.Grad={t:"Objc",v:Q.O};delete D.Clr}}else{D[Q.VH].v=Q.O}if($!=0)this.oy[$[0]]=JSON.stringify(D)}if($!=0)if(D.Ptrn)j.ES(rk.Fw(D.Ptrn.v,F._N))}else if(Q.$=="setstl"){var f=Q.O.Lefx;
if(f)rk.vQA(f,j,F._N);rk.vzM(Q.O,_);this.qW=rz.hL.vp(j,_)}else if(Q.$=="st_dupsingle"){var U=_.add.lmfx[WM.zV[Q.gI[0]]].v;
if(U[Q.gI[1]]==null)return;var H=JSON.parse(JSON.stringify(U[Q.gI[1]]));U.splice(Q.gI[1],0,H)}else if(Q.$=="st_movsingle"){var B=Q.gI[1],U=_.add.lmfx[WM.zV[Q.gI[0]]].v;
if(U[Q.gI[1]]==null)return;var m=Math.max(0,Math.min(U.length-1,B+Q.vqa)),Y=U[m];U[m]=U[B];U[B]=Y}else if(Q.$=="cancel"){if(this.aI==null)delete _.add.lmfx;
else _.add.lmfx=JSON.parse(this.aI);rz.hL.tv(j,_,JSON.parse(this._A));this._A=null;this.aI=null}else if(Q.$=="confirm"){var q=new ro([11,6],this);
q.data={k:[Q.c],PD:[this.aI],P$:[JSON.stringify(_.add.lmfx)],PK:[this._A],Pj:[JSON.stringify(this.qW)]};
j.Rk(q);this._A=null;this.aI=null}else if(Q.$=="st_copy"){this.vr=[this._A,this.aI];this._A=null;this.aI=null}else if(Q.$=="st_paste"||Q.$=="st_clear"){if(Q.$=="st_paste"&&this.vr==null)return;
var r=j.H.indexOf(Q.c)==-1?[Q.c]:j.H.slice(0),x=[],a=[],i=[],l=[];for(var L=0;L<r.length;L++){var _=j.k[r[L]],M=rz.hL.vp(j,_);
x.push(_.add.lmfx?JSON.stringify(_.add.lmfx):null);i.push(JSON.stringify(M));if(Q.$=="st_paste"){a.push(this.vr[1]);
l.push(this.vr[0])}else{a.push(null);M.lrMd.v=0;M.Opct.v.val=100;M.iOpa.v.val=100;M.blIf={v:[]};for(var z=0;
z<10;z++)M.blIf.v.push(0,0,255,255);l.push(JSON.stringify(M))}}var q=new ro([11,6],this);q.data={k:r,PD:x,P$:a,PK:i,Pj:l};
this.rg(q.data,j);j.Rk(q);this._A=null;this.aI=null}else{var V=this.qW,X=null;if(Q.$=="st_delsingle"){X=JSON.parse(this.aI);
X[WM.zV[Q.gI[0]]].v.splice(Q.gI[1],1);X=JSON.stringify(X)}if(X==null)delete _.add.lmfx;else _.add.lmfx=JSON.parse(X);
if(V!=null)rz.hL.tv(j,_,V);var q=new ro([11,6],this);q.data={k:[Q.c],PD:[this.aI],P$:[X],PK:[this._A],Pj:[JSON.stringify(V)]};
j.Rk(q);this._A=null;this.aI=null}_.n.tT=!0;j.X()};rz.hL.vp=function(Q,C){if(C.add.iOpa==null)C.add.iOpa=255;
var j=C.Hd()?["pass"].concat(rP.Cg):rP.Cg;return{lrMd:{v:j.indexOf(C.gd)},Opct:{v:{type:"#Prc",val:Math.round(C.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(C.add.iOpa*100/255)},t:"UntF"},blIf:{v:C.wY.slice(0)},vzm:Q.WD(),vzL:Q.RH(),Hd:C.Hd()}};
rz.hL.tv=function(Q,C,j){var Z=C.Hd()?["pass"].concat(rP.Cg):rP.Cg;C.gd=Z[j.lrMd.v];C.opacity=Math.round(j.Opct.v.val*255/100);
C.add.iOpa=Math.round(j.iOpa.v.val*255/100);C.wY=j.blIf.v.slice(0);Q.GO(j.vzm);Q.Gd(j.vzL)};rz.hL.prototype.ZH=function(Q,C){for(var j=0;
j<Q.k.length;j++){var Z=C.k[Q.k[j]],F=Q.PD[j];if(F==null)delete Z.add.lmfx;else Z.add.lmfx=JSON.parse(F);
rz.hL.tv(C,Z,JSON.parse(Q.PK[j]));Z.n.tT=!0}C.X()};rz.hL.prototype.rg=function(Q,C){for(var j=0;j<Q.k.length;
j++){var Z=C.k[Q.k[j]],F=Q.P$[j];if(F==null)delete Z.add.lmfx;else Z.add.lmfx=JSON.parse(F);rz.hL.tv(C,Z,JSON.parse(Q.Pj[j]));
Z.n.tT=!0}C.X()};rz.s$=function(){rz.ha.call(this,G.CN)};rz.s$.prototype=new rz.ha;rz.s$.prototype.yc=function(Q,C,j,Z){var F=JSON.parse(JSON.stringify(j.Jb)),_=JSON.parse(JSON.stringify(j.Jb)),$=null,L=null,D=null,d=-1,o=!1;
if(Q.$=="delLC"){var v=rz.s$.cS(j.Jb,Q.BW),f=j.Jb.lastAppliedComp?j.Jb.lastAppliedComp.v:0;_.list.v.splice(v,1);
if(f==Q.BW)delete _.lastAppliedComp;$="Delete Layer Comp"}if(Q.$=="editLC"){var v=rz.s$.cS(j.Jb,Q.BW),U=_.list.v[v].v;
if(Q.Ww!=null)U.Nm.v=Q.Ww;if(Q.vqM!=null){var H=Q.vqM,B=U.capturedInfo.v,m=B&(1<<H)-1;B=B>>H;if((B&1)==1)B--;
else B++;U.capturedInfo.v=(B<<H)+m}$="Layer Comp properties"}if(Q.$=="setLC"){rz.s$.Yw(j);if(Q.BW==0)delete _.lastAppliedComp;
else _.lastAppliedComp={t:"long",v:Q.BW};$="Switch Layer Comp";o=!0}if(Q.$=="updLC"){rz.s$.Yw(j);L=rz.s$.v_U(j,Q.BW);
D=rz.s$.SR(j,Q.BW);_.lastAppliedComp={t:"long",v:Q.BW};$="Update Layer Comp";d=Q.BW;o=!0}if(Q.$=="addLC"){rz.s$.Yw(j);
var Y=1;for(var q=0;q<_.list.v.length;q++)Y=Math.max(Y,_.list.v[q].v.compID.v)+1;Y+=Math.floor(Math.random()*1e4);
var r={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(_.list.v.length+1)},compID:{t:"long",v:Y},capturedInfo:{t:"long",v:7}}};
_.list.v.push(r);_.lastAppliedComp={t:"long",v:Y};$="New Layer Comp";var x=rz.s$.SR(j,Y);rz.s$.cs(j,x,Y)}var a=new ro($,this);
a.data={vxu:F,vxI:_,viV:L,vlO:D,BW:d,hx:o};this.rg(a.data,j);j.Rk(a)};rz.s$.prototype.rg=function(Q,C){C.Jb=Q.vxI;
C.IJ=!0;if(Q.vlO)rz.s$.cs(C,Q.vlO,Q.BW);if(Q.hx){var j=C.Jb.lastAppliedComp?C.Jb.lastAppliedComp.v:0,Z=rz.s$.cS(C.Jb,j),F=Z==-1?null:C.Jb.list.v[Z].v,_=F?F.capturedInfo.v:7;
rz.s$.cI(C,j,_);C.X()}};rz.s$.prototype.ZH=function(Q,C){C.Jb=Q.vxu;C.IJ=!0;if(Q.viV)rz.s$.cs(C,Q.viV,Q.BW);
if(Q.hx){var j=C.Jb.lastAppliedComp?C.Jb.lastAppliedComp.v:0,Z=rz.s$.cS(C.Jb,j),F=Z==-1?null:C.Jb.list.v[Z].v,_=F?F.capturedInfo.v:7;
rz.s$.cI(C,j,_);C.X()}};rz.s$.Yw=function(Q){if(Q.Jb.lastAppliedComp!=null||!Q.Pz)return;var C=rz.s$.SR(Q,0);
rz.s$.cs(Q,C,0);Q.Pz=!1};rz.s$.c_=function(Q,C,j){Q.v.Hrzn.v+=C;Q.v.Vrtc.v+=j};rz.s$.cS=function(Q,C){var j=Q.list.v;
for(var Z=0;Z<j.length;Z++)if(j[Z].v.compID.v==C)return Z;return-1};rz.s$.v_A=function(Q){var C=Q.layerSettings.v,F=null;
if(C.length==0)return;var j="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),Z=C[0].v;
if(Z.enab==null)Z.enab={t:"bool",v:!0};if(Z.Ofst==null)Z.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var _=0;_<C.length;_++){var $=C[_].v;if(F==null)F=JSON.parse(JSON.stringify($));else for(var L=0;
L<j.length;L++){var D=j[L];if($[D])F[D]=JSON.parse(JSON.stringify($[D]))}C[_].v=JSON.parse(JSON.stringify(F))}};
rz.s$.vq$=function(Q,C){var j=Q.add.shmd.cmls,Z=j.layerSettings.v;for(var F=0;F<Z.length;F++){var _=Z[F].v,$=_.compList.v[0].v;
if($==C)return F}return-1};rz.s$.vTv=function(Q,C){var j=rz.s$.vq$(Q,C);return j==-1?null:Q.add.shmd.cmls.layerSettings.v[j].v};
rz.s$.cI=function(Q,C,j){for(var Z=0;Z<Q.k.length;Z++){var F=Q.k[Z],_=F.add.shmd.cmls;if(_==null)continue;
var $=_.layerSettings.v,L=rz.s$.vTv(F,C);if(L==null){F.yh(!1);continue}if((j&1)!=0){if(L.enab)F.yh(L.enab.v);
else F.yh(!0)}if((j&2)!=0){if(L.Ofst){var D=L.Ofst.v,d=F.sv(Q),o=Math.round(D.Hrzn.v-d.x),v=Math.round(D.Vrtc.v-d.y);
if(o!=0||v!=0)G.BG.gS(Q,[Z],null,o,v)}}if((j&4)!=0){if(L.Lefx){var f=JSON.parse(JSON.stringify(L.Lefx.v));
De.xo(f);if(JSON.stringify(f)!=JSON.stringify(F.add.lmfx)){F.add.lmfx=f;F.n.tT=!0}}else delete F.add.lmfx;
if(L.blendOptions){var U=L.blendOptions.v;if(U.Opct)F.opacity=Math.round(255*U.Opct.v.val/100);if(U.Md)F.gd=F.add.lsct==_K.sQ?"norm":rP.Jt(U.Md.v.BlnM)}else{F.opacity=255;
F.gd=F.Hd()?"pass":"norm"}}}};rz.s$.v_U=function(Q,C){var j={};for(var Z=0;Z<Q.k.length;Z++){var F=Q.k[Z];
if(F.add.shmd==null||F.add.shmd.cmls==null)continue;j["l"+F.add.lyid]=JSON.parse(JSON.stringify(rz.s$.vTv(F,C)))}return j};
rz.s$.SR=function(Q,C){var j={};for(var Z=0;Z<Q.k.length;Z++){var F=Q.k[Z],_=F.add.lyid;j["l"+_]=rz.s$.vJO(Q,F,C)}return j};
rz.s$.vJO=function(Q,C,j){var Z=C.add.shmd?C.add.shmd.cmls:null,F={classID:"null"},_=C.sv(Q),$={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:_.x},Vrtc:{t:"long",v:_.y}}};
F.compList={t:"VlLs",v:[{t:"long",v:j}]};F.enab={t:"bool",v:C.ow()};F.Ofst=JSON.parse(JSON.stringify($));
F.FXRefPoint=JSON.parse(JSON.stringify(Z&&Z.origFXRefPoint?Z.origFXRefPoint:$));F.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:rP.aO(C.gd)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*C.opacity/255}}}};
if(C.add.vmsk){F.vectorMask={t:"Objc",v:{classID:"null"}};F.vectorMask.v.Ofst=JSON.parse(JSON.stringify($))}if(C.add.lmfx){F.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(C.add.lmfx))};
De.zZ(F.Lefx.v)}return F};rz.s$.vQK=function(Q,C){var j=C.add.lyid;if(C.add.shmd==null)C.add.shmd={};
if(C.add.shmd.cmls==null){C.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:j},layerSettings:{t:"VlLs",v:[{t:"Objc",v:rz.s$.vJO(Q,C,0)}]}}}};
rz.s$.cs=function(Q,C,j){for(var Z=0;Z<Q.k.length;Z++){var F=Q.k[Z],_=F.add.lyid;rz.s$.vQK(Q,F);var $=F.add.shmd.cmls,L=$.layerSettings.v,D=C["l"+_];
if(D!=null)D={t:"Objc",v:JSON.parse(JSON.stringify(D))};var d=rz.s$.vq$(F,j);if(d==-1){if(D==null)continue;
else L.push(D)}else{if(D==null)L.splice(d,1);else L[d]=D}}};rz.s$.Sj=function(Q,C){for(var j=0;j<Q.k.length;
j++){var Z=Q.k[j],F=Z.add.lyid;if(Z.add.shmd==null||Z.add.shmd.cmls==null)continue;var _=Z.sv(Q),$=Math.round(_.x),L=Math.round(_.y);
if(!C){$=-$;L=-L}var D=Z.add.shmd.cmls,d=D.layerSettings.v;if(D.origFXRefPoint)rz.s$.c_(D.origFXRefPoint,-$,-L);
for(var o=0;o<d.length;o++){var v=d[o].v;rz.s$.c_(v.Ofst,$,L);var f=v.imageMask,U=v.vectorMask;if(f&&f.v.Ofst)rz.s$.c_(f.v.Ofst,$,L);
if(U&&U.v.Ofst)rz.s$.c_(U.v.Ofst,$,L)}}};rz.Cz=function(){rz.ha.call(this,G.MF);this.gO=null;this.xA=null};
rz.Cz.prototype=new rz.ha;rz.Cz.cm=function(Q,C,j,Z){if(Z)C/=4;var F=0,_=0,$=255,L=0,D=0,d=255;while(_+Q[F]<C){_+=Q[F];
F++}while(L+Q[$]<C){L+=Q[$];$--}if(Z){F-=Math.round(Q[F]/(j/32));$+=Math.round(Q[$]/(j/32));if(F<0)D=Math.round(-F*255/($-F));
if($>255)d=255-Math.round(($-255)*255/($-F))}return[Math.max(F,0),Math.min($,255),D,d,100]};rz.Cz.prototype.yc=function(Q,C,j,Z,F){var _=Q.$;
if(_=="auto"){var $=Q.Pq,L=rz.Cz.getData(j);for(var D=0;D<L.length;D++){var d=L[D],o;if($<3){}else{var v=vr._j("hue2");
vM.ht(v,0,[0,-100,0]);o=rY.vT("hue2",v)}rY.DZ(o,d.xu,d.qu,d.z)}rz.Cz.Sf(j,L);rz.Cz.SX(j,L,$<3?[4,16,$]:[19,7,0],this);
j.X()}if(_=="edit_layer")this.vQf(Q,C,j,Z);if(_=="edit"||_=="confirm"||_=="cancel")this.Sl(Q,C,j,F,!0);
if(_=="start"){if(j.H.length==0)return;var f=j.k[j.H[0]];if(f.add.SoLd&&f.IF<=0){var U=new P(t.E.a,!0);
U.Y=G.yz;U.data={$:"start",qI:Q.Ra};C.Z(U);return}if(!j.oU())return;if(n[Q.Ra]&&Q.dK==null){if(j.H.length!=1)alert("Will be applied to "+j.H.length+" layers.");
var U=new P(t.E.m,!0);U.data={$:t.i.kN,ul:"afw_"+Q.Ra};C.Z(U)}else{this.Sl({$:"edit",dK:Q.dK,qI:Q.Ra},C,j,F);
this.Sl({$:"confirm",qI:Q.Ra},C,j,F)}}};rz.Cz.prototype.vQf=function(Q,C,j,Z){var F=Q.$,_=j.H[0],$=j.k[_],L=j.history[j.V_],D;
if(L&&L.Y==this&&L.data.Fc!=null&&L.data.c==_)D=L;else{var d=new P(t.E.xD,!0),o={classID:"setd",null:_R.Ub("AdjL",!0),T:{t:"Objc",v:Q.O}};
d.data={TK:!0,$Q:"set",aa:o};C.Z(d);var D=new ro([6,39],this),v=rY.get($.add);D.data={c:_,Fc:$.add[v],GE:Q.O,GG:o};
j.Rk(D)}D.data.GE=Q.O;D.data.GG.T.v=Q.O;this.rg(D.data,j)};rz.Cz.getData=function(Q,C,j){var Z=[],F=new s(0,0,Q.W,Q.C),_=Q.CG.length!=0?[-1-Q.CG[0]]:Q.H;
for(var $=0;$<_.length;$++){var L=_[$],D=L<0?null:Q.k[L],d={c:L,xw:L<0?1:D.IF};Z.push(d);var o=Q.$W[-1-L];
if(0<=L)o=D.IF<=0?null:D.IF==1?D.oH():D.qv(Q).A;var v=o?o.rect:D.rect;if(Q.v)d.z=o!=null?Q.v.rect.QU(F):Q.v.rect.QU(v);
else d.z=C||o!=null?v.fJ(F):v.clone();if(j)d.z=j[$].z.clone();var f=d.z.P();d.xu=e.Q(f*4);if(o)G.WR.NP(o.channel,o.rect,o.color,d.xu,d.z);
else e.tW(D.buffer,v,d.xu,d.z);d.qu=d.xu.slice(0);if(Q.v){d.ol=e.Q(f);e.pQ(Q.v.channel,Q.v.rect,d.ol,d.z)}}return Z};
rz.Cz.vQh=function(Q,C,j){if(C==null)return C;var Z=rY.TA(Q,C),_;if(Z==-1)return C;var F=j.length>>>2,$=e.uH(j),L=.001*F;
if(Z==0||Z==2)_=[[0,255,0,255,100],rz.Cz.cm($[1],L,F,Z==2),rz.Cz.cm($[2],L,F,Z==2),rz.Cz.cm($[3],L,F,Z==2)];
if(Z==1)_=[rz.Cz.cm($[0],L*.33,F,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var D=vr._j("levl");
for(var d=0;d<4;d++)Dp.ht(D,d,_[d]);return D};rz.Cz.prototype.Sl=function(Q,C,j,Z){if(this.gO==null)this.gO=rz.Cz.getData(j,null,Q.qI=="fade"?j.qT().data:null);
if(Q.$=="edit"){this.xA=[Q.qI,Q.dK];var F=this.gO[0],_=rz.Cz.vQh(Q.qI,Q.dK,F.xu),$=rY.vT(Q.qI,_);if(Q.qI=="fade")$=Q.dK;
if($!=null){for(var L=0;L<this.gO.length;L++){var D=this.gO[L];if(Q.o$)e.W_(D.xu,D.qu);else if(Q.qI=="fade"){var d=rP.Jt(Q.dK.Md.v.BlnM),o=Q.dK.Opct.v.val/100,v=j.qT().data[L];
e.W_(v.xu,D.qu);if(d=="norm")e.B.lh(D.xu,D.z,D.qu,D.z,null,null,null,D.z,o);else{var f=rk.mN();f.aY=!0;
for(var L=0;L<v.xu.length;L+=4)if(v.xu[L+3]!=D.xu[L+3]){f=null;break}e.B.hW(d,D.xu,D.z,D.qu,D.z,D.z,o,f)}}else rY.DZ($,D.xu,D.qu,D.z)}rz.Cz.Sf(j,this.gO)}}if(Q.$=="cancel"){rz.Cz.vRo(j,this.gO);
this.gO=null}if(Q.$=="confirm"){var U=Q.qI=="fade"?[2,11]:rY.names[Q.qI],H=rY.TA(Q.qI,this.xA[1]);if(H!=-1)U=[4,16,H];
rz.Cz.SX(j,this.gO,U,this);this.gO=null;if(H==-1)rz.Cz.vOd(C,this.xA)}j.X()};rz.Cz.vOd=function(Q,C){var j=C[0],Z=C[1],F,_;
if(rY.Kv[j]){F=rY.Kv[j];if(n[j])_=Z}if(vr.Kv[j]){F=vr.Kv[j];if(n[j])_=Z}if(F==null)return;var $=new P(t.E.xD,!0);
$.data={TK:!0,$Q:F};if(_){_=JSON.parse(JSON.stringify(_));_.classID="null";delete _.__name;$.data.aa=_}Q.Z($)};
rz.Cz.vRo=function(Q,C){rz.Cz.dS(Q,C)};rz.Cz.SX=function(Q,C,j,Z){for(var F=0;F<C.length;F++){var _=C[F],$=Q.k[_.c],L=_.c<0?Q.$W[-1-_.c]:_.xw<=0?null:_.xw==1?$.oH():$.qv(Q).A;
if(L){L.Dx();L.CZ=!0;if($)$.Ea(Q)}else{$.Dx();$.X()}delete _.qu;delete _.ol}var D=new ro(j,Z);D.data=C;
Q.Rk(D);Q.IJ=!0};rz.Cz.Sf=function(Q,C,j){for(var Z=0;Z<C.length;Z++){var F=C[Z],_=Q.k[F.c],$=j?F.xu:F.qu,L=F.z;
if(F.xw==0){_.extend(L);if(F.ol){e.tW(F.xu,L,_.buffer,_.rect);e.B.lh($,L,_.buffer,_.rect,F.ol,L,0,L,1)}else e.tW($,L,_.buffer,_.rect)}else{var D=F.c<0?Q.$W[-1-F.c]:F.xw==1?_.oH():_.qv(Q).A;
D.extend(L);if(F.ol){var d=e.Q(L.P()*4);e.W_(F.xu,d);e.B.lh($,L,d,L,F.ol,L,0,L,1);G.WR.ZS(d,L,D)}else G.WR.ZS($,L,D);
D.CZ=!0;if(_)_.Ea(Q)}if(_)_.X()}if(!j)rz.Cz.vTm(Q,C)};rz.Cz.dS=function(Q,C){for(var j=0;j<C.length;
j++){var Z=C[j],F=Q.k[Z.c],_=Z.z,$=e.Q(_.P()*4);if(Z.xw==0){e.tW(F.buffer,F.rect,$,_);F.extend(_);e.tW(Z.xu,_,F.buffer,F.rect);
F.Dx()}else{var L=Z.c<0?Q.$W[-1-Z.c]:Z.xw==1?F.oH():F.qv(Q).A;G.WR.NP(L.channel,L.rect,L.color,$,_);
L.extend(_);G.WR.ZS(Z.xu,_,L);L.Dx();L.CZ=!0;if(F)F.Ea(Q)}Z.xu=$;if(F)F.X()}Q.IJ=!0};rz.Cz.vTm=function(Q,C){var j=rz.Cz.vQJ(Q),Z=~j;
if(j==16777215)return;for(var F=0;F<C.length;F++){var _=C[F],$=Q.k[_.c],L=_.z;if(_.xw!=0)continue;$.extend(L);
var D=L.x-$.rect.x,d=L.y-$.rect.y,o=$.rect.W,v=new Uint32Array(_.xu.buffer),f=new Uint32Array($.buffer.buffer);
for(var U=0;U<L.C;U++)for(var H=0;H<L.W;H++){var B=U*L.W+H,m=(U+d)*o+(H+D);f[m]=f[m]&j|v[B]&Z}$.Dx();
$.X()}Q.X()};rz.Cz.vQJ=function(Q){var C=Q.R.oe;return C[2]*16711680|C[1]*65280|C[0]*255};rz.Cz.prototype.ZH=function(Q,C){var j=C.k[Q.c];
if(Q.Fc!=null)j.add[rY.get(j.add)]=Q.Fc;else rz.Cz.dS(C,Q);C.X()};rz.Cz.prototype.rg=function(Q,C){var j=C.k[Q.c];
if(Q.Fc!=null)j.add[rY.get(j.add)]=Q.GE;else rz.Cz.dS(C,Q);C.X()};rz.bq=function(){rz.ha.call(this,G.yz);
this.gO=null;this.v_=null;this.$=null;this.xA=null};rz.bq.prototype=new rz.ha;rz.bq.prototype.yc=function(Q,C,j,Z,F){if(Q.$=="start"){if(j.H.length==0)return;
var _=j.k[j.H[0]];if(_.add.SoLd&&_.IF<=0){}else if(!j.oU())return;var $=Q.qI;if((n[$]||vr.Bq[$])&&Q.dK==null){if(j.H.length!=1)alert("Will be applied to "+j.H.length+" layers.");
var L=new P(t.E.m,!0);L.data=rz.bq.vze($,this.T_(j,$));C.Z(L)}else{var D={$:"edit",qI:$,dK:Q.dK,qL:this.T_(j)};
this.yc(D,C,j,Z,F);D.$="confirm";delete D.dK;this.yc(D,C,j,Z,F)}}if(Q.$=="edit"||Q.$=="cancel"||Q.$=="confirm"){if(Q.$=="edit")this.xA=[Q.qI,Q.dK];
if(Q.qL)this.vQo(Q,j,F);else this.vQG(Q,C,j,F)}if(Q.$=="applylast"&&this.xA!=null){var D={$:"edit",qI:this.xA[0],dK:this.xA[1],qL:this.T_(j)};
this.yc(D,C,j,Z,F);D.$="confirm";delete D.dK;this.yc(D,C,j,Z,F)}};rz.bq.vze=function(Q,C){var j=vr.Bq[Q];
if(j)return{$:t.i.TX,Y:j,mK:{qL:C}};else return{$:t.i.kN,ul:"afw_"+Q,qL:C}};rz.bq.prototype.T_=function(Q,C){var j=Q.k[Q.H[0]],Z;
if(j.add.SoLd&&j.IF<=0){Z={c:Q.H[0],index:0};if(j.add.SoLd.filterFX!=null){var F=j.add.SoLd.filterFX.v.filterFXList.v;
Z.index=F.length;for(var _=0;_<F.length;_++)if(c.Fr(F[_].v.filterID.v)==C&&vr.Bq[C])Z.index=_}}return Z};
rz.bq.prototype.vQo=function(Q,C,j){var Z=C.k[Q.qL.c],F=Q.qI;if(Q.$=="edit"){if(this.$==null){var _=vr.names[F];
if(_==null)_=rY.names[F];this.$=new ro(_,this);this.$.data={qL:Q.qL,vxE:JSON.parse(JSON.stringify(Z.add.SoLd))}}if(!Z.nr()){Z.add.SoLd.filterFX=vr.fh();
this.$.data.VZ=rH.vpY(Z.add.SoLd.placed.v);C.$Y(this.$.data.VZ);Z.RN(C)}var $=Z.add.SoLd.filterFX.v.filterFXList.v;
if($[Q.qL.index]==null){$.push(vr.Xd(F,j))}if(Q.dK){$[Q.qL.index].v.enab.v=Q.o$!=!0;$[Q.qL.index].v.Fltr.v=Q.dK}this.$.data.vxX=JSON.parse(JSON.stringify(Z.add.SoLd));
this.rg(this.$.data,C)}if(Q.$=="cancel"){if(this.$)this.ZH(this.$.data,C);this.$=null}if(Q.$=="confirm"){if(this.$)C.Rk(this.$);
this.$=null}};rz.bq.prototype.dm=function(Q){return{h:Q>>>16,J:Q>>>8&255,_:Q&255}};rz.bq.prototype.vQG=function(Q,C,j,Z){if(this.gO==null){var F=vr.vDZ(Q.qI,Q.dK);
this.gO=rz.Cz.getData(j,F.x!=0||F.y!=0)}if(Q.$=="edit"){var _=JSON.stringify(Q.dK);if((Q.dK==null||_!=this.v_)&&Q.o$!=!0)for(var $=0;
$<this.gO.length;$++){var L=this.gO[$],D={rect:L.z,buffer:L.xu},d={rect:L.z,buffer:L.qu};vr.DZ(Q.qI,D,Q.dK,this.dm(Z.pd),this.dm(Z.JD),d,[j.add.lnk2?j.add.lnk2:[],j.k[j.H[0]].oH(),j.$W]);
this.v_=_}rz.Cz.Sf(j,this.gO,Q.o$)}if(Q.$=="cancel"){rz.Cz.vRo(j,this.gO);this.gO=null;this.v_=null}if(Q.$=="confirm"){rz.Cz.SX(j,this.gO,vr.names[Q.qI],this);
this.gO=null;this.v_=null;rz.Cz.vOd(C,this.xA)}j.X()};rz.bq.prototype.ZH=function(Q,C){if(Q.qL){var j=C.k[Q.qL.c];
if(Q.VZ)C.kz(Q.VZ);j.add.SoLd=JSON.parse(JSON.stringify(Q.vxE));if(j.nr())j.Ds(C);else{j.RN(C);j.IF=0}}else rz.Cz.dS(C,Q);
C.X()};rz.bq.prototype.rg=function(Q,C){if(Q.qL){var j=C.k[Q.qL.c];if(Q.VZ)C.$Y(Q.VZ);j.add.SoLd=JSON.parse(JSON.stringify(Q.vxX));
if(j.nr())j.Ds(C);else j.RN(C);if(!j.bH())j.xz+=32}else rz.Cz.dS(C,Q);C.X()};var rQ={yY:"0",LX:"1",dZ:"2",tR:"3",IL:"4",Mu:"5",vt:"6",dH:"7",a:"8",G_:"8.5",vK:"8.8",XW:"9",vR:"10",tq:"11",Xb:"12",tg:"13",vH:"14",tp:"15",TH:"21",cF:"22",vq:"23",tC:"23.0",tY:"23.1",cC:"23.2",Xu:"23.3",Ti:"23.4",cH:"23.5",cn:"23.6",vgj:"30",tf:"31",fQ:"40",tU:"41",bj:"42"};
rQ.ZC={};rQ.ZC[rQ.LX]=["abr","brushes",WS,[9,3]];rQ.ZC[rQ.dZ]=["grd","gradients",Qf,[12,37]];rQ.ZC[rQ.tR]=["shc","contours",K_,[12,21]];
rQ.ZC[rQ.IL]=["asl","styles",bt,[12,22]];rQ.ZC[rQ.Mu]=["pat","patterns",D$,[12,62]];rQ.ZC[rQ.vt]=["csh","shapes",Wh,[12,77]];
rQ.ZC[rQ.dH]=["aco","swatches",vF,[9,8]];rQ.ZC[rQ.a]=["atn","actions",WU,[9,9]];rQ.ZC[rQ.G_]=["tpl","tpresets",bo,[9,12]];
rQ.ZC[rQ.vK]=["icc","profiles",vA,"ICCs"];function b(){this.iu={};this.vQ=0}b.prototype.reset=function(){this.iu={};
this.vQ=0};b.prototype.vtW=function(Q){this.vQ++;this.iu[Q]=!0};b.prototype.vtr=function(Q){this.vQ--;
delete this.iu[Q];if(this.vQ<=0||b.BM(Q,b.vtH))this.reset()};b.prototype.r=function(Q){for(var C=0;C<Q.$s.length;
C++)if(this.iu[Q.$s[C]])return!0;return!1};b.prototype.po=function(){var Q=this,C=Q.r(b.WO)?10:1,j=0,Z=0;
if(Q.r(b.vK_))j=-C;if(Q.r(b.vRu))j=C;if(Q.r(b.bo))Z=-C;if(Q.r(b.bP))Z=C;return new Wn(j,Z)};b.prototype.Tl=function(){var Q=this,C=b.fX;
for(var j=0;j<10;j++)if(Q.r(C[j]))return j;return-1};b.BM=function(Q,C){return C.$s.indexOf(Q)!=-1};
b.vIT=function(Q){var C=Q.code,F=!1;if(C=="")return!1;var j=b.BM,Z=b.fX.concat([b.be,b.fb,b.fl,b.Tg]);
for(var _=0;_<Z.length;_++)if(j(C,Z[_]))F=!0;if(Q.altKey&&!Q.shiftKey&&!Q.ctrlKey&&F)return!1;return b.vyC.indexOf(C)==-1||Q.shiftKey&&(C=="F5"||C=="F6")};
b.vBt=function(Q){var C=Q.code;return C!=""&&(b.vyC.indexOf(C)==-1||Q.shiftKey&&(C=="F5"||C=="F6"))};
b.vtR=function(Q){if(Q==null)return"";var C=[];for(var j=0;j<Q.length;j++)C.push(Q[j]._X);return C.join(" + ")};
b.vyC="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
b.v_k=function(Q){var C={"+":"NumpadAdd","-":"NumpadSubtract"},j=Q.code,Z=Q.key.toLowerCase(),F=Z.charCodeAt(0);
if(Z.length==1){if(97<=F&&F<=122&&j.startsWith("Key")&&j.toLowerCase().charCodeAt(3)!=F){var _="Key"+Z.toUpperCase();
j=_}else if(C[Z])j=C[Z]}return j};b.bA={_X:"Enter",$s:["Enter","NumpadEnter"]};b.WO={_X:"Shift",$s:["ShiftLeft","ShiftRight"]};
b.vtH={_X:"Meta",$s:["MetaLeft","MetaRight","OSLeft","OSRight"]};b.XE={_X:"Ctrl",$s:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
b.DT={_X:"Alt",$s:["AltLeft","AltRight"]};b.vtx={_X:"CtrlOrAlt",$s:b.XE.$s.concat(b.DT.$s)};b.Fj={_X:"Escape",$s:["Escape"]};
b.pG={_X:"Space",$s:["Space"]};b.ft={_X:"Tab",$s:["Tab"]};b.vtL={_X:"Home",$s:["Home"]};b.vtG={_X:"End",$s:["End"]};
b.vK_={_X:"Left",$s:["ArrowLeft"]};b.bo={_X:"Up",$s:["ArrowUp"]};b.vRu={_X:"Right",$s:["ArrowRight"]};
b.bP={_X:"Down",$s:["ArrowDown"]};b.be={_X:"+",$s:["NumpadAdd","Equal"]};b.fb={_X:"-",$s:["NumpadSubtract","Minus","Slash"]};
b.vtA={_X:";",$s:["Semicolon"]};b.vBK={_X:"Dead",$s:["Dead"]};b.vtn={_X:"=",$s:["Equal"]};b.oC={_X:"Backspace",$s:["Backspace"]};
b.Ae={_X:"Delete",$s:["Delete"]};b.vtM={_X:"Backslash",$s:["Backslash","IntlBackslash"]};b.vbb={_X:"Backquote",$s:["Backquote"]};
b.fl={_X:"[",$s:["BracketLeft"]};b.Tg={_X:"]",$s:["BracketRight"]};b.vKW={_X:".",$s:["Period"]};b.vKr={_X:",",$s:["Comma"]};
b.vKC={_X:"'",$s:["Quote"]};b.i={_X:"A",$s:["KeyA"]};b.vV$={_X:"B",$s:["KeyB"]};b.dm={_X:"C",$s:["KeyC"]};
b.kh={_X:"D",$s:["KeyD"]};b.E={_X:"E",$s:["KeyE"]};b.VG={_X:"F",$s:["KeyF"]};b.vsa={_X:"G",$s:["KeyG"]};
b.vvV={_X:"H",$s:["KeyH"]};b.Tk={_X:"I",$s:["KeyI"]};b.vWF={_X:"J",$s:["KeyJ"]};b.IA={_X:"K",$s:["KeyK"]};
b.m$={_X:"L",$s:["KeyL"]};b.pL={_X:"M",$s:["KeyM"]};b.Fu={_X:"N",$s:["KeyN"]};b.vrH={_X:"O",$s:["KeyO"]};
b.XI={_X:"P",$s:["KeyP"]};b.vKY={_X:"Q",$s:["KeyQ"]};b.Hb={_X:"R",$s:["KeyR"]};b.v_n={_X:"S",$s:["KeyS"]};
b.n={_X:"T",$s:["KeyT"]};b.qi={_X:"U",$s:["KeyU"]};b.vqA={_X:"V",$s:["KeyV"]};b.vvn={_X:"W",$s:["KeyW"]};
b.fu={_X:"X",$s:["KeyX"]};b.vKU={_X:"Y",$s:["KeyY"]};b.fd={_X:"Z",$s:["KeyZ"]};b.vrK={_X:"0",$s:["Numpad0","Digit0"]};
b.vzq={_X:"1",$s:["Numpad1","Digit1"]};b.vRD={_X:"2",$s:["Numpad2","Digit2"]};b.vRd={_X:"3",$s:["Numpad3","Digit3"]};
b.vRc={_X:"4",$s:["Numpad4","Digit4"]};b.vRP={_X:"5",$s:["Numpad5","Digit5"]};b.vRM={_X:"6",$s:["Numpad6","Digit6"]};
b.vjO={_X:"7",$s:["Numpad7","Digit7"]};b.vjt={_X:"8",$s:["Numpad8","Digit8"]};b.vjS={_X:"9",$s:["Numpad9","Digit9"]};
b.fX=[b.vrK,b.vzq,b.vRD,b.vRd,b.vRc,b.vRP,b.vRM,b.vjO,b.vjt,b.vjS];b.vBM={_X:"F1",$s:["F1"]};b.vmD={_X:"F2",$s:["F2"]};
b.vm$={_X:"F3",$s:["F3"]};b.vmW={_X:"FF",$s:["F4"]};b.vjs={_X:"F5",$s:["F5"]};b.vjd={_X:"F6",$s:["F6"]};
b.vmi={_X:"F7",$s:["F7"]};b.vmJ={_X:"F8",$s:["F8"]};b.vmX={_X:"F9",$s:["F9"]};b.vmB={_X:"F10",$s:["F10"]};
b.vmm={_X:"F11",$s:["F11"]};b.vmx={_X:"F12",$s:["F12"]};function ro(Q,C,j){if(j==null)j=!1;this.name=Q;
this.Y=C;this.Pi=j;this.data=null}var _R={};_R.Ub=function(Q,C){var j={t:"Clss",v:{classID:Q}};if(C)j={t:"Enmr",v:{classID:Q,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[j]}};_R.TB=function(Q,C){var j={classID:"Lyr"};j[Q]=C;return{$Q:"set",aa:{classID:"null",null:_R.Ub("Lyr",!0),T:{t:"Objc",v:j}}}};
_R.vjH=function(Q,C,j,Z,F){var _=new P(t.E.xD,!0),$=[],L=0,D=_R.vpO(C,j,Z,$);while($.length!=0){var d=$.pop();
L++;if(!d.F)continue;if(d.$Q=="conditional"){var o=Q.k[Q.H[0]],v=d.aa.null.v.Cndt,f=!1;if(v=="Bckg")f=!1;
else if(v=="Pxel"&&Q.TE(!1))f=!0;else if(v=="Adjs"&&rY.get(o.add))f=!0;else if(v=="Shp"&&o.add.vogk)f=!0;
else if(v=="Grup"&&o.Hd())f=!0;var U=d.aa.then.v;if(f)_R.vpO(C,U[0].v.val,U[1].v.val,$)}else if(d.$Q=="stop"){alert(d.aa.Msge.v);
break}else{_.data={$Q:d.$Q,aa:d.aa};F.Z(_)}}};_R.vpO=function(Q,C,j,Z){var F;for(var _=0;_<Q.length;
_++){if(Q[_].vA!=j)continue;var $=Q[_].L;for(var L=0;L<$.length;L++){if($[L].vA!=C)continue;F=$[L].L}}var D=F.length;
for(var _=0;_<D;_++)Z.push(F[D-1-_])};_R.vzE=function(Q){var C=Q.$Q,j=Q.aa,Z,$,L,D,d,o;if(j&&j.null)Z=j.null.v[0];
if(j&&Z==null&&j.At)Z=j.At.v[0];if(Z&&Z.t=="obj ")Z=Z.v[0];var F=Z?Z.v.classID:null,_=["purge"];if(_.indexOf(C)!=-1)return C[0].toUpperCase()+C.slice(1);
o=rY.Kv;for($ in o)if(o[$]==C)L=$;o=vr.Kv;for($ in o)if(o[$]==C)D=$;o=Dv.Kv;for($ in o)if(o[$]==C)d=$;
if(L){var v=rY.TA(L,j);if(v!=-1)return[4,16,v];return rY.names[L]}if(D)return vr.names[D];if(d)return Dv.names[d];
var f=_R.vSa;if(C=="make"){if(Z){if(F=="AdjL")return[6,1];else if(F=="layerSection")return[6,9];else if(F=="Lyr")return[6,13];
else if(F=="Chnl"&&Z.v.enum=="Msk")return[6,2];else if(F=="contentLayer")return[6,48,1];else if(F=="BckL")return"Make Background Layer";
else if(F=="Path")return"Make Path"}if(j.Nw){F=j.Nw.v.classID;if(F=="Dcmn")return[11,7];else if(F=="Chnl"||F=="SCch")return"New Channel"}}else if(C=="select"){if(F=="Chnl")return"Select "+(Z.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(F=="Mn")return"Select Panel \""+Z.v.enum+"\"";else if(F=="Lyr")return"Select Layer \""+Z.v.val+"\""}else if(f[C]&&F=="Chnl"){var U=Z.v.keyID=="fsel";
return f[C]+" "+(U?"Selection":"Channel")}else if(C=="set"){if(F=="Lyr")return"Set Current Layer";else if(F=="AdjL")return[6,39];
else if(F=="contentLayer")return[6,48,2];else if(F=="Prpr")return[11,6];else if(F=="Clr")return"Set "+(Z.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else console.log(F)}else if(C=="move"){if(F=="Lyr")return"Move Layer"}else if(C=="show"||C=="hide"){var H="";
if(F=="Lyr")+"Layer";if(F=="Chnl")+"Channel";return(C=="show"?"Show":"Hide")+" "+H}else if(C=="reset"){if(F=="Clr")return"Reset Colors"}else if(C=="exchange"){if(F=="Clr")return[22,7,0]}else if(C=="rotateEventEnum")return[2,5];
else if(C=="flip"){var B=j.Axis.v.Ornt=="Hrzn";return[2,6,[22,4,B?2:3]]}if(F=="Chnl"){if(C=="duplicate"){if(Z.v.keyID=="fsel")return"Selection to Channel";
else return"Duplicate Channel"}if(C=="delete")return"Delete Channel"}var m={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49],copyMerged:[5,7],paste:[5,2],close:[1,12],groupEvent:[6,18],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],transform:[10,16],delete:j?[6,31]:[2,2],align:[20,4,0],placedLayerEditContents:"Edit Contents",newPlacedLayer:[6,7],canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],conditional:"If"},Y=m[C];
if(Y==null)Y=_R.vbf[C];if(Y)return Y;console.log(C,j);return C};_R.vbf={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
_R.vSa={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
_R.vzd=function(Q,C,j,Z){var F=Q.$Q,_=Q.aa,$=new P(t.E.a,!0),d,o,v,f,U,Y;$.Y=G.tP;var L=new P(t.E.m,!0),D=["purge","updatePlacedLayer"];
if(D.indexOf(F)!=-1)return;U=rY.Kv;for(d in U)if(U[d]==F)o=d;U=vr.Kv;for(d in U)if(U[d]==F)v=d;U=Dv.Kv;
for(d in U)if(U[d]==F)f=d;if(o){$.Y=G.MF;$.data={$:"start",Ra:o,dK:_}}else if(v){$.Y=G.yz;$.data={$:"start",qI:v,dK:_}}else if(f){$.Y=G.yz;
$.data={$:"start",qI:"GEfc",dK:_}}else if(F=="imageSize"||F=="canvasSize"||F=="revealAll"||F=="trim"){$.Y=G.Eu;
$.data={$:"fromAction",cN:Q}}else if(F=="fill"||F=="delete"&&_==null){$.Y=G.LX;$.data={$:"fromAction",cN:Q}}else if(F=="colorRange"){var H=_.Mnm.v,B=_.Mxm.v;
$.Y=G.sT;$.data={$:"crange",QF:{m$:H.Lmnc.v,om:H.A.v,_:H.B.v},Qh:{m$:B.Lmnc.v,om:B.A.v,_:B.B.v},aw:_.Fzns.v/200}}else if(_R.vbf[F]||_R.vSa[F]&&(!1||_.With&&_.With.v[0].v.keyID=="fsel"||_.From&&_.From.v[0].v.keyID=="fsel"||_.null&&_.null.v[0].v.keyID=="fsel"||_.T.v[0]&&_.T.v[0].v.keyID=="fsel")){$.Y=G.sT;
$.data={$:"fromAction",cN:Q}}var m={copyToLayer:S.$g,mergeLayersNew:Z&&Z.H.length==1?S.vM:S.Kb,rasterizeLayer:S.vKe,mergeVisible:S.KS,flattenImage:S.uc,newPlacedLayer:S.vQk};
if(m[F])$.data={$:m[F],aa:_};if($.data){C.Z($);return}if(F=="desaturate"){$.Y=G.MF;$.data={$:"auto",Pq:3};
C.Z($);return}if(F=="close"){if(_.Svng.v.YsN=="Ys"){L.data={$:t.i.rJ};C.Z(L)}L.data={$:t.i.sx,aX:Z};
C.Z(L);return}var m={placedLayerEditContents:t.i.vKL,copyEvent:t.i.rI,paste:t.i.yy};if(m[F])L.data={$:m[F]};
if(L.data){C.Z(L);return}if(_.null||_.At)Y=(_.null?_.null:_.At).v;else Y=[{t:"----",v:_}];if(Y[0].t=="obj "){if(Y.length!=1)throw"e";
Y=Y[0].v}for(var q=0;q<Y.length;q++){var r=Y[q],x=r.v.classID;$.data=null;if(F=="make"){if(_.null==null&&_.Nw)x=_.Nw.v.classID;
if(x=="AdjL"){$.data={$:S.RQ,aa:_}}else if(x=="layerSection"){$.data={$:S.Ru};if(_.Usng)$.data.Ww=_.Usng.v.Nm.v}else if(x=="Lyr"){if(_.Usng&&_.Usng.v.length==2)$.data={$:S.vKA};
else{$.data={$:S.sn};if(_.Usng)$.data.Ww=_.Usng.v.Nm.v}}else if(x=="Chnl"&&r.v.enum=="Msk"){$.data={$:S.q$,t$:_.Usng.v.UsrM}}else if(x=="Chnl"||x=="SCch"){$.data={$:S.DC,zW:"fromAction",O:Q}}else if(x=="contentLayer"){$.data={$:S.EQ,aa:_}}else if(x=="BckL"){Z.k[Z.H[0]].vqj();
continue}else if(x=="Dcmn"){var a=_.Nw.v;L.data={$:t.i.XV,xa:rH.viL(a,j)}}else if(x=="Ptrn")L.data={$:t.i.zT,Vh:0};
else if(x=="Path"){$.Y=G.My;$.data={$:"pathedit",zW:"fromsel"}}else{console.log(F,_);throw"e"}}else if(F=="select"){if(x=="Lyr"){var i=_.selectionModifier,l=i?i.v.selectionModifierType:null,M=_R.DJ(Z,r);
$.data={$:S.$I,c:M,v__:l?["addToSelection","addToSelectionContinuous"].indexOf(l):null,$e:0,vyB:!0}}else if(x=="Chnl"){$.data={$:S.$I,c:M,$e:1}}}else if((F=="set"||F=="reset"||F=="exchange")&&x=="Clr"){L.data={$:t.i.yN,Vh:rQ.TH,zW:F=="reset"?3:2};
if(F=="set"){L.data.zW=r.v.keyID=="FrgC"?0:1;var z=e.q.Xa(_.T.v);L.data.O=z.h<<16|z.J<<8|z._}}else if(F=="set"){if(x=="AdjL"){var V=_.T.v.classID;
V=rY.fc[V];$.Y=G.MF;if(V)$.data={$:"edit_layer",O:_.T.v}}else if(x=="Lyr"){var X=_.T.v,M=_R.DJ(Z,r);
if(X.Nm)$.data={$:S.BN,name:X.Nm.v};else if(X.Opct)$.data={$:S.$V,GE:Math.round(X.Opct.v.val*255/100)};
else if(X.fillOpacity)$.data={$:S.Ke,GE:Math.round(X.fillOpacity.v.val*255/100)};else if(X.Md)$.data={$:S.DN,GE:rP.kQ.indexOf(X.Md.v.BlnM)};
else if(X.Usrs)$.data={$:S.KP,c:M};else if(X.Blnd){$.Y=G.IH;$.data={$:"setstl",c:M,O:{blendOptions:{t:"objc",v:X}}};
C.Z($);$.data={$:"confirm",c:M}}else if(X.Clr){var O={Ylw:3}[X.Clr.v.Clr];if(O==null)throw"e";$.data={$:S.mF,vzk:O}}else if(Y[0].t=="prop")continue;
else{console.log(_);throw"e"}var y=Z.k[M];y.vqs()}else if(x=="Prpr"){var X=JSON.parse(JSON.stringify(_.T.v));
if(r.v.keyID=="TxtS"){var M=_R.DJ(Z,_.null.v[1]),y=Z.k[M],K=y.add.TySh,R=JSON.parse(JSON.stringify(K.Qp)),W=rD.Dm(R),N=rD.WW(R,0,W.length-2);
if(X.Undl&&X.Undl.v.Undl=="underlineOnLeftInVertical")N.hy.Underline=!0;rD.ey(R,0,W.length-1,N);$.Y=G.Jl;
$.data={$:"newED",Kn:M,fR:R};q=1e9}else{for(var I in X)if(X[I].v){if(I=="Scl")X[I].v.val=100;if(X[I].v.TrnS&&X[I].v.TrnS.v.Crv==null){X[I].v.TrnS=JSON.parse(WM.oy[9]).TrnS}}De.xo(X);
if(X.masterFXSwitch==null)X.masterFXSwitch={t:"bool",v:!0};var M=_R.DJ(Z,_.null.v[1]);$.Y=G.IH;$.data={$:"setstl",c:M,O:{Lefx:{t:"objc",v:X}}};
C.Z($);$.data={$:"confirm",c:M}}}else if(x=="contentLayer"){var M=_R.DJ(Z,r),X=_.T.v;if(X.classID=="shapeStyle")X=X.FlCn.v;
var T={solidColorLayer:0,gradientLayer:1,patternLayer:2}[X.classID],v=JSON.parse(JSON.stringify(WM.$y[T]));
rz.JO.QP(X,v,T);$.data={$:S.mG,CY:[M],aq:!0,O:{Gg:T+1,hv:v}}}else{console.log(r,_);throw x}}else if(F=="move"){if(x=="Lyr"){var X=_.T.v;
if(X.classID=="Ofst"){$.data={$:"trsl",vXr:X.Hrzn.v.val,vXh:X.Vrtc.v.val};$.Y=G.hj}else{var h,p;if(X[0].t=="Enmr"){if(X[0].v.enum=="Frnt")p=0;
else if(X[0].v.enum=="Prvs")p=2;else if(X[0].v.enum=="Back")p=3;else throw"e"}else h=X[0].v.val;$.data={$:S.$E,target:h,zW:p,vxR:_.Dplc?_.Dplc.v:!1}}}}else if(F=="groupEvent")$.data={$:S.$R};
else if(F=="show"||F=="hide"){if(x=="Lyr"){var M=_R.DJ(Z,r);if(M==-1)continue;var u=Z.k[M].ow();if(F=="show"&&u||F=="hide"&&!u)continue;
$.data={$:S.sh,c:M}}else if(x=="Chnl"){$.data={$:S.DC,zW:"fromAction",O:Q}}}else if(F=="rotateEventEnum"){$.Y=G.Eu;
var g=_.Angl.v.val;$.data={$:"rot",vA:[2,5],O:-g*Math.PI/180}}else if(F=="flip"){$.Y=G.Eu;var A=_.Axis.v.Ornt=="Hrzn",w=A?new Wn(-1,1):new Wn(1,-1);
$.data={$:"scl",vA:[2,6,[22,4,A?2:3]],O:w}}else if(F=="transform"){var r$=1,rW=1,J=0,rr=0,r_=0,rO=0,k=0;
if(_.Wdth)r$=_.Wdth.v.val/100;if(_.Hght)rW=_.Hght.v.val/100;if(_.Skew){var rv=_.Skew.v;J=rv.Hrzn.v.val;
rr=rv.Vrtc.v.val}if(_.Ofst){var rb=_.Ofst.v;rO=rb.Hrzn.v.val;k=rb.Vrtc.v.val}if(_.Angl)r_=_.Angl.v.val;
var rt=new rI;rt.concat(new rI(r$,r$*Math.tan(rr*Math.PI/180),rW*Math.tan(J*Math.PI/180),rW,0,0));rt.rotate(-r_*Math.PI/180);
rt.translate(rO,k);var rK={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[_.FTcs.v.QCSt];
if(rK==null)throw _.FTcs.v.QCSt;var M=_.null?_R.DJ(Z,r):null;$.Y=G.sI;$.data={$:"mat",Xl:rK,O:rt,c:M}}else if(x=="Chnl"){$.data={$:S.DC,zW:"fromAction",O:Q}}else if(F=="duplicate")$.data={$:S.sN,Ww:_.Nm?_.Nm.v:null};
else if(F=="delete")$.data={$:S.sV};else if(F=="align"){$.Y=G.hj;var o={AdLf:0}[_.Usng.v.ADSt];if(o==null)throw"e";
$.data={$:"algn",O:o}}if($.data)C.Z($);else if(L.data)C.Z(L);else{console.log(Q);alert("Unknown action \""+F+"\"");
throw"e"}}};_R.DJ=function(Q,C){var j=C.t,Z=-1;if(j=="name"){var F=C.v.val,Z=-1;for(var _=0;_<Q.k.length;
_++)if(Q.k[_].getName()==F){Z=_;break}}if(j=="Enmr"&&Q.H.length!=0)Z=Q.H[0];if(j=="Enmr"&&C.v.enum=="Frwr")Z=Q.H[0]-1;
if(j=="prop"){if(C.v.keyID=="Bckg")Z=0}return Z};var rY={};rY.get=function(Q){for(var C in rY.names)if(Q[C]!=null)return C;
return null};rY.vT=function(Q,C){var j=rY.TU,Z;if(Q=="brit"){var F=C.Brgh?C.Brgh.v:0,_=C.Cntr?C.Cntr.v:0,$=C.useLegacy?C.useLegacy.v:!1;
if($){var L=F/255,D=1+_/100;if(D>1)D=1+Math.tan(Math.PI/2*_/101);var d=(1-D)/2,o=e.U_.vc(L,L,L),v=[D,0,0,d,0,D,0,d,0,0,D,d,0,0,0,1],f=e.U_.multiply(o,v),U=new e.mr(256);
for(var H=0;H<256;H++)U.h[H]=H;e.U_.transform(U,U,f);Z={type:j.vX,Kx:U.h,wu:U.h,lG:U.h,JM:!1,It:!1}}else{var B=1024,m=-30+60*(_+100)/200,Y=[];
for(var H=0;H<4;H++)Y.push(e.ZU.fM(H/3*255,H/3*255,!0));Y[1].v.Hrzn.v=64;Y[1].v.Vrtc.v=64-m;Y[2].v.Hrzn.v=128+64;
Y[2].v.Vrtc.v=128+64+m;Y.sort(function(Qv,vv){return Qv.v.Hrzn.v-vv.v.Hrzn.v});var q=e.ZU.DS(Y,B);function r(Qv,B){var Y=[],vv=3;
for(var H=0;H<vv+1;H++)Y.push(e.ZU.fM(H/vv*255,H/vv*255,!0));Y[1].v.Hrzn.v=130-Qv*26;Y[1].v.Vrtc.v=130+Qv*51;
Y[2].v.Hrzn.v=233-Qv*48;Y[2].v.Vrtc.v=233+Qv*10;return e.ZU.DS(Y,B)}var x=r(Math.abs(F)/100,B);if(F<0){var a=[],i=1/B;
for(var H=0;H<B;H++){var l=H*i,M=H;while(x[M]>l&&M>1)M--;a[H]=M*i}x=a}var z=new Uint8Array(B);for(var H=0;
H<B;H++){var V=Math.round((B-1)*x[H]);z[H]=Math.round(255*q[V])}Z={type:j.vX,Kx:z,wu:z,lG:z,JM:!1,It:!1}}}if(Q=="levl"){var X=[],O,y,o,K,R,W;
for(var H=0;H<4;H++)X.push(Dp.hJ(C,H));O=-X[0][0]/255;y=1/(X[0][1]/255-X[0][0]/255);o=e.U_.multiply(e.U_.vG(y,y,y),e.U_.vc(O,O,O));
K=e.U_.vG(1/(X[1][1]/255-X[1][0]/255),1/(X[2][1]/255-X[2][0]/255),1/(X[3][1]/255-X[3][0]/255));R=e.U_.vc(-X[1][0]/255,-X[2][0]/255,-X[3][0]/255);
W=e.U_.multiply(K,R);var z=new e.mr(256);for(var H=0;H<256;H++)z.h[H]=z.J[H]=z._[H]=H;var N=1/(X[0][4]/100),I=1/(X[1][4]/100),T=1/(X[2][4]/100),h=1/(X[3][4]/100);
e.U_.transform(z,z,W);for(var H=0;H<256;H++){z.h[H]=Math.round(Math.max(0,Math.min(255,255*Math.pow(z.h[H]/255,I))));
z.J[H]=Math.round(Math.max(0,Math.min(255,255*Math.pow(z.J[H]/255,T))));z._[H]=Math.round(Math.max(0,Math.min(255,255*Math.pow(z._[H]/255,h))))}e.U_.transform(z,z,o);
for(var H=0;H<256;H++){z.h[H]=Math.round(Math.max(0,Math.min(255,255*Math.pow(z.h[H]/255,N))));z.J[H]=Math.round(Math.max(0,Math.min(255,255*Math.pow(z.J[H]/255,N))));
z._[H]=Math.round(Math.max(0,Math.min(255,255*Math.pow(z._[H]/255,N))))}O=X[0][2]/255;y=X[0][3]/255-X[0][2]/255;
o=e.U_.multiply(e.U_.vc(O,O,O),e.U_.vG(y,y,y));K=e.U_.vG(X[1][3]/255-X[1][2]/255,X[2][3]/255-X[2][2]/255,X[3][3]/255-X[3][2]/255);
R=e.U_.vc(X[1][2]/255,X[2][2]/255,X[3][2]/255);W=e.U_.multiply(R,K);e.U_.transform(z,z,e.U_.multiply(o,W));
Z={type:j.vX,Kx:z.h,wu:z.J,lG:z._,JM:!1,It:!1}}if(Q=="curv"){var p=_d.hJ(C,0).length==256?1:0,u=[];if(p==0){var g=e.ZU.Ij(_d.hJ(C,0),256);
for(var H=1;H<4;H++){var A=e.ZU.Ij(_d.hJ(C,H),256);u.push(e.ZU.$p(A,g))}}else{var w=[];for(var H=0;H<4;
H++){var r$=new Uint8Array(256);w.push(r$);var rW=_d.hJ(C,H);for(var M=0;M<256;M++)r$[M]=rW[M]}for(var H=1;
H<4;H++)u.push(e.ZU.$p(w[H],w[0]))}Z={type:j.vX,Kx:u[0],wu:u[1],lG:u[2],JM:!1,It:!1}}if(Q=="expA"){var J=C.Exps.v,rr=C.Ofst.v,r_=C.gammaCorrection.v,z=new Uint8Array(256);
for(var H=0;H<256;H++){var C=H/255,rO=Math.pow(Math.abs(rr),1/(Math.PI/2));if(rr>0){C=Math.max(rr/Math.E,C);
C=C*Math.exp(rr/1.75+J/Math.PI);C=(1-rO)*C+rO*1}else{C=C*Math.exp(-rr*1.75+J/Math.PI);C=C+-rO*1.14}C=Math.pow(C,1/r_);
C=Math.max(0,Math.min(1,C));z[H]=Math.round(C*255)}Z={type:j.vX,Kx:z,wu:z,lG:z,JM:!1,It:!1}}if(Q=="vibA"){Z={type:j.uD,Vh:[C.vibrance?C.vibrance.v:0,C.Strt?C.Strt.v:0]}}if(Q=="hue2"){var k=[],rv=[],rb=[],rt=C.Clrz?C.Clrz.v:!1;
for(var H=0;H<256;H++){k[H]=H/255;rv[H]=0;rb[H]=0}var rK=vM.hJ(C,0),rR=rY.uK(rK[1]/100);if(rt){var ri=rK[0]/360;
for(var H=0;H<256;H++){k[H]=ri;rv[H]=rR}}else{for(var H=0;H<256;H++){var ru=k[H],rS=rv[H];k[H]+=rK[0]/360;
for(var M=0;M<6;M++){var rg=vM.hJ(C,M+1),rd=rg.cq,vO=rg.EO,rO=0;for(var rq=1;rq<4;rq++)if(vO[rq]<vO[0])vO[rq]+=360;
var rL=vO[0],rl=vO[1],rV=vO[2],ry=vO[3],vj=ru*360;if(vj<vO[0])vj+=360;var rp=(vj-rL)/(rl-rL),rx=(vj-rV)/(ry-rV);
if(rp<0)rO=0;else if(rp<1)rO=rp;else if(rx<0)rO=1;else if(rx<1)rO=1-rx;else rO=0;var D=rY.uK(rd[1]/100);
k[H]+=rO*rd[0]/360;rv[H]+=rO*D;rb[H]+=rO*rd[2]/100}}for(var H=0;H<256;H++){rv[H]=(1+rv[H])*(1+rR)-1;
rb[H]=Math.max(-1,Math.min(1,rb[H]))}}var rF=new Uint8Array(256),DX=new Uint8Array(256),va=new Uint8Array(256);
for(var H=0;H<256;H++){var rB=k[H],vW=rv[H],rN=rb[H];if(rB>1)rB--;if(rB<0)rB++;vW=rY.vzC(vW);vW=(1+vW)*.5;
rN=(1+rN)*.5;rF[H]=Math.round(255*rB);DX[H]=Math.round(255*vW);va[H]=Math.round(255*rN)}var rM=rK[2]/100,_Q=rM<0?-rM:rM,_O=rM<0?0:1;
Z={type:j.Tn,vXO:rF,Yu:DX,vBA:va,vxs:_Q*_O,YY:1-_Q,vgl:rK[2]/100,vxB:rt?1:0}}if(Q=="nvrt"){var z=new Uint8Array(256);
for(var H=0;H<256;H++)z[H]=255-H;Z={type:j.vX,Kx:z,wu:z,lG:z,JM:!1,It:!1}}if(Q=="post"){var rw=C.Lvls.v,z=new Uint8Array(256),rO=rw/255.001,rj=255/(rw-1);
for(var H=0;H<256;H++)z[H]=Math.floor(H*rO)*rj;Z={type:j.vX,Kx:z,wu:z,lG:z,JM:!1,It:!1}}if(Q=="grdm"){var rE=C.Grad.v,_W=C.Rvrs,vm=e.q.mW(rE.Clrs.v,0,0),B=1024,rf=e.q.MV(rE,vm,B,_W?_W.v:!1),rU=e.Q(B),Du=e.Q(B),_s=e.Q(B);
e.yq(rf,rU,0);e.yq(rf,Du,1);e.yq(rf,_s,2);Z={type:j.vX,Kx:rU,wu:Du,lG:_s,JM:!0,It:!1}}if(Q=="selc"){var _t=new Float32Array(9*3*2),_I=C.YI,Qb=C.Mthd?C.Mthd.v.CrcM=="Absl":!1;
for(var M=0;M<9;M++){var _D=M*6,_E=_F.hJ(C,M),vs=_E[0]/100,QO=_E[1]/100,v_=_E[2]/100,vR=_E[3]/100;if(Qb){_t[_D]=_t[_D+1]=_t[_D+2]=1;
_t[_D+3]=vs*(1+vR)+vR;_t[_D+4]=QO*(1+vR)+vR;_t[_D+5]=v_*(1+vR)+vR}else{_t[_D+0]=(1+vs)*(1+vR);_t[_D+1]=(1+QO)*(1+vR);
_t[_D+2]=(1+v_)*(1+vR)}}Z={type:j.u$,kR:_t}}if(Q=="blwh"){var Qq="Rd Yllw Grn Cyn Bl Mgnt".split(" "),Z=[],Qa=0,Qz=0;
for(var H=0;H<6;H++)Z.push(C[Qq[H]].v);Z.push(C.useTint.v,C.tintColor.v);var vi=[];for(var H=0;H<6;H++)vi.push((Z[H]-50)/50);
var _U=e.q.Xa(Z[7]);_U.h/=255;_U.J/=255;_U._/=255;var v$=e.kV(_U.h,_U.J,_U._),rN=e.Kk(e.LD(v$.NE,1,.5)),rn=v$.iC*v$.dK;
if(rN==.5)Qa=Qz=.5;else{Qa=rn*(.5-rN)/(.5/rN-1);Qz=1-rn*(.5-rN)-1/(2*(1-rN));Qz/=1-1/(2*(1-rN))}Z={type:j.ur,vrI:vi,NC:Z[6]?1:0,vD$:v$.NE,Kk:rN,vWC:rn,gz:Qa,vWY:Qz}}if(Q=="blnc"){var X=[],vw=["ShdL","MdtL","HghL"];
for(var H=0;H<3;H++){var rw=C[vw[H]].v,vd=rw[0].v/100,_G=rw[1].v/100,vb=rw[2].v/100,$Z=C.PrsL.v?$Z=(Math.min(vd,_G,vb)+Math.max(vd,_G,vb))/2:0;
X[H]=[vd-$Z,_G-$Z,vb-$Z]}var u=[e.Q(256),e.Q(256),e.Q(256)];for(var M=0;M<3;M++)for(var H=0;H<256;H++){var l=H*(1/255),DQ=0,m=0,$j=0;
m=X[2][M];$j=Math.abs(m);if(m<0)DQ=Math.pow(l,Math.SQRT2);else DQ=1.63*(Math.pow(l+.04,.5)-.2);l=$j*DQ+(1-$j)*l;
m=X[1][M];$j=Math.abs(m);if(m<0)DQ=Math.pow(l,2);else DQ=Math.min(2.35*(Math.pow(l+.09,.5)-.3),Math.pow(l,1/2));
l=$j*DQ+(1-$j)*l;m=X[0][M];$j=Math.abs(m);if(m<0)DQ=l<.4?0:Math.pow((l-.4)/.6,Math.SQRT2);else DQ=Math.pow(l,Math.SQRT2/2);
l=$j*DQ+(1-$j)*l;l=Math.max(0,Math.min(1,l));u[M][H]=Math.round(l*255)}Z={type:j.vX,Kx:u[0],wu:u[1],lG:u[2],JM:!1,It:!1}}if(Q=="phfl"){var _S=e.q.Xa(C.Clr.v),DB=[_S.h/255,_S.J/255,_S._/255],_M=C.Dnst.v/100,u=[e.Q(256),e.Q(256),e.Q(256)];
for(var M=0;M<3;M++)for(var H=0;H<256;H++){var l=H*(1/255),Qp=l*DB[M];Qp=Math.max(0,Math.min(1,Qp));
l=_M*Qp+(1-_M)*l;u[M][H]=Math.round(l*255)}Z={type:j.vX,Kx:u[0],wu:u[1],lG:u[2],JM:!1,It:C.PrsL.v}}if(Q=="thrs"){var z=e.Q(256);
for(var H=C.Lvl.v;H<256;H++)z[H]=255;Z={type:j.vX,Kx:z,wu:z,lG:z,JM:!0,It:!1}}if(Q=="mixr"){var _C=rY.ff(C),f=[];
for(var H=0;H<_C.O.length;H++)if(H%5!=3)f.push(_C.O[H]/100);if(_C.dT){for(var DT=1;DT<3;DT++)for(var l=0;
l<4;l++)f[DT*4+l]=f[l]}Z={type:j.u_,U_:f}}if(Q=="rplc"){var vo=C.Mnm.v,Do=C.Mxm.v;Z={type:j.ub,QF:[vo.Lmnc.v,vo.A.v,vo.B.v],Qh:[Do.Lmnc.v,Do.A.v,Do.B.v],shift:[C.H.v/360,C.Strt.v/100,C.Lght.v/100],aw:C.Fzns.v/200}}if(Q=="clrL"&&C.profile){var QK=new Uint8Array(C.profile.v),_l=ICC.R(QK.buffer),_b=[],vS=0,Ds=_l.tags.A2B0;
vS=Ds&&Ds.gpnum?Ds.gpnum[0]:0;vS=vS>8?vS:17;var _b=ICC.U.sampleLUT(_l,vS);Z={type:j.fF,xu:ICC.U.rgba8LUT(_b,vS),vxa:_b,Fu:vS}}return Z};
rY.TA=function(Q,C){var j=-1;if(Q!="levl"||C==null)j=-1;else if(C.Auto)j=0;else if(C.AuCo)j=1;else if(C.autoBlackWhite)j=2;
return j};rY.TU={vX:0,Tn:1,uD:2,u$:3,ur:4,u_:5,ub:6,fF:7};rY.uK=function(Q){if(Q<0)return Q;return Math.pow(Math.tan(Math.PI/2*Q),1.3)};
rY.vzC=function(Q){if(Q<0)return Q;Q=Math.pow(Q,1/1.3);return Math.atan2(Q,1)/(Math.PI/2)};rY.DZ=function(Q,C,j,Z){var F=rY.TU,_=Date.now();
if(E.bs&&Z.P()>300*300&&Q.type!=F.vX&&Q.type!=F.fF){Z=Z.clone();Z.x=Z.y=0;var $=E.pj(0,Z.W,Z.C);$.set(C);
E.xe($,Z);$.gl(Z);rY.ZT(Q,$.EB,Z);$.get(j);return}if(Q.type==F.fF){var L=Q.vxa,D=Q.Fu,f=3;function d(rw,rj,r_,rE,_W,vm){var rf=1-rE;
vm[_W+0]=rf*r_[rw]+rE*r_[rj];vm[_W+1]=rf*r_[rw+1]+rE*r_[rj+1];vm[_W+2]=rf*r_[rw+2]+rE*r_[rj+2]}var o=[0,0,0,0,0,0,0,0,0,0,0,0],v=(D-1.000001)/255;
for(var U=0;U<C.length;U+=4){var Z=v*C[U],H=v*C[U+1],B=v*C[U+2],m=~~Z,Y=~~H,q=~~B;d(f*(q+D*Y+D*D*m),f*(q+1+D*Y+D*D*m),L,B-q,0,o);
d(f*(q+D*(Y+1)+D*D*m),f*(q+1+D*(Y+1)+D*D*m),L,B-q,3,o);d(0,3,o,H-Y,6,o);d(f*(q+D*Y+D*D*(m+1)),f*(q+1+D*Y+D*D*(m+1)),L,B-q,0,o);
d(f*(q+D*(Y+1)+D*D*(m+1)),f*(q+1+D*(Y+1)+D*D*(m+1)),L,B-q,3,o);d(0,3,o,H-Y,9,o);d(6,9,o,Z-m,0,o);j[U]=~~(.5+o[0]*255);
j[U+1]=~~(.5+o[1]*255);j[U+2]=~~(.5+o[2]*255)}}if(Q.type==F.u_)e.U_.Rc(C,j,Q.U_);if(Q.type==F.ur){var r=Q.vWC,x=Q.Kk,a=Q.gz,i=Q.vWY,l=C.length;
for(var U=0;U<l;U+=4){var Z=C[U]*(1/255),H=C[U+1]*(1/255),B=C[U+2]*(1/255),M=e.$h(Z,H,B),z=0;for(var V=0;
V<6;V++)z+=Math.min(1,1.7*(1-M.qV))*M.iC*Q.vrI[V]*rY.vTs(M.NE,V*(1/6));var X=Math.max(0,Math.min(1,M.qV*(1+z)));
if(Q.NC==1){var O=0;if(X<a)O=X*(.5/x);else if(X<i)O=X+r*(.5-x);else O=1-(1-X)*.5/(1-x);M.NE=Q.vD$;M.iC=Math.min(1,r+3*r*Math.abs(X-.5*(a+i)));
M.qV=O}else{M.NE=0;M.iC=0;M.qV=X}var y=e.LD(M.NE,M.iC,M.qV);j[U]=Math.round(y.h*255);j[U+1]=Math.round(y.J*255);
j[U+2]=Math.round(y._*255)}}if(Q.type==F.u$){var K=Q.kR,l=C.length,R=1/255;for(var U=0;U<l;U+=4){var Z=C[U]*R,H=C[U+1]*R,B=C[U+2]*R,M=e.$h(Z,H,B),W=Math.max(Z,Math.max(H,B)),N=Math.min(Z,Math.min(H,B)),I=1-Z,T=1-H,h=1-B,p=0,u=0,g=0;
for(var V=0;V<9;V++){var A=V*6,J=0;if(K[A]==1&&K[A+1]==1&&K[A+2]==1&&K[A+3]==0&&K[A+4]==0&&K[A+5]==0)continue;
var w=I*K[A]+K[A+3],r$=T*K[A+1]+K[A+4],rW=h*K[A+2]+K[A+5];if(V<6)J=rY.vTs(M.NE,V*(1/6))*M.iC*2*Math.min(M.qV,1-M.qV);
else if(V==6)J=Math.max(0,N-.5)*2;else if(V==7)J=1-(Math.abs(W-.5)+Math.abs(N-.5));else J=Math.max(0,.5-W)*2;
p+=(Math.max(0,Math.min(1,w))-I)*J;u+=(Math.max(0,Math.min(1,r$))-T)*J;g+=(Math.max(0,Math.min(1,rW))-h)*J}I=Math.max(0,Math.min(1,I+p));
T=Math.max(0,Math.min(1,T+u));h=Math.max(0,Math.min(1,h+g));Z=1-I;H=1-T;B=1-h;j[U]=Math.round(Z*255);
j[U+1]=Math.round(H*255);j[U+2]=Math.round(B*255)}}if(Q.type==F.vX){e.vKv(C,j,Q.Kx,Q.wu,Q.lG,Q.JM,Q.It)}if(Q.type==F.Tn){var rr=new Uint32Array(C.buffer),r_=new Uint32Array(j.buffer),l=rr.length;
if(rY.Pl==null){rY.Pl=new Float64Array(256);for(var U=0;U<256;U++)rY.Pl[U]=rY.uK(-1+2*U/255)}var rO=rY.Pl;
for(var U=0;U<l;U++){var k=rr[U],Z=(k&255)*(1/255),H=(k>>>8&255)*(1/255),B=(k>>>16&255)*(1/255),rv=k>>>24,rb=Math.min(Z,H,B),rt=Math.max(Z,H,B),rK=0,rR=0,ri=0;
if(rt!=rb){var ru=rt-rb;switch(rt){case Z:rK=(H-B)/ru+(H<B?6:0);break;case H:rK=(B-Z)/ru+2;break;case B:rK=(Z-H)/ru+4;
break}rK=rK*(1/6)}var rS=~~(rK*255+.5),rg=Q.vXO[rS]*(1/255),rd=Q.Yu[rS]*(1/255)*2-1,vO=Q.vBA[rS]*(1/255)*2-1,z=-vO,rq=rb;
if(0<vO){z=vO;rq=rt}var rL=Q.vxs+Q.YY*z*rq,rl=Q.YY*(1-z);Z=rL+rl*Z;H=rL+rl*H;B=rL+rl*B;rt=Math.max(Z,H,B);
rb=Math.min(Z,H,B);ri=(rt+rb)*.5;if(rt!=rb){var ru=rt-rb;rR=ri>.5?ru/(2-(rt+rb)):ru/(rt+rb)}var rV=rd;
if(Q.vxB==0){rd=rO[Math.floor((1+rd)*127.5)];rV=Math.min(rR*(1+rd),1)}rK=rg;rR=rV;if(rR==0)Z=H=B=ri;
else{var ry=ri<.5?ri*(1+rR):ri+rR-ri*rR,vj=2*ri-ry;Z=e.Lq(vj,ry,rK+1/3);H=e.Lq(vj,ry,rK);B=e.Lq(vj,ry,rK-1/3)}r_[U]=rv<<24|B*255<<16|H*255<<8|Z*255}}if(Q.type==F.ub){e.W_(C,j);
var rr=new Uint32Array(C.buffer),r_=new Uint32Array(j.buffer),l=rr.length,rp=Q.aw,rx=1/rp,rF={m$:Q.QF[0],om:Q.QF[1],_:Q.QF[2]},DX={m$:Q.Qh[0],om:Q.Qh[1],_:Q.Qh[2]};
for(var U=0;U<l;U++){var k=rr[U],m=k&255,Y=k>>>8&255,q=k>>>16&255,Z=m*(1/255),H=Y*(1/255),B=q*(1/255),rv=k>>>24,va=e.ZM(m,Y,q),rB=e.nz(va,rF,DX,rp,rx);
if(rB==0)continue;var M=e.$h(Z,H,B),rg=2+M.NE+rB*Q.shift[0];M.NE=rg-~~rg;M.iC=Math.max(0,Math.min(1,M.iC+rB*Q.shift[1]));
M.qV=Math.max(0,Math.min(1,M.qV+rB*Q.shift[2]));var y=e.LD(M.NE,M.iC,M.qV);Z=y.h;H=y.J;B=y._;r_[U]=rv<<24|B*255<<16|H*255<<8|Z*255}}if(Q.type==F.uD){var rr=new Uint32Array(C.buffer),r_=new Uint32Array(j.buffer),l=rr.length,vW=Q.Vh[0]/100,rN=Q.Vh[1]/100;
for(var U=0;U<l;U++){var k=rr[U],Z=(k&255)*(1/255),H=(k>>>8&255)*(1/255),B=(k>>>16&255)*(1/255),rv=k>>>24,M=e.kV(Z,H,B),rK=M.NE,rR=M.iC,ri=M.dK,rM=0,_Q=45/360,_O=rK<_Q?Math.cos(Math.PI/2*(rK-_Q/2)/(_Q/2)):0;
rR=rR+.2*(1-.4*_O)*vW*Math.max(0,Math.sin(rR*Math.PI));rR=rR*(1+rN);rR=Math.max(0,Math.min(1,rR));var y=e.zj(rK,rR,ri);
Z=y.h;H=y.J;B=y._;r_[U]=rv<<24|B*255<<16|H*255<<8|Z*255}}};rY.ZT=function(Q,C,j){E.Ra.ZT(Q,C)};rY.vTs=function(Q,C){var j=e.av(C,Q)*6;
return Math.max(0,Math.min(1,j<0?1+j:1-j))};rY.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
rY.vTE=["expA","clrL","selc"];rY.uk=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];rY.vzZ=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
rY.fY=[[13,1,1],[13,1,4],[13,1,5]];rY.vs={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA","\0\0\0\xDE":"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh","\0\0\0\xDD":"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr","\0\0\0\xDF":"clrL",rplc:"rplc"};
rY.fc=function(){var Q=JSON.parse(JSON.stringify(rY.vs));delete Q["\0\0\0\xDE"];delete Q["\0\0\0\xDD"];
delete Q.GrMp;Q.vibrance="vibA";Q.photoFilter="phfl";Q.GdMp="grdm";return Q}();rY.Kv={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
rY.keys={levl:[b.XE,b.m$],curv:[b.XE,b.pL],hue2:[b.XE,b.qi],nvrt:[b.XE,b.Tk],blnc:[b.XE,b.vV$]};rY.vIu=function(Q){var C=vr._j("mixr");
C.Mnch={t:"bool",v:Q.dT};function j(Z,F){var _={classID:"ChMx"},$={Rd:0,Grn:1,Bl:2,Cnst:4};for(var L in $)_[L]={t:"UntF",v:{type:"#Prc",val:Z[F+$[L]]}};
return{t:"Objc",v:_}}if(Q.dT)C.Gry=j(Q.O,0);else{C.Rd=j(Q.O,0);C.Grn=j(Q.O,5);C.Bl=j(Q.O,10)}return C};
rY.ff=function(Q){function C(Z,F,_){var $={Rd:0,Grn:1,Bl:2,Cnst:4};for(var L in $)if(Z[L])F[_+$[L]]=Z[L].v.val}var j={dT:!1,O:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(Q.Mnch&&Q.Mnch.v)j.dT=!0;if(j.dT)C(Q.Gry.v,j.O,0);else{C(Q.Rd.v,j.O,0);C(Q.Grn.v,j.O,5);C(Q.Bl.v,j.O,10)}return j};
var vr={};vr.vB=[{hv:"GEfc"},{hv:"LnCr"},{hv:"LqFy",ui:!0},{cr:"3D",Fs:["\0\0\x03^"]},{cr:[24,2],Fs:"Avrg,Blr ,BlrM,\0\0\x02\xB1,GsnB,Bokh,MtnB,RdlB,\0\0\x02\xB5".split(",")},{cr:[24,4],Fs:"Dspl,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave".split(",")},{cr:[24,6],Fs:["AdNs","DstS","Mdn "]},{cr:[24,8],Fs:["ClrH","Crst","Mztn","Msc ","Pntl"]},{cr:[24,10],Fs:["Clds","DfrC","LnsF"]},{cr:[24,12],Fs:["Shrp","ShrM","\0\0\x03\xE8","UnsM"]},{cr:[24,14],Fs:["FndE","\0\0\x03\xFD"]},{cr:[24,16],Fs:["HghP","Mxm ","Mnm ","Ofst","Rept"]},{cr:"Fourier",Fs:["dDFT","iDFT"]}];
vr.Kv={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod","\0\0\x02\xB1":"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur","\0\0\x02\xB5":"surfaceBlur","\0\0\x03^":"lightFilterGradient",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",ClrH:"colorHalftone",Crst:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore","\0\0\x03\xE8":"smartSharpen",UnsM:"unsharpMask",FndE:"findEdges","\0\0\x03\xFD":"oilPaint",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
vr.Bq={"\0\0\x03\x82":G.lk};vr.names={"\0\0\x03^":"Normal Map","\0\0\x03\x82":[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],"\0\0\x02\xB1":[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],"\0\0\x02\xB5":[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],AdNs:[24,7,0],DstS:[24,7,2],"Mdn ":[24,7,3],ClrH:[24,9,0],Crst:[24,9,1],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Shrp:[24,13,0],ShrM:[24,13,2],"\0\0\x03\xE8":[24,13,3],UnsM:[24,13,4],FndE:[24,15,3],"\0\0\x03\xFD":[24,15,4],HghP:[24,17,1],"Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform"};
vr._j=function(Q){var C=null;if(Q=="GEfc")C={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:Dv._j("GlwE")}]}};
if(Q=="LqFy"){var j={fA:50,NE:50,map:new Float32Array(50*50*2)},Z=new Uint8Array(tH.TI(j)),F=[];for(var _=0;
_<Z.length;_++)F.push(Z[_]);C={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:F}}}if(Q=="\0\0\x03\x82"){C={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(Q=="LnCr")C={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(Q=="\0\0\x03\xFD")C={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(Q=="\0\0\x03^")C={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(Q=="\0\0\x02\xB1")C={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(Q=="GsnB")C={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(Q=="Bokh")C={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(Q=="MtnB")C={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(Q=="RdlB")C={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(Q=="\0\0\x02\xB5")C={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(Q=="Dspl")C={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(Q=="Pnch")C={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(Q=="Plr ")C={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(Q=="Rple")C={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(Q=="Shr ")C={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(Q=="Sphr")C={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(Q=="Twrl")C={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(Q=="Wave")C={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(Q=="AdNs")C={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(Q=="DstS")C={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(Q=="Mdn ")C={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(Q=="ClrH")C={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(Q=="Crst")C={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(Q=="Mztn")C={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(Q=="Msc ")C={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(Q=="Pntl")C={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(Q=="LnsF")C={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(Q=="\0\0\x03\xE8")C={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(Q=="UnsM")C={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(Q=="HghP")C={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(Q=="Mxm ")C={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:9}}};
if(Q=="Mnm ")C={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:14}}};if(Q=="Ofst")C={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(Q=="Rept")C={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(Q=="brit")C={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(Q=="levl")C={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(Q=="curv")C={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(Q=="expA")C={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(Q=="vibA")C={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(Q=="hue2")C={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(Q=="blnc")C={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(Q=="blwh")C={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(Q=="phfl")C={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(Q=="grdm")C={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(WM.oy[6]).Grad};
if(Q=="selc")C={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(Q=="thrs")C={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(Q=="mixr")C={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(Q=="clrL")C={__name:"Color Lookup",classID:"colorLookup"};if(Q=="nvrt")C={};if(Q=="post")C={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(Q=="rplc")C={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:100},Lght:{t:"long",v:2}};
if(Q=="fade")C={__name:"Fade",classID:"fade",Md:{v:{BlnM:"Nrml"},t:"enum"},Opct:{v:{type:"#Prc",val:100},t:"UntF"}};
return C};vr.vzh=function(Q){var C=new Wn(0,0);if(Q.enab.v==!1)return C;var j=Q.filterFXList.v;for(var Z=0;
Z<j.length;Z++){var F=j[Z].v;if(F.enab.v==!1)continue;var _=c.Fr(F.filterID.v),$=vr.vDZ(_,F.Fltr?F.Fltr.v:null);
if($.x>C.x)C.x=$.x;if($.y>C.y)C.y=$.y}return C};vr.vDZ=function(Q,C){var j=0,Z=0;if(["GsnB","\0\0\x02\xB1","\0\0\x03\xE8","UnsM","HghP"].indexOf(Q)!=-1){var F=C.Rds.v.val;
j=Z=F*2.57}if(Q=="MtnB")j=Z=C.Dstn.v.val;if("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,Wave,RdlB,Clds,DfrC,Plr ,LnCr,\0\0\x03^,\0\0\x03\x82".split(",").indexOf(Q)!=-1){j=Z=1e4}if(Q=="GEfc")j=Z=1e4;
return new Wn(Math.ceil(j),Math.ceil(Z))};vr.fh=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
vr.Xd=function(Q,C){var j={h:C.pd>>16,J:C.pd>>8&255,_:C.pd&255},Z={h:C.JD>>16,J:C.JD>>8&255,_:C.JD&255},F=vr.names[Q];
if(F==null)F=rY.names[Q];var _=Q;for(var $ in rY.vs)if(rY.vs[$]==Q)_=$;var L={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:rT.get(F)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:e.q.mx(j)},BckC:{t:"Objc",v:e.q.mx(Z)},filterID:{t:"long",v:c.vkB(_)}}},D=vr._j(Q);
if(D)L.v.Fltr={t:"Objc",v:D};return L};vr.v_m=function(Q,C,j,Z){var F=e.Q(Q.length);e.qq.Yf(Q,C,j,Z,[-1,0,1,-2,0,2,-1,0,1],0,!0);
e.qq.Yf(Q,F,j,Z,[1,2,1,0,0,0,-1,-2,-1],0,!0);for(var _=0;_<F.length;_+=4){var $=C[_],L=C[_+1],D=C[_+2],d=C[_+3],o=F[_],v=F[_+1],f=F[_+2],U=F[_+3];
C[_]=255-Math.max(0,Math.min(255,Math.sqrt($*$+o*o)));C[_+1]=255-Math.max(0,Math.min(255,Math.sqrt(L*L+v*v)));
C[_+2]=255-Math.max(0,Math.min(255,Math.sqrt(D*D+f*f)))}};vr.XX=function(Q,C,j,Z,F,_,$,L){var D=j*Z*4;
e.qq.vVU(Q,C,j,Z,F,_,$)};vr.fP=function(Q,C,j,Z){e.vW(j);if(Q<1){var F=Math.round(Q*5),_=[1,2,1,2,[40,26,13,6,4,2][F],2,1,2,1];
_=e.qq.kp(_);var $=j.slice(0);e.qq.Yf($,j,Z.W,Z.C,_,255)}else C(j,Z,Q);e.vj(j)};vr.vzP=function(Q,C,j,Z){for(var F=0;
F<Q.length;F++){j[F]=Q[F]*(1/255);Z[F]=0}FFT.fft2d(j,Z);var _=C>>>1,$=16384,L=128,d=100;while(L<C){L<<=1;
$<<=2}var D=255/Math.log($),o=-100;for(var v=0;v<C;v++)for(var f=0;f<_;f++){var U=C+_+v&C-1,H=j[U*C+f],B=Z[U*C+f],m=Math.sqrt(H*H+B*B),Y=Math.atan2(B,H);
Q[v*C+f]=Math.round(D*Math.log(m+1));Q[v*C+_+f]=Math.round((Math.PI+Y)*(255*.5/Math.PI))}};vr.vqO=function(Q,C,j,Z){j.fill(0);
Z.fill(0);var F=C>>>1,_=16384,$=128;while($<C){$<<=1;_<<=2}var L=255/Math.log(_),D=[],d=[],o=[];for(var v=0;
v<256;v++){D[v]=Math.exp(v/L)-1;var f=v*(2*Math.PI/255)-Math.PI;d[v]=Math.sin(f);o[v]=Math.cos(f)}for(var U=0;
U<C;U++)for(var H=0;H<F;H++){var B=C+F+U&C-1,m=D[Q[U*C+H]],f=Q[U*C+F+H],Y=m*o[f],q=m*d[f];j[B*C+H]=Y;
Z[B*C+H]=q;if(H!=0){var r=B==0?B*C+C-H:(C-B)*C+(C-H);j[r]=Y;Z[r]=-q}}FFT.ifft2d(j,Z);for(var v=0;v<Q.length;
v++){Q[v]=Math.max(0,Math.min(255,~~(.5+255*j[v])))}};vr.vKn=new ArrayBuffer(512);vr.vqD=function(Q){var C=vr.vKn,j=Q.length;
if(C.byteLength<j)vr.vKn=C=new ArrayBuffer(j);var Z=new Uint8Array(C);for(var F=0;F<j;F+=4){Z[F]=Q[F];
Z[F+1]=Q[F+1];Z[F+2]=Q[F+2];Z[F+3]=Q[F+3]}return C};vr.DZ=function(Q,C,j,Z,F,_,$){if(_==null)_={buffer:e.Q(C.buffer.length),rect:C.rect.clone()};
e.W_(C.buffer,_.buffer);if(Q=="GEfc"){var L=[];if(j.GEfs){var D=j.GEfs.v;for(var d=0;d<D.length;d++){var o=D[d].v;
if(o.GELv&&o.GELv.v==!1)continue;L.push(o)}}else L=[j];for(var d=0;d<L.length;d++){var v;if(d==0)Dv.DZ(Q,C,L[d],Z,F,_,$);
else{if(v==null)v={buffer:e.Q(C.buffer.length),rect:C.rect.clone()};e.W_(_.buffer,v.buffer);Dv.DZ(Q,v,L[d],Z,F,_,$)}}}if(Q=="Bokh"){var f=C.rect,U=f.W,H=f.C,B=U*H,m=B*4,Y=C.buffer.slice(0),q=j.BkDp.v/255,r=57*(.3+.7*((U+H)/2)/1750)*(j.BkIb.v/100)*(1+.2*Math.pow(q,.1)),x=parseInt(j.BkIs.v.BtIs.slice(3)),a=-j.BkIr.v*Math.PI/180,i=[];
for(var d=0;d<8;d++){var l=a+d*(Math.PI*2/x),M=a+(d+1)*(Math.PI*2/x),z=Math.cos(l),V=Math.sin(l),X=Math.cos(M),O=Math.sin(M),y=[0,0,0];
e.ZU.NO.vN([[z,V,1,0],[X,O,1,0],[1,1,1,1]],y);if(y[2]>0){y[0]*=-1;y[1]*=-1;y[2]*=-1}i.push(y[0],y[1],y[2],0)}var K=j.BkDi.v.BtDi,R=j.BkDc;
if(K=="BeIn"){e.kM(Y,0,16777215);q=1}else if(K=="BeIt"&&R.v.BtDc=="BeCt"){}else{var W;if(K=="BeIt"&&R.v.BtDc=="BeCm")W=$[1];
else if(K=="BeIa")W=$[2][R.v];if(W==null){e.kM(Y,0,16777215)}else{var N;if(W.rect.gm(f))N=W.channel;
else N=W.sH(f);e.gG(N,Y,3)}}if(E.bs){var I=E.pj(0,U,H);I.set(Y);E.xe(I,f);I.gl(f);E.filter.ZT({type:E.filter.gE,a$:new Float32Array([1/U,1/H]),vdF:q,vdG:r,vde:new Float32Array([j.BkSb.v/100,j.BkSt.v/255]),vdA:new Float32Array([j.BkNa.v/100,j.BkNt.v.BtNt=="BeNu"?0:1,j.BkNm.v?1:0]),vX_:new Float32Array(i.slice(0,16)),vXd:new Float32Array(i.slice(16))},I.EB);
I.get(_.buffer);for(var d=0;d<m;d+=4)_.buffer[d+3]=C.buffer[d+3];return _}}if(Q=="\0\0\x03\x82"){var T=Date.now(),h=vr.vqD,p=C.buffer.slice(0),rW=0,J=0;
e.vW(p);e.kM(_.buffer,0);var U=C.rect.W,H=C.rect.C,u=j.puppetShapeList.v,g=[],A=[],w=[],r$=[];for(var rr=0;
rr<u.length;rr++){var r_=u[rr].v,rO=rW*2,k=J*3,rv=r_.originalVertexArray.v.length>>>2,rb=r_.indexArray.v.length>>>2,rt=new Float32Array(h(r_.originalVertexArray.v));
for(var d=0;d<rv;d++)g[rO+d]=rt[d];var rK=new Float32Array(h(r_.deformedVertexArray.v));for(var d=0;
d<rv;d++)A[rO+d]=rK[d];var rR=new Uint32Array(h(r_.indexArray.v));for(var d=0;d<rb;d++)w[k+d]=rW+rR[d];
var ri=[],ru=[],rS=r_.PnDp.v;for(var d=0;d<rS.length;d++){ri.push(r_.pinVertexIndices.v[d].v);ru.push(rS[d].v)}var rg=e.pN.vzB(rt,rR,ri,ru);
for(var d=0;d<rg.length;d++)r$[rW+d]=rg[d];rW+=rv>>>1;J+=~~(rb/3)}e.pN.or(p,_.buffer,C.rect,g,A,r$,w);
e.vj(_.buffer)}if(Q=="\0\0\x03^"){function rd(Du){var bI=1/Math.sqrt(Du[0]*Du[0]+Du[1]*Du[1]+Du[2]*Du[2]);
Du[0]*=bI;Du[1]*=bI;Du[2]*=bI}var U=C.rect.W,H=C.rect.C,B=U*H,T=Date.now(),vO=e.Q(B),rM=.3,_Q=.7;e.oS(_.buffer,vO);
var rq=e.Q(B);e.blur.Pt(vO,rq,_.rect,16);var rL=e.Q(B);e.blur.Pt(vO,rL,_.rect,8);var rl=vO,rV=new Float32Array(B),ry=j.Dtl.v,vj=ry[2].v,rp=ry[1].v,rx=ry[0].v,rF=j.Scl.v*40*j.textureScale.v/(vj+rp+rx);
vj*=rF;rp*=rF;rx*=rF;for(var d=0;d<B;d++){var DX=rq[d]*(1/255),va=rL[d]*(1/255),rB=rl[d]*(1/255);rB=rB*rB;
rV[d]=vj*DX+rp*va+rx*rB}var vW=j.blur.v;if(vW!=0){var rN=rV.slice(0);e.blur.YX(rN,rV,_.rect,vW)}var _O=U-1,rw=H-1;
for(var rj=1;rj<rw;rj++)for(var rE=1;rE<_O;rE++){var d=rj*U+rE,_W=d*4,vm=rV[d],rf=rM*(rV[d+1]-vm)+_Q*(vm-rV[d-1]),rU=rM*(rV[d+U]-vm)+_Q*(vm-rV[d-U]),Du=[1,0,rf],_s=[0,1,rU];
rd(Du);rd(_s);var M=Du[0],_t=Du[2],_I=_s[1],Qb=_s[2],_D=-_t*_I,_E=-M*Qb,vs=M*_I;_.buffer[_W]=~~(127.5+_D*127.5);
_.buffer[_W+1]=~~(127.5+_E*127.5);_.buffer[_W+2]=~~(127.5+vs*127.5)}}if(Q=="dDFT"||Q=="iDFT"){function QO(x){if(x==0)return 1;
x--;x|=x>>1;x|=x>>2;x|=x>>4;x|=x>>8;x|=x>>16;return x+1}var U=C.rect.W,H=C.rect.C,v_=QO(Math.max(U,H)),vR=v_>>>1,Qq=new s(0,0,v_,v_),vi=new s(0,0,U,H);
vi.y=v_-H>>>1;var _U=U>>>1,v$=new s(0,vi.y,_U,H),rn=new e.mr(U*H);e.oM(C.buffer,rn);var Qa=new Float64Array(v_*v_),Qz=new Float64Array(v_*v_),N=e.Q(v_*v_);
FFT.init(v_);var vw=[rn.h,rn.J,rn._];for(var d=0;d<3;d++){var vd=vw[d];N.fill(0);if(Q=="dDFT"){e.pQ(vd,vi,N,Qq);
vr.vzP(N,v_,Qa,Qz);e.pQ(N,Qq,vd,vi,v$);v$.x+=_U;Qq.x-=vR-_U;e.pQ(N,Qq,vd,vi,v$);v$.x-=_U;Qq.x+=vR-_U}else{e.pQ(vd,vi,N,Qq,v$);
v$.x+=vR;vi.x+=vR-_U;e.pQ(vd,vi,N,Qq,v$);v$.x-=vR;vi.x-=vR-_U;vr.vqO(N,v_,Qa,Qz);e.pQ(N,Qq,vd,vi)}}e.qb(rn,_.buffer)}if(Q=="Avrg"){var _G=0,vb=0,$Z=0,DQ=0,$j=1;
for(var d=0;d<C.buffer.length;d+=4){var _S=C.buffer[d+3];$Z+=C.buffer[d]*_S;vb+=C.buffer[d+1]*_S;_G+=C.buffer[d+2]*_S;
DQ+=_S}var DB=1/DQ;_G=Math.round($j*(_G*DB)+(1-$j)*255);vb=Math.round($j*(vb*DB)+(1-$j)*255);$Z=Math.round($j*($Z*DB)+(1-$j)*255);
e.kM(_.buffer,_G<<16|vb<<8|$Z,4278190080)}if(["GsnB","\0\0\x02\xB1","\0\0\x03\xE8","UnsM","HghP"].indexOf(Q)!=-1){var _M=j.Rds.v.val,Qp=Q=="\0\0\x02\xB1"?e.blur.nZ:e.blur.vqT;
vr.fP(_M,Qp,_.buffer,_.rect);if(Q=="UnsM"||Q=="\0\0\x03\xE8"){var _C=j.Amnt.v.val/100,DT=0;if(Q=="UnsM")DT=j.Thsh.v;
else _C*=.75;for(var d=0;d<C.buffer.length;d++){if((d&3)==3){_.buffer[d]=C.buffer[d];continue}var vo=C.buffer[d],Do=_.buffer[d],QK=_C*(vo-Do);
if(QK>0)QK=Math.max(0,QK-DT);else QK=Math.min(0,QK+DT);_.buffer[d]=Math.max(0,Math.min(255,vo+QK))}}if(Q=="HghP")for(var d=0;
d<C.buffer.length;d++){if((d&3)==3){_.buffer[d]=C.buffer[d];continue}var vo=C.buffer[d],Do=_.buffer[d];
_.buffer[d]=Math.max(0,Math.min(255,128+vo-Do))}}if(Q=="\0\0\x02\xB5"){var _l=j.Rds.v.val,_b=j.Thsh.v,U=C.rect.W,H=C.rect.C;
vr.XX(C.buffer,_.buffer,U,H,_l,e.qq.MW,[_b],2)}if(Q=="AdNs"){var vS=new Uint8ClampedArray(_.buffer.buffer),Ds=255*j.Nose.v.val/100,Qv;
if(j.Dstr.v.Dstr=="Gsn")Qv=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else Qv=function(){return Math.random()*2-1};for(var d=0;d<vS.length;d+=4){var _l=vS[d],vv=vS[d+1],_o=vS[d+2],tx,QD,Qs;
if(j.Mnch.v){tx=QD=Qs=Qv()}else{tx=Qv();QD=Qv();Qs=Qv()}_l+=Ds*tx;vv+=Ds*QD;_o+=Ds*Qs;vS[d]=_l;vS[d+1]=vv;
vS[d+2]=_o}}if(Q=="Mdn "||Q=="DstS"||Q=="Mxm "||Q=="Mnm "){var _l=0;if(Q=="Mdn "||Q=="Mxm "||Q=="Mnm ")_l=j.Rds.v.val;
if(Q=="DstS")_l=j.Rds.v;e.qq.vJ=.5;var Qp=e.qq.RI;if(Q=="Mxm ")Qp=e.qq.Rg;if(Q=="Mnm ")Qp=e.qq.RT;var U=C.rect.W,H=C.rect.C,QV={"Mdn ":0,"Mxm ":1,"Mnm ":1,DstS:2}[Q];
vr.XX(C.buffer,_.buffer,U,H,_l,Qp,[],QV);if(Q=="DstS"){var _b=j.Thsh.v;for(var d=0;d<U*H*4;d++){var Dz=Math.abs(C.buffer[d]-_.buffer[d]);
if(Dz<=_b)_.buffer[d]=C.buffer[d]}}}if(Q=="ClrH"){var v$=C.rect.clone();v$.x=v$.y=0;var _l=j.Rds.v;_l=Math.round(_l*Math.sqrt(2));
var U=v$.W,H=v$.C,rn=new e.mr(U*H);e.oM(C.buffer,rn);e.Ie(rn.h);e.Ie(rn.J);e.Ie(rn._);var Di=t.e("canvas","");
Di.width=U;Di.height=H;var tP=Di.getContext("2d"),Wk=e.Q(U*H*4);for(var Qt=0;Qt<3;Qt++){var N=Qt==0?rn.h:Qt==1?rn.J:rn._,Dh=Math.PI*j["Ang"+(Qt+1)].v/180,_T=new rI(1/_l,0,0,1/_l,0,0);
_T.rotate(Dh);e.gG(N,Wk,3);var tS=G.S.Ia([Wk,v$],_T,!0),vi=tS.rect;tP.clearRect(0,0,U,H);var $B=Math.sin(Dh),$m=Math.cos(Dh);
for(var d=0;d<vi.C;d++)for(var Qr=0;Qr<vi.W;Qr++){var rE=(Qr+vi.x+.5)*_l,rj=(d+vi.y+.5)*_l,_Z=rE,_w=rj;
rE=$m*_Z-$B*_w;rj=$B*_Z+$m*_w;var B=tS.buffer[(d*vi.W+Qr<<2)+3]*(1/255),_M=_l*Math.sqrt(B*(1/Math.PI));
tP.beginPath();tP.arc(rE,rj,_M,0,2*Math.PI);tP.fill()}var Qk=tP.getImageData(0,0,U,H);e.yq(Qk.data,N,3)}e.Ie(rn.h);
e.Ie(rn.J);e.Ie(rn._);e.qb(rn,_.buffer)}if(Q=="Crst"||Q=="Pntl"){var U=C.rect.W,H=C.rect.C,Qp=Q=="Crst"?e.aZ.vqz:e.aZ.vzw;
Qp(C.buffer,U,H,_.buffer,j.ClSz.v,[Math.round(F.h),Math.round(F.J),Math.round(F._)])}if(Q=="Mztn"){var U=C.rect.W,H=C.rect.C,B=U*H,rn=new e.mr(B),Qy=[rn.h,rn.J,rn._];
e.oM(C.buffer,rn);var Df=j.MztT.v.MztT,$W={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[Df],T=Date.now(),DU=[];
for(var d=0;d<B;d++){DU[d]=Math.random()}var B=U*H,QC=Math.round(B*$W[0]),$L=B-U-1;for(var d=0;d<QC;
d++){var $s=Math.random(),$D=1;if($s<.5){$D=U;$s*=2}else $s=2*($s-.5);var $d=Math.floor($s*$L),W_=$d+$D;
DU[$d]=DU[W_]}var WW=Math.round(U*$W[1]);for(var rj=0;rj<H;rj++)for(var d=0;d<WW;d++){var $s=e.B.ax(rj*B+d),$d=rj*U+Math.floor($s*(U-1));
DU[$d]=DU[$d+1]}var vV=new Float64Array(256);for(var d=0;d<256;d++){var Q_=d/255,$H=2*(Q_<.5?Q_:1-Q_);
$H=$W[2]+Math.pow($H,$W[3])*(1-$W[2]);Q_=Q_<.5?$H*.5:1-$H*.5;vV[d]=Q_}for(var QS=0;QS<3;QS++){var N=Qy[QS];
for(var rj=0;rj<H;rj++){for(var rE=0;rE<U;rE++){var d=rj*U+rE,QN=N[d],Q_=vV[QN],$s=DU[d];N[d]=$s>Q_?0:255}}}e.qb(rn,_.buffer)}if(Q=="Msc "){var $_=j.ClSz.v.val,U=C.rect.W,H=C.rect.C,$z=Math.ceil(U/$_),QA=Math.ceil(H/$_),WV=e.Q($z*QA*4);
e.scale.IQ(C.buffer,U,H,WV,$z,QA,1/$_);e.scale.IQ(WV,$z,QA,_.buffer,U,H,$_)}if(Q=="Clds"||Q=="DfrC"){if(Q=="Clds")e.kM(_.buffer,4278190080);
var Dd=e.Q(256*4);for(var d=0;d<256;d++){var _W=d<<2,bW=d/255,rR=1-bW;Dd[_W]=Math.round(bW*Z.h+rR*F.h);
Dd[_W+1]=Math.round(bW*Z.J+rR*F.J);Dd[_W+2]=Math.round(bW*Z._+rR*F._)}var U=_.rect.W,H=_.rect.C,B=U*H,$K=e.Q(B);
noise.seed(Math.random());for(var rj=0;rj<H;rj++)for(var rE=0;rE<U;rE++){var rF=0,tD=1,Qm=1;for(var d=0;
d<8;d++){var $v=Qm*(1/170);rF+=noise.perlin2(rE*$v,rj*$v)*tD;tD*=.5;Qm=Qm<<1}$K[rj*U+rE]=Math.round(Math.max(0,255*Math.min(1,.5+.7*rF*.5)))}var Dl=_.buffer;
for(var d=0;d<B;d++){var _W=d<<2,QS=$K[d]<<2,_l=Dd[QS],vv=Dd[QS+1],_o=Dd[QS+2];if(Q=="Clds"){Dl[_W]=_l;
Dl[_W+1]=vv;Dl[_W+2]=_o}else{Dl[_W]=Math.abs(Dl[4*d]-_l);Dl[_W+1]=Math.abs(Dl[4*d+1]-vv);Dl[_W+2]=Math.abs(Dl[4*d+2]-_o)}}}if(Q=="LnsF"){var U=C.rect.W,H=C.rect.C,Df=["Zm","Nkn","Nkn1","PnVs"].indexOf(j.Lns.v.Lns),t$=j.FlrC.v,tt=[Math.min(Df,2),j.Brgh.v/100,t$.Hrzn.v,t$.Vrtc.v],T=Date.now();
e.vki(C.buffer,U,H,_.buffer,tt)}if(Q=="Blr "||Q=="BlrM"||Q=="Shrp"||Q=="ShrM"){var U=C.rect.W,H=C.rect.C,tG;
if(Q=="Blr ")tG=[1,2,1,2,16,2,1,2,1];else if(Q=="BlrM")tG=[1,2,1,2,4,2,1,2,1];else if(Q=="Shrp")tG=[0,-1,0,-1,8,-1,0,-1,0];
else tG=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];tG=e.qq.kp(tG);var DZ=C.buffer.slice(0);e.vW(DZ);e.qq.Yf(DZ,_.buffer,U,H,tG,Q=="Shrp"||Q=="ShrM"?0:255);
if(Q=="Shrp"||Q=="ShrM")e.nE(_.buffer);e.vj(_.buffer)}if(Q=="MtnB"){var vn=-j.Angl.v*Math.PI/180,QZ=j.Dstn.v.val/2,T=Date.now(),U=C.rect.W,H=C.rect.C,f=C.rect.clone();
f.x=f.y=0;if(E.bs){var T=Date.now(),_L=_.buffer;_L.set(C.buffer);e.vW(_L);var We=E.pj(0,U,H);We.set(_L);
var DY=e.Q(4);DY[0]=Math.round(128+127*Math.cos(vn));DY[1]=Math.round(128+127*Math.sin(vn));new Uint32Array(_L.buffer).fill(new Uint32Array(DY.buffer)[0]);
var tQ=E.pj(1,U,H);tQ.set(_L);E.xe(We,f);We.gl(f);E.filter.ZT({type:E.filter.$S,YV:tQ.ot,a$:new Float32Array([1/U,1/H]),vkX:QZ/2,vkA:1},We.EB);
We.get(_L);e.vj(_L)}else{var _T=new rI;_T.rotate(vn);var tS=G.S.Ia([C.buffer,C.rect],_T,!1,null,!0);
vr.fP(QZ,e.blur.nc,tS.buffer,tS.rect);_T.Ie();tS=G.S.Ia([tS.buffer,tS.rect],_T,!1,_.buffer.buffer,!0,_.rect)}console.log(Date.now()-T)}if(Q=="RdlB"){var U=C.rect.W,H=C.rect.C,_C=j.Amnt.v,QT=j.BlrM.v.BlrM=="Zm",Qt=j.Cntr.v,_c=Qt.Hrzn.v,_N=Qt.Vrtc.v,rf=Math.max(_c,1-_c)*U,rU=Math.max(_N,1-_N)*H,_M=Math.sqrt(rf*rf+rU*rU),tu=2*Math.PI*_M*1.5,tz=Math.round(tu),te=Math.round(_M),v$=new s(0,0,tz,te),WC=e.Q(tz*te*4),tg=QT?4:1,ts=QT?.6:8*((U+H)/2)/1400,Qh=.1,$v=1,DG=1;
e.V.Mi(C.buffer,U,H,WC,tz,te,_c,_N,tg,Qh,$v,DG);var bh=QT?e.Q(tz*te*4):null;if(QT){e.V.ik(WC,bh,tz,te);
var vU=bh;bh=WC;WC=vU;v$.W=te;v$.C=tz}vr.fP(ts*_C,e.blur.nc,WC,v$);if(QT){e.V.ik(WC,bh,te,tz);var vU=bh;
bh=WC;WC=vU;v$.W=tz;v$.C=te}e.V.Mg(WC,tz,te,_.buffer,U,H,_c,_N,tg,Qh,$v,DG)}if(Q=="Plr "){var U=C.rect.W,H=C.rect.C;
if(j.Cnvr.v.Cnvr=="RctP")e.V.Mg(C.buffer,U,H,_.buffer,U,H,.5,.5,1,0,2,U/H);else e.V.Mi(C.buffer,U,H,_.buffer,U,H,.5,.5,1,0,2,U/H)}if(Q=="FndE"){var U=C.rect.W,H=C.rect.C;
vr.v_m(C.buffer,_.buffer,U,H)}if(Q=="\0\0\x03\xFD"){var Dh=j.LghD.v*Math.PI/180,WL=[Math.cos(Dh),Math.sin(Dh),.001],Dg=[j.stylization.v,j.cleanliness.v,j.brushScale.v,j.microBrush.v,j.lightingOn.v,j.specularity.v,WL];
e.Gz.filter(C.buffer,C.rect,_.buffer,Dg)}if(Q=="Ofst"){var U=C.rect.W,H=C.rect.C,WN=new Uint32Array(C.buffer.buffer),ty=new Uint32Array(_.buffer.buffer),_Z=j.Hrzn.v,_w=j.Vrtc.v,tk=j.Fl.v.FlMd;
e.kM(ty,0);if(tk=="Bckg"||tk=="Rpt"){var v$=C.rect.clone();v$.offset(_Z,_w);e.tW(WN,v$,ty,_.rect)}if(tk=="Rpt"){var z,V,X,O,Qg;
_Z=Math.max(-U,Math.min(U,_Z));_w=Math.max(-H,Math.min(H,_w));z=_Z>0?_Z:0;X=_Z>0?U:U+_Z;V=_w>0?0:_w+H;
O=_w>0?_w:H;Qg=_w>0?0:U*(H-1);for(var rj=V;rj<O;rj++)for(var rE=z;rE<X;rE++)ty[rj*U+rE]=WN[Qg+rE-_Z];
z=_Z>0?0:U+_Z;X=_Z>0?_Z:U;V=_w>0?_w:0;O=_w>0?H:H+_w;Qg=_Z>0?0:U-1;for(var rj=V;rj<O;rj++)for(var rE=z;
rE<X;rE++)ty[rj*U+rE]=WN[Qg+U*(rj-_w)];if(_Z>=0&&_w>=0){z=0;X=_Z;V=0;O=_w;Qg=0}if(_Z>=0&&_w<0){z=0;X=_Z;
V=H+_w;O=H;Qg=U*(H-1)}if(_Z<0&&_w>=0){z=U+_Z;X=U;V=0;O=_w;Qg=U-1}if(_Z<0&&_w<0){z=U+_Z;X=U;V=H+_w;O=H;
Qg=U*H-1}for(var rj=V;rj<O;rj++)for(var rE=z;rE<X;rE++)ty[rj*U+rE]=WN[Qg]}if(tk=="Wrp"){_Z=(_Z+100*U)%U;
_w=(_w+100*H)%H;var v$=new s(_Z-U,_w-H,U,H);e.tW(WN,v$,ty,_.rect);v$.offset(U,0);e.tW(WN,v$,ty,_.rect);
v$.offset(0,H);e.tW(WN,v$,ty,_.rect);v$.offset(-U,0);e.tW(WN,v$,ty,_.rect)}}if(Q=="Rept"){var tC=j.Rsft.v.val/100,$r=j.SpcX.v.val/100;
$r=Math.max($r,-.99);var QM=j.SpcY.v.val/100;QM=Math.max(QM,-.99);var $v=j.Scl.v.val/100,_T=new rI;_T.rotate(j.Angl.v*Math.PI/180);
_T.scale($v,$v);var Qx={buffer:C.buffer,rect:C.rect};e.Bt(Qx);if(Qx.rect.jJ()){Qx.buffer=C.buffer;Qx.rect=C.rect}var Dl=Qx.buffer,v$=Qx.rect,DF=e.Ka(Dl,v$,0),$b=new Uint32Array(Dl.buffer)[0];
if(!DF.jJ()&&!DF.gm(v$)){var tK=e.Q(DF.P()*4);e.tW(Dl,v$,tK,DF);Dl=tK;v$=DF}v$.x=v$.y=0;$b=$r==0&&QM==0||j.SpcC.v?$b:0;
function QE(rE){return rE<0?Math.ceil(rE):Math.floor(rE)}var tF=_T.IV(new Wn(v$.W,0));tF.x=QE(tF.x);
tF.y=QE(tF.y);var vL=_T.IV(new Wn(0,v$.C));vL.x=QE(vL.x);vL.y=QE(vL.y);var tS=G.S.Ia([Dl,v$],_T,!1),vi=tS.rect,Qd=tS.buffer,tp=Math.round(vi.x),tN=Math.round(vi.y),Ww=Math.max(_.rect.W,_.rect.C)/Math.min(v$.W*$v*(1+$r),v$.C*$v*(1+QM));
Ww=Math.ceil(Ww*1.7);e.kM(_.buffer,$b);for(var rj=-Ww;rj<Ww;rj++){for(var rE=-Ww;rE<Ww;rE++){var tU=(rE+rj*tC)*(1+$r),tw=rj*(1+QM);
vi.x=tp+Math.round(tU*tF.x+tw*vL.x);vi.y=tN+Math.round(tU*tF.y+tw*vL.y);if(vi.nY(_.rect))e.B.hW("norm",Qd,vi,_.buffer,_.rect,vi,1)}}}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr".split(",").indexOf(Q)!=-1){var tl=$[0],U=C.rect.W,H=C.rect.C,vV,td=0;
if(Q=="LqFy")vV=tH.ig(new Uint8Array(j.LqMe.v).buffer);else{var QL=Q=="Dspl"?1:3;vV={fA:Math.floor(U/QL),NE:Math.floor(H/QL)};
vV.map=new Float32Array(vV.fA*vV.NE*2);if(Q=="LnCr"){var _c=.5*(vV.fA-1),_N=.5*(vV.NE-1),Qo=Math.max(Math.abs(0-_c),Math.abs(1-_c)),$Y=Math.max(Math.abs(0-_N),Math.abs(1-_N)),vB=Math.sqrt(Qo*Qo+$Y*$Y),br=0,b_=0,bQ=-1,Qn=2,$v=j.LnSi.v/100,QT=1/$v,bb=j.LnIa.v/100,tn=bb==0?1e-6:bb*4.6,bK=QT/vB;
for(var rj=0;rj<vV.NE;rj++){for(var rE=0;rE<vV.fA;rE++){var rf=(rE-_c)*bK,rU=(rj-_N)*bK,_l=Math.sqrt(rf*rf+rU*rU)*tn,bR=Math.atan(_l),$y=bb>0?bR/_l:_l/bR,DG=_c+vB*$y*rf,tW=_N+vB*$y*rU,d=rj*vV.fA+rE<<1;
vV.map[d]=DG-rE;vV.map[d+1]=tW-rj}}}else if(Q=="Dspl"&&tl.length!=0){td=j.UndA.v.UndA=="WrpA"?2:1;var bi=j.DspF.v.pth,QF;
for(var d=0;d<tl.length;d++)if(tl[d].rw==bi)QF=tl[d];if(QF==null)QF=tl[0];QF.ln();var tB=QF.XJ[1],bV=e.Q(tB.P());
e.oS(QF.XJ[0],bV);var bS=tB.W,bT=2*j.HrzS.v/QL,bu=2*j.VrtS.v/QL;for(var rj=0;rj<vV.NE;rj++){for(var rE=0;
rE<vV.fA;rE++){var Qo=Math.floor(tB.W*rE/vV.fA),$Y=Math.floor(tB.C*rj/vV.NE),rf=rU=-.5+bV[$Y*bS+Qo]/255,d=rj*vV.fA+rE<<1;
vV.map[d]=rf*bT;vV.map[d+1]=rU*bu}}}else if(Q=="Pnch"||Q=="Twrl"||Q=="Sphr"){var _C=1,vn=Math.PI,bk=0,Qt=3,$_=1.53,$y=1;
if(Q=="Pnch"||Q=="Sphr")_C=j.Amnt.v/100;if(Q=="Twrl")vn=j.Angl.v*Math.PI/180;if(Q=="Sphr")bk=["Nrml","HrzO","VrtO"].indexOf(j.SphM.v.SphM);
function Qp(rE){rE=Math.pow(rE,1-rE*.3-rE*rE*(rE*rE)*.5);return-.225*Math.sin(rE*Math.PI)}function bJ(H,bI,_l,z,V,X,O,$y){var rf=X-z,rU=O-V,tZ=z-H,KQ=V-bI,bW=rf*rf+rU*rU,_o=2*(rf*tZ+rU*KQ),Qt=tZ*tZ+KQ*KQ-_l*_l,Kt=Math.sqrt(_o*_o-4*bW*Qt),Kb=$y/(2*bW),KK=(-_o+Kt)*Kb,KR=(-_o-Kt)*Kb;
return $y*Math.min(KK,KR)}var $z=vV.fA,QA=vV.NE,bj=vV.fA/2,rw=vV.NE/2,bp=1/bj,_l=Math.sqrt(Qt*Qt+1)/Qt,vd=Qt+Math.sqrt(1/(Qt*Qt));
if(_C<0){Qt=1.72;_l=1;vd=Qt;$_=-1;$y=-1}for(var rj=0;rj<QA;rj++){var rU=(rj-rw)/rw;for(var rE=0;rE<$z;
rE++){var rf=(rE-bj)*bp;if(bk==1)rU=0;else if(bk==2)rf=0;var Qw=Math.sqrt(rf*rf+rU*rU);if(Qw<1&&Qw!=0){var d=rj*vV.fA+rE<<1;
if(Q=="Pnch"){var bE=-_C*Qp(Qw)/Qw;vV.map[d]=rf*bE*bj;vV.map[d+1]=rU*bE*rw}else if(Q=="Sphr"){var vU=bJ(0,vd,_l,0,0,Qw,Qt,$y),bd=$_*_C*(vU-1);
vV.map[d]=rf*bd*bj;vV.map[d+1]=rU*bd*rw}else if(Q=="Twrl"){var Dh=Math.atan2(rU,rf)-vn*(1-Qw)*(1-Qw),bX=Math.cos(Dh),ba=Math.sin(Dh);
vV.map[d]=(Qw*bX-rf)*bj;vV.map[d+1]=(Qw*ba-rU)*rw}}}}}else if(Q=="Shr "){var bB=JSON.parse(JSON.stringify(j.ShrP.v));
e.ZU.M(bB,new rI(0,255/127,255/127,0,-2,0));var bm=e.ZU.DS(bB,vV.NE,!0);td=j.UndA.v.UndA=="WrpA"?2:1;
for(var rj=0;rj<vV.NE;rj++){var rf=-bm[rj]*vV.fA;for(var rE=0;rE<vV.fA;rE++){var d=rj*vV.fA+rE<<1;vV.map[d]=rf}}}else if(Q=="Wave"){var by=j.NmbG.v,bx=j.WLMn.v,bF=j.WLMx.v,bL=j.AmMn.v*(Math.PI/4),bC=j.AmMx.v*(Math.PI/4),bZ=j.SclH.v/100,bY=j.SclV.v/100,Df=j.Wvtp.v.Wvtp,bf=Math.sin;
if(Df=="WvTr")bf=function(rE){rE*=2/Math.PI;return-.5+Math.abs(rE%2-1)};if(Df=="WvSq")bf=function(rE){rE*=2/Math.PI;
return 1+2*Math.floor(rE%2-1)};var vG=[],tj=new e.B.Kc(j.RndS.v);for(var d=0;d<by;d++){vG.push(tj.get()*10);
vG.push(Math.PI*QL/(bx+tj.get()*(bF-bx)));vG.push(bZ*(bL+tj.get()*(bC-bL))/QL);vG.push(tj.get()*10);
vG.push(Math.PI*QL/(bx+tj.get()*(bF-bx)));vG.push(bY*(bL+tj.get()*(bC-bL))/QL)}var bG=[],bP=[],be=Math.max(vV.fA,vV.NE);
for(var d=0;d<be;d++){var rf=0,rU=0;for(var Qr=0;Qr<by;Qr++){var tE=Qr*6;rf+=vG[tE+2]*bf(vG[tE]+d*vG[tE+1]);
rU+=vG[tE+5]*bf(vG[tE+3]+d*vG[tE+4])}bG[d]=rU;bP[d]=rf}for(var rj=0;rj<vV.NE;rj++){for(var rE=0;rE<vV.fA;
rE++){var d=rj*vV.fA+rE<<1;vV.map[d]=bP[rj];vV.map[d+1]=bG[rE]}}td=j.UndA.v.UndA=="WrpA"?2:1}else if(Q=="Rple"){td=1;
var _C=j.Amnt.v/100,bN=4,bw=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],bA=1,bU=1,tZ=0,bM=["Sml","Mdm","Lrg"].indexOf(j.RplS.v.RplS);
if(bM==0){bA=1;bU=.2;tZ=3}if(bM==2){bA=1;bU=2;tZ=-1;bw=bw.reverse()}var KO=function(rE,rj){var Qt=Math.cos,rF=0;
for(var d=0;d<bN;d++)for(var Qr=0;Qr<bN;Qr++)rF+=bw[d*bN+Qr]*Qt(rE*(d+tZ)-rj*(Qr+tZ));return rF},Qc=Math.floor(50/QL),KD=new Float32Array(Qc*Qc*2),K$=bU*_C*.5/QL;
for(var rj=0;rj<Qc;rj++)for(var rE=0;rE<Qc;rE++){var _c=bA*rE*2*Math.PI/Qc,_N=bA*rj*2*Math.PI/Qc,KW=KO(_c,_N),rf=(KO(_c+.01,_N)-KW)*100,rU=(KO(_c,_N+.01)-KW)*100,d=(rj*Qc+rE)*2;
KD[d]=rf*K$;KD[d+1]=rU*K$}for(var rj=0;rj<vV.NE;rj++)for(var rE=0;rE<vV.fA;rE++){var ba=rj%Qc,bX=rE%Qc,d=rj*vV.fA+rE<<1,Kr=ba*Qc+bX<<1;
vV.map[d]=KD[Kr];vV.map[d+1]=KD[Kr+1]}}}e.qJ.RY(C.buffer,_.buffer,U,H,null,vV.map,vV.fA,vV.NE,td)}return _};
var Dv={};Dv.vRR="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");Dv.us="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
Dv.uE=["ScrC","ScrD","ScrL"];Dv.ud=["SDRD","SDHz","SDLD","SDVt"];Dv.Kv={PntD:"paintDaubs"};Dv.names={PntD:"Paint Daubs",Spt:"Spatter",SprS:"Sprayed Strokes",BsRl:"Bas Relief",HlfS:"Halftone Pattern",GlwE:"Glowing Edges",StnG:"Stained Glass"};
Dv._j=function(Q){var C;if(Q=="PntD")C={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};
if(Q=="Spt")C={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};if(Q=="SprS")C={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(Q=="BsRl")C={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};if(Q=="HlfS")C={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};
if(Q=="GlwE")C={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(Q=="StnG")C={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
C.__name="Filter Gallery";C.classID="GEfc";C.GEfk={t:"enum",v:{GEft:Q}};C.GELv={t:"bool",v:!0};return C};
Dv.DZ=function(Q,C,j,Z,F,_,$){Q=j.GEfk.v.GEft;var L=C.rect.W,D=C.rect.C;if(Q=="Spt"||Q=="SprS"){var L=C.rect.W,D=C.rect.C,d,o=1,v=1;
d={fA:Math.floor(L/v),NE:Math.floor(D/v)};d.map=new Float32Array(d.fA*d.NE*2);var f=new e.B.Kc(j.FlRs.v),U=new Float32Array(8192),H=j.SprR.v,B=H<20?.018*H:.36+(H-20)*.128;
if(Q=="SprS"){B=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][H]}for(var m=0;
m<8192;m++)U[m]=(-1+2*f.get())*B*70;for(var Y=0;Y<D;Y++)for(var q=0;q<L;q++){var r=Y*L+q<<1;d.map[r]=U[r%7919];
d.map[r+1]=U[(r+1)%7919]}var x=d.map.slice(0),a=Q=="Spt"?j.Smth.v-1:1;if(Q=="Spt"&&a!=0){Dv.vWp(d.map,x,L,D,a);
Dv.v_J(x,d.map,L,D,a)}if(Q=="SprS"){var i=j.StrL.v>>>1,l=i==0?2:1;Dv.vWp(d.map,x,L,D,l);Dv.v_J(x,d.map,L,D,l);
if(i!=0){var M=Dv.ud.indexOf(j.SDir.v.StrD),z=[1,1,1,0][M],V=[-1,0,1,1][M],X=2*i+1,O=1/X;for(var Y=0;
Y<D;Y++)for(var q=0;q<L;q++){var r=Y*L+q<<1,y=0,K=0;for(var m=0;m<X;m++){var R=Math.max(0,Math.min(L-1,q-(i+m)*z)),W=Math.max(0,Math.min(D-1,Y-(i+m)*V)),N=W*L+R<<1;
y+=d.map[N];K+=d.map[N+1]}x[r]=y*O;x[r+1]=K*O}d.map=x}}e.qJ.RY(C.buffer,_.buffer,L,D,null,d.map,d.fA,d.NE,o)}if(Q=="BsRl"){var I=C.rect.P(),T=e.Q(I),h=T.slice(0);
e.oS(C.buffer,T);var p=j.Dtl.v,u=j.Smth.v;if(p!=15){e.blur.Pt(T,h,C.rect,Math.round((15-p)*.5));e.W_(h,T)}var g=2/L,A=2/D,w=(2+Dv.us.indexOf(j.LghD.v.LghD))*Math.PI*.25,y=Math.cos(w);
if(Math.abs(y)<.1)y=0;y=Math.sign(y);var K=Math.sin(w);if(Math.abs(K)<.1)K=0;K=Math.sign(K);var r$=1/(y*y+K*K);
for(var Y=0;Y<D;Y++)for(var q=0;q<L;q++){var m=Y*L+q,z=q==L-1?T[m]-T[m-1]:T[m+1]-T[m],V=Y==D-1?T[m]-T[m-L]:T[m+L]-T[m],rW=q*g-1,J=Y*A-1,rr=z==0?rW:z*.4;
rr=Math.max(-1,Math.min(1,y*rr));var r_=V==0?J:V*.4;r_=Math.max(-1,Math.min(1,K*r_));h[m]=128+127*(rr+r_)*r$}if(u!=1){e.blur.Pt(h,T,C.rect,Math.round((u-1)*.5));
e.W_(T,h)}e.KI(h,_.buffer)}if(Q=="PlsW__"){var I=C.rect.P(),T=e.Q(I),h=T.slice(0);e.oS(C.buffer,T);var p=j.Dtl.v,u=j.Smth.v;
if(p!=15){e.blur.Pt(T,h,C.rect,Math.round((15-p)*.5));e.W_(h,T)}for(var Y=0;Y<D;Y++)for(var q=0;q<L;
q++){var m=Y*L+q,z=q==L-1?T[m]-T[m-1]:T[m+1]-T[m],V=Y==D-1?T[m]-T[m-L]:T[m+L]-T[m],rO=z*z+V*V;h[m]=Math.max(0,255-rO*190)}var k=new Float32Array(I);
for(var m=0;m<I;m++)k[m]=h[m];if(u!=1){e.blur.YX(k.slice(0),k,C.rect,Math.round((u-1)*.2))}for(var Y=0;
Y<D;Y++)for(var q=0;q<L;q++){var m=Y*L+q,rv=m<<2,rb=k[m],rt=_.buffer[rv],rK=_.buffer[rv+1],rR=_.buffer[rv+2],z=q==L-1?rb-k[m-1]:k[m+1]-rb,V=Y==D-1?rb-k[m-L]:k[m+L]-rb,ri=-1,ru=1,rS=0,rg=z,rd=0,vO=1,rq=V,rp=1;
z=rS*rq-rg*vO;V=rg*rd-ru*rq;ri=ru*vO-rS*rd;var rL=1/Math.sqrt(z*z+V*V+ri*ri);z*=rL;V*=rL;ri*=rL;var rl=q-L/2,rV=Y-D/2,ry=L*.3,rL=1/Math.sqrt(rl*rl+rV*rV+ry*ry);
rl*=rL;rV*=rL;ry*=rL;var vj=Math.max(0,rl*z+rV*V+ry*ri);if(vj>1)throw vj;var rx=vj*255;_.buffer[rv]=rp*rx+(1-rp)*rt;
_.buffer[rv+1]=rp*rx+(1-rp)*rK;_.buffer[rv+2]=rp*rx+(1-rp)*rR}}if(Q=="PntD"){var rF=j.Shrp.v*.4,DX=j.BrsT.v.BrsT,va={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[DX],rB=Math.round(j.Sz.v*.5);
e.qq.vJ=va[0];var vW=e.qq.RI;vr.XX(C.buffer,_.buffer,L,D,rB,vW,[],0);var rN=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
rN=e.qq.kp(rN);var rM=_.buffer.slice(0);e.qq.Yf(rM,_.buffer,L,D,rN,0);for(var m=0;m<C.buffer.length;
m++){var _Q=_.buffer[m]-rM[m];_.buffer[m]=Math.max(0,Math.min(255,rM[m]+rF*_Q))}}if(Q=="GlwE"){var _O=_.buffer.slice(0);
e.qq.vJ=.5;var vW=e.qq.RI;vr.XX(C.buffer,_O,L,D,j.Smth.v>>>1,vW,[],0);vr.v_m(_O,_.buffer,L,D);e.W_(_.buffer,_O);
e.Ie(_O);e.kM(_O,4278190080,16777215);vr.XX(_O,_.buffer,L,D,j.EdgW.v>>>1,e.qq.Rg,[],0);var rp=j.EdgB.v/10;
for(var m=0;m<_O.length;m++){if((m&3)==3)continue;var rw=_.buffer[m];_.buffer[m]=Math.max(0,Math.min(255,rw*rp))}}if(Q=="StnG"){var L=C.rect.W,D=C.rect.C;
e.aZ.vqq(C.buffer,L,D,_.buffer,j.ClSz.v,[Math.round(Z.h),Math.round(Z.J),Math.round(Z._)],j.BrdT.v)}if(Q=="HlfS"){var rj=j.HlSz.v,rE=rj*2+1,_W=j.Cntr.v,vm=Dv.uE.indexOf(j.ScrT.v.ScrT),I=L*D,rf=I*4,rU=e.Q(I),Du=C.buffer,_E=0,vs=0;
for(var m=0;m<rf;m+=4)rU[m>>>2]=~~(.5+(Du[m]+Du[m+1]+Du[m+2])*(1/3));var _s=rU.slice(0);e.blur.nC(_s,rU,C.rect,rj);
var _t=Math.PI/rE,_I=new Float64Array(L),y=new Float64Array(L),Qb=new Float64Array(2*L);for(var q=0;
q<L;q++){var _D=(q-(L>>>1))*_t;_I[q]=_D*_D;y[q]=Math.cos(_D);var z=q<<1;Qb[z]=Math.sin(z*(1/4.5));Qb[z+1]=Math.sin((z+1)*(1/4.5))}for(var Y=0;
Y<D;Y++){var QO=(Y-(D>>>1))*_t,K=Math.cos(QO),v_=QO*QO;for(var q=0;q<L;q++){var vR=K;if(vm==0){var Qq=.5+Math.sqrt(_I[q]+v_)*4.5;
vR=Qb[~~Qq]}else if(vm==1){vR=y[q]*K}var m=Y*L+q,rx=rU[m]*(.75+.25*vR),vi=Du[(m<<2)+3]*(1/255),_U=Math.max(0,Math.min(255,~~rx));
_E+=_U*vi,vs+=vi;rU[m]=_U}}_E/=vs;var v$=128+1.26*(_E-128),rp=.08+.25*Math.abs((128-_E)/128),rn=1+rp*_W;
for(var m=0;m<I;m++){var rx=v$+(rU[m]-v$)*rn;rU[m]=Math.max(0,Math.min(255,~~rx))}if(_W>46)e.round(rU);
e.KI(rU,_.buffer)}for(var m=0;m<C.buffer.length;m+=4)_.buffer[m+3]=C.buffer[m+3]};Dv.vvD=function(Q){var C=[0,0,0,0,0,0,0,0,0,0,0,0,0],j=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][Q];
for(var Z=0;Z<13;Z++){var F=Z-6;C[Z]=1/(j*Math.sqrt(2*Math.PI))*Math.exp(-.5*(F/j)*(F/j))}return C};
Dv.vWp=function(Q,C,j,Z,F){var _=Dv.vvD(F),$=6,L=13;for(var D=0;D<Z;D++)for(var d=0;d<j;d++){var o=D*j+d<<1,v=0,f=0;
for(var U=0;U<L;U++){var H=d+U-$,B=H<0?0:H>=j?j-1:H,m=(D*j+B)*2,Y=_[U];v+=Y*Q[m];f+=Y*Q[m+1]}C[o]=v;
C[o+1]=f}};Dv.v_J=function(Q,C,j,Z,F){var _=Dv.vvD(F),$=6,L=13;for(var D=0;D<Z;D++)for(var d=0;d<j;d++){var o=D*j+d<<1,v=0,f=0;
for(var U=0;U<L;U++){var H=D+U-$,B=H<0?0:H>=Z?Z-1:H,m=(B*j+d)*2,Y=_[U];v+=Y*Q[m];f+=Y*Q[m+1]}C[o]=v;
C[o+1]=f}};function rP(){}rP.pP=[2,5,5,7,4,4];rP.Cg="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
rP.kQ="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
rP.yg=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
rP.vKD=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
rP.Jt=function(Q){if(Q=="passThrough")return"pass";return rP.Cg[rP.kQ.indexOf(Q)]};rP.aO=function(Q){if(Q=="pass")return"passThrough";
return rP.kQ[rP.Cg.indexOf(Q)]};rP.getName=function(Q){return rP.yg[rP.Cg.indexOf(Q)]};function S(){this.rect=null;
this.gd="norm";this.opacity=255;this.kK=!1;this.xz=0;this.Dj=0;this.wY=[];for(var Q=0;Q<10;Q++)this.wY.push(0,0,255,255);
this.name=null;this.add={};this.buffer=null;this.VY=null;this.Yn=null;this.A=null;this.gy=null;this.vVW=30;
this.ay=S.pA();this.vTR=S.pA();this.vTG=S.pA();this.vTP=S.pA();this.IF=0;this.gC=!1;this.uj=null;this.n=new S.uX}S.pA=function(){var Q=t.e("canvas");
Q.width=Q.height=30;return Q.getContext("2d")};S.uX=function(){this.oT=!0;this.tT=!0;this.PS=e.Q(0);
this.vuJ=e.Q(0);this.cp=null;this.zC={};this.vuI=null;this.PT=null;this.vV=null;this.aL=null;this.qP=null;
this.QX=null;this.FG=null;this.KB=null;this.Qa=null;this.vS=null;this.ok=null;this.Pk=null;this.iD=!1};
S.uX.prototype.vjk=function(){this.oT=!1;this.tT=!1;this.cp=null;this.iD=E.bs};S.uX.prototype.vq_=function(){rk.vrV(this.zC);
this.PS=e.Q(0);this.vuJ=e.Q(0);if(this.aL)this.aL.delete();if(this.qP)this.qP.delete();this.aL=null;
this.qP=null;var Q=[this.QX,this.FG,this.KB,this.Qa,this.vS,this.ok];for(var C=0;C<6;C++)if(Q[C]!=null&&Q[C]instanceof E.mr)Q[C].delete();
this.QX=null;this.FG=null;this.KB=null;this.Qa=null;this.vS=null;this.ok=null};S.prototype.X=function(Q){if(Q==null)Q=this.rect.clone();
if(this.n.cp==null)this.n.cp=Q;else this.n.cp=this.n.cp.fJ(Q)};S.prototype.Hd=function(){return this.add.lsct==_K.gh||this.add.lsct==_K.f_};
S.prototype.ql=function(){var Q=this.add;return Q.SoCo!=null||Q.GdFl!=null||Q.PtFl!=null};S.prototype.vjm=function(){var Q=this.add.lmfx;
if(Q==null)return;var C=["GrFl","patternFill"];for(var j=0;j<C.length;j++){var Z=WM.zV[WM.order.indexOf(C[j])],F=Q[Z].v;
if(F.length==0)continue;for(var _=0;_<F.length;_++){var $=F[_].v;if($.enab.v&&($.Algn==null||!$.Algn.v))this.n.tT=!0}}};
S.prototype.vjZ=function(){var Q=this.A;if(this.ql())Q=this.oH();if(!E.bs)return Q.ab();if(this.n.qP==null||this.n.oT||E.bs!=this.n.iD){if(this.n.qP)this.n.qP.delete();
this.n.qP=new E.pC(Q.ET().W,Q.ET().C);this.n.qP.set(Q.ab())}return this.n.qP};S.prototype.viD=function(Q){var C=this.rect,j=this.buffer;
if(!E.bs){var Z=this.ua(Q,j,C);if(Z){j=Z.Dg;C=Z.rect}return j}if(this.n.cp!=null||E.bs!=this.n.iD){var Z=this.ua(Q,j,C);
if(Z){j=Z.Dg;C=Z.rect}var F=C;if(E.bs!=this.n.iD||this.n.aL==null||this.n.aL.W!=F.W||this.n.aL.C!=F.C){if(this.n.aL)this.n.aL.delete();
this.n.aL=new E.mr(F.W,F.C);this.n.aL.set(j)}else{var _=this.n.cp.clone();_.offset(-C.x,-C.y);this.n.aL.set(j,_)}}return this.n.aL};
S.prototype.RE=function(){var Q=this.A;if(this.ql())Q=this.oH();return Q!=null&&Q.isEnabled&&(Q.Xa()==0||Q.Xa()!=0&&!Q.rect.jJ())};
S.prototype.ua=function(Q,C,j){if(this.nr()){var Z=this.qv(Q);if(Z.A&&Z.A.isEnabled&&(!Z.A.rect.jJ()||Z.A.color==0)){var F=this.add.SoLd.filterFX.v;
Z.A.To=F.filterMaskDensity?F.filterMaskDensity.v:255;Z.A.hD=F.filterMaskFeather?F.filterMaskFeather.v:0;
var _=Z.buffer,$=Z.A.sH(j);e.Ie($);C=e.clone(C);e.B.lh(_,Z.rect,C,j,$,j,0,j,1);return{Dg:C,rect:j}}}};
S.prototype.vqb=function(){var Q={oJ:!1,oI:!1,Ps:0,PE:0};if(this.add.vmsk&&this.add.vmsk.isEnabled)Q.oI=!0;
if(this.oH()&&this.oH().isEnabled)Q.oJ=!0;if(Q.oJ&&Q.oI){Q.Ps=this.oH().rect.x-this.add.vmsk.oH().rect.x;
Q.PE=this.oH().rect.y-this.add.vmsk.oH().rect.y}return Q};S.prototype.Ea=function(Q){if(this.add.lsct==_K.sQ)return;
var C=this,j=this.oH()!=null&&this.oH().CZ,Z=this.add.vmsk!=null&&this.add.vmsk.CZ,F=this.vqb(),_=JSON.stringify(F)!=this.n.vuI||F.oJ&&j||F.oI&&Z;
if(_){if(F.oI){var $=this.add.vmsk.oH();if(F.oJ){this.A=this.oH().uY($);this.n.PT=new Wn(this.A.rect.x-this.oH().rect.x,this.A.rect.y-this.oH().rect.y)}else this.A=$}if(this.A)this.n.oT=!0;
if(this.A)this.n.vV=new Wn(this.rect.x-this.A.rect.x,this.rect.y-this.A.rect.y);if(F.oJ)this.oH().CZ=!1;
if(F.oI)this.add.vmsk.CZ=!1;this.X()}else{if(F.oJ&&F.oI){this.A.rect.x=this.oH().rect.x+this.n.PT.x;
this.A.rect.y=this.oH().rect.y+this.n.PT.y}}if(C.ql()){this.fn(Q)}if(C.sq()){var L;if(this.A)L=new Wn(this.rect.x-this.A.rect.x,this.rect.y-this.A.rect.y);
if(this.A&&this.A.isEnabled&&(this.n.vV==null||!L.gm(this.n.vV))){this.n.vV=L;this.X();this.n.oT=!0}}if(rY.get(C.add)!=null)this.n.oT=!0;
this.n.vuI=JSON.stringify(F)};S.prototype.fn=function(Q){var C=this,j=C.add.vstk,Z,F=C.add.vmsk?this.add.vmsk.oH():null,L=!0;
if(F&&F.isEnabled&&F.Xa()==0)Z=F.ET().clone();else Z=new s(0,0,Q.W,Q.C);var _=C.oH();if(_&&_.isEnabled&&_.Xa()==0)Z=Z.QU(C.A.ET());
var $=F&&j;if(j&&(!j.strokeEnabled.v||j.strokeStyleLineWidth.v.val==0))$=!1;if(j&&!j.fillEnabled.v&&$)L=!1;
var D=e.Q(Z.P()*4);if(L){if(C.add.SoCo)rk.Lc(D,C.add.SoCo.Clr.v);if(C.add.GdFl)rk.mw(C.add.GdFl,D,Z,Q,null,F&&F.color==0?F.rect:null);
if(C.add.PtFl)rk.eM(C.add.PtFl,D,Z,Q,C.add.fxrp)}if(F){var d=F.To;if($)F.To=255;var o=e.Q(Z.P());if(F.Xa()!=0)e.set(o,Math.round(F.Xa()));
if(F&&F.isEnabled){var v=F.ET(),f=F.ab();if(v.gm(Z))e.W_(f,o);else e.pQ(f,v,o,Z)}if(C.add.SoCo&&L){e.gG(o,D,3)}else e.qN(o,Z,D,Z);
if($)F.To=d}C.buffer=D;C.rect=Z;if($){var U=WM.oj.EE.indexOf(j.strokeStyleLineAlignment.v.strokeStyleLineAlignment),H=j.strokeStyleContent.v,B=WM.oj.wH.indexOf(H.classID),m=this.add.vmsk.oH(j);
if(C.rect.gm(new s(0,0,Q.W,Q.C)))C.rect=C.rect;else if(U!=0){var Y=C.rect.fJ(m.ET()),q=e.Q(Y.P()*4);
e.tW(C.buffer,C.rect,q,Y);C.buffer=q;C.rect=Y}var d=m.To;m.To=255;var r=m.sH(C.rect);m.To=d;if(m.color==255)e.Ie(r);
var x=e.Q(C.rect.P()*4);if(B==0)rk.Lc(x,H.Clr.v);if(B==1)rk.mw(H,x,C.rect,Q,null,F.color==0?F.rect:null);
if(B==2)rk.eM(H,x,C.rect,Q,C.add.fxrp);var a=j.strokeStyleOpacity.v.val/100;if(a!=1)e.aV(r,a);e.gG(r,x,3);
if(m.color==255)U=2-U;if(U==0){e.B.hW("norm",x,C.rect,C.buffer,C.rect,C.rect,1);e.qN(o,C.rect,C.buffer,C.rect)}if(U==1){e.B.hW("norm",x,C.rect,C.buffer,C.rect,C.rect,1)}if(U==2){e.Ie(o);
e.B.lh(x,C.rect,C.buffer,C.rect,o,Z,255,C.rect,1,!1);e.Ie(o)}if(m.To!=255){var i=e.clone(x);e.kM(i,4278190080,16777215);
e.B.hW("norm",i,C.rect,C.buffer,C.rect,C.rect,1-m.To/255)}d=F.To;F.To=255;this.vuJ=F.sH(C.rect);F.To=d}this.X()};
S.prototype.RN=function(Q,C){var j=this,Z=j.add.SoLd.Idnt.v,F=j.add.SoLd,_=Q.Gx(Z,F.Crop?F.Crop.v:null);
if(_==null)return;var $=_.XJ;F.Sz.v.Wdth.v=$[1].W;F.Sz.v.Hght.v=$[1].C;var L=F.warp.v,D=G.S.wN(F.nonAffineTransform),d=e.V.xT(D,$[1]);
if(L&&!e.$k.CH(L)){var o=e.g.NM(e.$k.ah(L)),v=o.x,f=o.y,U=1/o.W,H=1/o.C;d=e.V.xT(D);d=e.V.uY(d,[U,0,-v*U,0,H,-f*H,0,0])}var B=G.S.pI($,C?0:1,d,L,null,null,null,C);
if(B==null){j.buffer=e.Q();j.rect=new s}else if(j.nr()){var m=j.qv(Q);m.buffer=B.buffer;m.rect=B.rect.clone();
this.Ds(Q,C)}else{j.buffer=B.buffer;j.rect=B.rect}j.Ea(Q);j.X();Q.X()};S.prototype.Ds=function(Q,C){if(C==null)C=!1;
var j=this.qv(Q),Z=this.add.SoLd.filterFX.v,F=vr.vzh(Z),_=new s(0,0,Q.W,Q.C),$=j.rect.fJ(_),L=j.rect.clone();
L.ac(F.x,F.y);var D={buffer:null,rect:$.QU(L)};D.buffer=e.Q(D.rect.P()*4);e.tW(j.buffer,j.rect,D.buffer,D.rect);
if(Z.enab.v&&C==!1){var d=Z.filterFXList.v;for(var o=0;o<d.length;o++){var v=d[o].v;if(v.enab.v==!1)continue;
var f=e.q.Xa(v.FrgC.v),U=e.q.Xa(v.BckC.v),H=c.Fr(v.filterID.v),B=v.Fltr?v.Fltr.v:null;if(rY.vs[H]!=null){var m=rY.vs[H],Y=rY.vT(m,B);
if(Y)rY.DZ(Y,D.buffer,D.buffer,D.rect)}else D=vr.DZ(H,D,B,f,U,null,[Q.add.lnk2?Q.add.lnk2:[],this.oH(),Q.$W])}}this.rect=D.rect;
this.buffer=D.buffer;this.Dx();this.X();Q.X()};S.prototype.um=function(Q,C,j){this.uj=this.v$X(Q,C,j)};
S.prototype.viE=function(Q,C){var j=this.v$X(Q,C,!0);if(j==null)return null;var Z={$e:j.IF,xu:j.Zm,rect:j.Cj};
if(Z.$e==1||Z.$e==3){var F=Z.rect,_=e.Q(F.W*F.C*4);e.gG(Z.xu,_,0);e.gG(Z.xu,_,1);e.gG(Z.xu,_,2);e.nu(Q.v.channel,Q.v.rect,_,F);
Z.xu=_}return Z};S.prototype.v$X=function(Q,C,j){var Z,F,_,$,L,D,d;if(this.IF<=0){var o=e.Q(this.rect.P());
e.yq(this.buffer,o,3);Z=e.mh.jx(C,{channel:o,rect:this.rect},"intersection");if(Z==null)return null;
var v=e.Go(Z.channel,Z.rect);$=Z.rect.clone();L=this.rect.clone();F=e.Q($.P()*4);e.tW(this.buffer,L,F,$);
e.gG(Z.channel,F,3);_=e.clone(this.buffer);if(!j){var f=e.clone(C.channel);e.Ie(f);e.qN(f,C.rect,_,L)}D=e.clone(this.buffer);
d=this.rect.clone()}if(this.IF==1||this.IF==3){var U=this.IF==1?this.oH():this.qv(Q).A;$=C.rect.clone();
L=U.rect.clone();F=U.v$E($);var _=e.clone(U.channel);if(!j)e.B.kW(U.color==255?e.KC($.P()):e.WC($.P()),$,_,L,C.channel,$,1);
D=e.clone(U.channel);d=U.rect.clone()}return{IF:this.IF,Zm:F,Cj:$,LT:_,tJ:L,Pd:D,Pa:d}};S.prototype.uy=function(Q,C){var j=this.uj;
if(j.IF==0){this.rect=j.Pa;this.buffer=j.Pd;this.X()}if(j.IF==1||j.IF==3){var Z=j.IF==1?this.oH():this.qv(Q).A;
Z.channel=j.Pd;Z.rect=j.Pa;if(this.IF==1){Z.CZ=!0;this.Ea(Q)}if(this.IF==3)this.X()}this.uj=C};S.prototype.hg=function(Q,C){if(this.IF<=0&&C.rect.gm(this.rect)){var j=e.Q(this.rect.P());
e.yq(this.buffer,j,3);if(e.gm(Q.v.channel,j)){var Z=this.rect,F=this.buffer;this.uj={IF:this.IF,Zm:F.slice(0),Cj:Z.clone(),LT:e.Q(0),tJ:new s,Pd:e.Q(0),Pa:new s};
return!0}}var _=this.uj;if(_==null)return!1;if(_.IF!=this.IF)return!1;if(!C.rect.gm(_.Cj))return!1;var $=_.tJ.fJ(_.Cj);
if(_.IF<=0){if(!$.gm(this.rect))return!1;var L=e.Q(_.Zm.length>>2);e.yq(_.Zm,L,3);if(!e.gm(C.channel,L))return!1;
var D=e.Q($.W*$.C*4);e.tW(_.LT,_.tJ,D,$);e.B.hW("norm",_.Zm,_.Cj,D,$,$,1);return e.gm(D,this.buffer)}if(_.IF==1||_.IF==3){var d=_.IF==1?this.oH():this.qv(Q).A;
if(!$.gm(d.rect))return!1;var o=e.Q($.P());e.set(o,d.color);e.pQ(_.LT,_.tJ,o,$);e.B.kW(_.Zm,_.Cj,o,$,C.channel,$,1);
return e.gm(o,d.channel)}};S.prototype.aW=function(Q,C,j,Z){var F=this.uj;F.Cj.offset(C,j);var _=F.tJ.fJ(F.Cj);
if(F.IF<=0){var $=e.Q(_.P()*4);e.tW(F.LT,F.tJ,$,_);e.B.hW("norm",F.Zm,F.Cj,$,_,_,1);this.buffer=$;this.rect=_;
this.X()}else{var L=this.IF==1?this.oH():this.qv(Q).A,D=e.Q(_.P());e.set(D,L.color);e.pQ(F.LT,F.tJ,D,_);
e.B.kW(F.Zm,F.Cj,D,_,Z.channel,_,1);L.channel=D;L.rect=_.clone();if(this.IF==1){L.CZ=!0;this.Ea(Q)}if(this.IF==3)this.X()}};
S.prototype.vWv=function(){var Q=[-1,0,1,2];if(this.A)Q.push(-2);if(this.gy)Q.push(-3);return Q};S.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
S.prototype.sp=function(Q){this.add.luni=this.name=Q};S.prototype.ux=function(Q){var C=this.add.lnsr,j=this.add.TySh;
if(C=="rend"&&j)this.sp(rD.Dm(j.Qp).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))};S.prototype.ow=function(){return(this.xz&1<<1)==0};
S.prototype.sq=function(){return(this.xz&1<<4)==0};S.prototype.bH=function(){return(this.xz&1<<5)!=0};
S.prototype.vqj=function(){var Q=this;if(Q.add.lnsr!="bgnd"){Q.add.lnsr="bgnd";Q.sp("Background");Q.add.lspf=1<<2}};
S.prototype.vqs=function(){var Q=this;if(Q.add.lnsr=="bgnd"){delete Q.add.lnsr;Q.sp("Layer 0");Q.add.lspf=0}};
S.prototype.Vk=function(Q){var C=this.add.lspf;return C==null?!1:(C>>Q&1)!=0};S.prototype.yh=function(Q){if(Q&&!this.ow())this.xz-=2;
if(!Q&&this.ow())this.xz+=2};S.prototype.hV=function(){var Q=this.add.lmfx;if(Q==null)return!1;for(var C in Q){if(C=="masterFXSwitch")continue;
if(C=="Scl")continue;if(C=="classID")continue;if(Q[C].v.length>0)return!0}return!1};S.prototype.nr=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
S.prototype.Wz=function(){var Q=this.add.lmfx;if(Q==null)return!1;if(!Q.masterFXSwitch.v)return!1;for(var C in Q){if(C=="masterFXSwitch")continue;
if(C=="Scl")continue;if(C=="classID")continue;var j=Q[C].v;for(var Z=0;Z<j.length;Z++)if(j[Z].v.enab.v)return!0}return!1};
S.prototype.sv=function(Q,C,j,Z){var F=new s,_=this.hm(Q,j,Z);if(_.indexOf(0)!=-1)F=F.fJ(this.rect);
if(_.indexOf(1)!=-1)F=F.fJ(this.oH().ET());if(_.indexOf(2)!=-1){var $=this.add.vmsk,L;if(C){if($.hc.length>1){var D=e.D.hR($.G,null,$.hc);
L=e.g.NM(D)}else L=e.D.kd($.G,$.H.length!=0?$.H:null)}else L=e.D.kd($.G);F=F.fJ(L)}if(_.indexOf(3)!=-1)F=F.fJ(this.qv(Q).A.ET());
if(_.length==0&&this.ql())F=new s(0,0,Q.W,Q.C);return F};S.prototype.se=function(){var Q=this.add.artb.artboardRect.v,C=Q.Btom.v,j=Q.Left.v,Z=Q.Rght.v,top=Q.Top.v;
return new s(j,top,Z-j,C-top)};S.prototype.vo=function(Q){var C=S.vzA(Q);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=C};S.vzA=function(Q){var C={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
C.Btom.v=Q.y+Q.C;C.Left.v=Q.x;C.Rght.v=Q.x+Q.W;C.Top.v=Q.y;return C};S.prototype.hm=function(Q,C,j){var Z=[],F=this,_=this.gC;
if(!C&&F.gC&&j){Z.push(2)}else if(F.IF<=0||C){if(F.sq())if(!this.rect.jJ())Z.push(0);if(F.oH()&&!F.oH().rect.jJ())if(F.oH().J_||C)Z.push(1);
if(F.add.vmsk)if(F.add.vmsk.J_||C)Z.push(2);if(F.nr()&&F.qv(Q).A&&!F.qv(Q).A.rect.jJ())Z.push(3)}else if(F.IF==1){Z.push(1);
if(F.oH().J_&&!F.oH().rect.jJ()){if(F.sq())if(!this.rect.jJ())Z.push(0);if(F.add.vmsk)if(F.add.vmsk.J_)Z.push(2)}}else if(F.IF==3&&!F.qv(Q).A.rect.jJ())Z.push(3);
if(F.add.artb&&Z.indexOf(0)==-1)Z.push(0);Z.sort();return Z};S.prototype.oH=function(){var Q=this;return Q.gy?Q.gy:Q.add.vmsk&&Q.add.vmsk.isEnabled?null:Q.A};
S.prototype.qv=function(Q){var C=this.add.SoLd.placed.v,j=Q.add.FEid;if(j==null)return null;for(var Z=0;
Z<j.length;Z++)if(j[Z].id==C)return j[Z];return null};S.prototype.extend=function(Q){e.vKS(this,Q)};
S.prototype.vlF=function(Q,C,j){var Z=Q.clone();if(this.Wz()){var F=this.add.lmfx,_=C.root.Gl(C.k.indexOf(this)),$=F.gradientFillMulti.v,L=!1;
for(var D=0;D<$.length;D++)if($[D].v.enab.v&&$[D].v.Algn.v)L=!0;if(L)Z=Z.fJ(_.ET(C,!1));var d=rk.vlL(this,C,j);
Z.offset(d.x,d.y);Z.W+=d.W;Z.C+=d.C}return Z};S.prototype.Dx=function(){if(this.sq())e.Bt(this);var Q=this.oH();
if(Q)Q.Dx()};S.prototype.clone=function(){var Q=new S;Q.rect=this.rect.clone();Q.buffer=e.clone(this.buffer);
Q.gd=this.gd;Q.opacity=this.opacity;Q.kK=this.kK;Q.xz=this.xz;Q.name=this.name;Q.wY=this.wY.slice(0);
if(this.A)Q.A=this.A.clone();if(this.gy)Q.gy=this.gy.clone();for(var C in this.add)Q.add[C]=De.clone(C,this.add[C]);
return Q};S.prototype.vgE=function(Q){var C=this;if(C.add.TySh)delete C.add.TySh;if(C.add.SoLd){var j=this.ua(Q,this.buffer,this.rect);
if(j){this.buffer=j.Dg;this.rect=j.rect;this.X()}delete C.add.SoLd}if(C.add.SoCo||C.add.GdFl||C.add.PtFl){if(C.add.vogk)delete C.add.vogk;
if(C.add.SoCo)delete C.add.SoCo;if(C.add.GdFl)delete C.add.GdFl;if(C.add.PtFl)delete C.add.PtFl;if(C.add.vmsk){console.log(C.gy,C.A);
delete C.add.vmsk;if(C.gy==null&&C.A)delete C.A;else if(C.gy!=null&&C.A!=null){C.A=C.gy;delete C.gy}}}if(!C.Hd()&&rY.get(C.add)==null&&!this.sq())this.xz-=16};
S.prototype.vSF=function(Q){var C=255,j=0;if(Q==2){var Z=this.add.SoLd.filterFX.v;if(Z.filterMaskDensity)C=Z.filterMaskDensity.v;
if(Z.filterMaskFeather)j=Z.filterMaskFeather.v}else{var F=Q==0?this.oH():this.add.vmsk;C=F.To;j=F.hD}return{oi:Q,nv:C,MK:j}};
S.prototype.vDc=function(Q){if(Q.oi==2){var C=this.add.SoLd.filterFX.v;if(Q.nv==255)delete C.filterMaskDensity;
else C.filterMaskDensity={t:"long",v:Q.nv};if(Q.MK==0)delete C.filterMaskFeather;else C.filterMaskFeather={t:"doub",v:Q.MK};
this.X()}else{var j=Q.oi==0?this.oH():this.add.vmsk;j.To=Q.nv;j.hD=Q.MK;j.CZ=!0}};S.prototype.WU=function(){var Q=this,C=Q.add.vmsk;
if(C==null)return;Q.add.vogk=S.WU(C.G)};S.WU=function(Q){var C=[],j=e.D.iJ(Q);for(var Z=0;Z<j;Z++)C.push(e.Ky.WC());
return C};var _K={uF:0,gh:1,f_:2,sQ:3};S.Xh=function(){this.name="Mask";this.me=!1;this.Uw={h:255,J:0,_:0};
this.S$=50;this.BL=0;this.color=255;this.J_=!0;this.isEnabled=!0;this.QH=!1;this.To=255;this.hD=0;this.rect=new s;
this.channel=e.Q(0);this.vgw=null;this.vgA=null;this.CZ=!0};S.Xh.prototype.uY=function(Q){if(!this.isEnabled)return Q;
var C=new S.Xh;C.color=Math.round(this.Xa()*Q.Xa()/255);if(this.Xa()==0&&Q.Xa()==0)C.rect=this.ET().QU(Q.ET());
else if(Q.Xa()==0)C.rect=Q.ET().clone();else if(this.Xa()==0)C.rect=this.ET().clone();else C.rect=this.ET().fJ(Q.ET());
C.channel=this.sH(C.rect);C.To=255;C.hD=0;var j=Q.sH(C.rect);e.vbG(j,C.rect,C.channel,C.rect);return C};
S.Xh.prototype.ET=function(){if(this.hD==0)return this.rect;var Q=Math.ceil(this.hD*2.2),C=this.rect.clone();
C.ac(Q,Q);return C};S.Xh.prototype.ab=function(){if(this.hD==0&&this.To==255)return this.channel;if(this.hD==0){var Q=e.clone(this.channel);
e.Ie(Q);e.aV(Q,this.To/255);e.Ie(Q);return Q}var C=this.ET(),j=this.v$E(C),Q=e.Q(C.P());e.blur.Pt(j,Q,C,this.hD);
if(this.To!=255){e.Ie(Q);e.aV(Q,this.To/255);e.Ie(Q)}return Q};S.Xh.prototype.Xa=function(){return Math.round(255-(255-this.color)*(this.To/255))};
S.Xh.prototype.extend=function(Q){e.extend(this,Q,this.color)};S.Xh.prototype.Dx=function(){if(this.color==255)e.Ie(this.channel);
e.Dx(this);if(this.color==255)e.Ie(this.channel)};S.Xh.prototype.clone=function(){var Q=new S.Xh;Q.name=this.name;
Q.me=this.me;Q.Uw=this.Uw;Q.S$=this.S$;Q.BL=this.BL;Q.color=this.color;Q.J_=this.J_;Q.isEnabled=this.isEnabled;
Q.QH=this.QH;Q.To=this.To;Q.hD=this.hD;Q.rect=this.rect.clone();Q.channel=e.clone(this.channel);return Q};
S.Xh.prototype.v$E=function(Q,C){if(C==null)C=e.Q(Q.P());e.set(C,this.color);e.pQ(this.channel,this.rect,C,Q);
return C};S.Xh.prototype.sH=function(Q,C){var j=this.ET(),Z=this.ab();if(C==null)C=e.Q(Q.P());e.set(C,this.Xa());
e.pQ(Z,j,C,Q);return C};S.jH=function(){this.J_=!0;this.isEnabled=!0;this.To=255;this.hD=0;this.G=[{type:6},{type:8,all:0}];
this.yV=[-3,-3];this.bz=!1;this.gy=null;this.CZ=!0;this.H=[];this.hc=[]};S.jH.prototype.offset=function(Q,C){this.gy=this.oH();
e.D.gw(this.G,new rI(1,0,0,1,Q,C));this.gy.rect.offset(Q,C)};S.jH.prototype.oH=function(Q){if(!this.CZ&&this.gy&&Q==null){this.gy.isEnabled=this.isEnabled;
return this.gy}var C=e.D.kd(this.G);if(C.P()>3e4*3e4)C=new s(0,0,100,100);if(Q){var j=Math.ceil(Q.strokeStyleLineWidth.v.val);
C.ac(j,j)}C=e.g.fx(C);var Z=new S.Xh;Z.color=e.D.$q(this.G)?0:255;Z.J_=this.J_;Z.isEnabled=this.isEnabled;
Z.QH=!0;Z.rect=C;Z.To=this.To;Z.hD=this.hD;Z.channel=e.Q(Z.rect.P());if(!C.jJ())e.D.vmN(this.G,Z.channel,Z.rect,Q);
if(Q==null){this.gy=Z;this.CZ=!1}return Z};S.jH.prototype.clone=function(){var Q=new S.jH;Q.J_=this.J_;
Q.isEnabled=this.isEnabled;Q.To=this.To;Q.hD=this.hD;Q.G=S.jH.Do(this.G);Q.yV=this.yV.slice(0);Q.bz=this.bz;
Q.H=this.H.slice(0);Q.hc=this.hc.slice(0);return Q};S.jH.prototype.concat=function(Q){var C=Q.G.slice(2);
if(C.length==0)return;C[0].rh=3;this.G=this.G.concat(C)};S.jH.Do=function(Q){var C=[];for(var j=0;j<Q.length;
j++){var Z=Q[j];if(Z.type>5||Z.type==0||Z.type==3)C.push(JSON.parse(JSON.stringify(Z)));else C.push({type:Z.type,$_:Z.$_.clone(),d:Z.d.clone(),jk:Z.jk.clone()})}return C};
S.jH.vqE=function(Q,C,j){if(Q.length!=C.length)return!1;for(var Z=2;Z<Q.length;Z++){var F=Q[Z],_=C[Z];
if(F.type!=_.type)return!1;if(F.type==0||F.type==3){if(F.length!=_.length||!j&&F.rh!=_.rh)return!1}else if(!F.$_.gm(_.$_)||!F.d.gm(_.d)||!F.jk.gm(_.jk))return!1}return!0};
S.jH.prototype.vqY=function(){var Q=this.G;for(var C=3;C<Q.length;C++)if(Q[C].type==0||Q[C].type==3)Q[C].rh=-1};
S.bU=function(){this.type=null;this.Vm=2;this.rw=null;this.RJ="";this.Gg="";this.Yd="";this.open=0;this.raw=null;
this.XJ=null};S.bU.prototype.clone=function(){var Q=new S.bU;Q.type=this.type;Q.Vm=this.Vm;Q.rw=this.rw;
Q.RJ=this.RJ;Q.Gg=this.Gg;Q.Yd=this.Yd;Q.open=this.open;Q.raw=new Uint8Array(this.raw.buffer.slice(0));
return Q};S.bU.prototype.ln=function(Q){var C=this;if(C.XJ)return;var j=vX.Kl(C.raw.buffer);if(j!="svg"&&j!="pdf")Q=0;
if(j==null){alert("Unsupported format: "+c.hX(C.raw,0,4));return null}var Z=vX.Xo(j);if(Z.xG){var F=new rH(name+(j=="psd"?"":"-"+j)+".psd");
Z.aJ(C.raw.buffer,F);for(var _=0;_<F.k.length;_++)if(F.k[_].ql())F.k[_].Ea(F);F.Ed();F.X();F.GV();C.XJ=[F.ln(),new s(0,0,F.W,F.C)]}else if(Z){var $=Z.aJ(C.raw.buffer)[0];
C.XJ=[new Uint8Array($.data),$.Rm]}if(C.XJ){if(Q==1){var L=C.XJ[0],D=C.XJ[1],d=e.Q(D.P());e.yq(L,d,3);
var o=e.Go(d,D),v=e.Q(o.P()*4);e.tW(L,D,v,o);C.XJ=[v,o]}e.aR(C.XJ)}};S.sN="0";S.sV="2";S.aj="2.5";S.vQk="3";
S.K_="4";S.vKh="5";S.uL="5.5";S.vKe="6";S.uZ="7";S.vKA="7.5";S.vM="8";S.Kb="9";S.KS="9.3";S.uc="9.5";
S.vjD="9.6";S.DV="10";S.az="11";S.Kp="12";S.aS="13";S.hC="13.5";S.uf="13.7";S.aH="14";S.hG="14.5";S.q$="15";
S.Dd="16";S.KP="17";S.hA="18";S.vsL="19";S.hU="19.5";S.DC="19.6";S.o_="19.7";S.DN="20";S.$V="21";S.B_="21.5";
S.Ke="22";S.oQ="22.5";S.sh="23";S.vmP="24";S.$I="25";S.vvx="26";S.vQX="27";S.KH="28";S.KN="29";S.Rr="30";
S.$R="31";S.sn="32";S.oq="33";S.RQ="34";S.Rz="35";S.Bc="36";S.oV="36.5";S.Ru="37";S.$E="37.5";S.vme="37.6";
S.BN="38";S.RX="38.5";S.ou="38.6";S.P_="39";S.mF="40";S.vKj="41";S.vKw="42";S.RF="50";S.Rh="51";S.os="52";
S.oa="53";S.uh="54";S.vRV="54.5";S.vRn="54.6";S.vjB="54.7";S.Ro="54.8";S.mG="55";S.EQ="56";S.$g="57";
S.oL="58";S.uo="59";function _a(){this.depth=0;this.index=-1;this.c=null;this.vxc=null;this.PB=-1;this.children=null;
this.parent=null;this.Pm=null}_a.prototype.vqf=function(){var Q=0;if(this.c.Hd()){for(var C=0;C<this.children.length;
C++)Q+=this.children[C].vqf()}else if(this.c.buffer)Q+=this.c.buffer.length;return Q};_a.prototype.Gl=function(Q){var C=this.Pm[Q];
return this.Pm[Q]};_a.prototype.vSH=function(Q,C){var j=this.c;if(!j.ow()||j.Vk(2)||j.Vk(31))return null;
if(j.RE()){var Z=j.A.rect.nY(Q);if(!Z&&j.A.color==0)return}if(j.Hd()){for(var F=0;F<this.children.length;
F++){var _=this.children[F];_.vSH(Q,C)}}else if(j.rect.nY(Q))C.push(this.index)};_a.prototype.qx=function(Q,C){var j=this.c;
if(!j.ow()||j.Vk(2)||j.Vk(31))return null;if(j.RE()){if(j.A.rect._p(Q)){if(!e.qx(Q,j.A.channel,j.A.rect))return null}else if(j.A.color==0)return null}if(j.Hd()){for(var Z=this.children.length-1;
Z>=0;Z--){var F=this.children[Z],_=F.qx(Q,C);if(_&&C==null)return _}return null}else if(j.add.TySh&&j.rect._p(Q)||e.vKf(Q,j.buffer,j.rect)){if(C==null)return this;
else C.push(this.index)}return null};_a.prototype.vqG=function(Q){var C=this.c;if(!C.ow()||C.Vk(2)||C.Vk(31))return null;
var j=C.add.vmsk;if(j&&j.isEnabled){var Z=e.D.qx(j.G,Q).BW;if(Z!=-1)return{vVO:this,vVv:Z}}if(C.Hd()){for(var F=this.children.length-1;
F>=0;F--){var _=this.children[F],$=_.vqG(Q);if($)return $}return null}return null};_a.prototype.vsN=function(Q,C){Q.push(this.index);
if(this.c.Hd()){Q.push(this.PB);if(C)if(this.c.IF==1&&this.c.oH().J_==!1)return;for(var j=0;j<this.children.length;
j++)this.children[j].vsN(Q)}};_a.prototype.ww=function(Q,C,j){var Z=this.c,F,_;if(Z.Hd()&&Z.add.artb!=null)C=Z.se();
if(C.W>C.C){F=j;_=Math.floor(j*(C.C/C.W))}else{F=Math.floor(j*(C.W/C.C));_=j}if(Z.ql()&&Z.add.vmsk==null||Z.add.TySh)F=_=Math.max(_,16);
var $=_,L=Z.ql()&&Z.add.vmsk;if(L){var D=Z.rect.clone(),v,f;if(D.jJ())D=new s(0,0,20,20);var d=D.W,o=D.C;
if(d>o){v=j;f=Math.floor(j*(o/d))}else{v=Math.floor(j*(d/o));f=j}if(v*f==0)v=f=16;e.Ca.Dc(Z.ay,v,f,D,Z.buffer,Z.rect,!1);
e.Ca.vaE(Z.ay,v,f);$=f}else if(Z.add.TySh){e.Ca.vaP(Z.ay,$,$,Z.add.TySh)}else if(Z.add.SoCo){$=Math.max(16,Math.min(F,_));
e.Ca.vaL(Z.ay,$,$,Z.add.SoCo)}else if(Z.add.GdFl){e.Ca.vBO(Z.ay,$,$,Z.add.GdFl)}else if(Z.add.PtFl){e.Ca.vBD(Z.ay,$,$,Z.add.PtFl,Q)}else if(rY.get(Z.add)!=null){e.Ca.vaM(Z.ay,$,$,Z.add)}else if(Z.add.SoLd){e.Ca.Dc(Z.ay,F,_,C,Z.buffer,Z.rect,!1);
e.Ca.vaO(Z.ay,F,_,Z.add.SoLd)}else if(Z.Hd()){$=16}else{if(Z.sq())e.Ca.Dc(Z.ay,F,_,C,Z.buffer,Z.rect,!1);
else{e.Ca.vaw(Z.ay,$,$)}}var U=Z.oH();if(U)e.Ca.DY(Z.vTR,F,_,C,U);if(Z.nr()&&Z.qv(Q)&&Z.qv(Q).A){var H=Z.qv(Q).A;
e.Ca.DY(Z.vTP,F,_,C,H)}if(!L&&Z.add.vmsk){e.Ca.DY(Z.vTG,F,_,C,Z.add.vmsk.oH(),!0)}if(Z.add.vmsk||U)$=Math.max($,_);
Z.vVW=Math.max($,16);if(Z.Hd()&&Z.add.lsct==_K.gh)for(var B=0;B<this.children.length;B++)this.children[B].ww(Q,C,j)};
_a.prototype.vyh=function(Q,C,j,Z){this.depth=j;var F=Q[C];if(Z==null)Z=[];this.Pm=Z;if(F.add.lsct==_K.sQ){this.vxc=F;
this.PB=C-1;this.children=[];var _=C+1;while(!0){var $=Q[_];if($==null)console.log(_,Q.length);if($.add.lsct==_K.gh||$.add.lsct==_K.f_){if(F.add.lyid==$.add.lyid)F.add.lyid+=16777215;
this.c=$;this.index=_-1;Z[this.index]=this;Z[C-1]=this;break}var L=new _a;L.parent=this;_=L.vyh(Q,_,j+1,Z);
this.children.push(L)}return _+1}else{this.c=F;this.index=C-1;Z[this.index]=this;return C+1}};_a.prototype.uw=function(Q,C,j,Z){var F=this.Gl(j),_=Q;
while(F.parent!=null){_=F.c.vlF(_,C,Z);F=F.parent}return _};_a.prototype.ET=function(Q,C){var j=this.c,Z=new s;
if(!j.ow())return Z;var F=j.oH();if(j.Hd())for(var _=0;_<this.children.length;_++){var $=this.children[_].ET(Q,!0);
Z=Z.fJ($)}else if(rY.get(j.add)!=null)Z=j.RE()&&j.A.color==0?j.A.ET().clone():new s(0,0,Q.W,Q.C);else if(j.ql()&&j.add.vmsk&&j.add.vmsk.isEnabled&&j.add.vstk){Z=j.rect.clone()}else if(j.ql()&&F&&F.isEnabled&&F.Xa()!=0)Z=new s(0,0,Q.W,Q.C);
else{Z=j.sv(Q,!1,!0);if(j.add.vmsk)Z=e.g.fx(Z)}return C?j.vlF(Z,Q):Z};_a.prototype.v$I=function(Q,C,j,Z,F){var _=this.c,$=rk.vp(_);
if(!_.ow())return;if(_.opacity==255){this.vbA(Q,C,j,Z,F);return}var L=e.clone(Q);this.vbA(L,C,j,Z,F);
e.B.lh(L,C,Q,C,null,null,0,j,_.opacity/255,_.gd=="diss")};_a.prototype.vbA=function(Q,C,j,Z,F){var _=this.c,$=rk.vp(_),L=rY.get(_.add)!=null,v,H;
if(_.Hd()&&_.gd=="pass"&&!_.RE()&&!(F.length>0||$.fill!=1||_.Wz())){this.oc(Q,C,j,Z);return}var D=_.Hd()&&_.gd=="pass"&&(F.length>0||$.fill!=1||_.Wz()),d=_.rect,o=_.buffer;
if(_.Hd()){d=this.ET(Z,!1);var f=e.Q(d.P()*4);v=e.Q(d.P());this.oc(f,d,j,Z);e.yq(f,v,3)}else if(L){d=C.clone();
v=e.Q(d.P());e.set(v,255)}else{d=_.rect;v=e.Q(d.P());e.yq(o,v,3)}if(_.RE()){var U=_.A.sH(d);e.aA(U,v)}if(_.Wz())H=rk.kJ(_.add.lmfx,_.add.fxrp,v,d,Z);
if(_.Wz())rk.vRz(_.add.lmfx,H,d,Q,C,j);if(_.Hd()){o=e.Q(d.P()*4);if(_.gd=="pass")e.tW(Q,C,o,d);if(D){var f=e.Q(d.P()*4);
this.oc(f,d,j,Z);var B=e.Q(d.P());e.yq(f,B,3);e.qN(B,d,o,d)}this.oc(o,d,j,Z)}if(L){o=e.clone(Q);e.kM(o,4278190080,16777215);
var m=rY.get(_.add),Y=rY.vT(m,_.add[m]);rY.DZ(Y,o,o,d)}var q=e.clone(o);e.kM(q,4278190080,16777215);
for(var r=0;r<F.length;r++)F[r].v$I(q,d,j,Z,[]);var x=e.Q(d.P()*4);e.tW(Q,C,x,d);if(L)$.aY=!0;e.B.hW(_.gd=="pass"?"norm":_.gd,q,d,x,d,j,1,$);
if(_.Wz()){var a=_.n.zC.type.FrFX,i=null;if(a.length!=0){i=a[0];for(var r=0;r<a.length;r++)if(a[r].xl.W>i.xl.W)i=a[r];
var l=e.Q(i.xl.W*i.xl.C*4);e.tW(Q,C,l,i.xl)}rk.vRh(_.add.lmfx,H,d,Q,C,j,x,l,i?i.xl:null)}e.B.lh(x,d,Q,C,v,d,0,j,1,_.gd=="diss")};
_a.prototype.oc=function(Q,C,j,Z){var F=this.children;for(var _=0;_<F.length;_++){var $=[];for(var L=_+1;
L<F.length;L++)if(F[L].c.kK)$.push(F[L]);else break;F[_].v$I(Q,C,j,Z,$);_+=$.length}};_a.qi={delete:function(Q){if(Q&&Q.W)Q.delete()},Q:function(Q,C){return E.bs?new E.mr(Q,C):e.Q(Q*C*4)},qt:function(Q,C,j){if(E.bs){if(Q==null||Q.W!=C||Q.C!=j){_a.qi.delete(Q);
return new E.mr(C,j)}}else{if(Q==null||!(Q instanceof Uint8Array)||Q.length!=C*j*4){_a.qi.delete(Q);
return e.Q(C*j*4)}}return Q},pQ:function(Q,C,j,Z,F){(E.bs?E.Kd:e.tW)(Q,C,j,Z,F)},lh:function(Q,C,j,Z,F,_,$,L,D,d){(E.bs?E.B.xj:e.B.lh)(Q,C,j,Z,F,_,$,L,D,d)},hW:function(Q,C,j,Z,F,_,$,L){if(E.bs)E.B.gM(Q,C,j,Z,F,_,$,L);
else e.B.hW(Q,C,j,Z,F,_,$,L)},kM:function(Q,C,j){if(E.bs){E.xe(Q);E.uS(C,j)}else e.kM(Q,C,j)},vqH:function(Q,C,j,Z,F){if(E.bs){E.B.xj(null,null,Z,F,Q,C,j,F,1,!1)}else{if(j==255)e.qN(Q,C,Z,F);
else{var _=e.Q(C.P());e.KE(Z,F,_,C);e.aA(Q,_);e.kM(Z,0,16777215);e.nu(_,C,Z,F)}}},KX:function(Q,C,j,Z){if(E.bs)E.B.xj(null,null,j,Z,Q,C,0,Z,1,!1);
else e.KX(Q,C,j,Z)}};_a.prototype.kv=function(Q,C,j,Z,F,_){var $=typeof _=="number";if(!this.c.Hd()&&($&&this.index>_||!$&&_.indexOf(this.index)==-1)){return}var L=this.c,D=rk.vp(L),d=_a.qi,o=L.ql()?L.oH():L.A;
if(!L.ow())return;if(L.RE()&&o.rect.jJ()){return}if(L.add.vstk==null&&this.ET(Z,!1).jJ()&&L.add.artb==null){return}var v=this.ET(Z,!0).QU(j);
if(!C.gm(j)&&!j.nY(v)&&L.add.artb==null)return;if(L.Hd()&&L.add.artb){var f=L.se(),H=0;j=j.QU(f);var U=L.add.artb.artboardBackgroundType.v;
if(U==1)H=4294967295;else if(U==2)H=4278190080;else if(U==3)H=0;else if(U==4){H=L.add.artb.Clr.v;H=255<<24|H.Bl.v<<16|H.Grn.v<<8|H.Rd.v}else throw U;
if(E.bs){E.xe(Q,j);E.uS(H)}else e.vtm(Q,C,j,H)}var B=_a.vKa(L,F);if(!B){this.vii(Q,C,j,Z,F,_);return}L.n.QX=d.qt(L.n.QX,v.W,v.C);
d.pQ(Q,C,L.n.QX,v,j);this.vii(L.n.QX,v,j,Z,F,_);d.lh(L.n.QX,v,Q,C,null,null,0,j,L.opacity/255,L.gd=="diss")};
_a.vKa=function(Q,C){return Q.opacity!=255&&(C.length!=0||Q.Hd()||Q.Wz())};_a.vqU={n:{}};_a.prototype.vii=function(Q,C,j,Z,F,_){var $=this.c,L=rk.vp($),D=rY.get($.add)!=null,d=_a.qi,o=_a.vKa($,F),v=o?1:$.opacity/255,f=$.ql()?$.oH():$.A,U=$.Hd()&&$.gd=="pass"&&!(F.length>0||L.fill!=1||$.Wz()),H=!$.Hd()&&!D&&!$.Wz()&&F.length==0,B=D&&!$.Wz()&&F.length==0,a=null,i=null,l=null,X;
if(U||H||B){var m=Q,Y=C;if($.RE()){Y=this.ET(Z,!1);m=$.n.Qa=d.qt($.n.Qa,Y.W,Y.C);d.pQ(Q,C,$.n.Qa,Y)}if(U)this.kj(m,Y,j,Z,_);
if(H)d.hW($.gd,$.viD(Z),$.rect,m,Y,j,v,L);if(B){var q=$.RE()&&f.Xa()==0?f.ET().clone():Y.clone(),r=$.n;
if(q.gm(new s(0,0,Z.W,Z.C)))r=_a.vqU;r.KB=this.viP(m,Y,r.KB,q,$.add);L.aY=!0;d.hW($.gd,r.KB,q,m,Y,j,v,L)}if($.RE())d.lh(m,Y,Q,C,$.vjZ(),f.ET(),f.Xa(),j,1,$.gd=="diss");
$.n.vjk();return}var x=$.Hd()&&$.gd=="pass"&&(F.length>0||L.fill!=1||$.Wz()),q=$.rect;if($.Hd()){q=this.ET(Z,!1);
l=$.n.KB=d.qt($.n.KB,q.W,q.C);d.kM(l,0);this.kj(l,q,q,Z,_);i=d.qt($.n.FG,q.W,q.C);d.pQ(l,q,i,q)}else if(D){q=$.RE()&&f.Xa()==0?f.ET().clone():C.clone();
i=d.qt($.n.FG,q.W,q.C);d.kM(i,4294967295)}else{q=$.rect;a=$.viD(Z);i=d.qt($.n.FG,q.W,q.C);d.pQ(a,q,i,q)}$.n.FG=i;
if($.RE())d.vqH($.vjZ(),f.ET(),f.Xa(),i,q);if($.Wz())if($.n.cp||$.n.tT||$.n.iD!=E.bs||$.n.oT||$.Hd()){var M=e.Q(q.W*q.C);
if(E.bs){if(!$.Hd()&&$.oH()==null&&$.rect.gm(q))e.yq($.buffer,M,3);else{var z=e.Q(q.W*q.C*4);i.get(z);
e.yq(z,M,3)}}else e.yq(i,M,3);if($.n.tT||$.n.iD!=E.bs||!e.gm(M,$.n.PS)){var V=null;if($.ql()&&$.add.vmsk&&$.add.vmsk.isEnabled&&$.add.vmsk.oH().color==0)V=$.add.vmsk.oH().rect;
rk.vlY($.n.zC,M,q,$.add.lmfx,$.add.fxrp,Z,V);$.n.PS=M}}if($.Wz())rk.vRz($.add.lmfx,$.n.zC,q,Q,C,j);if($.Hd()){a=d.qt($.n.Qa,q.W,q.C);
d.kM(a,0);if($.gd=="pass")d.pQ(Q,C,a,q);if(x)d.KX(l,q,a,q);this.kj(a,q,j,Z,_);$.n.Qa=a}if(D){a=$.n.Qa=this.viP(Q,C,$.n.Qa,q,$.add)}if($.Hd()||D)X=a;
else{X=d.qt($.n.Qa,q.W,q.C);d.pQ(a,q,X,q,j);$.n.Qa=X}d.kM(X,4278190080,16777215);for(var O=0;O<F.length;
O++)F[O].kv(X,q,j,Z,[],_);var y=$.n.vS=d.qt($.n.vS,q.W,q.C);d.pQ(Q,C,y,q,j);if(D)L.aY=!0;d.hW($.gd=="pass"?"norm":$.gd,X,q,y,q,j,1,L);
if($.Wz()){var K=$.n.zC.type.FrFX,R=null;if(K.length!=0){R=K[0];for(var O=0;O<K.length;O++)if(K[O].xl.W>R.xl.W)R=K[O];
$.n.ok=d.qt($.n.ok,R.xl.W,R.xl.C);d.pQ(Q,C,$.n.ok,R.xl,j);$.n.Pk=d.qt($.n.Pk,R.xl.W,R.xl.C)}rk.vRh($.add.lmfx,$.n.zC,q,Q,C,j,y,$.n.ok,$.n.Pk,R?R.xl:null)}if(!E.bs){var W=e.Q(q.P());
e.yq(i,W,3);i=W}d.lh(y,q,Q,C,i,q,0,j,1,$.gd=="diss");$.n.vjk()};_a.prototype.viP=function(Q,C,j,Z,F){var _=rY.get(F),$;
if(_)$=rY.vT(_,F[_]);var L=_a.qi;j=L.qt(j,Z.W,Z.C);if(!(E.bs&&C.gm(Z)))L.pQ(Q,C,j,Z);if($){if(E.bs){var D=Z.clone();
D.x=D.y=0;if(C.gm(Z)){E.xe(j,D);rY.ZT($,Q.ot,D)}else{E.xe(j,Z);j.gl(Z);rY.ZT($,j.EB,D)}}else rY.DZ($,j,j,Z)}return j};
_a.prototype.kj=function(Q,C,j,Z,F){var _=this.children;for(var $=0;$<_.length;$++){var L=[];for(var D=$+1;
D<_.length;D++)if(_[D].c.kK)L.push(_[D]);else break;_[$].kv(Q,C,j,Z,L,F);$+=L.length}};function rH(Q){this.name=Q;
this.VN=-1;this.yZ=null;this.xK=null;this.ae=null;this.mv=null;this.W=0;this.C=0;this.k=[];this.dL={};
this.add={};this.buffer=null;this.SW=4;this.wT=null;this.zn=72;this.vh={};this.H=[];this.Wi=[[],[]];
this.Dl=[];this.BV=[];this.te=[rH.$B("Work Path")];this.BA=[];this.Vb=null;this.Jb={classID:"CompList",list:{t:"VlLs",v:[]}};
this.root=null;this.TC=null;this.tb=!1;this.vkT=!1;this.Pz=!1;this.DH=!1;this.uV=!1;this.Iy=!1;this.IJ=!1;
this.n$=!1;this.fG=!1;this.cp=null;this.Py=null;this.uj={};this.v=null;this.$W=[];this.CG=[];this.j={hh:{},CL:[],vxo:[],FZ:[],k$:[],Il:null,RW:null,Vt:null,as:null,ca:[],lw:[]};
this.history=[new ro([1,0],null)];this.V_=0;this.kt=0;this.R=new bD(this)}rH.prototype.qj=function(){var Q=this.$W,C=this.$W.length;
if(C!=0&&Q[C-1].name=="Quick Mask")return Q[C-1]};rH.prototype.vpm=function(){var Q=this.name;return Q.slice(0,Q.length-4).endsWith("-sketch")};
rH.prototype.RG=function(Q){this.add.artd={classID:"null",Cnt:{t:"long",v:Q},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},canvasColorMode:{t:"enum",v:{canvasColorType:"Cstm"}},canvasColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:220},Grn:{t:"doub",v:220},Bl:{t:"doub",v:220}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}}};
rH.prototype.$Y=function(Q){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(Q)==-1)this.add.FEid.push(Q)};
rH.prototype.kz=function(Q){var C=this.add.FEid.indexOf(Q);this.add.FEid.splice(C,1);if(this.add.FEid.length==0)delete this.add.FEid};
rH.prototype.X=function(Q){if(Q==null)Q=new s(0,0,this.W,this.C);if(this.cp==null)this.cp=Q;else this.cp=this.cp.fJ(Q)};
rH.prototype.vil=function(Q){return this.cp!=null};rH.prototype.oh=function(Q){var C=this.k[Q],j=this.root.Gl(Q);
if(j==null)return!1;if(C.Hd()||j.parent.children.indexOf(j)==0)return!1;return!0};rH.viT=function(Q){if(Q.add.lnk2)for(var C=0;
C<Q.add.lnk2.length;C++){var j=Q.add.lnk2[C].rw;Q.add.lnk2[C].rw=rH.qS()+j.slice(8);for(var Z=0;Z<Q.k.length;
Z++){var F=Q.k[Z].add.SoLd;if(F&&F.Idnt.v==j)F.Idnt.v=Q.add.lnk2[C].rw}}};rH.prototype.vvT=function(Q,C,j){Q.sort(function(f,U){return f-U});
var top=Q[Q.length-1],Z=this.k.slice(0),F=this.H.slice(0),_=[],$=[];for(var L=0;L<this.k.length;L++){if(Q.indexOf(L)!=-1)$.push(this.k[L]);
else _.push(this.k[L])}this.Fd($);this.H=[];var D=this.root.ET(this,!0);if(C)D=D.QU(C);if(j)D=D.fJ(j);
if(D.jJ())D=new s(0,0,100,100);var d=new s(-D.x,-D.y,this.W,this.C),o=new Uint8Array(vX.PSD.pU(this,0,0,[!0,!1]));
this.Fd(Z);this.H=F;var v=new rH(this.k[top].getName());vX.PSD.aJ(o.buffer,v);delete v.add.artd;v.Wi=[[],[]];
v.Dl=[];v.Fd(v.k);rH.viT(v);G.QQ._g(v,D);v.X();v.GV();v.ln();return[v,D,_,top]};rH.prototype.vvF=function(Q,C){var j=this.vvT(Q),Z=j[0],F=j[1],_=j[2],top=j[3],$=new Uint8Array(vX.PSD.pU(Z));
if(C)_=this.k.slice(0);var L=this.$H($,Z.name,F.x,F.y);if(top==this.k.length-1)_.push(L);else _.splice(C?top+1:top-Q.length+1,0,L);
this.Fd(_);this.H=[_.indexOf(L)]};rH.qS=function(){var Q="";for(var C=0;C<8;C++)Q+=Math.floor(Math.random()*16).toString(16);
return Q};rH.prototype.ES=function(Q){if(Q==null)return;if(this.add.Patt==null)this.add.Patt=[];var C=this.add.Patt;
for(var j=0;j<C.length;j++)if(C[j].id==Q.id)return;C.push(Q)};rH.prototype.$H=function(Q,C,j,Z,F){if(this.add.lnk2==null)this.add.lnk2=[];
var _=null,f=!1;for(var $=0;$<this.add.lnk2.length;$++)if(e.gm(Q,this.add.lnk2[$].raw)){_=this.add.lnk2[$].rw;
break}if(_==null){var L=vX.Kl(Q.buffer);_=rH.qS()+"-d71c-11e5-b1ae-a548a96e5f9f";var D=new S.bU;D.rw=_;
D.Yd=L=="psd"?"8BIM":"    ";D.RJ=C+"."+L;D.Gg=L=="psd"?"8BPB":"    ";D.open=0;D.raw=Q;D.type="liFD";
D.Vm=2;this.add.lnk2.push(D)}var d=this.Gx(_),o=rH.qS()+"-d71c-11e5-b1ae-a548a96e5f9f",v=this.qg();v.sp(C);
if(d!=null){var U=v.rect=d.XJ[1].clone();v.rect.offset(j,Z);var H=Math.max(U.W/this.W,U.C/this.C),f=F&&H>1.0001;
if(f){U.W=Math.round(U.W/H);U.C=Math.round(U.C/H);U.x=Math.round((this.W-U.W)/2);U.y=Math.round((this.C-U.C)/2)}v.buffer=e.Q(v.rect.P()*4);
if(!f)e.W_(d.XJ[0],v.buffer)}v.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:_},placed:{t:"TEXT",v:o},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:e.$k.Q(v.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:v.rect.W},Hght:{t:"doub",v:v.rect.C}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:72}}};
var B=e.g.iq(v.rect).b;v.add.SoLd.Trnf=G.S.Zv(B);v.add.SoLd.nonAffineTransform=G.S.Zv(B);if(f)v.RN(this,!1);
return v};rH.prototype.ln=function(Q){if(Q!=null){this.X();this.GV(Q);var C=this.buffer;if(E.bs)this.TC.get(C);
else C=C.slice(0);this.X();this.GV();return C}if(this.cp){this.GV();this.cp=null}if(E.bs&&this.Py){this.TC.get(this.buffer);
this.Py=null;this.Iy=!0}return this.buffer};rH.prototype.vDd=function(){for(var Q=0;Q<this.k.length;
Q++)this.k[Q].vjm();this.X()};rH.prototype.v$r=function(){for(var Q=0;Q<this.k.length;Q++)if(this.k[Q].add.lmfx)this.k[Q].n.tT=!0};
rH.prototype.oG=function(){var Q=this.dL.r1044;if(Q==null){Q=this.dL.r1044=new Uint8Array(4);var C=0;
for(var j=0;j<this.k.length;j++)C=Math.max(C,this.k[j].add.lyid);c.Ig(Q,0,C)}var Z=c.o(Q,0);c.Ig(Q,0,Z+1);
return Z+1};rH.prototype.TE=function(Q,C){if(Q==null)Q=!0;var j=this;if(j.CG.length!=0)return!0;if(j.H.length!=1){if(Q)alert(j.H.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.oU(Q,C)};rH.prototype.oU=function(Q,C){if(Q==null)Q=!0;if(C==null)C=!1;var j=this;
if(j.CG.length!=0)return!0;for(var Z=0;Z<j.H.length;Z++){var F=j.k[j.H[Z]],_=C||F.IF<=0;if(F.add.lsct!=null&&F.add.lsct!=_K.uF&&F.IF!=1){if(Q)alert(rT.get([15,7,2]));
return!1}if(_&&!F.sq()){if(Q)alert(rT.get([15,7,2]));return!1}if(_&&F.add.TySh){if(Q)alert(rT.get([15,7,3]));
return!1}if(_&&F.add.SoLd){if(Q)alert(rT.get([15,7,4]));return!1}if(F.Vk(1)||F.Vk(31)){if(Q)alert(rT.get([6,57,0]));
return!1}}return!0};rH.prototype.vbM=function(Q){var C=this.root.Gl(Q);if(C.parent)return C.c.ow()&&this.vbM(C.parent.index);
else return C.c.ow()};rH.prototype.vRb=function(Q){var C=this.root.Gl(Q);if(C==null)return null;var j=C.c;
if(j.add.artb)return j.se();if(C.parent)return this.vRb(C.parent.index);return null};rH.prototype.vjy=function(){var Q=this.k[this.H[0]];
if(Q.IF<=0&&!Q.rect.nY(this.v.rect)){alert("Selected area is empty.");return!1}if(this.H.length==1&&this.v){var C=e.Q(this.v.channel.length);
e.KE(Q.buffer,Q.rect,C,this.v.rect);e.aA(this.v.channel,C);if(e.al(C,0)){alert("Selected area is empty.");
return!1}}return!0};rH.prototype.WD=function(){if(this.dL["r"+1037]==null)this.GO(30);return c.hS(this.dL["r"+1037],0)};
rH.prototype.GO=function(Q){if(this.dL["r"+1037]==null)this.dL["r"+1037]=new Uint8Array(4);if(c.hS(this.dL["r"+1037],0)==Q)return;
c.ZB(this.dL["r"+1037],0,Q);this.v$r()};rH.prototype.RH=function(){if(this.dL["r"+1049]==null)this.Gd(30);
return c.hS(this.dL["r"+1049],0)};rH.prototype.Gd=function(Q){if(this.dL["r"+1049]==null)this.dL["r"+1049]=new Uint8Array(4);
if(c.hS(this.dL["r"+1049],0)==Q)return;c.ZB(this.dL["r"+1049],0,Q);this.v$r()};rH.prototype.Es=function(Q){if(this.add.lnk2==null)return null;
for(var C=0;C<this.add.lnk2.length;C++)if(this.add.lnk2[C].rw==Q)return this.add.lnk2[C];return null};
rH.prototype.viI=function(Q){var C=this.Es(Q);if(C==null)return!1;var j=vX.Kl(C.raw.buffer);if(j==null)return!1;
if(vX.Xo(j)!=null||j=="psd")return!0;return!1};rH.prototype.Gx=function(Q,C){var j=this.Es(Q);if(j==null)return null;
j.ln(C);if(j.XJ)return j};rH.prototype.GV=function(Q){if(Q==null)Q=1e9;var C=this.W,j=this.C,Z=new s(0,0,C,j),F=Z.QU(this.cp);
if(E.bs&&this.TC==null)this.TC=new E.mr(C,j,!0);if(this.buffer==null||this.buffer.length!=C*j*4||E.bs&&(this.TC.W!=C||this.TC.C!=j)){this.buffer=e.Q(C*j*4);
if(this.TC)this.TC.delete();if(E.bs)this.TC=new E.mr(C,j,!0)}if(F.jJ())return;if(!F.gm(Z)){if(!E.bs){var _=e.WC(F.P()*4);
e.tW(_,F,this.buffer,Z)}if(E.bs){E.xe(this.TC,F);E.uS(0)}}else{if(E.bs){this.TC.set(null)}else{e.set(this.buffer,0)}}var $=Date.now(),L=E.bs?this.TC:this.buffer;
this.root.kv(L,Z,F,this,[],Q);this.Py=this.cp.clone()};rH.prototype.qg=function(Q){var C=new S;C.rect=new s(0,0,0,0);
C.buffer=e.Q(1);C.add.luni=new Wn(0,0);if(Q!=!0)C.add.lyid=this.oG();C.add.lsct=_K.uF;C.add.lclr=0;C.add.fxrp=new Wn(0,0);
return C};rH.prototype.fi=function(Q){var C=this.qg(Q);C.sp("</Layer group>");C.add.lsct=_K.sQ;C.xz=24;
return C};rH.prototype.GC=function(){return this.V_!=this.kt};rH.prototype.Rk=function(Q){while(this.history.length>this.V_+1)this.history.pop();
if(this.kt>this.V_)this.kt=-1;if(Q.Y.id!=G.CN){this.Pz=!0;if(this.Jb.lastAppliedComp){delete this.Jb.lastAppliedComp;
this.Iy=!0}}this.history.push(Q);this.V_++;this.Iy=!0;var C=ra.un()?60:30,j=0;for(var Z=this.history.length-1;
Z>=0;Z--){var F=this.history[Z];if(F.Pi)continue;j++;if(j==C){this.V_-=Z;this.history=this.history.slice(Z);
break}}};rH.prototype.qT=function(){if(this.V_!=this.history.length-1)return null;return this.history[this.history.length-1]};
rH.prototype.oW=function(Q,C,j,Z){if(Q==null)Q=!1;var F=C!=null?[C]:this.H.slice(0);if(Z){var _=[];for(var $=0;
$<F.length;$++){var L=this.k[F[$]].Dj;if(L!=0&&_.indexOf(L)==-1)_.push(L)}for(var $=0;$<this.k.length;
$++){var L=this.k[$].Dj;if(L!=0&&_.indexOf(L)!=-1&&F.indexOf($)==-1)F.push($)}}var D=[];for(var $=0;
$<F.length;$++){var d=this.jD(F[$],Q);for(var o=0;o<d.length;o++)if(D.indexOf(d[o])==-1)D.push(d[o]);
if(j){var v=this.root.Gl(F[$]);while(v.parent!=null&&v.parent.parent!=null){v=v.parent;if(D.indexOf(v.index)==-1){D.push(v.index,v.PB)}}}}return D};
rH.prototype.Rw=function(Q,C,j){var Z=this,F=Z.oW(!1,Q,null,j);F.sort(function(q,r){return q-r});var _={};
for(var $=0;$<Z.k.length;$++){var L=Z.k[$].getName();_[L]=!0}var D=[];for(var d=0;d<F.length;d++){var o=Z.k[F[d]].clone(),m,Y;
o.add.lyid=Z.oG();o.add.lspf=0;if(o.nr()){var v=o.qv(Z),f=rH.vqP(v);Z.$Y(f);o.add.SoLd.placed.v=f.id}o.Ea(Z);
var U=o.getName(),H=U.length;while(48<=U.charCodeAt(H-1)&&U.charCodeAt(H-1)<=57)H--;var B=parseInt(U.slice(H));
if(isNaN(B)){if(U.endsWith(" copy")){B=1;m=U.slice(0,U.length-5)}else{B=0;m=U}}else if(U.slice(0,H).endsWith(" copy ")){B=B;
m=U.slice(0,H-6)}else{B=0;m=U}B++;while(!0){Y=m+" copy"+(B==1?"":" "+B);if(_[Y]==null)break;B++}if(U=="Background"&&_["Layer 1"]==null)Y="Layer 1";
if(C!=!0)o.sp(Y);_[Y]=!0;D.push(o)}return D};rH.vqP=function(Q){return{id:rH.qS()+Q.id.slice(8),buffer:e.clone(Q.buffer),rect:Q.rect.clone(),A:Q.A?Q.A.clone():null}};
rH.vpY=function(Q){return{id:Q,rect:new s,buffer:e.Q(1),A:new S.Xh}};rH.$B=function(Q,C){if(C==null)C={vmsk:new S.jH};
if(C.vogk==null){C.vogk=[];var j=e.D.iJ(C.vmsk.G);for(var Z=0;Z<j;Z++)C.vogk.push(e.Ky.WC())}return{name:Q,BW:0,add:C}};
rH.prototype.Uh=function(Q){var C=[],j=[],Z=this,$=0;for(var F=1;F<Z.te.length;F++){var _=Z.te[F];_.BW=-1-F;
C.push(_);if(Z.BA.indexOf(F)!=-1)j.push(C.length-1)}if(Z.te[0].add.vmsk.G.length>2){var _=Z.te[0];_.BW=-1;
C.push(_);if(Z.BA.indexOf(0)!=-1)j.push(C.length-1)}var L=Z.Vb==null;if(L)Z.Vb=[];for(var F=Z.H.length-1;
F>=0;F--){var D=Z.k[Z.H[F]],d=D.add.TySh;if(D.add.vmsk!=null&&(D.gC||D.ql())){var _=rH.$B("\""+D.getName()+"\" Shape Path",D.add);
_.BW=Z.H[F];C.push(_);if(L)Z.Vb.push($);if(Z.Vb.indexOf($)!=-1)j.push(C.length-1);$++}if(Q!=!0&&d&&d.add&&e.$k.CH(d.dP)){var _=rH.$B("\""+D.getName().slice(0,10)+"..\" Text Path",d.add);
_.BW=1e6+Z.H[F];C.push(_);j.push(C.length-1);$++}}if(j.length==0&&Q){Z.te[0].BW=-1;Z.BA=[0];j.push(C.length);
C.push(Z.te[0])}return[C,j]};rH.prototype.jD=function(Q,C){var j=[],Z=this.root.Gl(Q);if(Z)Z.vsN(j,C);
return j};rH.prototype.Gc=function(){this.root.ww(this,new s(0,0,this.W,this.C),32)};rH.prototype.Fd=function(Q){for(var C=0;
C<this.k.length;C++){var j=this.k[C];if(Q.indexOf(j)==-1){j.n.vq_();j.X()}}this.k=Q.slice(0);this.Ed()};
rH.prototype.Ed=function(){var Q=this.k,C=Q.length;this.root=new _a;var j=this.qg(!0);j.gd="pass";j.add.lsct=_K.gh;
var Z=this.fi(!0),F=[Z];for(var _=0;_<C;_++)F.push(Q[_]);F.push(j);this.root.vyh(F,0,0);if(this.H.length==0)this.H=[C-1]};
rH.prototype.kl=function(){if(this.H.length!=1)return;var Q=this.root.Gl(this.H[0]);while(Q.parent!=null){var C=Q.parent.c;
C.add.lsct=_K.gh;Q=Q.parent}this.uV=this.vVj=!0};rH.kS=function(Q,C,j,Z,F){var _={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:Z},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:Q}},Hght:{t:"UntF",v:{type:"#Rlt",val:C}},Rslt:{t:"UntF",v:{type:"#Rsl",val:j}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:F}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:"sRGB IEC61966-2.1"}}}};
return{$Q:"make",aa:_}};rH.viL=function(Q,C){var j=0,Z=0,F=72,_=C.vkN,$=Q.preset&&Q.preset.v=="Clipboard";
if($){j=_.W;Z=_.C}else{j=Q.Wdth.v.val;Z=Q.Hght.v.val;F=Q.Rslt.v.val}var L=new rH((Q.Nm?Q.Nm.v:rT.get([11,7]))+".psd");
L.W=j;L.C=Z;L.zn=F;var D=L.qg();D.sp("Background");L.Fd([D]);D.add.lspf=1<<2;var d=Q.Fl?Q.Fl.v.Fl:"Wht";
if(d!="Trns"){var o=C.JD;o=(o&255)<<16|(o>>>8&255)<<8|o>>>16;D.rect=new s(0,0,j,Z);D.buffer=e.Q(j*Z*4);
e.kM(D.buffer,{Wht:4294967295,BckC:255<<24|o}[d])}L.buffer=e.Q(j*Z*4);return L};function bD(Q){this.xa=Q;
this.l=0;this.f=new Wn(0,0);this.oe=[1,1,1];this.L=new s(0,0,1,1);this.Px=new s(0,0,Q.W,Q.C);this.Aw=null;
this.Iz=null;this.FP=new Uint32Array(0);this.ZA=null;this.lc=null;this.Km=e.Q(0);this.yk=null;this.kb=null}bD.prototype.gx=function(Q,C){var j=Math.round((this.L.W-this.xa.W*this.l)/2+this.f.x),Z=Math.round((this.L.C-this.xa.C*this.l)/2+this.f.y),F=(Q-j)/this.l,_=(C-Z)/this.l;
return new Wn(F,_)};bD.prototype.Br=function(Q,C){var j=Math.round((this.L.W-this.xa.W*this.l)/2+this.f.x),Z=Math.round((this.L.C-this.xa.C*this.l)/2+this.f.y),F=Q*this.l+j,_=C*this.l+Z;
return new Wn(F,_)};bD.prototype.mP=function(){var Q=this.xa,C=this.l,j=this.L.W,Z=this.L.C,F=Math.floor(Q.W*C),_=Math.floor(Q.C*C);
if(C<.99){var $=e.nl(null,new s(0,0,Q.W,Q.C),C).rect;F=$.W;_=$.C}return new s(Math.round((j-F)/2+this.f.x),Math.round((Z-_)/2+this.f.y),F,_)};
bD.prototype.Gf=function(){var Q=this.xa,C=this,j=1/C.l,Z=this.mP();return new s(Math.floor((C.L.x-Z.x)*j),Math.floor((C.L.y-Z.y)*j),Math.ceil(C.L.W*j)+1,Math.ceil(C.L.C*j)+1)};
function WM(){}WM.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");WM.zV="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
WM.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];WM.vdH=["DrSh","IrSh","SoFi","GrFl","FrFX"];
WM.rE=["Clr"];WM.FX="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");WM.FF=["Ptrn","Scl","Algn","phase"];
WM.Gu={Ez:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",vQC:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Two Color\",\"t\":\"TEXT\"},\"GrdF\":{\"v\":{\"GrdF\":\"CstS\"},\"t\":\"enum\"},\"Intr\":{\"v\":4096,\"t\":\"doub\"},\"Clrs\":{\"v\":[{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",vRA:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Foreground to Background\",\"t\":\"TEXT\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",GH:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
WM.Gu.Ez="\"Clr\": "+WM.Gu.Ez;WM.Gu.q="\"Grad\":"+WM.Gu.vQC+",\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
WM.Gu.GH="\"Ptrn\":"+WM.Gu.GH+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
WM.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
WM.oy=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+WM.Gu.Ez+","+WM.Gu.q+","+WM.Gu.GH+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+WM.Gu.Ez+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+WM.Gu.q+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+WM.Gu.GH+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
WM.q={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
WM.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],kT:["SClr","GrFl","Ptrn"],viZ:[[13,0],[12,37],[12,62]]};
WM.mH={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],vzF:["SrcC","SrcE"],vlI:[[19,5,1],[12,69]]};WM.Wr={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],vTB:["SfBL","PrBL","Slmt"],vlp:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
WM.oj={Eg:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],EE:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],wH:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:4.38}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+WM.Gu.Ez+"}")},strokeStyleResolution:{t:"doub",v:72}}};
WM.$y=[{classID:"null",Clr:JSON.parse(WM.oy[5]).Clr},{classID:"null",Grad:JSON.parse(WM.oy[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:60}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(WM.oy[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var rk={};rk.vyQ=function(Q,C,j){if(Q.jJ())return;var Z=e.D.vVT(Q.G);Z.x=Math.floor(Z.x*C);Z.W=Math.ceil(Z.W*C);
Z.y=Math.floor(Z.y*j);Z.C=Math.ceil(Z.C*j);Q.rect=Z;Q.channel=e.Q(Z.P());e.Ev.width=Z.W;e.Ev.height=Z.C;
var F=e.L;F.fillStyle="#ffffff";e.D.vVu(F,Q.G,C,j,-Z.x,-Z.y);F.fill();var _=F.getImageData(0,0,Z.W,Z.C).data;
e.yq(_,Q.channel,3)};rk.kk=function(Q,C){function j(Q,U){if(Q==null)return null;var H=Q[U].v,B;if(H.length!=0){B=H[0].v;
if(!B.enab.v)B=null}return B}var Z=C.SoCo,F=C.GdFl,_=j(Q,"solidFillMulti"),$=j(Q,"gradientFillMulti");
if(_==null&&$==null)return[Z,F];var L=rk.vld;if(Z&&_&&$==null){var D=JSON.parse(JSON.stringify(Z));D.Clr.v=L(_.Clr.v,Z.Clr.v,_);
return[D,null]}if(F&&_&&$==null){var d=JSON.parse(JSON.stringify(F)),o=d.Grad.v.Clrs.v;for(var v=0;v<o.length;
v++){var f=o[v].v.Clr;f.v=L(_.Clr.v,f.v,_)}return[null,d]}if(Z&&$){var d=JSON.parse(JSON.stringify($)),o=d.Grad.v.Clrs.v;
for(var v=0;v<o.length;v++){var f=o[v].v.Clr;f.v=L(f.v,Z.Clr.v,$)}return[null,d]}return[_,$]};rk.vlE={jb:e.Q(4),EX:e.Q(4),h:new s(0,0,1,1)};
rk.vld=function(Q,C,j){var Z=rP.Jt(j.Md.v.BlnM),F=j.Opct.v.val/100,_=rk.vlE;Q=e.q.Xa(Q);C=e.q.Xa(C);
_.jb[0]=Q.h;_.jb[1]=Q.J;_.jb[2]=Q._;_.jb[3]=255;_.EX[0]=C.h;_.EX[1]=C.J;_.EX[2]=C._;_.EX[3]=255;e.B.hW(Z,_.jb,_.h,_.EX,_.h,_.h,F);
return{classID:"RGBC",Rd:{t:"doub",v:_.EX[0]},Grn:{t:"doub",v:_.EX[1]},Bl:{t:"doub",v:_.EX[2]}}};rk.vOQ=function(Q,C,j){var Z=Q;
Q=Q.slice(0);var F=rP.Cg[rP.kQ.indexOf(C.Md.v.BlnM)],_=e.q.Xa(C.Clr.v),$=4278190080|Math.round(_._)<<16|Math.round(_.J)<<8|Math.round(_.h),L=e.Q(j.P()*4);
e.kM(L,$);e.B.hW(F,L,j,Q,j,j,C.Opct.v.val/100);for(var D=0;D<Q.length;D+=4)Q[D+3]=Z[D+3];return Q};rk.vWM=function(Q,C){var j=["Sz","blur","Sftn","Dstn"];
for(var Z=0;Z<WM.order.length;Z++){var F=WM.order[Z],_=Q[WM.zV[Z]].v;for(var $=0;$<_.length;$++){var L=_[$].v;
for(var D=0;D<j.length;D++){var d=L[j[D]];if(d){var o=d.v.val,v=o;v=Math.max(o==0?0:1,v*C);if(F=="ChFX")v=Math.min(v,250);
if(F=="ebbl"){if(j[D]=="blur")v=Math.min(v,250);if(j[D]=="Sftn")v=Math.min(v,16)}d.v.val=Math.round(v)}}if(F=="ebbl"||F=="patternFill"||F=="FrFX")if(L.Ptrn&&L.Scl)L.Scl.v.val=Math.max(1,Math.min(1e3,L.Scl.v.val*C))}}};
rk.vlL=function(Q,C,j){var Z=new s(-.5,-.5,1,1),F=Q.add.lmfx;for(var _=0;_<WM.order.length;_++){var $=WM.order[_],L=F[WM.zV[_]].v;
for(var D=0;D<L.length;D++){var d=L[D].v,U;if(!d.enab.v)continue;var o=d.blur?d.blur.v.val+1:0,v=d.Ckmt?d.Ckmt.v.val/100:0,f=Math.round(o*v);
if($=="DrSh"||$=="IrSh"&&j){U=new s(-.5,-.5,1,1);U.ac(o,o);rk.Wq(U,d,C,0)}if($=="OrGl"||$=="IrGl"&&j){U=new s(-.5,-.5,1,1);
U.ac(o,o)}if($=="FrFX"){var H=rk.GN(d),B=H[1];if(j)B=Math.max(H[0],B);U=new s(-.5,-.5,1,1);U.ac(Math.ceil(B),Math.ceil(B))}if($=="ebbl"){var o=d.blur.v.val,m=d.bvlS.v.BESl;
if(m=="Embs"||m=="PlEb")o/=2;var Y=["OtrB","InrB","Embs","PlEb","strokeEmboss"],q=["SfBL","PrBL","Slmt"],r=["In","Out"],x=d.bvlT.v.bvlT!="SfBL"?o:o*.43,a=Math.round(o);
U=new s(-a-1,-a-1,2*a+2,2*a+2)}if(j&&$=="ChFX"){U=new s(-.5,-.5,1,1);U.ac(o,o);var i=U.clone();rk.Wq(U,d,C,0);
rk.Wq(i,d,C,Math.PI);U=U.fJ(i)}if(U)Z=Z.fJ(U)}}if(Z.x!=Math.ceil(Z.x)){Z.x=Math.ceil(Z.x);Z.W-=1}if(Z.y!=Math.ceil(Z.y)){Z.y=Math.ceil(Z.y);
Z.C-=1}return Z};rk.GN=function(Q){var C=0,j=0,Z=Q.Styl.v.FStl,F=Q.Sz.v.val;if(Z=="OutF")j=F;if(Z=="InsF")C=F;
if(Z=="CtrF")C=j=F/2;return[C,j]};rk.vrV=function(Q){if(Q.all==null)return;for(var C=0;C<Q.all.length;
C++){var j=Q.all[C];if(j.vk)j.vk.delete();if(j.ka)j.ka.delete();if(j.kx)j.kx.delete()}};rk.vlY=function(Q,C,j,Z,F,_,$){rk.vrV(Q);
var L=rk.kJ(Z,F,C,j,_,$);Q.type=L.type,Q.all=L.all;if(E.bs)for(var D=0;D<Q.all.length;D++){var d=Q.all[D];
d.vk=new E.mr(d.Ws.W,d.Ws.C);d.vk.set(d.Dg);delete d.Dg;if(d.kZ){d.ka=new E.pC(d.Ws.W,d.Ws.C);d.ka.set(d.kZ);
delete d.kZ}if(d.kY){d.kx=new E.pC(d.Ws.W,d.Ws.C);d.kx.set(d.kY);delete d.kY}}};rk.kJ=function(Q,C,j,Z,F,_){if(_==null)_=Z;
var $=0,L=0;for(var D=0;D<WM.order.length;D++){var d=WM.order[D],o=WM.zV[D],v=Q[o].v;for(var f=0;f<v.length;
f++){var U=v[f].v;if(d=="DrSh"&&U.enab.v&&U.Ckmt.v.val>0&&U.blur.v.val>0)$=Math.max($,Math.ceil(U.Ckmt.v.val*U.blur.v.val/100));
if(d=="OrGl"&&U.enab.v&&U.Ckmt.v.val>0&&U.blur.v.val>0&&U.GlwT.v.BETE=="SfBL")$=Math.max($,Math.ceil(U.Ckmt.v.val*U.blur.v.val/100));
if(d=="OrGl"&&U.enab.v&&U.blur.v.val>0&&U.GlwT.v.BETE=="PrBL")$=Math.max($,U.blur.v.val);if(d=="FrFX"&&U.enab.v&&U.Sz.v.val>0){if(U.Styl.v.FStl=="OutF")$=Math.max($,U.Sz.v.val);
if(U.Styl.v.FStl=="CtrF")$=Math.max($,Math.ceil(U.Sz.v.val/2));L=Math.max(L,rk.GN(U)[1])}}}var H=new rk.EF(j,Z,$),B={type:{},all:[]};
for(var m=0;m<WM.order.length;m++){var d=WM.order[m],o=WM.zV[m];B.type[d]=[];for(var Y=Q[o].v.length-1;
Y>=0;Y--){var q=Q[o].v[Y].v;if(!q.enab.v)continue;var r=q.blur?q.blur.v.val:0,x=q.Ckmt?q.Ckmt.v.val/100:0,a=r*x;
if(d=="DrSh"){var i=H.mU(a,r-a,!0),l=i.hu,M=i.z;M.offset(-H.rect().x-1,-H.rect().y-1);rk.mA(l,q,!1);
rk.Wq(M,q,F,0);var z=e.Q(M.P()*4);rk.Lc(z,q.Clr.v);e.gG(l,z,3);var V={Dg:z,Ws:M,lG:rP.Jt(q.Md.v.BlnM),xI:q.Opct.v.val/100,vJ$:q.layerConceals.v};
B.type[d].push(V);B.all.push(V)}if(d=="IrSh"){var i=H.mU(a,r-a,!1);rk.Wq(i.z,q,F,0);var M=H.rect().clone(),l=e.Q(M.P());
e.set(l,255);e.pQ(i.hu,i.z,l,M);rk.mA(l,q,!0);var z=e.Q(M.P()*4);rk.Lc(z,q.Clr.v);e.gG(l,z,3);M.offset(-H.rect().x-1,-H.rect().y-1);
var V={Dg:z,Ws:M,lG:rP.Jt(q.Md.v.BlnM),xI:q.Opct.v.val/100};B.type[d].push(V);B.all.push(V)}if(d=="GrFl"){var z=e.Q(H.rect().P()*4);
rk.mw(q,z,H.rect(),F,null,_);var M=H.rect().clone();M.offset(-H.rect().x-1,-H.rect().y-1);var V={Dg:z,Ws:M,lG:rP.Jt(q.Md.v.BlnM),xI:q.Opct.v.val/100};
B.type[d].push(V);B.all.push(V)}if(d=="SoFi"){var z=e.Q(H.hu().length*4);rk.Lc(z,q.Clr.v);var M=H.rect().clone();
M.offset(-H.rect().x-1,-H.rect().y-1);var V={Dg:z,Ws:M,lG:rP.Jt(q.Md.v.BlnM),xI:q.Opct.v.val/100};B.type[d].push(V);
B.all.push(V)}if(d=="ebbl"){var X=!1;if(X)console.log(q);var O=Date.now(),y=q.bvlS.v.BESl;if(y=="strokeEmboss"){var K=Q.frameFXMulti.v;
if(K.length==0)continue;K=K[0].v;if(!K.enab.v)continue;var R=K.Styl.v.FStl;if(R=="OutF")y="OtrB";if(R=="CtrF")y="Embs";
if(R=="InsF")y="InrB"}var r=q.blur.v.val;if(r==0)r=.7;if(y=="Embs"||y=="PlEb")r/=2;var W=["OtrB","InrB","Embs","PlEb","strokeEmboss"],N=["SfBL","PrBL","Slmt"],I=["In","Out"],T=q.bvlT.v.bvlT!="SfBL"?r:r*.45,h=Math.round(r),p=H.rect().clone(),u=p.clone();
u.ac(h,h);var g=u.W,A=u.C,w=g*A,r$=e.Q(w);e.pQ(H.hu(),p,r$,u);var rW=new Float64Array(w),J=new Float64Array(w);
e.style.II(r$,rW,g,A);e.Ie(r$);e.style.II(r$,J,g,A);if(X)console.log("distTransform computed",Date.now()-O);
for(var D=0;D<w;D++)J[D]=J[D]-rW[D];for(var D=0;D<w;D++){var rr=J[D];if(rr<-T)J[D]=-T;else if(rr>T)J[D]=T}if(X)console.log("summing + cropping",Date.now()-O);
if(q.bvlT.v.bvlT=="SfBL"){var r_=Math.pow(r*.21,1.22);if(!0)r_=Math.max(r_,2);var rO=e.blur.Bd(r_,2);
e.blur.vg(J,rW,u,rO[0]>>>1);e.blur.vg(rW,J,u,rO[1]>>>1)}if(X)console.log("blurring",Date.now()-O);var k=J,rv=k.slice(0);
if(q.useShape.v){var rb=Math.min(100,q.Inpr.v.val+1)/100;if(y!="OtrB"&&y!="InrB")rb=1;var rt=e.ZU.DS(q.MpgS.v.Crv.v,2e3),rK=Math.round(2e3/rb);
rt=e.ZU.vXt(rt,rK,y=="InrB");var rR=.5/T;for(var D=0;D<w;D++){var ri=k[D],ru=.99999*(ri+T)*rR;k[D]=-T+2*T*rt[~~(ru*(rK-1))]}if(X)console.log("applying shape",Date.now()-O)}if(q.useTexture.v){var rS=e.Q(g*A*4);
rk.eM(q,rS,u,F,C);var rg=e.Q(g*A);e.oS(rS,rg);var rd=e.Q(g*A);e.blur.nC(rg,rd,u,1);rg=rd;var vO=r*q.textureDepth.v.val*(1/100)*(1/255);
if(q.InvT.v)vO=-vO;for(var D=0;D<w;D++)k[D]+=-vO*rg[D];if(X)console.log("applying texture",Date.now()-O)}var rq=(q.bvlT.v.bvlT=="SfBL"?1:.5)*(q.bvlD.v.BESs=="In"?1:-1)*q.srgR.v.val/100;
for(var D=0;D<w;D++)k[D]*=rq;if(X)console.log("scaling",Date.now()-O);var rL=q.uglg&&q.uglg.v?F.WD():q.lagl.v.val;
rL=rL*(Math.PI/180);var rl=q.uglg&&q.uglg.v?F.RH():q.Lald.v.val;rl=rl*(Math.PI/180);var rV=Math.cos(rL)*Math.cos(rl),ry=-Math.sin(rL)*Math.cos(rl),vj=Math.sin(rl),rp=new Float64Array(w),rx=new Float64Array(w),rF=y=="PlEb";
for(var DX=0;DX<A;DX++)for(var va=0;va<g;va++){var D=DX*g+va,rB=0,vW=0,rN=1;if(DX!=0&&DX!=A-1&&va!=0&&va!=g-1){var rM=k[D-g-1],_Q=k[D-g+1],_O=k[D+g-1],rw=k[D+g+1];
rB=-.125*(_Q+2*k[D+1]+rw-(rM+2*k[D-1]+_O));vW=-.125*(_O+2*k[D+g]+rw-(rM+2*k[D-g]+_Q))}else{var rj=k[D];
vW=-(DX==0?k[D+g]-rj:DX==A-1?rj-k[D-g]:.5*(k[D+g]-k[D-g]));rB=-(va==0?k[D+1]-rj:va==g-1?rj-k[D-1]:.5*(k[D+1]-k[D-1]))}var rE=1/Math.sqrt(rB*rB+vW*vW+1);
rB*=rE;vW*=rE;rN*=rE;var _W=rB*rV+vW*ry+rN*vj,vm=_W;if(rF)vm=-rB*rV-vW*ry+rN*vj;if(_W>0)rp[D]=_W;if(vm>0)rx[D]=vm}if(X)console.log("raycasting",Date.now()-O);
if(q.Sftn.v.val!=0){e.blur.YX(rp,rW,u,q.Sftn.v.val*.43);var rf=rW,rW=rp,rp=rf;if(rF){e.blur.YX(rx,rW,u,q.Sftn.v.val*.43);
var rf=rW,rW=rx,rx=rf}else e.W_(rp,rx)}if(X)console.log("softening",Date.now()-O);var rt=e.ZU.DS(q.TrnS.v.Crv.v,1024);
for(var D=0;D<w;D++){rp[D]=rt[~~(rp[D]*1024)];rx[D]=rt[~~(rx[D]*1024)]}if(X)console.log("contour remap",Date.now()-O);
g=Math.round(g);A=Math.round(A);var rU=e.Q(g*A*4);rk.Lc(rU,q.hglC.v);var Du=e.Q(g*A*4);rk.Lc(Du,q.sdwC.v);
var _s=e.Q(g*A*4);rk.Lc(_s,q.hglC.v);var _t=e.Q(g*A*4);rk.Lc(_t,q.sdwC.v);var _I=1/vj,Qb=1/(1-vj),rR=1/T,_D=new Float64Array(1e3);
for(var D=0;D<1e3;D++)_D[D]=Math.pow(D*.001,.2);for(var DX=0;DX<A;DX++)for(var va=0;va<g;va++){var D=DX*g+va,_E=4*D+3,vs=0,QO=0;
vs=rp[D];QO=rx[D];var v_=Math.max(0,Math.min(.9999,(rv[D]+T*.993)*rR));v_=_D[Math.floor(v_*1e3)];var vR=v_*(1-Math.min(1,vs*_I)),Qq=v_*(1-Math.min(1,(1-vs)*Qb)),vi=v_*(1-Math.min(1,QO*_I)),_U=v_*(1-Math.min(1,(1-QO)*Qb));
Du[_E]=Math.round(255*vR);rU[_E]=Math.round(255*Qq);_t[_E]=Math.round(255*vi);_s[_E]=Math.round(255*_U)}if(X)console.log("baking textures",Date.now()-O);
u=H.rect().clone();u.ac(h,h);u.offset(-H.rect().x-1,-H.rect().y-1);var v$={vOO:q.bvlS.v.BESl=="strokeEmboss"};
if(["InrB","Embs","PlEb"].indexOf(y)!=-1){v$.kc={Dg:rU,Ws:u,lG:rP.Jt(q.hglM.v.BlnM),xI:q.hglO.v.val/100};
v$.kf={Dg:Du,Ws:u,lG:rP.Jt(q.sdwM.v.BlnM),xI:q.sdwO.v.val/100};B.all.push(v$.kc,v$.kf)}if(["OtrB","Embs","PlEb"].indexOf(y)!=-1){v$.kG={Dg:_s,Ws:u,lG:rP.Jt(q.hglM.v.BlnM),xI:q.hglO.v.val/100};
v$.kA={Dg:_t,Ws:u,lG:rP.Jt(q.sdwM.v.BlnM),xI:q.sdwO.v.val/100};B.all.push(v$.kG,v$.kA)}if(X)console.log(Date.now()-O);
B.type[d].push(v$)}if(d=="patternFill"){var rn=H.rect(),z=e.Q(rn.P()*4);rk.eM(q,z,rn,F,C);var M=rn.clone();
M.offset(-rn.x-1,-rn.y-1);var V={Dg:z,Ws:M,lG:rP.Jt(q.Md.v.BlnM),xI:q.Opct.v.val/100};B.type[d].push(V);
B.all.push(V)}if(d=="ChFX"){var z=e.Q(H.hu().length*4);rk.Lc(z,q.Clr.v);var r=q.blur.v.val,Qa=H.rect().clone();
Qa.ac(r,r);var Qz=e.Q(Qa.P()),vw=e.Q(Qa.P());e.pQ(H.hu(),H.rect(),vw,Qa);e.blur.Pt(vw,Qz,Qa,r*.43);var vd=e.ZU.Ij(q.MpgS.v.Crv.v,256,!0);
e.nJ(Qz,vd);var _G=e.Q(H.hu().length),vb=e.Q(H.hu().length),$Z=H.rect().clone();rk.Wq($Z,q,F,0);e.pQ(Qz,Qa,_G,$Z);
$Z=H.rect().clone();rk.Wq($Z,q,F,Math.PI);e.pQ(Qz,Qa,vb,$Z);var DQ=_G.length;for(var D=0;D<DQ;D++)z[4*D+3]=Math.abs(_G[D]-vb[D]);
if(q.Invr.v)for(var D=0;D<DQ;D++)z[4*D+3]=255-z[4*D+3];var M=H.rect().clone();M.offset(-H.rect().x-1,-H.rect().y-1);
var V={Dg:z,Ws:M,lG:rP.Jt(q.Md.v.BlnM),xI:q.Opct.v.val/100};B.type[d].push(V);B.all.push(V)}if(d=="OrGl"){var i;
if(q.GlwT.v.BETE=="SfBL")i=H.mU(a,r-a,!0);else i=H.vzD(r,x,!0);var l=i.hu,M=i.z,$j=l.slice(0);rk.vjG(l,q);
var z=e.Q(M.P()*4);if(q.Grad==null){rk.Lc(z,q.Clr.v);rk.mA(l,q,!1)}else{rk.mA(l,q,null);var _S={lq:l,dW:255,sX:0,uR:M};
rk.mw(q,z,M,F,_S);var DB=q.Nose.v.val/100,_M=M.W;for(var D=0;D<$j.length;D++){var Qp=255,_C=$j[D];if(_C<32){var DT=(_C+$j[D-1]+$j[D+1]+$j[D-_M]+$j[D+_M])*.2-1;
Qp=Math.min(255,Math.round(Math.max(0,DT)*8))}l[D]=Qp}rk.vQO(l,q)}e.gG(l,z,3);M.offset(-H.rect().x-1,-H.rect().y-1);
var V={Dg:z,Ws:M,lG:rP.Jt(q.Md.v.BlnM),xI:q.Opct.v.val/100};B.type[d].push(V);B.all.push(V)}if(d=="IrGl"){var i;
if(q.GlwT.v.BETE=="SfBL")i=H.mU(a,r-a,!1);else i=H.vzD(r,x,!1);var l=i.hu,M=i.z;rk.vjG(l,q);if(q.glwS.v.IGSr=="SrcC")e.Ie(l);
var z=e.Q(M.P()*4);if(q.Grad==null){rk.Lc(z,q.Clr.v);rk.mA(l,q,!0)}else{rk.mA(l,q,null);var _S={lq:l,dW:255,sX:0,uR:M};
rk.mw(q,z,M,F,_S);e.set(l,255);rk.vQO(l,q)}e.gG(l,z,3);M.offset(-H.rect().x-1,-H.rect().y-1);var V={Dg:z,Ws:M,lG:rP.Jt(q.Md.v.BlnM),xI:q.Opct.v.val/100};
B.type[d].push(V);B.all.push(V)}if(d=="FrFX"){var vo=rk.GN(q),Do=vo[0],QK=vo[1],M=H.rect().clone(),_l=null,_b=null;
M.ac(Math.ceil(L),Math.ceil(L));if(QK>0){var i=H.mU(QK,0,!0);_b=i.hu;if(_b.length<M.P()){_b=e.Q(M.P());
e.pQ(i.hu,i.z,_b,M)}}if(Do>0){var i=H.mU(Do,0,!1);_l=e.Q(M.P());e.set(_l,255);e.pQ(i.hu,i.z,_l,M)}M.offset(-H.rect().x-1,-H.rect().y-1);
var z=e.Q(M.P()*4),vS=q.PntT.v.FrFl;if(vS=="SClr")rk.Lc(z,q.Clr.v);if(vS=="GrFl")rk.mw(q,z,M,F,H.vln(Do,QK));
if(vS=="Ptrn")rk.eM(q,z,M,F,C);var V={Dg:z,Ws:M,lG:rP.Jt(q.Md.v.BlnM),xI:q.Opct.v.val/100,kY:_b,kZ:_l};
B.type[d].push(V);B.all.push(V)}}}return B};rk.zX=function(Q){var C=1/Math.sqrt(Q.x*Q.x+Q.y*Q.y+Q.Jd*Q.Jd);
Q.x*=C;Q.y*=C;Q.Jd*=C};rk.vyG=function(Q,C){return{x:Q.y*C.Jd-Q.Jd*C.y,y:Q.Jd*C.x-Q.x*C.Jd,Jd:Q.x*C.y-Q.y*C.x}};
rk.vyA=function(Q,C){return Q.x*C.x+Q.y*C.y+Q.Jd*C.Jd};rk.vQO=function(Q,C){var j=C.Nose.v.val/100;if(j>0)for(var Z=0;
Z<Q.length;Z++){var F=Q[Z];F=Math.min(510-(1+j)*e.style.ax(Z),F);Q[Z]=F}};rk.vp=function(Q){var C=rk.mN(),j=Q.wY,Z=!1;
for(var F=0;F<32;F+=8)if(j[F]+j[F+1]+j[4]+j[5]!=0||j[F+2]+j[F+3]+j[6]+j[7]!=1020)Z=!0;if(Z){j=j.slice(0);
for(var F=0;F<40;F+=4){var _=j[F]/255,$=j[F+1]/255,L=j[F+2]/255,D=j[F+3]/255;j[F]=_-1e-4;j[F+1]=_==$?1e9:1/($-(_-1e-4));
j[F+2]=L==D?-1e9:1/(L-(D+1e-4));j[F+3]=D+1e-4}}var d=Q.add.iOpa!=null?Q.add.iOpa/255:C.fill,o=Q.add.vstk;
if(o&&!o.fillEnabled.v&&(!o.strokeEnabled.v||o.strokeStyleLineWidth.v.val==0))d=0;return{fill:d,ao:Z?j:null,vJr:Q.add.brst!=null?Q.add.brst:C.vJr,vJV:Q.add.knko!=null?Q.add.knko:C.vJV,style:!1,aY:!1}};
rk.mN=function(){return{fill:1,ao:null,vJr:[1,1,1],vJV:0,style:!1,aY:!1}};rk.Fw=function(Q,C){if(C==null)return null;
var j=Q.Idnt.v,Z=null;for(var F=0;F<C.length;F++)if(C[F].id==j)return C[F];return null};rk.vQA=function(Q,C,j){var Z=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var F=0;F<Z.length;F++){var _=Q.v[Z[F]].v;for(var $=0;$<_.length;$++)if(_[$].v.Ptrn)C.ES(rk.Fw(_[$].v.Ptrn.v,j))}};
rk.vlA=function(Q,C,j){var Z=["patternFillMulti","ebblMulti","frameFXMulti"];for(var F=0;F<Z.length;
F++){var _=Q.v[Z[F]].v;for(var $=0;$<_.length;$++)if(_[$].v.Ptrn){var L=_[$].v.Ptrn.v,D=rk.Fw(L,j),d=rk.Fw(L,C.add.Patt);
if(D==null&&d)j.push(d)}}};rk.eM=function(Q,C,j,Z,F){var _=rk.Fw(Q.Ptrn.v,Z.add.Patt);if(_!=null&&!j.jJ()){var $=e.scale.eM(_.Dg,_.z.W,_.z.C),L=Q.Scl.v.val/100,D=-j.x+Q.phase.v.Hrzn.v-1,d=-j.y+Q.phase.v.Vrtc.v-1;
if(Q.Algn!=null&&!Q.Algn.v){}else{D+=F.x;d+=F.y}e.scale.vsk($,C,j.W,j.C,L,L,D+1,d+1)}};rk.mw=function(Q,C,j,Z,F,_){if(_==null)_=j;
var $=Q.Type?Q.Type.v.GrdT:"shapeburst",L=Q.Algn&&Q.Algn.v?_:new s(0,0,Z.W,Z.C),D=Q.Angl?e.q.Rd(Q,L):[new Wn(0,0),new Wn(100,0)],d=D[0].x,o=D[0].y,v=D[1].x-d,f=D[1].y-o,U=Math.sqrt(v*v+f*f);
U=1/(2*U*U);var H=[v*U,f*U,-f*U,v*U],B=Q.Rvrs?Q.Rvrs.v:!1,m=Q.Dthr?Q.Dthr.v:!1;e.q.vx(Q.Grad.v,C,j,H,d,o,B,WM.q.types.indexOf($),0,0,F,m)};
rk.vlU=function(Q,C){for(var j=0;j<Q.all.length;j++){var Z=Q.all[j];Z.xl=Z.Ws.clone();Z.xl.offset(C.x,C.y)}};
rk.vRz=function(Q,C,j,Z,F,_){var $=E.bs?rk.vjh:rk.vRU;rk.vlU(C,j);var L=C.type.DrSh;for(var D=0;D<L.length;
D++)if(!L[D].vJ$)$(L[D],Z,F,_)};rk.vRh=function(Q,C,j,Z,F,_,$,L,D,d){var o=j,v=E.bs?rk.vjh:rk.vRU,f=E.bs?E.B.xj:e.B.lh,U;
U=C.type.DrSh;for(var H=0;H<U.length;H++)if(U[H].vJ$)v(U[H],Z,F,_);U=C.type.OrGl;for(var H=0;H<U.length;
H++)v(U[H],Z,F,_);var B="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var m=0;m<B.length;m++){var U=C.type[B[m]];
for(var H=0;H<U.length;H++)v(U[H],$,o,_)}var Y=C.type.ebbl[0],q=Y!=null&&Y.vOO;U=C.type.FrFX;for(var H=0;
H<U.length;H++){var r=U[H];_a.qi.pQ(L,d,D,d,_);v(r,D,d,_);if(q&&H==U.length-1){if(Y.kA)v(Y.kA,D,d,_);
if(Y.kG)v(Y.kG,D,d,_);if(Y.kf)v(Y.kf,D,d,_);if(Y.kc)v(Y.kc,D,d,_)}if(r.kZ||r.ka)f(D,d,$,o,E.bs?r.ka:r.kZ,r.xl,0,_,1);
if(r.kY||r.kx)f(D,d,Z,F,E.bs?r.kx:r.kY,r.xl,0,_,1)}if(!q&&Y!=null){if(Y.kA)v(Y.kA,Z,F,_);if(Y.kG)v(Y.kG,Z,F,_);
if(Y.kf)v(Y.kf,$,o,_);if(Y.kc)v(Y.kc,$,o,_)}};rk.vRU=function(Q,C,j,Z){var F=rk.mN();F.fill=Q.xI;F.style=!0;
e.B.hW(Q.lG,Q.Dg,Q.xl,C,j,Z,1,F)};rk.vjh=function(Q,C,j,Z){var F=rk.mN();F.fill=Q.xI;F.style=!0;E.B.gM(Q.lG,Q.vk,Q.xl,C,j,Z,1,F)};
rk.vjG=function(Q,C){var j=1-C.Inpr.v.val/100,Z=1+Math.tan(j*(Math.PI/2)),F=Q.length;for(var _=0;_<F;
_++)Q[_]=Math.min(255,Math.round(Q[_]*Z))};rk.mA=function(Q,C,j){var Z=C.blur.v.val,F=Math.round(Z*(C.Ckmt.v.val/100));
if(Z>F){var _=e.ZU.Ij(C.TrnS.v.Crv.v,256,!0);e.nJ(Q,_)}if(j!=null&&C.Nose.v.val>0)e.style.jY(Q,C.Nose.v.val/100,j)};
rk.Lc=function(Q,C,j){if(j==null)j=255;var Z=e.q.Xa(C),F=j<<24|Z._<<16|Z.J<<8|Z.h;e.kM(Q,F)};rk.Wq=function(Q,C,j,Z){var F=C.uglg&&C.uglg.v?j.WD():C.lagl.v.val;
F=F*Math.PI/180+Z;var _=Math.cos(F)*C.Dstn.v.val,$=Math.sin(F)*C.Dstn.v.val;Q.x-=Math.round(_);Q.y+=Math.round($)};
rk.ks=function(Q){if(Q==null)return null;var C=Q.frameFXMulti.v;if(C.length==0)return null;C=C[0].v;
var j=JSON.parse(JSON.stringify(WM.oj.default));rk.vzv(C,j);return j};rk.vzv=function(Q,C){var j=WM.stroke.kT.indexOf(Q.PntT.v.FrFl),Z=[WM.rE,WM.FX,WM.FF][j],F=C.strokeStyleContent.v={classID:WM.oj.wH[j]};
for(var _=0;_<Z.length;_++)F[Z[_]]=Q[Z[_]];C.strokeEnabled=Q.enab;C.strokeStyleLineWidth=Q.Sz;C.strokeStyleLineAlignment.v.strokeStyleLineAlignment=WM.oj.EE[WM.stroke.types.indexOf(Q.Styl.v.FStl)];
C.strokeStyleOpacity=Q.Opct;C.strokeStyleBlendMode=Q.Md};rk.PO=function(Q,C){var j=[];for(var Z=0;Z<Q.length;
Z++)j.push({t:"UntF",v:{type:"#Nne",val:Math.round(Q[Z]*C)}});return j};rk.EF=function(Q,C,j){this.vE=C.clone();
this.vE.ac(1,1);this.vJm=C.clone();this.vJm.ac(j,j);this.vJx=e.Q(this.vE.P());e.pQ(Q,C,this.vJx,this.vE);
this.Jz=null;this.Jq=null;this.Ji=null};rk.EF.prototype.hu=function(){return this.vJx};rk.EF.prototype.rect=function(){return this.vE};
rk.EF.prototype.PW=function(){return this.vJm};rk.EF.prototype.Bj=function(){if(this.Jz)return this.Jz;
this.Jz=e.clone(this.hu());e.Ie(this.Jz);return this.Jz};rk.EF.prototype.PV=function(){if(this.Jq)return this.Jq;
this.Jq=new Float64Array(this.rect().P());e.style.II(this.Bj(),this.Jq,this.rect().W,this.rect().C);
return this.Jq};rk.EF.prototype.kE=function(){if(this.Ji)return this.Ji;var Q=this.PW(),C=e.Q(Q.P());
e.pQ(this.hu(),this.rect(),C,Q);this.Ji=new Float64Array(Q.P());e.style.II(C,this.Ji,Q.W,Q.C);return this.Ji};
rk.EF.prototype.vln=function(Q,C){var j={dW:-C,sX:Q,uR:null,lq:null};if(C==0){j.uR=this.rect();j.lq=this.PV();
return j}var Z=this.kE().slice(0),F=this.PW();j.uR=F;j.lq=Z;for(var _=0;_<Z.length;_++)Z[_]=-Z[_];if(Q==0)return j;
var $=this.PV(),L=this.rect();for(var D=0;D<L.C;D++)for(var d=0;d<L.W;d++){var o=D*L.W+d,v=(D+L.y-F.y)*F.W+d+L.x-F.x;
Z[v]+=$[o]}return j};rk.EF.prototype.mU=function(Q,C,j){var Z=Math.ceil(Q+C),F={z:this.rect().clone(),hu:null};
F.z.ac(Z,Z);F.hu=e.Q(F.z.P());if(Q==0&&C==0)e.W_(j?this.hu():this.Bj(),F.hu);else{var _=e.Q(F.z.P());
e.pQ(this.hu(),this.rect(),_,F.z);if(!j)e.Ie(_);if(Q!=0){if(j)e.style.jC(_,F.z,this.kE(),this.PW(),Q);
else e.style.jC(_,F.z,this.PV(),this.rect(),Q)}if(C!=0)e.blur.Pt(_,F.hu,F.z,Math.max(1,C*.43));else F.hu=_}return F};
rk.EF.prototype.vzD=function(Q,C,j){var Z=Q*(C-.5),F={z:this.rect().clone(),hu:null};if(j)F.z.ac(Q,Q);
F.hu=e.Q(F.z.P());var _=F.z.W,$=F.z.C,L=j?this.kE():this.PV(),D=j?this.PW():this.rect(),d=F.z,o=d.QU(D),_=o.W,$=o.C,v=o.x-d.x,f=o.y-d.y,U=o.x-D.x,H=o.y-D.y,B=1-C*2;
for(var m=0;m<$;m++)for(var Y=0;Y<_;Y++){var q=L[(m+H)*D.W+Y+U],r=q/Q;F.hu[(m+f)*d.W+Y+v]=Math.max(0,Math.min(255,255-255*((r+B)/(1+B))))}return F};
rk.vzM=function(Q,C,j){var Z=Q.Lefx,F=Q.blendOptions;if(Z){var _=C.add.lmfx;if(j==null)j=_?_.Scl.v.val:100;
C.add.lmfx=JSON.parse(JSON.stringify(Z.v));rk.vWM(C.add.lmfx,j/C.add.lmfx.Scl.v.val);if(_)C.add.lmfx.Scl.v.val=_.Scl.v.val}else delete C.add.lmfx;
if(F){F=F.v;if(F.Md)C.gd=rP.Jt(F.Md.v.BlnM);if(F.Opct)C.opacity=Math.round(F.Opct.v.val*255/100);if(F.fillOpacity)C.add.iOpa=Math.round(F.fillOpacity.v.val*255/100);
if(F.Blnd){var $=[];for(var L=0;L<10;L++)$.push(0,0,255,255);var D=F.Blnd.v,d="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var L=0;L<D.length;L++){var o=D[L].v,v=8*["Gry","Rd","Grn","Bl"].indexOf(o.Chnl.v[0].v.enum);for(var f=0;
f<8;f++){$[v+f]=o[d[f]].v}}C.wY=$}}};rk.viH=function(Q){var C="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),j=[],Z=Q.wY;
for(var F=0;F<4;F++){var _=F*8;if(Z[_]+Z[_+1]+Z[_+4]+Z[_+5]==0&&Z[_+2]+Z[_+3]+Z[_+6]+Z[_+7]==4*255)continue;
var $={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][F]}}]}}};
j.push($);for(var L=0;L<8;L++)$.v[C[L]]={t:"long",v:Z[F*8+L]}}var D={classID:"blendOptions"};if(Q.gd!="norm")D.Md={t:"enum",v:{BlnM:rP.aO(Q.gd)}};
if(Q.opacity!=255)D.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(Q.opacity*100/255)}};if(Q.add.iOpa!=null)D.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(Q.add.iOpa*100/255)}};
if(j.length!=0)D.Blnd={t:"VlLs",v:j};var d={ED:{classID:"null",Idnt:{t:"TEXT",v:rH.qS()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},oK:{classID:"Styl",blendOptions:{t:"Objc",v:D}}},o=Q.add.lmfx;
if(o)d.oK.Lefx={t:"Objc",v:o};return d};function Dq(){}Dq.$F=function(Q){return JSON.parse(JSON.stringify(Q))};
Dq.jK=function(Q){var C=Dq.$F(Dq.vlM),j=C.Brsh.v;if(Q!=null){delete j.Hrdn;j.classID="sampledBrush";
j.Nm={t:"TEXT",v:"layer.png"},j.sampledData={t:"TEXT",v:Q}}return C};Dq.vlM={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
Dq.zX={};Dq.zX.check=function(Q){var C=Dq.zX.km;for(var j=0;j<C.length;j++)if(Q[C[j]]==null)Q[C[j]]=JSON.parse(Dq.zX.Pp[C[j]]);
var Z=[];for(var j=0;j<C.length;j++)Z.push(C[j]);var F=Dq.zX.vlQ;for(var j=0;j<F.length;j++){var _=F[j][0],$=F[j][1],L=!0;
for(var D=0;D<_.length;D++)L=L&&Q[_[D]].v==!0;if(L)for(var D=0;D<$.length;D++){if(Q[$[D]]==null)console.log("Missing conditional parameter "+$[D]);
else Z.push($[D])}}for(var d in Q)if(Z.indexOf(d)==-1)console.log("Extra parameter "+d);Q=Q.Brsh.v;C=Dq.zX.Gh.km;
for(var j=0;j<C.length;j++)if(Q[C[j]]==null)Q[C[j]]=JSON.parse(Dq.zX.Gh.Pp[C[j]]);Z=[];for(var j=0;j<C.length;
j++)if(Q[C[j]])Z.push(C[j]);else console.log("Missing default parameter "+C[j]);F=Dq.zX.Gh.vgr[Q.classID];
for(var j=0;j<F.length;j++)if(Q[F[j]]==null&&F[j]!="dtipsGridSize"&&F[j]!="dtipsErodibleTipHeightMap"&&Q.vVf!=1)console.log("Missing conditional parameter "+F[j]);
else Z.push(F[j]);for(var d in Q)if(Z.indexOf(d)==-1)console.log("Extra parameter "+d)};Dq.zX.kX=function(Q){var C=Dq.zX.vlQ;
for(var j=0;j<C.length;j++){var Z=C[j][0],F=C[j][1],_=!0;for(var $=0;$<Z.length;$++)_=_&&Q[Z[$]]&&Q[Z[$]].v==!0;
if(_){for(var $=0;$<F.length;$++)if(Q[F[$]]==null){Q[F[$]]=JSON.parse(Dq.zX.Pp[F[$]])}}else for(var $=0;
$<F.length;$++)if(Q[F[$]]!=null){delete Q[F[$]]}}};Dq.zX.Gh={};Dq.zX.Gh.km="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
Dq.zX.Gh.Pp={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};Dq.zX.Gh.vgr={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
Dq.zX.vlQ=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
Dq.zX.km="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
Dq.zX.Pp={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function bH(Q){this.Jg=Q;this.dir=0}bH.prototype.PL=function(Q,C){if(this.dir==0&&!this.Jg.gm(Q))this.dir=Math.abs(this.Jg.x-Q.x)<Math.abs(this.Jg.y-Q.y)?1:2;
var j=Q;if(C.r(b.WO)){if(this.dir==1)j=new Wn(this.Jg.x,Q.y);if(this.dir==2)j=new Wn(Q.x,this.Jg.y)}return j};
function rh(Q,C,j,Z,F,_,$,L){this._G=C;this.vf=j;this.JD=_;this.nh=Z;if(Z.Ud==null)Z.Ud=[!1,!0];this.AA=null;
this.Zu=null;this.vd=0;this.vJF=0;this.vJL=0;this.vy=0;this.ts=0;this.vVH=$;this.Rm=new s;this.vC=new s;
this.rect=new s;if(L!=null){this.Dg=L}else{var D=rh.vlt;if(D.length!=$.P()*4)D=e.Q($.P()*4);else D.fill(0);
this.Dg=rh.vlt=D}this.rect=$.clone();this.JV=[];this.vZ=[];this.kw=null;this.pd=0;this._=null;this.JJ="";
this.i$=null;this.vll(Q,F)}rh.vlt=e.Q(16);rh.prototype.vll=function(Q,C){this.pd=C;this._=Q;this.JJ=JSON.stringify(Q)+JSON.stringify(this.nh.cf);
this.i$=rh.vgp(Q,this._G,this.vf)};rh.prototype.moveTo=function(Q,C,j){j=this.vSz(j);this.vd=j;var Z=new Wn(Q,C),F=this._.Brsh.v.Dmtr.v.val;
this.AA=Z.clone();this.Zu=Z.clone();this.kw=Z.clone();this.JV=[Q,C];this.vZ=[j];var _=this.nh.Ud;if(this.nh.cc!=rh.N_)this.kF(this.v$W(Z,this.vxi()*(_[1]?j:1),this.nh._v*(_[0]?j*.5:1),new Wn(0,0)));
this.vy=Z.clone()};rh.prototype.lineTo=function(Q,C,j){j=this.vSz(j);var Z=this.JV,F=Z.length,_=Z[F-2],$=Z[F-1];
if(Q==_&&C==$)return;var L=this._.Brsh.v.Dmtr.v.val,D=Math.ceil(L)+1,d=new s(Math.round(_),Math.round($),0,0);
d.ac(D,D);var o=new s(Math.round(Q),Math.round(C),0,0);o.ac(D,D);this.vKq(d.fJ(o));this.JV.push(Q,C);
this.vZ.push(j);F+=2;if(F>=6)this.kF(this.vJb(F))};rh.prototype.vSz=function(Q){if(Q==null)Q=1;Q=Math.max(.05,Math.min(5,Q));
if(isNaN(Q)){alert("Pressure is not a number");throw"e"}return Q};rh.prototype.kF=function(Q){this.Rm=Q;
this.vC=this.vC.fJ(Q)};rh.prototype.finish=function(){var Q=this.JV,C=Q.length,j;if(C==4)j=this.vaB(Q[C-2],Q[C-1],this.vZ[(C>>1)-1],!0);
if(C>4)j=this.vJb(C+2);if(j)this.kF(j)};rh.prototype.vJb=function(Q){var C=this.JV,j=this.vZ,Z=C[Q-6],F=C[Q-5],_=C[Q-4],$=C[Q-3],L=j[(Q>>1)-3],D=j[(Q>>1)-2],d=new Wn(0,0),o=new Wn(0,0);
if(8<=Q)d=rh.vIF(C[Q-8],C[Q-7],Z,F,_,$);if(Q<=C.length)o=rh.vIF(C[Q-2],C[Q-1],_,$,Z,F);var v=Z+d.x,f=F+d.y,U=_+o.x,H=$+o.y,B=new s;
for(var m=0;m<10;m++){var Y=(m+1)*.1,q=1-Y,r=q*q*q*Z+3*Y*q*q*v+3*Y*Y*q*U+Y*Y*Y*_,x=q*q*q*F+3*Y*q*q*f+3*Y*Y*q*H+Y*Y*Y*$,a=this.vaB(r,x,L+Y*(D-L));
B=B.fJ(a)}return B};rh.vIF=function(Q,C,j,Z,F,_){var $=Q-j,L=C-Z,D=F-j,d=_-Z,o=Math.sqrt($*$+L*L),v=Math.sqrt(D*D+d*d),f=Math.acos(($*D+L*d)/(o*v))/Math.PI,U=.35,H=.1;
f=H+f*(U-H);var B=F-Q,m=_-C,Y=Math.sqrt(B*B+m*m),q=f*v/Y;return new Wn(B*q,m*q)};rh.prototype.vaB=function(Q,C,j,Z){var F=new s,_=this.nh.vBN;
if(_==null)_=0;if(_==0||Z){F=this.vBk(Q,C,j);return F}var $=this.kw,L=Q-$.x,D=C-$.y,d=Math.sqrt(L*L+D*D);
L/=d;D/=d;if(d>_){var o=$.x+L*(d-_),v=$.y+D*(d-_);F=this.vBk(o,v,j);this.kw.KL(o,v)}return F};rh.prototype.vBk=function(Q,C,j){var Z=new s,F=new Wn(Q,C),_=this._.Brsh.v.Dmtr.v.val,$=this.nh.cc,L=F.qF(this.Zu);
L.normalize(1);var D=Wn.iQ(this.Zu,F),d=-this.vJF,o=this.Zu.clone(),v=this.nh.Ud;while(!0){var f=this.vd+(j-this.vd)*(Math.max(0,d)/D),U=this.vxi()*(v[1]?f:1),H=this.vg_()*(U+this.vJL)/2;
if($==rh.N_)H=1;if(d+H<D){d+=H;var B=new Wn(this.Zu.x+L.x*d,this.Zu.y+L.y*d),q=1;if($==rh.N_){var m=o.clone();
m.x+=L.x>0?1:-1;var Y=o.clone();Y.y+=L.y>0?1:-1;if(Wn.iQ(m,B)<Wn.iQ(Y,B))B=m;else B=Y;d=Wn.iQ(B,this.Zu)}if(this._.useScatter.v==!0){q=this._.Cnt.v;
var r=this._.countDynamics.v.jitter.v.val/100,x=r*(-1+2*this.BU());q+=Math.round(q*x)}for(var a=0;a<q;
a++){var i=this.v$W(B,U,this.nh._v*(v[0]?f*.5:1),L);Z=Z.fJ(i)}o=B}else break}this.vJF=D-d;this.Zu=F;
this.vd=j;return Z};rh.prototype.vg_=function(){var Q=this._.Brsh.v,C=Q.Spcn.v.val,j=Math.max(5,Q.Rndn.v.val);
return j/100*(C/100)};rh.prototype.vxi=function(){var Q=this._,C=Q.Brsh.v.Dmtr.v.val;if(Q.useTipDynamics.v){var j=C*(Q.minimumDiameter.v.val/100);
C=j+(C-j)*(1-this.BU()*(Q.szVr.v.jitter.v.val/100))}return C};rh.prototype.v$W=function(Q,C,j,Z){j=Math.min(1,j);
var F=this._,_=this._.Brsh.v,$=_.Dmtr.v.val,L=this.nh,D=L.cc,d=L.vVM,o=new rI;o.translate(-this.i$.ve.W/2,-this.i$.ve.C/2);
o.scale(1/this.i$.vID,1/this.i$.vID);o.scale(C/$,C/$);o.scale(1,Math.max(5,_.Rndn.v.val)/100);if(F.useTipDynamics.v){var v=F.minimumRoundness.v.val/100;
o.scale(1,v+(1-v)*Math.round(100-this.BU()*F.roundnessDynamics.v.jitter.v.val)/100);o.rotate((-.5+this.BU())*4*Math.PI*(F.angleDynamics.v.jitter.v.val/100))}o.rotate(_.Angl.v.val*(Math.PI/180));
if(F.useScatter.v){var f=(-1+2*this.BU())*F.scatterDynamics.v.jitter.v.val/100;o.translate(-f*C*Z.y,f*C*Z.x)}o.translate(Q.x,Q.y);
var U=this.vgq(o,Q);this.vKq(U.rect);var H=U.rect.clone();if(D==null){var B=this.Xa(F);e.kM(U.il,Math.round(B._*255)<<16|Math.round(B.J*255)<<8|Math.round(B.h*255)<<0,4278190080);
if(this.vC.jJ()&&this.rect.gm(U.rect)&&j==1)this.Dg=U.il.slice(0);else e.B.vRF(U.il,U.rect,this.Dg,this.rect,U.rect,j)}if(D==rh.N_){var m=new Wn(U.rect.x+U.rect.W/2,U.rect.y+U.rect.C/2),Y=Math.round(m.x-this.vy.x),q=Math.round(m.y-this.vy.y),r=U.rect.clone();
r.offset(-Y,-q);var x=r.QU(this.rect);x.offset(Y,q);e.tW(this.Dg,this.rect,U.il,r);e.B.na(U.il,U.rect,this.Dg,this.rect,U.Xi,U.rect,j)}if(D==rh.rF||D==rh.rC||D==rh.PC){var a=U.rect.QU(this.rect),i;
if(a.gm(U.rect))i=U.Xi;else{i=e.Q(a.P());e.pQ(U.Xi,U.rect,i,a)}var l=e.Q(a.P()*4);e.tW(this.Dg,this.rect,l,a);
if(D==rh.rC){var M=e.clone(l),z=e.qq.kp([-1,-1,-1,-1,25,-1,-1,-1,-1]);e.qq.Yf(l,M,a.W,a.C,z,0);e.W_(M,l)}else if(D==rh.PC){var V=vr._j("UnsM");
V.Amnt.v.val=15;V.Thsh.v=0;V.Rds.v.val=5;var M=e.Q(l.length);vr.DZ("UnsM",{buffer:l,rect:a},V,0,0,{buffer:M,rect:a});
e.W_(M,l)}else{vr.fP(1,e.blur.nZ,l,a)}e.B.na(l,a,this.Dg,this.rect,i,a,j)}this.vJL=C;this.vy=m;return H};
rh.prototype.Xa=function(Q){var C=rh.vWJ(this.pd);if(Q.useColorDynamics&&Q.useColorDynamics.v){var j=1-this.BU()*Q.clVr.v.jitter.v.val/100,Z=rh.vWJ(this.JD);
C.h=j*C.h+(1-j)*Z.h;C.J=j*C.J+(1-j)*Z.J;C._=j*C._+(1-j)*Z._;var F=(-.5+this.BU())*Q.H.v.val/100,_=(-1+2*this.BU())*Q.Strt.v.val/100,$=(-1+2*this.BU())*Q.Brgh.v.val/100,L=e.kV(C.h,C.J,C._);
L.NE=(L.NE+F+1)%1;L.iC=L.iC+_;if(L.iC<0)L.iC=-L.iC;if(L.iC>1)L.iC=1-(L.iC-1);L.dK=L.dK+$;if(L.dK<0)L.dK=-L.dK;
if(L.dK>1)L.dK=1-(L.dK-1);C=e.zj(L.NE,L.iC,L.dK)}return C};rh.prototype.zX=function(Q){return Math.max(0,Math.min(1,Q))};
rh.prototype.BU=function(){this.ts++;return rh.hash(this.ts)};rh.vWJ=function(Q){return{h:(Q>>16&255)/255,J:(Q>>8&255)/255,_:(Q>>0&255)/255}};
rh.hash=function(Q){Q=Q^61^Q>>16;Q=Q+(Q<<3);Q=Q^Q>>4;Q=Q*668265261;Q=Q^Q>>15;return(Q&16777215)/16777215};
rh.sC=[];rh.prototype.vgq=function(Q,C){var j=null,$;for(var Z=0;Z<rh.sC.length;Z++)if(rh.sC[Z].JJ==this.JJ){j=rh.sC[Z];
rh.sC.splice(Z,1)}if(j==null)j={Te:[],JJ:this.JJ,PZ:0};var F=j.Te,_=this.nh.cf;if(_){Q=Q.clone();Q._Y=Math.floor(Q._Y);
Q.Rf=Math.floor(Q.Rf)}var L=rh.v_G(Q._Y,Q.Rf);for(var Z=0;Z<F.length;Z++){var D=F[Z];if(!(D.aN.om==Q.om&&D.aN._==Q._&&D.aN.ug==Q.ug&&D.aN.xP==Q.xP))continue;
if(rh.vgV(D.Bi,L)<.2||D.rect.P()>1e4){$=D;break}}var d=Math.round(this._.Brsh.v.Dmtr.v.val);if($){$.rect.x=Math.round($.xL.x-$.aN._Y+Q._Y);
$.rect.y=Math.round($.xL.y-$.aN.Rf+Q.Rf);if(_){$.rect.x=Math.round(C.x-d/2);$.rect.y=Math.round(C.y-d/2)}}else{var o;
if(_&&d<=3){o={buffer:e.Q(d*d*4),rect:new s(Math.round(C.x-d/2),Math.round(C.y-d/2),d,d)};e.kM(o.buffer,4278190080)}else if(Q.om==1&&Q._==0&&Q.ug==0&&Q.xP==1){o={buffer:this.i$.il,rect:this.i$.ve.clone()};
o.rect.x=Math.round(Q._Y);o.rect.y=Math.round(Q.Rf)}else o=G.S.Ia([this.i$.il,this.i$.ve],Q);if(_){for(var Z=0;
Z<o.buffer.length;Z++)o.buffer[Z]=o.buffer[Z]>127?255:0}if(o==null)o={buffer:e.Q(0),rect:new s};var v=Q._Y-Math.floor(Q._Y),f=Q.Rf-Math.floor(Q.Rf);
$={il:o.buffer,Xi:e.Q(o.rect.P()),rect:o.rect,xL:o.rect.clone(),aN:Q,Bi:rh.v_G(Q._Y,Q.Rf)};e.yq($.il,$.Xi,3);
F.push($);if(F.length>200)F=F.slice(100)}j.Te=F;j.PZ=Date.now();rh.sC.push(j);rh.sC.sort(function(U,H){return H.PZ-U.PZ});
while(rh.sC.length>3)rh.sC.pop();return $};rh.v_G=function(Q,C){return new Wn(Q-Math.floor(Q),C-Math.floor(C))};
rh.vgV=function(Q,C){var j=C.x,Z=C.y,F=Math.abs(j-Q.x),_=Math.abs(Z-Q.y);if(Math.abs(j-1-Q.x)<F)j--;
else if(Math.abs(j+1-Q.x)<F)j++;if(Math.abs(Z-1-Q.y)<_)Z--;else if(Math.abs(Z+1-Q.y)<_)Z++;F=Q.x-j;_=Q.y-Z;
return Math.sqrt(F*F+_*_)};rh.prototype.vKq=function(Q){};rh.vgp=function(Q,C,j){var Z,F,_,$=Q.Brsh.v.Dmtr.v.val;
if(Q.Brsh.v.classID=="computedBrush"){var L=Q.Brsh.v.Hrdn.v.val/100,D=1+.55*(1-L);_=$<100?1.2:1;var d=Math.round(_*$*D);
F=new s(0,0,d,d);Z=e.Q(d*d*4);var o=new Uint32Array(Z.buffer),v=d/2,f=D/v,U=Date.now(),H=rh.Yb(L),B=Math.round(8e3/v),C=H[0],m=H[1]-B,Y=H[2]+B,q=Math.min(d,(d>>>1)+1);
for(var r=0;r<q;r++){var x=f*(r-v+.25);x*=x;var a=f*(r-v+.75);a*=a;var i=r*d,l=(d-1-r)*d;for(var M=0;
M<q;M++){var z=f*(M-v+.25),V=Math.floor(Math.sqrt(z*z+x)*(4e3/1.55));if(Y<V)continue;else if(V<m){var X=4278190080;
while(M<q){var O=d-1-M;o[i+M]=X;o[i+O]=X;o[l+M]=X;o[l+O]=X;M++}break}else{var y=f*(M-v+.75),K=Math.floor(Math.sqrt(y*y+x)*(4e3/1.55)),R=Math.floor(Math.sqrt(z*z+a)*(4e3/1.55)),W=Math.floor(Math.sqrt(y*y+a)*(4e3/1.55)),X=~~(.5+255*.25*(C[V]+C[K]+C[R]+C[W]))<<24,O=d-1-M;
o[i+M]=X;o[i+O]=X;o[l+M]=X;o[l+O]=X}}}}if(Q.Brsh.v.classID=="sampledBrush"){var N;for(var r=0;r<C.length;
r++)if(C[r].id==Q.Brsh.v.sampledData.v)N=C[r];F=new s(0,0,N.z.W,N.z.C);_=Math.max(F.W,F.C)/$;Z=e.Q(F.P()*4);
e.gG(N.channel,Z,3)}while(Math.min(F.W,F.C)>$*2){var I=new s(F.x,F.y,Math.floor(F.W/2),Math.floor(F.C/2)),T=G.S.Ia([Z,F],new rI(I.W/F.W,0,0,I.C/F.C,0,0));
_*=I.W/F.W;F=T.rect;Z=T.buffer}return{vID:_,ve:F,il:Z}};rh.kL=[];rh.Yb=function(Q){if(rh.kL[Q])return rh.kL[Q];
var C=Math.pow(Q,.55),j=new Float64Array(8e3),Z=0,F=8e3;for(var _=0;_<8e3;_++){var $=rh.vgX(_*(1.55/4e3),C);
if($>=1)Z=_;else if($<=0&&F==8e3)F=_;j[_]=$}var L=[j,Z,F];rh.kL[Q]=L;return L};rh.vgX=function(Q,C){var j=Q<C?1:rh.vgY((Q-C)/Math.pow(1.001-C,.86));
return j};rh.vgY=function(Q){var C=Q*.85;return Math.exp(-(C*C)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))};
rh.prototype.ET=function(){return this.rect.clone()};rh.prototype.kC=function(){return this.Rm.QU(this.rect)};
rh.prototype.mn=function(){return this.vC.QU(this.rect)};rh.prototype.WE=function(){return this.Dg};
rh.ww=function(Q,C,j,Z,F,_){var $=t.e("canvas",""),L=$.getContext("2d");$.width=_!=null?_:Z;$.height=F;
L.fillStyle="#ffffff";L.fillStyle="#000000";L.font=Math.floor(10*t.s())+"px sans-serif";var D=""+Q.Brsh.v.Dmtr.v.val,d=L.measureText(D);
L.fillText(D,(Z-d.width)/2,F-2);var o=Z,v=F-10*t.s(),f=Math.min(o,v),U=Q.Brsh.v.Dmtr.v.val,H=Q.Brsh.v.classID;
if(H=="computedBrush"){L.translate(o/2,v/2);L.rotate(-Q.Brsh.v.Angl.v.val*Math.PI/180);L.scale(1,.1+.9*Q.Brsh.v.Rndn.v.val/100);
var B=Math.min(.95*f/2,D/2)+.5,m=.9*Q.Brsh.v.Hrdn.v.val/100,Y=L.createRadialGradient(0,0,0,0,0,B);Y.addColorStop(m,"rgba(0,0,0,1)");
Y.addColorStop((.5+m)/1.5,"rgba(0,0,0,.5)");Y.addColorStop(1,"rgba(0,0,0,0)");L.fillStyle=Y;L.fillRect(-B,-B,2*B,2*B)}else if(H=="sampledBrush"){var q;
for(var r=0;r<C.length;r++)if(C[r].id==Q.Brsh.v.sampledData.v)q=C[r];var x=t.e("canvas",""),a=x.getContext("2d");
x.width=q.z.W;x.height=q.z.C;var i=a.getImageData(0,0,x.width,x.height),l=new e.mr(x.width*x.height);
l.om=q.channel;e.qb(l,i.data);a.putImageData(i,0,0);f=Math.min(f,Q.Brsh.v.Dmtr.v.val);var M=Math.max(x.width,x.height),z=.85*x.width*f/M,V=.85*x.height*f/M;
L.drawImage(x,(o-z)/2,(v-V)/2,z,V)}else{}return $.toDataURL()};rh.ke=function(Q,C,j,Z){if(j==0)j=1;var F=Q.Brsh.v,_=F.Dmtr.v.val,$=F.Dmtr.v.val=Math.min(Z!=null?Math.round(Z*2.6):3e3,_*j),L=F.Hrdn?F.Hrdn.v.val/100:1,D=Z!=null?Z:Math.round($*(1+.55*(1-L)))+4,v;
D=Math.max(15,Math.min(D,3e3));var d=new s(0,0,D,D),o=new rh(Q,C,null,{_v:1},16711712,0,d);F.Dmtr.v.val=_;
o.moveTo(d.W/2,d.C/2);var f=o.WE(),U=o.ET();if(d.gm(U))v=f;else{v=e.Q(d.P()*4);e.tW(f,U,v,d)}return[v,d,$]};
rh.kH=function(Q,C,j){var Z=rh.ke(Q,C,j),F=Z[0],_=Z[1],$=Z[2],L=_.P(),D=e.Q(L);e.yq(F,D,3);var d=e.Q(L);
e.v.vEK(D,d,_);if($<3||e.al(d,0)){var o=_.W,v=o>>>1,f=d,U=255;for(var H=0;H<4;H++){f[o*(v-6+H)+v]=U;
f[o*v+v-6+H]=U;f[o*v+v+6-H]=U;f[o*(v+6-H)+v]=U}}var B=[1,2,1,2,8,2,1,2,1];B=e.qq.kp(B);e.qq.vVw(d,D,_.W,_.C,B);
e.kM(F,4294967295);e.gG(D,F,3);for(var H=0;H<L;H++)if(d[H]==255){F[H<<2]=F[(H<<2)+1]=F[(H<<2)+2]=0;F[(H<<2)+3]=255}return{WV:F,z:_,_H:new Wn(_.W/2,_.C/2)}};
rh.N_="0";rh.rF="1";rh.rC="2";rh.PC="3";var vQ={};vQ.or=function(Q,C){var j=Q.Jk(),D;if(j.x==Infinity||j.jJ())return{Dg:e.Q(0),z:new s,Vo:new s};
var Z=Q.Jk(),F=vQ.PG(Q,C),_=e.g.eI(F.b);if(_.jJ())return{Dg:e.Q(0),z:new s,Vo:new s};var $=t.e("canvas","");
$.width=_.W;$.height=_.C;var L=$.getContext("2d");L.translate(-_.x,-_.y);vQ.vgo(F,L);if(Q.hy.length!=0){var d=L.getImageData(0,0,_.W,_.C);
D=new Uint8Array(d.data.buffer)}else D=e.Q(_.P()*4);return{Dg:D,z:_,Vo:Z}};vQ.PG=function(Q,C){var j={u:[],b:[]};
vQ.vgG(Q,j);if(!e.$k.CH(C.dP)){var Z=e.g.NM(j.b);j=e.g.Dv(j);j=e.g.D$(j,Math.min(Z.W,Z.C)/8);var F=rD.ET(C,Q),_=e.$k.ah(C.dP,F);
e.tl.apply(_,j.b,F)}var $=C.M;e.g.M(j.b,$,j.b);return j};vQ.vgo=function(Q,C){Typr.U.pathToContext({crds:Q.b,cmds:Q.u},C)};
vQ.vRj=!1;vQ.yO=function(Q,C){if(_J.vIS==null){if(!vQ.vRj){_J.vTT();vQ.vRj=!0}return!1}var j=Q.Qp,Z=j.ResourceDict.FontSet,F=j.ResourceDict.StyleSheetSet[0].StyleSheetData,_=j.EngineDict.StyleRun.RunLengthArray,$=j.EngineDict.StyleRun.RunArray,L=rD.Dm(j),D=!0,d={},o=0;
for(var v=0;v<$.length;v++){var f=$[v].StyleSheet.StyleSheetData.Font;if(f==null)f=F.Font;for(var U=0;
U<_[v];U++){var H=L.charCodeAt(o+U),B=f+","+(H>128?H:-1);if(d[B]==null){d[B]=1;if(C.Xs(Z[f].Name,H)==null)D=!1}}o+=_[v]}return D};
vQ.vgG=function(Q,C){var j=new rI;for(var Z=0;Z<Q.Cx.length;Z++)vQ.vgP(Q.hy,Q.Cx[Z],C,j)};vQ.vgP=function(Q,C,j,Z){Z.translate(C.Bi.x,C.Bi.y);
for(var F=0;F<C.JZ.length;F++){var _={},$=C.JZ[F];if(!$.Jm)break;Z.translate($.Bi.x,$.Bi.y);for(var L=$.start;
L<$.end;L++)vQ.vgn(Q,C.xU[L],C,_,j,Z);Z.translate(-$.Bi.x,-$.Bi.y)}Z.translate(-C.Bi.x,-C.Bi.y)};vQ.vge="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
vQ.vgn=function(Q,C,j,Z,F,_){_.translate(C.Bi.x,C.Bi.y);for(var $=C.op;$<=C.KF;$++){var L=j.yI[$],D=L.z.W,d=Q[j.vsx+L.yo];
if(d.tu=="\n")continue;var o=d._i.FontSize/d.vb.head.unitsPerEm,v=rD.Xa(d._i),f=(Math.round(v.h)<<16)+(Math.round(v.J)<<8)+Math.round(v._);
F.u.push("#"+e.vY(f));var U=_.clone();U.translate(L.Bi.x+L.Ps*o,L.Bi.y-L.PE*o);var H=new rI;H.scale(o,-o);
if(d.Rb==1&&vQ.vge.indexOf(d.tu)!=-1)H.concat(new rI(-1,0,0,1,D,0));if(d._i.FauxItalic)H.concat(new rI(1,0,-Math.tan(.18),1,0,0));
H.translate(0,d.PY);H.scale(d.scale.x,d.scale.y);if(d._i.BaselineShift!=null)H.translate(0,-d._i.BaselineShift);
if(L.bI!=0){H.rotate(-L.bI)}H.concat(U);if(L.path.u.length!=0&&d.tu!="\t"){if(d._i.FauxBold){var B=d._i.FontSize/2048*27*d.scale.x;
H._Y+=B;e.g.concat(F,L.path,H);H._Y-=B+B;e.g.concat(F,L.path,H)}else e.g.concat(F,L.path,H)}if(d.tu!="\n"){if(d._i.Underline){if(Z.Pc==null)Z.Pc=d.vb.post.underlineThickness;
if(Z.vEf==null)Z.vEf=d.vb.post.underlinePosition;var m=0,Y=Z.vEf-Z.Pc/2,q=L.wh*1.05,r=-Z.Pc;e.g.concat(F,{u:["M","L","L","L","Z"],b:[m,Y,m+q,Y,m+q,Y+r,m,Y+r]},H)}if(d._i.Strikethrough){var x=d.vb["OS/2"].yStrikeoutSize,a=d.vb["OS/2"].yStrikeoutPosition,m=0,Y=a+x/2,q=L.wh*1.05,r=-x;
e.g.concat(F,{u:["M","L","L","L","Z"],b:[m,Y,m+q,Y,m+q,Y+r,m,Y+r]},H)}}F.u.push("X")}_.translate(-C.Bi.x,-C.Bi.y)};
function _J(Q,C){var j=rD.Va(Q),Z,F,_=rD.Lw(Q),D;if(Q.Curve)F=_J.PA(Q.Curve);if(j!=0){Z=new s(_[0],_[1],_[2],_[3]);
if(j==2){Z.W=F[5]-F[4];Z.C=9999}}this.Cx=[];this.hy=[];this.BL=j;var $=rD.Dm(Q),L=-1;for(var d=0;d<$.length;
d++){var o=D,v=rD.vym(Q,d),x=0;if(v!=L){L=v;o=D=rD.vTA(Q,d)}var f={tu:$.charAt(d),_i:o,vb:null,vU:-1,PY:0,scale:new Wn(0,0),iV:0,lineHeight:0,Rb:0},U=Q.ResourceDict.FontSet[o.Font].Name,H=f.vb=C.Xs(U,$.charCodeAt(d));
f.scale.x=o.HorizontalScale==null?1:o.HorizontalScale;f.scale.y=o.VerticalScale==null?1:o.VerticalScale;
var B=H["OS/2"],m=H.hhea;if(o.FontCaps==1&&f.tu!=f.tu.toUpperCase()){var q=B.sxHeight?B.sxHeight/B.sTypoAscender:.76;
f.scale.x*=q;f.scale.y*=q}var r=1/H.head.unitsPerEm*o.FontSize;if(o.FontBaseline==1){var q=Q.ResourceDict.SuperscriptSize;
f.scale.x*=q;f.scale.y*=q;f.PY-=Q.ResourceDict.SuperscriptPosition*o.FontSize}if(o.FontBaseline==2){var q=Q.ResourceDict.SubscriptSize;
f.scale.x*=q;f.scale.y*=q;f.PY+=Q.ResourceDict.SubscriptPosition*o.FontSize}if(x==0&&B&&B.sxHeight&&U.toLowerCase().indexOf("capitals")!=-1)x=B.sxHeight;
if(x==0&&B&&B.sCapHeight)x=B.sCapHeight;if(x==0&&B&&B.sTypoAscender)x=B.sTypoAscender;if(x==0)x=m.ascender;
f.iV=x*r;f.lineHeight=o.FontSize*1.2;if(o.AutoLeading==!1)f.lineHeight=o.Leading;this.hy.push(f)}var a=this.Cx,i=[0];
for(var d=0;d<Q.EngineDict.ParagraphRun.RunLengthArray.length;d++){var l=new _J.JI(Q,C,this.hy,d,Z,i,j==1?F:null);
a.push(l)}if(j==2){var M=Q.Curve.Points,z=F[0],V=F[1],X=F[2],O=F[3],y=F[4],K=F[5];for(var d=0;d<a.length;
d++)for(var R=0;R<a[d].JZ.length;R++)if(!(d==0&&R==0))a[d].JZ[R].Jm=!1;var l=a[0],W=l.JZ[0];l.Bi.KL(0,0);
W.Bi.KL(0,0);for(var R=W.start;R<W.end;R++){var N=l.xU[R],I=N.Bi.x;N.Bi.x=0;for(var T=N.op;T<=N.KF;T++){var h=l.yI[T],p=h.z.W/2;
h.Bi.x+=I;var u=_J.vVq(z,(y+h.Bi.x+p)%O);h.Bi.x=u[0]-p*u[2];h.Bi.y=u[1]-p*u[3];h.bI=Math.atan2(u[3],u[2])}}}}_J.prototype.vgM=function(){return!this.vjM(0)};
_J.prototype.vVb=function(){return this.vjM(1)};_J.prototype.vjM=function(Q){var C=this.Cx,j=!0,Z=0;
for(var F=0;F<C.length;F++){var _=C[F].JZ,$=_.length;Z+=$;for(var L=0;L<$;L++)j&=_[L].Jm}return[j,Z][Q]};
_J.PA=function(Q){var C=Q.Points,j=C.length,Z=j>>>3,F=Q.TextOnPathTRange,_=Q.Reversed,v=0,f=0;if(_){var $=C.slice(0);
for(var L=0;L<j;L+=2){$[L]=C[j-2-L];$[L+1]=C[j-1-L]}C=$;F=[Z-F[1]%Z,Z-F[0]%Z]}var D=[],d=[0],o=[0];for(var L=0;
L<j;L+=8){var U=C[L+6]-C[L+0],H=C[L+7]-C[L+1],B=Math.round(4*Math.sqrt(U*U+H*H));for(var m=0;m<B;m++){var Y=m/B,q=1-Y,r=q*q*q*C[L+0]+3*q*q*Y*C[L+2]+3*q*Y*Y*C[L+4]+Y*Y*Y*C[L+6],x=q*q*q*C[L+1]+3*q*q*Y*C[L+3]+3*q*Y*Y*C[L+5]+Y*Y*Y*C[L+7];
D.push(r,x);if(L+m!=0){var U=r-v,H=x-f;o.push(o[o.length-1]+Math.sqrt(U*U+H*H));d.push((L>>>3)+Y)}v=r;
f=x}}var a=o.length,i=o[a-1],l=_J.Ju(F[0],d),M=_J.Ju(F[1]%Z,d),z=o[l%a],V=o[M%a];if(z>=V)V+=i;return[D,d,o,i,z,V]};
_J.Ju=function(Q,C){var j=0;while(C[j]<Q)j++;return j};_J.vVq=function(Q,C){var j=0,Z=0,F,_,$;while(j<C){F=Q[Z+2]-Q[Z];
_=Q[Z+3]-Q[Z+1];$=Math.sqrt(F*F+_*_);j+=$;Z+=2}return[Q[Z],Q[Z+1],F/$,_/$]};_J.prototype.vSW=function(Q){return this.hy[Q]};
_J.prototype.vSi=function(Q){for(var C=0;C<this.Cx.length;C++){var j=this.Cx[C];for(var Z=0;Z<j.JZ.length;
Z++){var F=j.JZ[Z],_=j.xU[F.start].start,$=j.xU[F.end-1].end;if(_<Q&&Q<$)return[_,$-1]}}return[0,1]};
_J.prototype.vzG=function(Q,C){var j=-1,Z=this.Cx;if(this.BL==2){var F=1e9,_=0,$=Z[0],L=$.JZ[0];for(var D=L.start;
D<L.end;D++){var d=$.xU[D];for(var o=d.op;o<=d.KF;o++){var v=$.yI[o],f=v.z.W,U=Q.x-v.Bi.x,H=Q.y-v.Bi.y,B=U*U+H*H;
if(B<F){F=B;_=v.yo}}}return _}for(var m=0;m<Z.length;m++){var $=Z[m];for(var Y=0;Y<$.JZ.length;Y++){j++;
var L=$.JZ[Y],q=$.JZ[Y+1];if(q==null&&m<Z.length-1)q=Z[m+1].JZ[0];if(C!=null){if(j!=C)continue}else{if(q!=null&&$.Bi.y+L.Bi.y<Q.y)continue}for(var D=L.start;
D<L.end;D++){var d=$.xU[D];for(var o=d.op;o<=d.KF;o++){var v=$.yI[o],f=v.z.W,r=$.Bi.x+L.Bi.x+d.Bi.x,x=r+v.Bi.x,a=r+(o<d.KF?$.yI[o+1].Bi.x:v.Bi.x+f);
if(Q.x<=a||D+1==L.end&&o==d.KF){var i=$.vsx+v.yo,l=this.hy[i],M=l.Rb&1;if(l.tu!="\n"&&(M==0&&Q.x>x+f/2||M==1&&Q.x<x+f/2))i++;
return i}}}}}};_J.prototype.PU=function(Q){var C={z:new s,Ue:0},j=0;for(var Z=0;Z<this.Cx.length;Z++){var F=this.Cx[Z];
for(var _=0;_<F.JZ.length;_++){var $=F.JZ[_];C.Ue=j;j++;for(var L=$.start;L<$.end;L++){var D=F.xU[L];
for(var d=D.start;d<D.end;d++){if(d==Q){var o=this.hy[d],v=o.vU,f=F.yI[v].yo,U=1;while(F.yI[v]!=null&&F.yI[v].yo==f){var H=F.yI[v],B=F.Bi.x+$.Bi.x+D.Bi.x+H.Bi.x,m=F.Bi.y+$.Bi.y+D.Bi.y+H.Bi.y;
C.z=C.z.fJ(new s(B,m-o.lineHeight,H.z.W,o.lineHeight));C.bI=H.bI;v+=U}return C}}}}}};_J.prototype.Jk=function(){var Q=Infinity,C=Infinity,j=-Infinity,Z=-Infinity;
for(var F=0;F<this.Cx.length;F++){var _=this.Cx[F];for(var $=0;$<_.JZ.length;$++){var L=_.JZ[$];if(!L.Jm)break;
for(var D=L.start;D<L.end;D++){var d=_.xU[D];for(var o=d.op;o<=d.KF;o++){var v=_.yI[o],f=v.z,U=_.Bi.x+L.Bi.x+d.Bi.x+v.Bi.x,H=_.Bi.y+L.Bi.y+d.Bi.y+v.Bi.y;
Q=Math.min(Q,U+f.x);C=Math.min(C,H+f.y);j=Math.max(j,U+f.x+f.W);Z=Math.max(Z,H+f.y+f.C)}}}}return new s(Q,C,j-Q,Z-C)};
_J.vqV=function(Q){return 19968<=Q&&Q<=40959||12288<=Q&&Q<=12543};_J.vSl=function(Q,C,j,Z,F,_,$){var L=[_],D=0;
for(var d=_;d<$;d++){if(j[d]==null)console.log(d,_,$,j);var o=j[d].tu,v=o.charCodeAt(0);if(v==32||v==9){L.push(D,d,1,d+1);
D=0}else if(v==3851){L.push(D+1,d+1);D=0}else if(_J.vqV(v)){L.push(D,d);D=1}else if(d!=_&&j[d].Rb!=j[d-1].Rb){L.push(D,d);
D=1}else D++}L.push(D);var f=[];for(var d=0;d<L.length;d+=2){var U=L[d],H=L[d+1];if(H==0)continue;f.push(new _J.vTg(Q,C,j,Z,F,U,H))}return f};
_J.vSe=function(Q,C,j,Z,F,_,$){var L=[0,C?C.W:1e9],D=[];if(Z){var d=Q[_].iV,o=F+(F==0?d:Q[_].lineHeight),v=o-d*.9,f=e.g.Mn(Z[0],v),U=f.length,H=e.g.Mn(Z[0],o),B=H.length;
if(U!=0&&B!=0){var m=0,Y=0;L=[];while(m<U&&Y<B){var q=Math.max(f[m],H[Y]),r=f[m+1],x=H[Y+1],a=Math.min(r,x);
if(q<a)L.push(q,a);if(r<x)m+=2;else Y+=2}}}for(var i=0;i<L.length;i+=2){var l=L[i+1]-L[i],M=0,z=_,V=C?l-j.StartIndent-j.EndIndent-(_==0?j.FirstLineIndent:0):Infinity;
while(_!=Q.length){var X=Q[_],O=M==0||(X.FN||X.cJ)||M+X.z.W<V;if(!O)break;M+=X.z.W;_++}D.push(_-z)}$[0]=D;
$[1]=L;$[2]=_};_J.vSN=function(Q,C){var j=Q.length,Z=new Uint32Array(j),F=new Uint8Array(j),_=0;for(var $=0;
$<j;$++){F[$]=0;var L=Q.charCodeAt($);Z[$]=L;if(L>_)_=L}if(_>1424)F=_J.vOv(Z,C);return F};_J.JI=function(Q,C,j,Z,F,_,$){this.xU=[];
this.JZ=[];this.Bi=new Wn(0,0);this.yI=null;this.xU=null;this._i=rD.vug(Q,Z);var L=this._i,v=0,B="",x=0,a=1,u=0;
if(Z!=0){var D=L.SpaceBefore;if(D!=null)_[0]+=D}var d=Q.EngineDict.ParagraphRun.RunLengthArray,o=d[Z];
for(var f=0;f<Z;f++)v+=d[f];var U=L._Direction?L._Direction:0;this.vsx=v;var H=rD.Dm(Q).slice(v,v+o);
for(var m=0;m<H.length;m++){var Y=H.charAt(m);B+=j[v+m]._i.FontCaps==0?Y:Y.toUpperCase()}H=B;var q=_J.vSN(H,U),r=[],i=q[f]&1,l=j[v].vb;
j[v].Rb=q[0];for(var f=1;f<H.length;f++){var Y=j[v+f],M=q[f];Y.Rb=M;if(M!=i||Y.vb!=l){r.push(x,a);x=f;
a=1;i=M;l=Y.vb}else a++}r.push(x,a);var z=this.yI=[];for(var f=0;f<r.length;f+=2){var V=r[f],X=r[f+1],O=(j[v+V].Rb&1)==0,y=H.slice(V,V+X),K=_J.vIS(j[v+V].vb,y,O),R=[],I=0;
for(var m=0;m<K.length;m++){var W=K[m];R.push({J:W.g,yo:W.cl,wh:W.ax,BY:W.ay,Ps:W.dx,PE:W.dy})}K=R;var N=K.slice(0);
if(!O)N.reverse();for(var m=0;m<y.length;m++){while(I+1<N.length&&N[I+1].yo<=m){I++}while(I>0&&N[I-1].yo==m)I--;
j[v+V+m].vU=z.length+(O?I:N.length-I-1)}for(var m=0;m<K.length;m++){z.push(K[m]);K[m].yo+=V;var Y=j[v+K[m].yo];
if(Y.tu=="\n")K[m].wh=0;if(Y.tu=="\t")K[m].wh=Y.vb.head.unitsPerEm*2}}var T=rD.jS(L),h=this.xU=_J.vSl(Q,C,j,v,z,v,v+o),p=this.JZ,g=-1,B=[null,null,0];
while(u<h.length){_J.vSe(h,F,L,$,_[0],u,B);g++;var A={start:u,end:0,z:new s,Bi:new Wn(0,0),Jm:!0},ri=0,ru=0;
p.push(A);A.end=B[2];var w=A.end==h.length;function r$(N,V,rd){var vO=rd-V>>>1;for(var f=0;f<vO;f++){var rq=N[V+f];
N[V+f]=N[rd-1-f];N[rd-1-f]=rq}}for(var rW=1;rW<5;rW++){var J=-1;for(var f=A.start;f<A.end;f++){var M=j[h[f].start].Rb;
if(J==-1&&M>=rW)J=f;else if(J!=-1&&M<rW){r$(h,J,f);J=-1}}var rr=A.end;if(U==0&&h[rr-1].FN)rr--;if(J!=-1)r$(h,J,rr)}var r_=B[0],rO=B[1],J=u,k=u;
for(var rv=0;rv<r_.length;rv++){var rb=rO[rv*2+1]-rO[rv*2],rt=0;J=k;k+=r_[rv];var rK=this.vSU(J,k,h,U,F!=null);
if(F){if(T==1||w&&T==4)rt=rK[1]+(rb-rK[0]);if(T==2||w&&T==5)rt=rK[1]+(rb-rK[0])/2;if(g==0)rt+=L.FirstLineIndent;
rt+=L.StartIndent}else{if(T==0)rt=L.StartIndent+L.FirstLineIndent;if(T==1)rt=-rK[0]-L.EndIndent;if(T==2)rt=-rK[0]/2}rt+=rO[rv*2];
if(F&&T>2&&(T==6||!w))this.vT$(J,k,h,rb,U,rt);else{var rR=rt;for(var f=J;f<k;f++){h[f].Bi.x=rR;rR+=h[f].z.W}}}u=A.end;
for(var f=A.start;f<A.end;f++){var rS=h[f].z.clone();rS.Sn(h[f].Bi);A.z=A.z.fJ(rS);ri=Math.max(ri,h[f].iV);
ru=Math.max(ru,h[f].lineHeight)}A.Bi.y=g==0?0:p[g-1].Bi.y+ru;if(g==0){if(Z==0&&F)_[0]+=ri;if(Z!=0)_[0]+=ru;
this.Bi.y=_[0]}else _[0]+=ru;if(F)A.Jm=this.Bi.y+A.Bi.y<F.y+F.C}var rg=L.SpaceAfter;if(rg!=null)_[0]+=rg};
_J.JI.prototype.vSU=function(Q,C,j,Z,F){var _=0,$=0;for(var L=Q;L<C;L++)_+=j[L].z.W;if(F){if(Z==0)for(var L=C-1;
L>=Q;L--)if(j[L].FN||j[L].cJ)_-=j[L].z.W;else break;if(Z==1)for(var L=Q;L<C;L++)if(j[L].FN||j[L].cJ){var D=j[L].z.W;
_-=D;$-=D}else break}return[_,$]};_J.JI.prototype.vT$=function(Q,C,j,Z,F,_){var $=0,L=0,D=0,d=0;for(var o=Q;
o<C;o++)if(j[o].FN)D++;else{$+=j[o].z.W;L++}if(F==0)for(var o=C-1;o>=Q;o--)if(j[o].FN||j[o].cJ){if(j[o].FN){D--}}else break;
if(F==1)for(var o=Q;o<C;o++)if(j[o].FN||j[o].cJ){if(j[o].FN){D--;d++}}else break;if(L<=1||D==0){if(L==1)j[Q].Bi.x=_;
return}var v=(Z-$)/D,f=-d*v;for(var o=Q;o<C;o++){if(j[o].FN)this.yI[j[o].op].z.W=j[o].z.W=v;j[o].Bi.x=_+f;
f+=j[o].z.W}};_J.vTg=function(Q,C,j,Z,F,_,$){this.Zo="";for(var L=0;L<$;L++)this.Zo+=j[_+L].tu;this.FN=$==1&&(j[_].tu==" "||j[_].tu=="\t");
this.cJ=$==1&&j[_].tu=="\n";this.start=_;this.end=_+$;this.z=new s;this.Bi=new Wn(0,0);this.iV=0;this.lineHeight=0;
var D=0,d=0;if($==0){this.lineHeight=j[_].lineHeight;this.iV=j[_].iV;this.z=new s(0,-j[_].lineHeight,0,j[_].lineHeight)}var o=j[_].vU,v=j[_+$-1].vU;
if(v<o){var f=o;o=v;v=f}while(v+1<F.length&&F[v].yo==F[v+1].yo){v++}this.op=o;this.KF=v;for(var U=o;
U<=v;U++){var H=F[U],B=j[Z+H.yo],m=1/B.vb.head.unitsPerEm*B._i.FontSize,x=0;if(!B._i.AutoKerning)D+=B._i.Kerning*2*m*B.scale.x;
var Y=H.wh*m*B.scale.x;H.Bi=new Wn(D,0);H.bI=0;H.z=new s(0,-B.lineHeight,Y,B.lineHeight);var q=Typr.U.glyphToPath(B.vb,H.J);
H.path={u:q.cmds,b:q.crds};var r=H.z.clone();r.Sn(H.Bi);if(B._i.Tracking!=null)x=B._i.Tracking*.001*B._i.FontSize;
if(B._i.FauxBold==!0)x+=.027*B._i.FontSize;D+=Y+x;if($==1&&(B.tu==" "||B.tu=="\t"))r.W+=2*x;else if($==1&&B.tu!=null&&_J.vqV(B.tu.charCodeAt(0)))r.W+=x;
this.z=this.z.fJ(r);this.iV=Math.max(this.iV,B.iV);this.lineHeight=Math.max(this.lineHeight,B.lineHeight)}};
_J.vTT=function(){fetch("code/external/hb.wasm").then(function(Q){return Q.arrayBuffer()}).then(function(Q){return WebAssembly.instantiate(Q)}).then(function(Q){Q.instance.exports.memory.grow(700);
_J.vO_=hbjs(Q.instance);_J.vIS=function(){var C=function(j){var Z=0;if((j&4294967295-(1<<7)+1)==0){Z=1}else if((j&4294967295-(1<<11)+1)==0){Z=2}else if((j&4294967295-(1<<16)+1)==0){Z=3}else if((j&4294967295-(1<<21)+1)==0){Z=4}return Z};
return function(j,Z,F){var _=_J.vO_,$=j._data,L=rA.Tz(j),D=_J.vOt,m=0,Y=0;if(_J.vOb!=L){if(D!=null){D[0].free();
D[1].free();D[2].free()}var d=_.createBlob($),o=_.createFace(d,0),v=_.createFont(o);_J.vOt=D=[d,o,v];
_J.vOb=L}var v=D[2],f=_.createBuffer(),U=c.WH(Z);f.addText(U);f.setDirection(F?"ltr":"rtl");f.guessSegmentProperties();
f.shape(v);var H=f.json(v);f.free();var B=H.slice(0);if(!F)B.reverse();for(var q=1;q<B.length;q++){var r=B[q],x=r.cl;
while(Y+C(Z.charCodeAt(m))<=x){Y+=C(Z.charCodeAt(m));m++}r.cl=m}return H}}();fetch("code/external/fribidi.wasm").then(function(C){return C.arrayBuffer()}).then(function(C){return WebAssembly.instantiate(C)}).then(function(Q){var C=Q.instance.exports,j=C.memory,_=16,$=256,L=1;
j.grow(400);var Z=new Uint8Array(j.buffer),F=new Uint32Array(j.buffer),D=_|$,d=_|$|L;_J.vOv=function(v,f){var U=v.length,H=C.calloc(U*4+4+U*4+U*4+U,1),B=H+U*4,m=B+4,Y=m+U*4,q=Y+U*4;
F.set(v,H>>>2);F[B>>>2]=f==0?D:d;C.fribidi_get_bidi_types(H,U,m);C.fribidi_get_bracket_types(H,U,m,Y);
C.fribidi_get_par_embedding_levels_ex(m,Y,U,B,q);var r=Z.slice(q,q+U);C.free(H);return r};var o=new P(t.E.m,!0);
o.data={$:t.i.yN,yZ:"add",Vh:rQ.vR,JF:null};rA.Qi.Z(o)})})};function rD(){}rD.$F=function(Q){return JSON.parse(JSON.stringify(Q))};
rD.jl=function(Q,C){for(var j in C)Q[j]=C[j]};rD.dg=function(Q,C,j){var Z=rD.vkS();if(j)rD.ey(Z,0,0,j);
var F={M:new rI(1,0,0,1,Math.round(Q),Math.round(C)),Qp:Z};F.dR=rD.vKH();F.dP=e.$k.Q();F.Vo=new s;return F};
rD.vVD=function(Q){var C=["CharacterDirection",0];for(var j=0;j<C.length;j+=2){if(Q[C[j]]!=null&&Q[C[j]]!=C[j+1]){throw"e";
console.log(C[j],Q[C[j]])}}if(Q instanceof Array)for(var j=0;j<Q.length;j++)rD.vVD(Q[j]);else if(Q instanceof Object)for(var Z in Q)rD.vVD(Q[Z])};
rD.jS=function(Q,C){if(C==null)C=Q.Justification;var j=Q._Direction?Q._Direction:0;if(j==1){if(C==0||C==3)C++;
else if(C==1||C==4)C--}return C};rD.jI=function(Q){if(Q.add==null)return;var C=Q.Qp,j=C.Curve,Z=Q.add.vmsk,F=Z.G,_=e.g.eV(F,!0).b,$=Q.M.clone();
$.Ie();e.g.M(_,$,_);var L=_.slice(0,8);for(var D=8;D<_.length;D+=6)L.push(_[D-2],_[D-1],_[D],_[D+1],_[D+2],_[D+3],_[D+4],_[D+5]);
j.Points=L;j.TextOnPathTRange=Z.yV.slice(0);j.Reversed=Z.bz;if(rD.Va(C)==1){var j=_J.PA(C.Curve),d=e.g.NM(j[0]);
rD.Cr(C,[0,0,d.W,d.C].map(Math.round));for(var o=0;o<L.length;o+=2){L[o]-=d.x;L[o+1]-=d.y}var v=new rI(1,0,0,1,d.x,d.y);
v.concat(Q.M);Q.M=v}};rD.Io=function(Q){if(Q.add==null)return;var C=Q.add.vmsk,j=Q.Qp.Curve,Z=j.Points,F={u:["M"],b:[Z[0],Z[1]]};
for(var _=0;_<Z.length;_+=8){F.u.push("C");F.b.push(Z[_+2],Z[_+3],Z[_+4],Z[_+5],Z[_+6],Z[_+7])}e.g.M(F.b,Q.M,F.b);
var $=e.g.er(F,!0);C.G=$;C.bz=j.Reversed;C.yV=j.TextOnPathTRange.slice(0);Q.add.vogk=S.WU($)};rD.Xa=function(Q){var C={h:0,J:0,_:0};
if(Q.FillColor){var j=Q.FillColor,Z=j.Values;if(j.Type==1)C={h:Z[1]*255,J:Z[2]*255,_:Z[3]*255};else if(j.Type==2){var F={classID:"CMYC",Cyn:{t:"doub",v:Z[1]*100},Mgnt:{t:"doub",v:Z[2]*100},Ylw:{t:"doub",v:Z[3]*100},Blck:{t:"doub",v:Z[4]*100}};
C=e.q.Xa(F)}else console.log("Unknown color type")}return C};rD.vTI=function(Q){for(var C=0;C<Q.length;
C++){var j=Q[C].StyleSheet.StyleSheetData,Z=j.FillColor;if(Z&&Z.Type==2){var F=rD.Xa(j);Z.Type=1;Z.Values=[1,F.h/255,F.J/255,F._/255]}}};
rD.ET=function(Q,C){var j;if(rD.Va(Q.Qp)==1){var Z=rD.Lw(Q.Qp);j=new s(0,0,Z[2]-Z[0],Z[3]-Z[1])}else j=C.Jk();
return j};rD.uY=function(Q){var C=Q[0];for(var j=0;j<Q.length;j++)C=rD.vTc(C,Q[j]);return C};rD.vTc=function(Q,C){var j={};
for(var Z in Q)if(JSON.stringify(Q[Z])==JSON.stringify(C[Z]))j[Z]=Q[Z];return j};rD._D=function(Q,C){var j=Q.UT,Z=-1;
for(var F=0;F<j.length;F++)if(j[F].Name==C)Z=F;if(Z==-1){Z=j.length;j.push({FontType:1,Name:C,Script:0,Synthetic:0})}Q.hy.Font=Z};
rD.Dm=function(Q){return Q.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};rD.Jp=function(Q,C){Q.EngineDict.Editor.Text=C.replace(/\n/g,"\r")};
rD.Va=function(Q){return Q.Curve&&Q.Curve.TextOnPathTRange[0]>=0?2:Q.EngineDict.Rendered.Shapes.Children[0].ShapeType};
rD.GL=function(Q,C){var j=Q.EngineDict.Rendered.Shapes.Children[0];j.ShapeType=C;var Z=j.Cookie.Photoshop;
Z.ShapeType=C;Z.Base.ShapeType=C;if(C==0){delete Z.BoxBounds;Z.PointBase=[0,0]}if(C==1){delete Z.PointBase;
Z.BoxBounds=[0,0,1,1]}};rD.Lw=function(Q){return Q.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
rD.Cr=function(Q,C){Q.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=C};rD.vTA=function(Q,C){return rD.vTn(Q,rD.vym(Q,C))};
rD.vym=function(Q,C){var j=Q.EngineDict.StyleRun.RunLengthArray;return rD.CA(j,C).oA};rD.vTn=function(Q,C){var j=Q.ResourceDict.StyleSheetSet[0].StyleSheetData,Z={};
for(var F in j)Z[F]=j[F];var _=Q.EngineDict.StyleRun.RunArray[C].StyleSheet.StyleSheetData;rD.jl(Z,_);
return Z};rD.vug=function(Q,C){var j=Q.ResourceDict.ParagraphSheetSet[0].Properties,Z={};for(var F in j)Z[F]=j[F];
var _=Q.EngineDict.ParagraphRun.RunArray[C].ParagraphSheet.Properties;rD.jl(Z,_);var $=["StartIndent","EndIndent","FirstLineIndent"];
for(var L=0;L<3;L++)if(Z[$[L]]==null)Z[$[L]]=0;return Z};rD.Gt=function(Q,C,j){if(j=="")return;var Z=rD.Dm(Q);
rD.Jp(Q,Z.substring(0,C)+j+Z.substring(C,Z.length));var F=Q.EngineDict.StyleRun,_=F.RunLengthArray,$=rD.CA(_,C-1);
_[$.oA]+=j.length;var L=Q.EngineDict.ParagraphRun,_=L.RunLengthArray,D=rD.CA(_,C),d=j.split("\n");if(d.length==1){_[D.oA]+=j.length;
return}_.splice(D.oA+1,0,_[D.oA]-(C-D.oX));L.RunArray.splice(D.oA+1,0,rD.$F(L.RunArray[D.oA]));_[D.oA]-=_[D.oA+1];
_[D.oA]+=d[0].length+1;for(var o=1;o<d.length-1;o++){L.RunArray.splice(D.oA+o,0,rD.$F(L.RunArray[D.oA+o-1]));
L.RunLengthArray.splice(D.oA+o,0,d[o].length+1)}_[D.oA+d.length-1]+=d[d.length-1].length};rD.JE=function(Q,C,j){var Z=rD.Dm(Q);
rD.Jp(Q,Z.substring(0,C)+Z.substring(j,Z.length));rD.vDt(Q.EngineDict.ParagraphRun,C,j,!0);rD.vDt(Q.EngineDict.StyleRun,C,j,!1)};
rD.vDt=function(Q,C,j,Z){var F=Q.RunLengthArray,_=rD.CA(F,C),$=rD.CA(F,j),L=[];for(var D=0;D<F.length;
D++)for(var d=0;d<F[D];d++)L.push(D);L.splice(C,j-C);var o=[];for(var D=0;D<F.length;D++)o.push(0);for(var D=0;
D<L.length;D++)o[L[D]]++;for(var D=0;D<F.length;D++){if(o[D]==0){o.splice(D,1);F.splice(D,1);Q.RunArray.splice(D,1);
D--}else if(o[D]<F[D])F[D]=o[D]}if(Z&&_.oA!=$.oA&&_.oX!=C){F[_.oA]+=F[_.oA+1];F.splice(_.oA+1,1);Q.RunArray.splice(_.oA+1,1)}};
rD.ey=function(Q,C,j,Z){var F=Q.EngineDict.Editor.Text.length;if(j==F-2)j++;if(Z.hy.Font!=null)Q.ResourceDict.FontSet=Z.UT.slice(0);
if(C<=j)rD.vQS(Q.EngineDict.StyleRun,Z.hy,C,j,!0);rD.vQS(Q.EngineDict.ParagraphRun,Z.Cx,C,j,!1)};rD.vQS=function(Q,C,j,Z,F){var _=Q.RunLengthArray;
if(F){var $=rD.CA(_,j);if($.oX!=j){var L=_[$.oA];_.splice($.oA,0,j-$.oX);_[$.oA+1]=L-_[$.oA];Q.RunArray.splice($.oA+1,0,rD.$F(Q.RunArray[$.oA]))}var D=rD.CA(_,Z);
if(D.oX+_[D.oA]-1!=Z){var L=_[D.oA];_.splice(D.oA,0,Z-D.oX+1);_[D.oA+1]=L-_[D.oA];Q.RunArray.splice(D.oA+1,0,rD.$F(Q.RunArray[D.oA]))}}var $=rD.CA(_,j),D=rD.CA(_,Z);
if(F)for(var d=$.oA;d<=D.oA;d++)rD.jl(Q.RunArray[d].StyleSheet.StyleSheetData,C);else for(var d=$.oA;
d<=D.oA;d++)rD.jl(Q.RunArray[d].ParagraphSheet.Properties,C)};rD.vkW=function(Q,C,j){var Z=Q.EngineDict.StyleRun.RunLengthArray,F=[],_=0;
for(var $=0;$<Z.length;$++){var L=Z[$];for(var D=0;D<L;D++)if(C<=_+D&&_+D<j)F.push($);_+=L}var d=F[0],o=[];
for(var $=0;$<F.length;$++){var v=F[$]-d;if(v==o.length)o.push(0);o[v]++}return o};rD.vkr=function(Q){var C=Q.EngineDict.StyleRun,j=C.RunArray,Z=C.RunLengthArray;
for(var F=0;F<Z.length-1;F++){var _=j[F].StyleSheet.StyleSheetData,$=j[F+1].StyleSheet.StyleSheetData;
if(JSON.stringify(_)==JSON.stringify($)){j.splice(F+1,1);Z[F]+=Z[F+1];Z.splice(F+1,1);F--}}};rD.WW=function(Q,C,j){var Z={UT:Q.ResourceDict.FontSet.slice(0),hy:[],Cx:[]},F=Q.EngineDict.StyleRun.RunLengthArray,_=rD.CA(F,C).oA,$=rD.CA(F,j).oA;
for(var L=_;L<=$;L++){var D=rD.$F(Q.ResourceDict.StyleSheetSet[0].StyleSheetData),d=Q.EngineDict.StyleRun.RunArray[L].StyleSheet.StyleSheetData;
rD.jl(D,d);Z.hy.push(D)}var o=Q.EngineDict.ParagraphRun.RunLengthArray,v=rD.CA(o,C).oA,f=rD.CA(o,j).oA;
for(var L=v;L<=f;L++){Z.Cx.push(rD.$F(Q.EngineDict.ParagraphRun.RunArray[L].ParagraphSheet.Properties))}Z.hy=rD.uY(Z.hy);
Z.Cx=rD.uY(Z.Cx);return Z};rD.Jy=function(Q,C){var j,Z;j=["FontSize","Leading","BaselineShift"];Z=Q.hy;
for(var F=0;F<j.length;F++)if(Z[j[F]]!=null)Z[j[F]]*=C;j=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
Z=Q.Cx;for(var F=0;F<j.length;F++)if(Z[j[F]]!=null)Z[j[F]]*=C};rD.vk_=function(){return rD.WW(rD.vif,0,0)};
rD.vKH=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
rD.CA=function(Q,C){var j=0,Z=0;while(j+Q[Z]<=C){j+=Q[Z];Z++}return{oA:Z,oX:j}};rD.vkS=function(){var Q=rD.$F(this.vif);
return Q};rD.vjg={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0};
rD.vkk={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
rD.vif={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(rD.vjg))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(rD.vjg))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(rD.vkk))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var _q={};_q.vkI=function(Q,C,j){var Z={};Z._98={_0:"i7"};Z._0=_q.vkx(Q,C,j?j._0:null);Z._1=_q.vko(Q,C,Z._0,j?j._1:null);
return Z};_q.vkx=function(Q,C,j){var Z={};Z._1=_q.vkL(Q,j?j._1:null);Z._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};
Z._3=JSON.parse(JSON.stringify(_q.vJQ));Z._4=JSON.parse(JSON.stringify(_q.vJq));Z._5=_q.vkY(Q,Z._1._0,j?j._5:null);
Z._6=_q.vkc(Q,j?j._6:null);Z._8=_q.vkf(Q,C,j?j._8:null);Z._9=_q.vJi;return Z};_q.vkL=function(Q,C){var j=[],Z=[];
for(var F=0;F<Q.length;F++){var _=Q[F].ResourceDict.FontSet;for(var $=0;$<_.length;$++){var L=_[$];if(Z.indexOf(L.Name)!=-1)continue;
j.push(L);Z.push(L.Name)}}var D={_0:[]};for(var F=0;F<j.length;F++){var d=j[F],o={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+d.Name,_1:"i"+d.Script,_2:"i"+d.FontType}}};
if(d.Script==0)delete o._0._0._1;D._0.push(o)}return D};_q.vkY=function(Q,C,j){var Z={_0:[],_1:[]},F={_0:JSON.parse(JSON.stringify(_q.vlg))};
_q.vlj(F._0,Q[0].ResourceDict.StyleSheetSet[0],C,Q[0].ResourceDict.FontSet);Z._0.push(F);Z._1.push({_0:"i0"});
Z._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});Z._1.push({_0:"i1"});return Z};_q.vkc=function(Q,C){var j={_0:[],_1:[]},Z={_0:JSON.parse(JSON.stringify(_q.Jo))};
_q.Jc(Z._0,Q[0].ResourceDict.ParagraphSheetSet[0]);j._0.push(Z);j._1.push({_0:"i0"});Z={_0:JSON.parse(JSON.stringify(_q.Jo))};
_q.Jc(Z._0,Q[0].ResourceDict.ParagraphSheetSet[0]);Z._0._0="sBasic Paragraph";Z._0._6="i0";j._0.push(Z);
j._1.push({_0:"i1"});return j};_q.vkf=function(Q,C,j){var Z={_0:[]};for(var F=0;F<Q.length;F++){var _=Q[F].Curve,$={};
Z._0.push({_0:$});var L=rD.Va(Q[F]);$._2={};$._2._0="i"+L;if(L==0){$._2._6=["f-1","f-1"];$._2._11={_4:"i-1",_7:!1}}else if(L==1&&_==null){var D=rD.Lw(Q[F]),d=D[2],o=D[3];
$._1={_0:_q.jE("f",[0,0,0,0,d,0,d,0,d,0,d,0,d,o,d,o,d,o,d,o,0,o,0,o,0,o,0,o,0,0,0,0])};$._2._6=["f-2","f-2"];
$._2._11={_4:"i-2",_7:!1}}else if(L==1){var D=rD.Lw(Q[F]),d=D[2],o=D[3];$._1={_0:_q.jE("f",_.Points)};
$._2._6=["f-3","f-3"];$._2._11={_4:"i-3",_7:!1}}else if(L==2){$._1={_0:_q.jE("f",_.Points)};$._2._6=_q.jE("f",_.TextOnPathTRange);
$._2._11={_0:_.Reversed,_3:"i0",_5:"f0",_7:!1}}}return Z};_q.vko=function(Q,C,j,Z){var F={};F._0=JSON.parse(JSON.stringify(_q.vJg));
F._1=_q.vkU(Q,C,j,Z?Z._1:null);F._2=JSON.parse(JSON.stringify(_q.vlg._6));F._3=JSON.parse(JSON.stringify(_q.Jo._5));
return F};_q.vkU=function(Q,C,j,Z){var F=[],_=j._1._0;for(var $=0;$<Q.length;$++){var L=Q[$],D={_0:{}};
F.push(D);var d=Z?Z[$]:null;D._0._0="s"+L.EngineDict.Editor.Text;D._0._0=D._0._0;var o={_0:[]};D._0._5=o;
var v=L.EngineDict.ParagraphRun;for(var f=0;f<v.RunArray.length;f++){var U={_0:{}};o._0.push(U);U._0._0={_0:"s",_5:{},_6:"i1"};
_q.Jc(U._0._0,L.EngineDict.ParagraphRun.RunArray[f].ParagraphSheet);U._1="i"+v.RunLengthArray[f]}var H={_0:[]};
D._0._6=H;var B=d?d._0._6:null;v=L.EngineDict.StyleRun;for(var f=0;f<v.RunArray.length;f++){var m={_0:{}};
H._0.push(m);var Y=B?B._0:null;m._0._0={_0:"s",_5:"i1",_6:{}};_q.vlj(m._0._0,L.EngineDict.StyleRun.RunArray[f].StyleSheet,_,L.ResourceDict.FontSet,Y?m._0._0:null);
m._1="i"+v.RunLengthArray[f]}D._0._10={_0:"i4",_2:!0};D._1=_q.view.vJI(L,null,$,null)}return F};_q.vlj=function(Q,C,j,Z,F){Q._0="s"+(C.Name?C.Name:"");
var _=Q._6,$=F?F._6:null,L=C.StyleSheetData;if(L.Font==null)return;var D=Z[L.Font].Name,d=-1;for(var o=0;
o<j.length;o++)if("s"+D==j[o]._0._0._0){d=o;break}_._0="i"+d;if(L.FontSize!=null)_._1="f"+L.FontSize;
if(L.FauxBold!=null)_._2=L.FauxBold;if(L.FauxItalic!=null)_._3=L.FauxItalic;if(L.AutoLeading!=null)_._4=L.AutoLeading;
if(L.Leading!=null)_._5="f"+L.Leading;if(L.HorizontalScale!=null)_._6="f"+L.HorizontalScale;if(L.VerticalScale!=null)_._7="f"+L.VerticalScale;
if(L.Tracking!=null)_._8="i"+L.Tracking;if(L.BaselineShift!=null)_._9="f"+L.BaselineShift;if(L.AutoKerning!=null)_._11="i"+(L.AutoKerning?1:0);
if(L.FontCaps!=null)_._12="i"+L.FontCaps;if(L.FontBaseline!=null)_._13="i"+L.FontBaseline;if(L.Strikethrough!=null)_._15="i"+(L.Strikethrough?1:0);
if(L.Underline!=null)_._16="i"+(L.Underline?2:0);if(L.Ligatures!=null)_._18=L.Ligatures;if(L.DLigatures!=null)_._19=L.DLigatures;
if(L.Language!=null)_._38="i"+L.Language;if(L.FillColor!=null)_._53={_99:"/SimplePaint",_0:{_0:"i1",_1:_q.jE("f",L.FillColor.Values)}}};
_q.Jc=function(Q,C){Q._0="s"+(C.Name?C.Name:"");var j=Q._5,Z=C.Properties;if(Z.Justification!=null)j._0="i"+Z.Justification;
if(Z.FirstLineIndent!=null)j._1="f"+Z.FirstLineIndent;if(Z.StartIndent!=null)j._2="f"+Z.StartIndent;
if(Z.EndtIndent!=null)j._3="f"+Z.EndtIndent;if(Z.SpaceBefore!=null)j._4="f"+Z.SpaceBefore;if(Z.SpaceAfter!=null)j._5="f"+Z.SpaceAfter;
if(Z.AutoHyphenate!=null)j._9=Z.AutoHyphenate;if(Z._Direction!=null)j._33="i"+Z._Direction};_q.jE=function(Q,C){var j=[];
for(var Z=0;Z<C.length;Z++)j.push(Q+C[Z]);return j};_q.vJQ={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
_q.vJq={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
_q.vlg={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
_q.Jo={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
_q.vJi={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
_q.vJg={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var Wf={};Wf.vJT=function(Q){return Wf.JG(Q,Wf.wl)};Wf.vyn=function(Q){return Wf.JP(Q,Wf.wl)};Wf.JG=function(Q,C){var j;
if(typeof Q=="string")return Q;if(Q instanceof Array){j=[];for(var Z=0;Z<Q.length;Z++)j[Z]=Wf.JG(Q[Z],C)}else{j={};
var F={};for(var _ in C){var $=C[_],L="_"+$[0];if(Q[L]!=null){j[_]=$[1]?Wf.JG(Q[L],$[1]):Q[L];F[L]=!0}}for(var _ in Q){if(F[_]==null){console.log(F);
console.log(_,Q,C);throw"e"}}}return j};Wf.JP=function(Q,C){var j;if(Q instanceof Array){j=[];for(var Z=0;
Z<Q.length;Z++)j[Z]=Wf.JP(Q[Z],C)}else{j={};var F={};for(var _ in C){var $=C[_],L="_"+$[0];if(Q[_]!=null){j[L]=$[1]?Wf.JP(Q[_],$[1]):Q[_];
F[_]=!0}}for(var _ in Q){if(F[_]==null){console.log(F);console.log(_,Q);throw"e"}}}return j};Wf.dV={_StreamTag:[99],_Color:[0,{_Type:[0],_Values:[1]}]};
Wf.kQ={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,Wf.dV],_StrokeColor:[54,Wf.dV],_Blend:[55,{_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,Wf.dV],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_87:[87],_88:[88]};
Wf.vSj={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,Wf.kQ],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_40:[40]};
Wf.vTO={_Name:[0],_Features:[5,Wf.vSj],_Parent:[6]};Wf.vuy={_Name:[0],_Parent:[5],_Features:[6,Wf.kQ]};
Wf.wl={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4]}]}]}],_1:[1,{_0:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,Wf.vuy]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,Wf.vTO]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_7:[7]}],_12:[12]}]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_PredefinedTag:[6]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_11:[11],_15:[15,{_0:[0]}],_16:[16],_17:[17]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,Wf.vTO]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,Wf.vuy]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_9:[9],_StorySheet:[10,{_AntiAlias:[0],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}]}],_OriginalNormalStyleFeatures:[2,Wf.kQ],_OriginalNormalParagraphFeatures:[3,Wf.vSj]}]};
_q.view={};_q.view.vJI=function(Q,C,j,Z){var F={},_=rD.Va(Q);F._0=[{_0:"i"+j}];return F};function CSS(){}CSS.vJC=function(Q,C){var j=Q.add,Z=j.vmsk,F=j.vstk,_=j.lmfx,$=j.TySh,L=[],D=CSS.vJh(_,j);
if(Q.ql()&&Z){var d=e.D.kd(Z.G);if(!d.jJ()){L.push("width: "+Math.round(d.W)+"px");L.push("height: "+Math.round(d.C)+"px")}var o=e.D.vBy(Z.G);
if(o>0)L.push("border-radius: "+Math.round(o)+"px")}else if($){var v=$.Qp;if(rD.Va(v)==1){var d=rD.Lw(v);
L.push("width: "+Math.round(d[2])+"px");L.push("height: "+Math.round(d[3])+"px")}CSS.vIM(L,rD.WW(v,0,0),$.M,!1,!1,D[0])}var f=[],U=_?_.dropShadowMulti.v:0;
for(var H=0;H<U.length;H++){var B=U[H].v;if(B.enab.v){var m=B.Dstn.v.val,Y=B.lagl.v.val*Math.PI/180;
if(B.uglg&&B.uglg.v)Y=C.WD()*Math.PI/180;var q=m*Math.cos(Y),r=m*Math.sin(Y);f.push("drop-shadow("+(q==0?"0 ":CSS.gX(-q)+"px ")+(r==0?"0 ":CSS.gX(r)+"px ")+B.blur.v.val/2+"px "+CSS.Xg(B.Clr.v,B.Opct.v.val/100)+")")}}if(f.length!=0)L.push("filter: "+f.join(" "));
if($==null)CSS.vJG(D,L);if(F==null||!F.strokeEnabled.v)F=rk.ks(_);if(F&&F.strokeEnabled.v){var x=F.strokeStyleContent.v,a=x.classID,i=WM.oj.Eg.indexOf(F.strokeStyleLineCapType.v.strokeStyleLineCapType),l=WM.oj.join.indexOf(F.strokeStyleLineJoinType.v.strokeStyleLineJoinType),M=F.strokeStyleOpacity.v.val/100,z=F.strokeStyleLineWidth.v.val,V="";
if(a=="solidColorLayer")V=CSS.Xg(x.Clr.v,M);L.push("border: "+z+"px solid "+V)}return L};CSS.vJh=function(Q,C){var j=rk.kk(Q,C),Z=j[0],F=j[1],_,$;
if(Z){_=CSS.Xg(Z.Clr.v,C.iOpa!=null?C.iOpa/255:1)}else if(F){$=CSS.LI(F)}return[_,$]};CSS.vJG=function(Q,C){if(Q[0])C.push("background-color: "+Q[0]);
if(Q[1])C.push("background-image: "+Q[1])};CSS.xy={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.gX=function(Q){return""+parseFloat(Q.toFixed(3))};CSS.GQ=function(Q){if(Q==null)return{h:0,J:0,_:0};
if(Q.slice(0,4)=="rgb("){var C=Q.slice(4,Q.length-1).split(",").map(parseFloat);return{h:C[0],J:C[1],_:C[2]}}if(Q.charAt(0)!="#"){var j=CSS.xy;
if(j[Q])Q=j[Q];else console.log("unknown color "+Q)}Q=Q.slice(1);if(Q.length==3)Q=Q[0]+Q[0]+Q[1]+Q[1]+Q[2]+Q[2];
Q=parseInt(Q,16);return{h:Q>>16&255,J:Q>>8&255,_:Q&255}};CSS.Xg=function(Q,C){return CSS.$M(e.q.Xa(Q),C)};
CSS.$M=function(Q,C){if(C==null)C=1;var j=Math.round(Q.h),Z=Math.round(Q.J),F=Math.round(Q._),_=j<<16|Z<<8|F;
return C==1?"#"+e.vY(_):"rgba("+j+","+Z+","+F+","+C+")"};CSS.LI=function(Q){var C=Q.Grad.v;if(C.Clrs==null)return"";
var j=C.Clrs.v.slice(0),Z=C.Trns.v.slice(0),F=Q.Ofst.v,_=Q.Type.v.GrdT=="Rdl"?1:0,$=(_==1?"radial":"linear")+"-gradient",L=_==0?Math.round(-Q.Angl.v.val+90)+"deg":"circle at center",D=Q.Rvrs.v;
if(D){j.reverse();Z.reverse()}for(var d=0;d<j.length;d++){var o=j[d].v,v=d<Z.length?Z[d].v.Opct.v.val/100:1,f=o.Lctn.v/4096;
if(D)f=1-f;L+=", "+CSS.Xg(o.Clr.v,v)+" "+Math.round(f*100)+"%"}return $+"("+L+")"};CSS.vIM=function(Q,C,j,Z,F,_){var $=C.hy,L=Z?1:G.S.xZ(j),D=Math.round($.FontSize*L);
Q.push("font-size: "+D+"px");var d=$.Tracking;if(!Z&&d!=null&&d!=0)Q.push("letter-spacing: "+Math.round(d*D/1e3)+"px");
if(!$.AutoLeading)Q.push("line-height: "+Math.round($.Leading*L)+"px");if($.Strikethrough)Q.push("text-decoration: line-through");
var o=rD.Xa($);o=[o.h,o.J,o._].map(Math.round);Q.push((Z?"fill: ":"color: ")+(_?_:"#"+e.vY(o[0]<<16|o[1]<<8|o[2])));
var v=C.UT[$.Font].Name;if(v){var f=F,U=rA.Qi.Xs(v);if(U!=null&&v!=rA.Tz(U))U=null;if(f&&U==null)f=!1;
if(f)Q.push("font-family: \""+v+"\"");else{var H=null,B=null,m=v.toLowerCase();if(U){H=rA.Ac(U)[0];if(U["OS/2"])B=U["OS/2"].usWeightClass}else{H=CSS.vJP(v);
if(m.indexOf("light")!=-1)B=300;else if(m.indexOf("medium")!=-1)B=500;else if(m.indexOf("black")!=-1||m.indexOf("extrabold")!=-1)B=800;
else if(m.indexOf("bold")!=-1)B="bold"}if(H!=null)Q.push("font-family: \""+H+"\"");if(B!=null)Q.push("font-weight: "+B);
if(m.indexOf("italic")!=-1||m.indexOf("oblique")!=-1)Q.push("font-style: italic")}}var Y=C.Cx.Justification;
if(Y!=null&&Y!=0)if(Z)Q.push("text-anchor: "+["start","end","middle"][Y%3]);else Q.push("text-align: "+["left","right","center"][Y%3])};
CSS.vJP=function(Q){Q=Q.split("-")[0];while(Q.endsWith("MT")||Q.endsWith("PS"))Q=Q.slice(0,Q.length-2);
var C=!0;for(var j=0;j<Q.length;j++){var Z=Q.charAt(j);if(!C&&Z.toLowerCase()!=Z){Q=Q.slice(0,j)+" "+Q.slice(j);
j++;C=!0}else C=!1}return Q};function rZ(){}rZ.Pn={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0};
rZ.IU=function(Q,C){var j=Date.now(),Z;try{Z=acorn.parse(Q)}catch(rG){console.log(rG);return}var F=JSON.parse(JSON.stringify(rZ.ju.IM));
F.__return=!1;F.__break=!1;F.__throw=!1;F.__fs={};F.__window={};rZ.eval(Z,C,F);var _=F.__fs;if(Object.keys(_).length!=0){var $=UZIP.encode(_);
_$.save($,"output.zip")}};rZ.eval=function(Q,C,j){var Z=Q.type;if(!1){}else if(Z=="Program"||Z=="BlockStatement"){var F=Q.body;
for(var _=0;_<F.length;_++){var $=F[_].type;if($=="FunctionDeclaration")j[F[_].id.name]=F[_]}for(var _=0;
_<F.length;_++){var $=F[_].type,L=rZ.eval(F[_],C,j);if(j.__return||j.__break||j.__throw)return L}}else if(Z=="ReturnStatement"){j.__return=!0;
return Q.argument?rZ.FT(Q.argument,C,j):null}else if(Z=="BreakStatement"){j.__break=!0}else if(Z=="VariableDeclaration"){var D=Q.declarations;
for(var _=0;_<D.length;_++)rZ.eval(D[_],C,j)}else if(Z=="VariableDeclarator"){j[Q.id.name]=Q.init?rZ.FT(Q.init,C,j):null}else if(Z=="FunctionDeclaration"){j[Q.id.name]=Q}else if(Z=="MemberExpression"){var d=rZ.FT(Q.object,C,j),o=Q.computed?rZ.FT(Q.property,C,j):rZ.eval(Q.property,C,j),L;
if(d.oe!=null)L=rZ.ju.VH(d,o,C,j);else if(d==window&&rZ.Pn[o]){}else L=d[o];return L}else if(Z=="ArrayExpression"){var v=[],f=Q.elements;
for(var _=0;_<f.length;_++)v.push(rZ.FT(f[_],C,j));return v}else if(Z=="ObjectExpression"){var v={},f=Q.properties;
for(var _=0;_<f.length;_++){var U=f[_],H=f[_].key.name?f[_].key.name:f[_].key.value;v[H]=rZ.FT(f[_].value,C,j)}return v}else if(Z=="ExpressionStatement"){return rZ.eval(Q.expression,C,j)}else if(Z=="NewExpression"){var B=Q.arguments,m=Q.callee,Y=m.type,v=null;
if(Y=="Identifier")v=rZ.ju.vIj(m.name,B,C,j);else throw"e";if(v==null)throw"new "+m.name;return v}else if(Z=="CallExpression"){var B=Q.arguments,m=Q.callee,Y=m.type,q={};
for(var r in j)q[r]=j[r];var x=[];for(var _=0;_<B.length;_++)x.push(rZ.FT(B[_],C,j));if(Y=="Identifier"){var a=m.name,i=j[a];
if(i){if(i.params){var l=i.params;for(var _=0;_<l.length;_++)q[l[_].name]=x[_];return rZ.eval(i.body,C,q)}else{return i.apply(null,x)}}else if(rZ.ju.vIk.indexOf(a)!=-1)return rZ.ju.Zq({oe:"Application"},a,x,C,j);
else if(window[a]==null)console.log("Unknown function "+a);else if(rZ.Pn[a])alert(a+"() not available");
else{var M=window[a].apply(window,x);return M}}else if(Y=="MemberExpression"){var d=rZ.FT(m.object,C,j),o=m.computed?rZ.FT(m.property,C,j):rZ.eval(m.property,C,j);
if(d==window&&rZ.Pn[o])return;if(d.oe!=null)return rZ.ju.Zq(d,o,x,C,j);else return d[o].apply(d,x)}else console.log(Q)}else if(Z=="AssignmentExpression"){var z=Q.operator,V=Q.left,X=V.type,O=rZ.FT(V,C,j),y=rZ.FT(Q.right,C,j),L=null;
if(!1){}else if(z=="=")L=y;else if(z=="+=")L=O+y;else if(z=="-=")L=O-y;else if(z=="*=")L=O*y;else if(z=="/=")L=O/y;
else if(z=="%=")L=O%y;else if(z=="&=")L=O&y;else if(z=="|=")L=O|y;else if(z=="&&=")L=O&&y;else if(z=="||=")L=O||y;
else console.log(Q);if(X=="Identifier"){var K=V.name;if(j.hasOwnProperty(K))j[K]=L;else j.__window[K]=L}else if(X=="MemberExpression"){var R=rZ.eval(V.property,C,j),W=rZ.FT(V.object,C,j);
if(W.oe!=null)rZ.ju.vIH(W,R,L,C,j);else W[R]=L}else console.log(Q)}else if(Z=="Identifier")return Q.name;
else if(Z=="Literal")return Q.value;else if(Z=="UpdateExpression"){var z=Q.operator,N=Q.argument.name,v=rZ.FT(Q.argument,C,j);
if(!1){}else if(z=="++"){j[N]++;return Q.prefix?j[N]:j[N]-1}else if(z=="--"){j[N]--;return Q.prefix?j[N]:j[N]+1}else console.log(Q)}else if(Z=="UnaryExpression"){var z=Q.operator,I=rZ.FT(Q.argument,C,j);
if(I.oe=="UnitValue"){if(z=="-")return-I.O;else return rZ.vsw(I.O,z)}else return rZ.vsw(I,z)}else if(Z=="BinaryExpression"||Z=="LogicalExpression"){var z=Q.operator,V=rZ.FT(Q.left,C,j),I=rZ.FT(Q.right,C,j);
if(V==null||I==null)return rZ.jm(V,I,z);else if(V.oe=="UnitValue"&&I.oe=="UnitValue")return rZ.jm(V.O,I.O,z);
else if(V.oe=="UnitValue")return rZ.jm(V.O,I,z);else if(I.oe=="UnitValue"){if(z=="-")return-(V-I.O);
else return rZ.jm(V,I.O,z)}else return rZ.jm(V,I,z)}else if(Z=="IfStatement"||Z=="ConditionalExpression"){var T=rZ.FT(Q.test,C,j);
if(T)return rZ.eval(Q.consequent,C,j);else if(Q.alternate)return rZ.eval(Q.alternate,C,j)}else if(Z=="ForInStatement"){rZ.eval(Q.left,C,j);
var h=Q.left.declarations[0].id.name,p=rZ.FT(Q.right,C,j);for(var r in p){j[h]=r;var u=rZ.eval(Q.body,C,j);
if(j.__break)break;if(j.__return)return u}j.__break=!1}else if(Z=="ForStatement"){rZ.eval(Q.init,C,j);
while(rZ.eval(Q.test,C,j)){var u=rZ.eval(Q.body,C,j);if(j.__break)break;if(j.__return)return u;rZ.eval(Q.update,C,j)}j.__break=!1}else if(Z=="DoWhileStatement"){do{var u=rZ.eval(Q.body,C,j);
if(j.__break)break;if(j.__return)return u}while(rZ.eval(Q.test,C,j));j.__break=!1}else if(Z=="TryStatement"){rZ.eval(Q.block,C,j);
if(j.__throw){var g=Q.handler;j[g.param.name]=j.__throw;j.__throw=!1;rZ.eval(g.body,C,j);delete j[g.param.name]}}else if(Z=="EmptyStatement"){}else console.log(Q)};
rZ.jm=function(Q,C,j){if(j=="+")return Q+C;else if(j=="-")return Q-C;else if(j=="*")return Q*C;else if(j=="/")return Q/C;
else if(j=="%")return Q%C;else if(j=="^")return Q^C;else if(j=="&")return Q&C;else if(j=="&&")return Q&&C;
else if(j=="|")return Q|C;else if(j=="||")return Q||C;else if(j=="<")return Q<C;else if(j==">")return Q>C;
else if(j=="==")return Q==C;else if(j=="<=")return Q<=C;else if(j==">=")return Q>=C;else if(j=="!=")return Q!=C;
else if(j=="!==")return Q!==C;else if(j=="<<")return Q<<C;else if(j==">>")return Q>>C;else console.log(j)};
rZ.vsw=function(Q,C){if(C=="-")return-Q;else if(C=="!")return!Q;else if(C=="~")return~Q;else if(C=="+")return Q;
else console.log(obj)};rZ.FT=function(Q,C,j){var Z=Q.type;if(Z=="Identifier")return rZ.vIR(Q.name,C,j);
else return rZ.eval(Q,C,j)};rZ.vIR=function(Q,C,j){if(Q=="undefined")return undefined;else if(j.hasOwnProperty(Q))return j[Q];
else if(Q=="app")return{oe:"Application"};else if(rZ.ju.vIV.indexOf(Q)!=-1)return rZ.ju.VH({oe:"Application"},Q,C,j);
else if(window[Q]&&!rZ.Pn[Q])return window[Q];else{j[Q]=null;return null}};rZ.ju={};rZ.ju.vIj=function(Q,C,j,Z){var F;
if(Q=="SolidColor")F={oe:Q,O:[1,0,0,0]};if(Q=="Window")F={oe:Q,O:new $R(rZ.eval(C[0],j,Z),rZ.eval(C[1],j,Z),rZ.eval(C[2],j,Z))};
if(Q=="ExportOptionsSaveForWeb")F={oe:Q,O:{Hp:"png",Jx:100}};if(Q=="JPEGSaveOptions")F={oe:Q,O:{Hp:"jpg",Jx:100}};
if(Q=="File")F={oe:Q,O:rZ.eval(C[0],j,Z)};if(Q=="ActionReference")F={oe:Q,O:[]};if(Q=="ActionDescriptor")F={oe:Q,O:{}};
return F};rZ.ju.vIV="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor".split(" ");
rZ.ju.vIk=["charIDToTypeID","stringIDToTypeID","executeAction","doAction"];rZ.ju.VH=function(Q,C,j,Z){var F=j.hF,_=j.jW();
if(!1){}else if(C=="typename"){if(Q.oe=="Layer")return Q.O.Hd()?"LayerSet":"ArtLayer";else return Q.oe}else if(["Document","Layer"].indexOf(Q.oe)!=-1&&["layers","artLayers","layerSets"].indexOf(C)!=-1){var $=_.root,L={oe:"Layers",jh:C,O:[]};
if(Q.oe=="Layer")$=_.root.Gl(_.k.indexOf(Q.O));for(var D=0;D<$.children.length;D++){var d=$.children[D].c,o=d.Hd();
if(o&&C=="artLayers"||!o&&C=="layerSets")continue;L.O.push({oe:"Layer",O:d})}L.O.reverse();return L}else if(Q.oe=="Documents"||Q.oe=="Layers"||Q.oe=="HistoryStates"){if(!1){}else if(C=="length")return Q.O.length;
else if(Number.isInteger(C))return Q.O[C];else console.log(Q.oe+": unknown property ",C)}else if(Q.oe=="Application"){if(!1){}else if(C=="activeDocument")return{oe:"Document",O:j.jW()};
else if(C=="documents"){var L={oe:"Documents",O:[]};for(var D=0;D<j.dI.length;D++)L.O.push({oe:"Document",O:j.dI[D]});
return L}else if(C=="fonts")return{oe:"TextFonts"};else if(C=="preferences")return{oe:"Preferences"};
else if(C=="displayDialogs")return{oe:"DialogModes"};else if(C=="foregroundColor"||C=="backgroundColor"){var v=C[0]=="f"?F.pd:F.JD;
return{oe:"SolidColor",O:[1,(v>>>16&255)/255,(v>>>8&255)/255,(v>>>0&255)/255]}}else if(C=="UI")return{oe:"UI"};
else console.log(Q,C)}else if(Q.oe=="Document"){var _=Q.O;if(!1){}else if(C=="activeLayer"){var d=_.k[_.H[0]];
return{oe:"Layer",O:d}}else if(C=="resolution")return _.zn;else if(C=="width")return _.W;else if(C=="height")return _.C;
else if(C=="name")return _.name;else if(C=="saved")return!_.GC();else if(C=="selection")return{oe:"Selection"};
else if(C=="activeHistoryState")return{oe:"HistoryState",BW:_.V_};else if(C=="source")return _.xK;else if(C=="historyStates"){var f=[];
for(var D=0;D<_.history.length;D++)f.push({oe:"HistoryState",BW:D});return{oe:"HistoryStates",O:f}}else console.log(Q,C)}else if(Q.oe=="Layer"){var U={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},d=Q.O;
if(!1){}else if(C=="visible")return d.ow();else if(C=="selected")return _.H.indexOf(_.k.indexOf(d))!=-1;
else if(C=="grouped")return d.kK;else if(U[C]!=null)return d.Vk(U[C]);else if(C=="opacity")return d.opacity*100/255;
else if(C=="blendMode")return d.gd;else if(C=="name")return d.getName();else if(C=="textItem")return{oe:"TextItem",O:d};
else if(C=="bounds"){var H=G.S.ET(_,[_.k.indexOf(d)]);return rZ.ju.vEC(H,_)}else if(C=="parent"){var B=j.dI;
for(var D=0;D<B.length;D++)if(B[D].k.indexOf(d)!=-1)return{oe:"Document",O:B[D]}}else if(C=="kind"){var m=rZ.ju.je;
for(var D=0;D<m.length;D++)if(d.add[m[D]]!=null)return D;return 0}else console.log(Q,C)}else if(Q.oe=="Selection"){if(!1){}else if(C=="bounds")return rZ.ju.vEC(j.jW().v.rect,_);
else console.log(Q,C)}else if(Q.oe=="TextItem"){var Y=Q.O.add.TySh,q=Y.Qp,r=rD.Dm(q),x=Y.M.xZ(),a=rD.WW(q,0,Math.max(0,r.length-2));
if(C=="contents")return r.slice(0,r.length-1).replace(/\n/g,"\r");else if(C=="font")return a.hy.Font!=null?a.UT[a.hy.Font].Name:null;
else if(C=="size")return rZ.ju.jy(a.hy.FontSize*x,_);else if(C=="leading")return rZ.ju.jy(a.hy.Leading*x,_);
else if(C=="tracking")return rZ.ju.jy(a.hy.Tracking);else if(C=="kind")return 1-rD.Va(q);else if(C=="useAutoLeading")return a.Cx.AutoLeading;
else if(C=="hyphenation")return a.Cx.AutoHyphenate;else if(C=="color")return{oe:"SolidColor",O:a.hy.FillColor.Values.slice(0)};
else if(C=="width"||C=="height"){var i=rD.Lw(q),l=(i[2]-i[0])*x,M=(i[3]-i[1])*x;return rZ.ju.jy(C=="width"?l:M,_)}else if(C=="position"){var z=Y.M;
return rZ.ju.v$_([z._Y,z.Rf],_)}else if(C=="horizontalScale"||C=="verticalScale"){var V=C[0].toUpperCase()+C.slice(1);
return Math.round(a.hy[V]*100)}else console.log(Q,C)}else if(Q.oe=="Preferences"){if(C=="rulerUnits")return F.ZD.xc;
else console.log(Q,C)}else if(Q.oe=="SolidColor"){if(C=="rgb")return{oe:"RGBColor",O:Q.O};else console.log(Q,C)}else if(Q.oe=="RGBColor"){if(!1){}else if(C=="red")return Math.round(255*Q.O[1]);
else if(C=="green")return Math.round(255*Q.O[2]);else if(C=="blue")return Math.round(255*Q.O[3]);else console.log(Q,C)}else if(Q.oe=="UnitValue"){if(C=="value")return Q.O;
else throw"e"}else if(Q.oe=="ExportOptionsSaveForWeb"){if(C=="format")return Q.O.Hp;else if(C=="PNG8")return!1;
else if(C=="quality")return Q.O.Jx;else throw C}else if(Q.oe=="JPEGSaveOptions"){return 0}else console.log(Q,C)};
rZ.ju.vEC=function(Q,C){return rZ.ju.v$_([Q.x,Q.y,Q.x+Q.W,Q.y+Q.C],C)};rZ.ju.v$_=function(Q,C){var j=[];
for(var Z=0;Z<Q.length;Z++)j.push(rZ.ju.jy(Q[Z],C));return j};rZ.ju.vIc=function(Q){var C=[];for(var j=0;
j<Q.length;j++)C.push(Q[j].oe?Q[j].O:Q[j]);return C};rZ.ju.jy=function(Q,C){return{oe:"UnitValue",O:Q}};
rZ.ju.vx$=function(Q,C){if(Q.oe=="UnitValue")return Q.O;return Q};rZ.ju.vIH=function(Q,C,j,Z,F){var _=new P(t.E.a,!0),$=new P(t.E.m,!0),L=Z.jW(),D=Z.hF;
if(!1){}else if(Q.oe=="Application"){if(!1){}else if(C=="activeDocument"){$.data={$:t.i.XV,xa:j.O};Z.Z($)}else if(C=="displayDialogs"){}else console.log(Q,C,j)}else if(Q.oe=="Document"){var d=Q.O;
if(!1){}else if(C=="name"){_.Y=G.tP;_.data={$:S.RX,O:j,vxg:!0,cg:d};L.Iy=!0}else if(C=="source")d.xK=j;
else if(C=="activeLayer"){d.H=[d.k.indexOf(j.O)]}else if(C=="activeHistoryState"){_.Y=G.fo;_.data={$:"h_itemchange",index:j.BW}}else console.log(Q,C)}else if(Q.oe=="Layer"){_.Y=G.tP;
var o={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},v=Q.O,f=L.k.indexOf(v);
if(!1){}else if(C=="visible"){if(v.ow()!=j)_.data={$:S.sh,c:f}}else if(C=="opacity"){_.data={$:S.$V,c:f,GE:Math.round(255*j/100)}}else if(C=="blendMode"){_.data={$:S.DN,c:f,GE:rP.Cg.indexOf(j)}}else if(C=="name"){_.data={$:S.BN,c:f,name:j}}else if(o[C]!=null){_.data={$:S.B_,c:f,GE:[[j],[o[C]]]}}else if(C=="kind"){_.data={$:S.oQ,c:f,MB:rZ.ju.je[j]}}else if(C=="grouped"){_.data={$:S.$R,c:f,GE:j}}else console.log(Q,C,j)}else if(Q.oe=="TextItem"){_.Y=G.Jl;
var v=Q.O,U=v.add.TySh,H=JSON.parse(JSON.stringify(U.Qp)),B=U.M.clone(),m=U.M.xZ(),Y=rD.Dm(H),q=rD.WW(H,0,Y.length-2),r=!1;
if(!1){}else if(C=="contents"){rD.JE(H,0,Y.length-1);rD.Gt(H,0,j.replace(/\r/g,"\n"))}else if(C=="size"){q.hy.FontSize=(j.O!=null?j.O:j)/m;
r=!0}else if(C=="leading"){q.hy.Leading=(j.O!=null?j.O:j)/m;r=!0}else if(C=="tracking"){q.hy.Tracking=j.O!=null?j.O:j;
r=!0}else if(C=="kind"){var x=rD.Va(H);if(x==1&&j==1){var a=new _J(H,Z.hF.ho).Cx[0],i=a.JZ[0].end,l=a.xU[i-1].end;
rD.JE(H,0,Y.length-1);rD.Gt(H,0,Y.slice(0,l-1))}if(x==j)rD.GL(H,1-j)}else if(C=="useAutoLeading"){q.Cx.AutoLeading=j;
r=!0}else if(C=="hyphenation"){q.Cx.AutoHyphenate=j;r=!0}else if(C=="font"){rD._D(q,j);r=!0}else if(C=="color"){q.hy.FillColor.Values=j.O.slice(0);
r=!0}else if(C=="width"||C=="height"){var M=rD.Lw(H).slice(0);if(C=="width")M[2]=Math.round(M[0]+j/m);
else M[3]=Math.round(M[1]+j/m);rD.Cr(H,M)}else if(C=="position"){B._Y=j[0];B.Rf=j[1]}else if(C=="horizontalScale"||C=="verticalScale"){var z=C[0].toUpperCase()+C.slice(1);
q.hy[z]=j/100;r=!0}else console.log(Q,C,j);if(r)rD.ey(H,0,Y.length-1,q);_.data={$:"newED",Kn:L.k.indexOf(v),fR:H,M:B}}else if(Q.oe=="Preferences"){if(!1){}else if(C=="rulerUnits"){var V=JSON.parse(JSON.stringify(D.ZD));
V.xc=j;$.data={$:t.i.yN,Vh:rQ.tC,GE:V};Z.Z($)}else console.log(Q,C,j)}else if(Q.oe=="RGBColor"){if(!1){}else if(C=="red")Q.O[1]=j/255;
else if(C=="green")Q.O[2]=j/255;else if(C=="blue")Q.O[3]=j/255;else console.log(Q,C)}else if(Q.oe=="ExportOptionsSaveForWeb"){if(C=="format")Q.O.Hp=j;
else if(C=="PNG8"){}else if(C=="quality")Q.O.Jx=j;else throw"e"}else if(Q.oe=="JPEGSaveOptions"){if(C=="quality")Q.O.Jx=Math.round(100*j/12)}else console.log(Q,C,j);
if(_.data!=null)Z.Z(_)};rZ.ju.Zq=function(Q,C,j,Z,F){var _=Q.oe,$=null,L=new P(t.E.a,!0),D=new P(t.E.xD,!0),d=new P(t.E.m,!0),o=Z.jW(),v=Z.dI;
if(!1){}else if(_=="Application"){if(!1){}else if(C=="charIDToTypeID"){var f=j[0].trim();if(f=="Lvls")f="levels";
return f}else if(C=="stringIDToTypeID"){var U=j[0].trim(),H={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},B=H[U];
return B==null?U:B}else if(C=="executeAction"){console.log(j);var m;if(j[1]){m=j[1].O;m.classID=j[0]}var Y={setd:"set"},q=Y[j[0]];
if(q==null)q=j[0];D.data={$Q:q,aa:m}}else if(C=="doAction"){d.data={$:t.i.Ep,nh:[j[0],j[1]]}}else if(C=="open"){d.data={$:t.i.PJ,Vh:{url:j[0]}};
if(j[2]&&v.length!=0)d.data.Vh.LN=v.indexOf(o)}else if(C=="echoToOE"){if(window.parent!=window)window.parent.postMessage(j[0],"*")}else console.log(C)}else if(_=="Document"){var o=Q.O;
if(!1){}else if(C=="trim"){var r=[];for(var x=0;x<4;x++)r.push(j[x+1]!=null?j[x+1]:!0);D.data=G.QQ.la(j[0]!=null?j[0]:0,r)}else if(C=="save"){d.data={$:t.i.rJ}}else if(C=="saveToOE"){d.data={$:t.i.rJ,vdQ:j}}else if(C=="rotateCanvas"){D.data=G.S.EU(!0,j[0])}else if(C=="resizeImage"||C=="resizeCanvas"){var a=j[0],i=j[1];
if(typeof a!="number"){a=o.W*parseFloat(a.slice(0,a.length-1))/100;i=o.C*parseFloat(i.slice(0,i.length-1))/100}if(C=="resizeCanvas")D.data=G.QQ.vvX(Math.round(a),Math.round(i),j[2]);
else D.data=G.QQ.v$x(Math.round(a),Math.round(i),null,1)}else if(C=="paste"){d.data={$:t.i.yy}}else if(C=="close"){d.data={$:t.i.sx,aX:o}}else if(C=="exportDocument"||C=="saveAs"){var l=F.__fs,M=j[0].O.replace(":","").replace("~/",""),z=C=="exportDocument"?j[2].O:j[1].O,V=vX.TZ(o,z.Hp,null,null,[z.Jx],Z.hF);
l[M]=new Uint8Array(V)}else console.log(Q,C,j)}else if(_=="Layer"){var X=Q.O,O=o.k.indexOf(X);if(!1){}else if(C=="copy"){rZ.ju.eO(o,Z,0);
d.data={$:t.i.rI,Ce:j[0],qH:O};Z.Z(d);delete d.data;rZ.ju.eO(o,Z,1)}else if(C=="clear"){rZ.ju.eO(o,Z,0);
D.data={$Q:"delete"};Z.Z(D);delete D.data;rZ.ju.eO(o,Z,1)}else if(C=="duplicate"){if(j.length==0){L.data={$:S.sN,c:O};
L.Y=G.tP;Z.Z(L);L.data=null;$={oe:"Layer",O:o.k[o.H[0]]}}else if(j[0].oe=="Document"){L.data={$:S.Rr,k:o.Rw(O),jf:o,MP:j[0].O};
L.Y=G.tP}}else if(C=="merge"||C=="remove"){L.data={$:C=="merge"?S.vM:S.sV,c:O};L.Y=G.tP;if(C!="remove")$={oe:"Layer",O:o.k[o.H[0]]}}else if(C=="move"){L.data={$:S.Bc,source:O,target:o.k.indexOf(j[0].O),GP:j[1]!=3?.6:.3};
L.Y=G.tP}else if(C=="rasterize"){D.data={$Q:"rasterizeLayer",aa:{classID:"rasterizeLayer",null:_R.Ub("Lyr",!0)}}}else if(C=="rotate"){L.data={$:"rot",vA:[2,5],O:-j[0]*Math.PI/180,Xl:j[1],c:O};
L.Y=G.sI}else if(C=="resize"){L.data={$:"scl",vA:[2,4],O:new Wn(j[0]/100,j[1]/100),Xl:j[2],c:O};L.Y=G.sI}else if(C=="translate"){var y=rZ.ju.vIc(j);
L.data={$:"trsl",c:O,vXr:y[0],vXh:y[1]};L.Y=G.hj}else if(C=="link"){L.data={$:S.aj,vta:[O,o.k.indexOf(j[0].O)]};
L.Y=G.tP}else console.log(Q,C,j)}else if(_=="Documents"){if(C=="getByName"){for(var x=0;x<v.length;x++)if(v[x].name==j[0])return{oe:"Document",O:v[x]};
return null}else if(C=="add"){var K=j[5];if(K==null)K=1;D.data=rH.kS(j[0],j[1],j[2],j[3],["Wht","Trns","BckC"][K])}else throw"e"}else if(_=="Layers"){if(C=="getByName"){for(var x=0;
x<Q.O.length;x++)if(Q.O[x].O.getName()==j[0]){$=Q.O[x];break}if($==null)F.__throw={message:"No layer with a name "+j[0]}}else if(C=="add"){L.data={$:Q.jh=="layerSets"?S.oq:S.sn};
L.Y=G.tP;Z.Z(L);L.data=null;$={oe:"Layer",O:o.k[o.H[0]]}}else console.log(Q,C,j)}else if(Q.oe=="Selection"){if(C=="select"){var R=j[0],W=[];
for(var x=0;x<R.length;x++)W.push(R[x][0],R[x][1]);D.data=G.jT._R(W)}else if(C=="copy"){d.data={$:t.i.rI}}else if(C=="deselect"){D.data=G.jT.fU()}else if(C=="fill"){var N=j[0].O;
N=e.q.mx({h:N[1]*255,J:N[2]*255,_:N[3]*255});D.data=G.WR.Jh("Clr",j[1],j[2]==null?1:j[2]/100,N)}else console.log(Q,C,j)}else if(Q.oe=="Window"){if(C=="show"){d.data={$:t.i.kN,ul:Q.O}}else throw"e"}else if(Q.oe=="ActionReference"){if(C=="putProperty"){Q.O.push({t:"prop",v:{classID:j[0],keyID:j[1]}})}else if(C=="putClass"){Q.O.push({t:"Clss",v:{classID:j[0]}})}else console.log(C,j)}else if(Q.oe=="ActionDescriptor"){if(C=="putReference"){Q.O[j[0]]={t:"obj ",v:j[1].O}}else if(C=="putDouble"){Q.O[j[0]]={t:"doub",v:j[1]}}else if(C=="putUnitDouble"){Q.O[j[0]]={t:"UntF",v:{type:j[1],val:j[2]}}}else if(C=="putObject"){var I=j[2].O;
I.classID=j[1];Q.O[j[0]]={t:"Objc",v:I}}else if(C=="putBoolean"){Q.O[j[0]]={t:"bool",v:j[1]}}else console.log(C,j)}else if(Q.oe=="UI"){var T;
if(C=="zoomIn"||C=="zoomOut"){T={$:"zoom",Gb:C=="zoomIn"}}else if(C=="fitTheArea"){T={$:"adapt",O:"fitscr"}}else if(C=="pixelToPixel"){T={$:"adapt",O:"pixel"}}L.Y=G.Eq;
L.data=T}else console.log(Q,C,j);if(L.data)Z.Z(L);if(D.data)Z.Z(D);if(d.data)Z.Z(d);return $};rZ.ju.eO=function(Q,C,j){var Z=new P(t.E.a,!0);
Z.Y=G.sT;var F=new P(t.E.xD,!0);if(j==0){rZ.ju.vW$=Q.v;F.data=G.jT.fU(!0)}else{var _=rZ.ju.vW$;if(_)Z.data={$:"setsel",vA:"Restore Selection",v:{rect:_.rect.clone(),channel:_.channel.slice(0)}};
else F.data=G.jT.fU()}C.Z(Z.data?Z:F)};rZ.ju.vW$=null;rZ.ju.IM={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{RGB:0},NewDocumentMode:{RGB:0},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "}};
rZ.ju.IM.ColorBlendMode=rZ.ju.IM.BlendMode;rZ.ju.je="---- SoLd TySh SoCo GdFl PtFl".split(" ");function $X(){}$X.Wh={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18]};
$X.vQt=function(Q,C){if(C==null)C={};var j=new DOMParser,Z=j.parseFromString(Q,"image/svg+xml"),F=Z.getElementsByTagName("rdf:Description")[0];
if(F==null)return C;var _=$X.Wh;for(var $ in _){var L=_[$][2];if(L==null)continue;var D=F.getElementsByTagName(L)[0];
if(D==null)continue;var _j=D.getElementsByTagName("rdf:li"),d=[];for(var o=0;o<_j.length;o++)d.push(_j[o].textContent);
C[$]=d.join("; ")}return C};$X.vtp=function(Q){var C=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],j=$X.Wh;
for(var Z in j){var F=Q[Z],_=j[Z][2],$="Seq",L="";if(F==null||_==null)continue;if(_=="dc:title"||_=="dc:description"){$="Alt";
L=" xml:lang=\"x-default\""}if(_=="dc:subject")$="Bag";C.push("\t<"+_+"><rdf:"+$+">");var D=_=="dc:subject"?F.split(";").join(",").split(","):[F];
for(var d=0;d<D.length;d++)C.push("\t\t<rdf:li"+L+">"+D[d].trim()+"</rdf:li>");C.push("\t</rdf:"+$+"></"+_+">")}C.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return C.join("\n")};$X.vbo=function(Q){var C=[];for(var j=0;j<Q.length;j++)C[j]=Q[j][1]==0?0:Q[j][0]/Q[j][1];
return C};$X.vKb=function(Q){var C=[];for(var j=0;j<Q.length;j++){var Z=Q[j],F=1;if(Z!=Math.round(Z)){F=1e3;
Z=Math.round(Z*F)}C[j]=[Z,F]}return C};$X.yr=function(Q,C){var j=$X.Wh;if(C==null)C={};for(var Z in j){var F=j[Z][1],_="t"+F;
if(F!=null&&Q[_]!=null){var $=Q[_];if(F==0)$=$.join(".");else if(F==2||F==4){var L=Q["t"+(F-1)];if(L==null)L=[F==2?"N":"E"];
$=$X.vbo($).join(",")+L[0]}else if(F==42034)$=$X.vbo($).join(" ");else if(F==270||F==315){var D=$[0],d=new Uint8Array(D.length);
c.Tp(d,0,D);$=c.hI(d)}else $=$[0];C[Z]=$}}if(Q.exifIFD)$X.yr(Q.exifIFD,C);if(Q.gpsiIFD)$X.yr(Q.gpsiIFD,C);
return C};$X.pO=function(Q,C,j){var Z=$X.Wh,_=0,L=0;if(C==null)C={};var F={},$={};for(var D in Z){if(Q[D]==null||Z[D][1]==null)continue;
var d=Z[D][1],o="t"+d,v=C;if(D.startsWith("exif:")){v=F;_++;if(D.startsWith("exif:GPS")){v=$;L++}}var f=Q[D];
if(d==0)f=new Uint8Array(f.split(".").map(parseFloat));else if(d==2||d==4){var U=f.length;v["t"+(d-1)]=[f.slice(f.length-1)];
f=$X.vKb(f.split(",").map(parseFloat))}else if(d==42034)f=$X.vKb(f.split(" ").map(parseFloat));else if(d==270||d==315){var H=c.WH(f);
f=[c.hX(H,0,H.length)]}else f=[f];v[o]=f}if(_!=0){C.exifIFD=F;C.t34665=[0]}if(L!=0){C.gpsiIFD=$;C.t34853=[0]}var B=new Date,m=[B.getFullYear(),B.getMonth()+1,B.getDate(),B.getHours(),B.getMinutes(),B.getSeconds()];
for(var Y=0;Y<6;Y++)m[Y]=(m[Y]+"").padStart(2,"0");C.t305=["Photopea Editor (www.photopea.com)"];if(j!=!0)C.t306=[m[0]+":"+m[1]+":"+m[2]+" "+m[3]+":"+m[4]+":"+m[5]];
return C};var t={};t.vVi=0;t.jw=function(){t.vVi++;return t.vVi};t.vpu="uint8";t.WN=function(){var Q=navigator.userAgent.toLowerCase();
if(Q.indexOf("safari")!=-1&&Q.indexOf("chrome")==-1)return!1;return window.ClipboardItem!=null};t.e_=function(Q){this.ko=Q;
this.vOK=t.e("img");this.zm=t.e("canvas");this.hb=null;this.Kw="";this.JL=null;this.UX=new Wn(0,0);t.og(this.ko,this.yB.bind(this))};
t.e_.prototype.Ik=function(Q,C){this.hb=Q;if(C)this.Kw=C;this.yB()};t.e_.prototype.yB=function(Q){if(Q)this.UX=t.Gp(Q,this.ko);
var C=this.hb,j=typeof C=="string";if(!j){var Z=t.s(),F=this.UX,_=C.z.W,$=C.z.C,L=typeof C.WV=="string",D=L?this.vOK:this.zm;
if(L)D.setAttribute("src",C.WV);else{D.width=_;D.height=$;var d=D.getContext("2d"),o=new ImageData(new Uint8ClampedArray(C.WV.buffer),_,$);
d.putImageData(o,0,0)}D.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(F.y-C._H.y/Z)+"px; left:"+(F.x-C._H.x/Z)+"px; width:"+_/Z+"px; height:"+$/Z+"px");
var v=this.JL;if(v==null||v!=D){if(v)this.ko.removeChild(v);this.ko.appendChild(D);this.JL=D}}else if(this.JL){this.ko.removeChild(this.JL);
this.JL=null}this.ko.setAttribute("style","cursor:"+(j?C:"none")+"; "+this.Kw)};t.vTe=function(Q){return Q.replace(/</g,"&lt;").replace(/>/g,"&gt;")};
t.eK=function(Q,C){Q.hE(rT.get([12,41]).charAt(0)+":");C.hE(rT.get([12,42]).charAt(0)+":")};t.e=function(Q,C){var j=document.createElement(Q);
if(C!=null)j.setAttribute("class",C);return j};t.pi=function(Q){while(Q.firstChild)Q.removeChild(Q.firstChild)};
t._I=function(Q,C){var j=Q.getAttribute("class").split(" ");if(j.indexOf(C)==-1)j.push(C);Q.setAttribute("class",j.join(" "))};
t.Zy=function(Q,C){var j=Q.getAttribute("class");if(j==null)return;j=j.split(" ");if(j.indexOf(C)!=-1)j.splice(j.indexOf(C),1);
Q.setAttribute("class",j.join(" "))};t.sY=function(Q){while(!0){if(Q==document)return!0;if(Q==null)return!1;
Q=Q.parentNode}};t.hQ=function(Q){Q.appendChild(t.e("br"))};t.pZ=function(Q){Q.appendChild(t.e("hr"))};
t.Cp=document;t.Ys=function(Q){var C=0;for(var j=0;j<Q;j++)C+=Math.random();return C/Q<Math.PI/4};t.HX=function(Q,C){var j="";
if(!t.Ys(29))C-=4;for(var Z=0;Z<Q.length;Z++)j+=String.fromCharCode(Q.charCodeAt(Z)-C-Z);return j};t.Ge=function(Q,C){var j="";
if(!t.Ys(29))C+=4;for(var Z=0;Z<Q.length;Z++)j+=String.fromCharCode(Q.charCodeAt(Z)+C+Z);return j};t.ej=function(Q){var C="";
if(!t.Ys(28))Q+="-3";for(var j=0;j<Q.length;j++){var Z=Q.charCodeAt(j);if(Z<32||127<Z)throw"e";C+=String.fromCharCode(32+(Z-32+17+3*j)%96)}return C};
t.$A=function(Q){var C="";if(!t.Ys(28))Q+="-1";for(var j=0;j<Q.length;j++){var Z=Q.charCodeAt(j);Z-=32;
Z+=96e4;Z-=17+3*j;Z=Z%96;C+=String.fromCharCode(32+Z)}return C};t.vxb=function(Q){var C="";if(!t.Ys(28))Q+="-3";
for(var j=0;j<Q.length;j++){var Z=Q.charCodeAt(j);if(Z<32||126<Z)throw"e";C+=String.fromCharCode(32+(Z-32+17+3*j)%95)}return C};
t.lE=function(Q){var C="";if(!t.Ys(28))Q+="-1";for(var j=0;j<Q.length;j++){var Z=Q.charCodeAt(j);Z-=32;
Z+=95e4;Z-=17+3*j;Z=Z%95;C+=String.fromCharCode(32+Z)}return C};t.pY=function(Q,C){var j="";if(!t.Ys(29))C+=3;
for(var Z=0;Z<Q.length;Z++)j+=String.fromCharCode((256<<16)+Q.charCodeAt(Z)+C*Z&255);return j};t.Ee=function(Q){var C=Math.random();
t.vpu="uint"+(3+C);return new Q};t.vIA=0;t.vIU=function(Q,C){var j=0;if(Date.now()-t.vIA>1e3){j=C==0?100:C*10}else{if(Q%10!=0)Q*=10;
j=(Q+C)%100}t.vIA=Date.now();return j};t.BF=function(Q,C){if(window.PointerEvent){Q.addEventListener("pointerdown",C,!1);
return}Q.addEventListener("mousedown",C,!1);Q.addEventListener("touchstart",C,!1)};t.og=function(Q,C){if(window.PointerEvent){Q.addEventListener("pointermove",C,!1);
return}Q.addEventListener("mousemove",C,!1);Q.addEventListener("touchmove",C,!1)};t.oF=function(Q,C){if(window.PointerEvent){Q.addEventListener("pointerup",C,!1);
return}Q.addEventListener("mouseup",C,!1);Q.addEventListener("touchend",C,!1)};t.vxS=function(Q,C){if(window.PointerEvent){Q.removeEventListener("pointerdown",C,!1);
return}Q.removeEventListener("mousedown",C,!1);Q.removeEventListener("touchstart",C,!1)};t.wf=function(Q,C){if(window.PointerEvent){Q.removeEventListener("pointermove",C,!1);
return}Q.removeEventListener("mousemove",C,!1);Q.removeEventListener("touchmove",C,!1)};t.Ab=function(Q,C){if(window.PointerEvent){Q.removeEventListener("pointerup",C,!1);
return}Q.removeEventListener("mouseup",C,!1);Q.removeEventListener("touchend",C,!1)};t.W$=function(Q){Q.addEventListener("touchstart",t.Wj,!1);
Q.addEventListener("touchmove",t.Wj,!1);Q.addEventListener("touchend",t.Wj,!1)};t.lZ=function(Q,C,j,Z){var F=t.s();
Q.width=Math.floor(C*F);Q.height=Math.floor(j*F);Q.style.width=Q.width/F+"px";Q.style.height=Q.height/F+"px";
if(Z)Z.setTransform(F,0,0,F,0,0)};t.GI=function(Q,C,j){Q.setAttribute("style","width:"+C/t.s()+"px; height:"+j/t.s()+"px")};
t.Gp=function(Q,C){if(C==null)C=Q.currentTarget;var j=C.getBoundingClientRect();if(Q.touches)Q=Q.touches.item(0);
return{x:Q.clientX-j.left,y:Q.clientY-j.top}};t.s=function(Q){return window.devicePixelRatio||1};t.Wj=function(Q){Q.preventDefault()};
t.QZ=function(Q){Q.stopPropagation();Q.preventDefault()};t.Pr=function(Q,C,j){j=j?j:"";if(PIMG["__"+Q]==null)j+=" gsicon";
return"<img src=\""+PIMG[Q]+"\" alt=\""+(C?C:"")+"\" class=\""+j+"\" />"};t.vsA=function(Q,C,j,Z){var F=Q.dataTransfer.getData("text/uri-list");
if(F!=null&&F.startsWith("http")){var _=new P(t.E.m,!0);_.data={$:t.i.PJ,Vh:{url:F,DO:!0,LN:j,JC:Z}};
C.Z(_)}if(Q.dataTransfer.files.length==0)return;var _=new P(t.E.m,!0);_.data={$:t.i.vjF,data:Q.dataTransfer.files,LN:j,JC:Z};
C.Z(_)};var P=function(Q,C){if(!C)C=!1;this.type=Q;this.target=null;this.currentTarget=null;this.bubbles=C;
this.Y=null;this.gA=!1};t.E={a:"0",m:"1",xD:"1.5",U:"2",Wu:"3",vE_:"4",ym:"5"};t.i={zD:"10",Ko:"11",zt:"12",pM:"13",ea:"14",vDv:"14.1",PJ:"15",rb:"16",ei:"17",sb:"18",rJ:"19",vrR:"19.5",vKL:"20",sj:"21",rI:"22",yy:"23",yP:"24",kN:"25",zb:"26",XV:"27",el:"28",vjJ:"29",vjF:"30",TX:"31",sk:"32",Az:"33",hq:"34",yN:"35",xO:"37",vjo:"38",sJ:"39",sd:"40",XB:"41",vqr:"42",zT:"43",sx:"44",vqI:"45",so:"46",sM:"47",EW:"48",Ep:"49"};
var D_={};D_.vqF=function(Q){var C=D_.dF[Q],j=document.documentElement.style,F=20;j.setProperty("--bg-color","#"+e.vY(C["--bg-color"]));
j.setProperty("--bg-panel","#"+e.vY(C["--bg-panel"]));j.setProperty("--bg-canvas","#"+e.vY(C["--bg-canvas"]));
j.setProperty("--bg-input","#"+e.vY(C["--bg-input"]));j.setProperty("--bg-bbtn","#"+e.vY(C["--bg-bbtn"]));
j.setProperty("--bg-bbtnOver","#"+e.vY(C["--bg-bbtnOver"]));j.setProperty("--brdr","#"+e.vY(C["--brdr"]));
j.setProperty("--text-color","#"+e.vY(C["--text-color"]));j.setProperty("--brdrLgt","rgba(255,255,255,"+C["--brdrLgt"]+")");
j.setProperty("--brdrDrk","rgba(  0,  0,  0,"+C["--brdrDrk"]+")");j.setProperty("--alphaDark",""+C["--alphaDark"]);
j.setProperty("--gs-invert",""+C["--gs-invert"]);var Z=C["--sh-clr"];j.setProperty("--sh-clr","rgba("+(Z>>16)+","+(Z>>8&255)+","+(Z&255)+", 0.45)");
j.setProperty("--sh-dy",""+C["--sh-dy"]+"px");if(1<t.s()&&t.s()<1.5)F/=t.s();j.setProperty("--img20",F+"px");
var _="lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var Q=0;Q<_.length;Q++){var $=_[Q],L=$.split("/").pop(),D=PIMG["__"+$]==null?C["--gs-invert"]:"0";
j.setProperty("--icon_"+L,"url("+PIMG[$]+")");j.setProperty("--icon_"+L+"_invrt",D)}};D_.dF=[{name:"Silver","--bg-color":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Black","--bg-color":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Iron Blue","--bg-color":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Snow White","--bg-color":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Danish Purple","--bg-color":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1}];
function rJ(){DC.call(this);this.parent=null;this.w=null;this.fA=0;this.NE=0}rJ.prototype=new DC;rJ.prototype.vpI=function(Q){var C=this;
while(C!=null){if(C==Q)return!0;C=C.parent}return!1};rJ.prototype.Ey=function(){var Q=this.w;return Q.offsetWidth+Q.clientLeft};
rJ.prototype.viJ=function(){var Q=this.w;return Q.offsetHeight+Q.clientTop};rJ.prototype.update=function(Q){};
rJ.prototype.Z=function(Q){DC.prototype.Z.call(this,Q);if(Q.bubbles&&this.parent!=null)this.parent.Z(Q)};
rJ.prototype.vxp=function(Q){Q.stopPropagation();Q.preventDefault()};rJ.prototype.N=function(){};rJ.prototype.Ii=function(Q){t.Zy(this.w,"disabled")};
rJ.prototype.IO=function(Q){t._I(this.w,"disabled")};rJ.prototype.XY=function(Q){if(Q)this.Ii();else this.IO()};
function QG(Q,C){rJ.call(this);this.DD=null;this.vOz=this.CB.bind(this);this.vOl=this.Ec.bind(this);
this.vOV=this.vpX.bind(this);this.vOE=this.vSc.bind(this);this.Pf=[];this.PR=[];this.Ph=[];this.vdc=[];
this.w=t.e("div","contextpanel");this.w.addEventListener("contextmenu",t.Wj,!1);this.Fn=null;this.Pe=0;
this.vXC=Q;this.vXU=C;this.tE=[];for(var j=0;j<Q.length;j++){var Z=t.e("div","enab");this.PR.push(Z);
this.w.appendChild(Z);if(Q[j].Ca){var F=t.e("img","thumb");F.setAttribute("src",PIMG[Q[j].Ca]);Z.appendChild(F)}else{var _=t.e("span","check");
this.vdc.push(_);Z.appendChild(_)}var $=t.e("span","label");$.innerHTML=rT.get(Q[j].name);Z.appendChild($);
this.Ph.push($);if(Q[j].ui)this.w.appendChild(t.e("hr"));if(Q[j].Gw||Q[j].sub){var L=t.e("span","right");
Z.appendChild(L);if(Q[j].Gw)L.innerHTML=Q[j].Gw;if(Q[j].sub)L.innerHTML="\u25B6"}Z.addEventListener("click",this.vOz,!1);
Z.addEventListener("mouseover",this.vOl,!0);Z.addEventListener("mouseout",this.vOV,!0);if(Q[j].sub){var D=new QG(Q[j].sub,C?C[j].sub:null);
D.parent=this;this.tE.push(D);D.p("select",this.vpF,this)}else this.tE.push(null)}}QG.prototype=new rJ;
QG.prototype.viG=function(Q){t.pi(this.w);for(var C=0;C<Q.length;C++)if(Q[C]!=0&&Q[C]!=null){this.w.appendChild(this.PR[C]);
if(Q[C]!=1&&this.tE[C])this.tE[C].viG(Q[C])}};QG.prototype.N=function(){var Q=this.vXC;for(var C=0;C<Q.length;
C++){if(Q[C].title)this.PR[C].title=rT.get(Q[C].title);this.Ph[C].textContent=rT.get(Q[C].name)+(Q[C].qm?"...":"")}for(var C=0;
C<this.tE.length;C++)if(this.tE[C])this.tE[C].N()};QG.prototype.update=function(Q,C){var j=this.vXC;
for(var Z=0;Z<j.length;Z++){if(j[Z].F){var F=j[Z].F(Q,C,Z);if(F.F!=null)this.PR[Z].setAttribute("class",F.F?"enab":"disab");
if(F.yC!=null)this.Ph[Z].textContent=F.yC;if(F.H$!=null)this.vdc[Z].textContent=F.H$?"\u2713":""}}for(var Z=0;
Z<this.tE.length;Z++)if(this.tE[Z])this.tE[Z].update(Q,C)};QG.prototype.X_=function(){return this.Pf};
QG.prototype.CB=function(Q){if(Q.button!=0)return;var C=this.PR.indexOf(Q.currentTarget);if(this.tE[C]){this.Pe=C;
this.vSc()}else{if(this.vXU){var j=this.vXU[C],Z=new P(j.T,!0);Z.Y=j.Y;Z.data=j.I;this.Z(Z)}this.DD=null;
this.Pf=[C];this.Z(new P("select",!1));var Z=new P(t.E.m,!0);Z.data={$:t.i.pM};this.Z(Z)}};QG.prototype.Ec=function(Q){var C=this.PR.indexOf(Q.currentTarget);
if(this.Fn){clearTimeout(this.Fn);this.Fn=null}if(this.tE[C]==null)return;this.Pe=C;this.Fn=setTimeout(this.vOE,300)};
QG.prototype.vpX=function(Q){var C=this.PR.indexOf(Q.currentTarget);if(this.Fn){clearTimeout(this.Fn);
this.Fn=null}};QG.prototype.vSc=function(){if(this.Fn){clearTimeout(this.Fn);this.Fn=null}var Q=this.Pe;
if(this.DD)this.DD.vIm();this.DD=this.tE[Q];var C=this.PR[Q].getBoundingClientRect(),j=new P(t.E.m,!0);
j.data={$:t.i.Ko,kU:this.tE[Q],x:C.left+C.width+2,y:C.top};this.Z(j)};QG.prototype.vIm=function(){for(var Q=0;
Q<this.tE.length;Q++)if(this.tE[Q])this.tE[Q].vIm();var C=new P(t.E.m,!0);C.data={$:t.i.zt,kU:this};
this.Z(C)};QG.prototype.vpF=function(Q){var C=this.tE.indexOf(Q.target);this.Pf=[C].concat(Q.target.X_());
this.Z(new P("select",!1))};function QB(Q,C,j,Z,F,_,$,L){rJ.call(this);this.w=t.e("span","fitem");var D=t.jw();
this.Lv=Q;this.DW=L;this.dW=C;this.sX=j;this.PN=null;if(Z instanceof Array){this.PN=Z;Z=Z[0]}this.Dr=Z;
this.Jw=F;this.vOB=_;this.DQ=$;this.oZ=0;this.uv=t.e("label","flabel");this.uv.innerHTML=Q;this.uv.setAttribute("style","cursor:col-resize;");
this.JN=t.e("input","");this.JN.setAttribute("type","range");if($){this.JN.min=0;this.JN.max=400}else{this.JN.min=C;
this.JN.max=j;if(F!=0)this.JN.step=(j-C)/200}this.Pb=t.e("input","");this.Pb.setAttribute("type","text");
this.Pb.setAttribute("id",D);this.xk=t.e("span","");this.xk.innerHTML=Z;this.Pb.addEventListener("change",this._q.bind(this),!1);
this.Pb.addEventListener("keydown",this.Ew.bind(this),!1);this.Pb.addEventListener("wheel",this.zp.bind(this),!1);
this.JN.addEventListener("input",this._q.bind(this),!1);this.JN.addEventListener("click",this.vpP.bind(this),!1);
this.vOm=this.vpN.bind(this);this.vaT=this.vpA.bind(this);this.vBw=this.vpM.bind(this);this.Dt=0;this.Db=0;
this.Pw=!1;t.BF(this.uv,this.vOm)}QB.prototype=new rJ;QB.prototype.vdd=function(Q){this.Jw=Q};QB.prototype.hE=function(Q){this.uv.textContent=Q};
QB.prototype.N=function(){var Q=this.Lv,C=this.DW;if(Q){if(typeof Q=="string"&&Q.startsWith("<"))this.uv.innerHTML=Q;
else this.uv.textContent=rT.get(Q)+":"}if(C){C=rT.get(C);if(Q)this.uv.setAttribute("title",C);this.Pb.setAttribute("title",C)}};
QB.prototype.t=function(Q){var C=this.dW==this.sX;if(!C&&this.dW>=0)Q=Math.max(this.dW,Q);if(this.Jw==0)Q=Math.round(Q);
var j=this.Dr;this.Pb.value=(this.Jw!=0?Q.toFixed(this.Jw):Q)+(this.vOB&&j?(j.toLowerCase()==j.toUpperCase()?"":" ")+j:"");
var Z=400*Math.pow((Q-this.dW)/(this.sX-this.dW),1/2.7);this.JN.value=this.DQ?Z:Q};QB.prototype.K=function(){return parseFloat(this.Pb.value)};
QB.prototype.x_=function(){return this.Dr};QB.prototype._q=function(Q){var C=0;if(Q.currentTarget==this.Pb){var j=Q.target.value,Z=0;
while(Z<j.length&&(j.charAt(Z)=="."||48<=j.charCodeAt(Z)&&j.charCodeAt(Z)<=57))Z++;C=j==""?0:parseFloat(j);
var F=j.slice(Z).trim();if(this.PN&&this.PN.indexOf(F)!=-1)this.Dr=F}else{if(Date.now()-this.oZ<10)return;
C=parseFloat(Q.target.value);if(this.DQ){C=this.dW+Math.pow(C/400,2.7)*(this.sX-this.dW);C=this.vdf(C)}}this.t(C);
this.GJ()};QB.prototype.GJ=function(){this.Z(new P(t.E.U))};QB.prototype.vdf=function(Q){if(this.sX-this.dW>50&&Q>10)Q=Math.round(Q);
return Q};QB.prototype.Ew=function(Q){var C=0;if(b.BM(Q.code,b.bo))C=1;if(b.BM(Q.code,b.bP))C=-1;if(C!=0)this.v$F(C,Q.shiftKey)};
QB.prototype.zp=function(Q){this.v$F(Q.deltaY>0?-1:1,Q.shiftKey)};QB.prototype.v$F=function(Q,C){var j=this.K(),Z=this.Jw,F=Q*(Z==null||Z==0||j>5?1:.1);
if(C)F*=10;var _=j+F;if(!this.DQ&&this.sX!=this.dW)_=Math.min(this.sX,_);this.t(_);this.GJ()};QB.prototype.vpP=function(Q){var C=Date.now()-this.oZ;
this.oZ=Date.now();if(C>300)return;var j=(this.sX+this.dW)/2;if(this.dW<0&&this.sX>0)j=0;else if(this.dW<1&&this.sX>1&&this.sX<10)j=1;
this.t(j);this.GJ()};QB.prototype.vpN=function(Q){t.og(document,this.vaT);t.oF(document,this.vBw);this.Dt=t.Gp(Q,document.body).x;
this.Db=this.K()};QB.prototype.vpA=function(Q){t.QZ(Q);var C=this.dW==this.sX,j=t.Gp(Q,document.body).x,Z=(j-this.Dt)*(C?1:1/120*(this.sX-this.dW)),F=this.Db+Z;
if(C)F=Math.round(F);if(!C){if(!0){F=Math.max(this.dW,F);if(F==this.dW){this.Dt=j;this.Db=this.dW}}if(!this.DQ){F=Math.min(this.sX,F);
if(F==this.sX){this.Dt=j;this.Db=this.sX}}F=this.vdf(F)}this.Pw=!0;this.t(F);this.GJ()};QB.prototype.vpM=function(Q){if(!this.Pw)this.Pb.focus();
this.Pw=!1;t.wf(document,this.vaT);t.Ab(document,this.vBw)};function QQ(Q,C){rJ.call(this);this.$K=[];
this.iu=-1;this.vOy=Q;this.JA=C;this.ev=0;this.dc=null;if(C!=null){this.xR=new QG([{name:[6,37]},{name:[5,4]}]);
this.xR.parent=this;this.xR.p("select",this.oE,this)}this.w=t.e("div","imageset scrollable");this.w.addEventListener("contextmenu",t.Wj,!1)}QQ.prototype=new rJ;
QQ.prototype.N=function(){if(this.xR)this.xR.N()};QQ.prototype.oE=function(Q){var C=this.xR.X_()[0],j=new P(t.E.m,!0),Z={$:t.i.yN,Vh:this.JA,qM:[this.iu]};
if(C==0){var F=this.dc[1][this.iu];Z.yZ="rnm";j.data={$:t.i.kN,ul:"namewindow",Fc:F,vBU:{T:t.E.m,I:Z}}}else{j.data=Z;
Z.yZ="del"}this.Z(j)};QQ.prototype.vsv=function(){return this.ev};QQ.prototype.xb=function(Q){this.ev=Q;
if(this.dc)this.MT()};QQ.prototype.fZ=function(Q,C,j,Z){this.dc=[Q,C,j,Z];this.MT()};QQ.prototype.MT=function(){var Q=this.dc,C=Q[0],j=Q[1],Z=Q[2],F=Q[3];
this.$K=[];this.w.innerHTML="";var _=this.xq.bind(this),$=this.ev;if($==0)t._I(this.w,"imageset");else t.Zy(this.w,"imageset");
for(var L=0;L<C.length;L++){var D=C[L];if(D==null){this.$K.push(null);continue}var d=t.e("img","image");
if(Z)t.GI(d,Z,F);if(this.vOy)t._I(d,"gsicon");d.setAttribute("src",D);if($==0){}else{var o=t.e("div","listitem");
o.appendChild(d);var v=t.e("span");v.textContent=j?j[L]:"Item "+(L+1);v.setAttribute("style","margin-left:4px;");
o.appendChild(v);d=o}if(j)d.setAttribute("title",j[L]);d.addEventListener("mousedown",_,!1);this.$K.push(d);
this.w.appendChild(d)}};QQ.prototype.xq=function(Q){this.iu=this.$K.indexOf(Q.currentTarget);if(Q.button==0)this.Z(new P(t.E.U));
if(Q.button==2&&this.xR){var C=this.xR;C.update(null);var j=t.Gp(Q,document.body),Z=new P(t.E.m,!0);
Z.data={$:t.i.Ko,kU:C,x:j.x,y:j.y+2};this.Z(Z)}};QQ.prototype.K=function(){return this.iu};QQ.prototype.t=function(Q){this.iu=Q};
QQ.prototype.rm=function(Q){for(var C=0;C<this.$K.length;C++){var j=this.$K[C];if(j==null)continue;if(C==Q)t._I(j,"active");
else t.Zy(j,"active")}};function _y(Q,C,j,Z,F,_,$){rJ.call(this);this.w=t.e("span","fitem "+j);this.yw=new rJ;
this.yw.w=t.e("div","floatcont");this.yw.w.setAttribute("style","width: "+(Z+1.5)+"em;");this.yw.parent=this;
this.e$=t.e("div");this.yw.w.appendChild(this.e$);this.on=t.e("div");this.yw.w.appendChild(this.on);
if(Q){this.Lv=Q;this.uv=t.e("label","flabel");this.w.appendChild(this.uv)}this.$=t.e("button",$?"nopadding":"");
this.$.setAttribute("style","position:relative;");this.$.addEventListener("click",(C?this.EM:this.We).bind(this),!1);
this.w.appendChild(this.$);this.Bv=t.e("img",$?"gsicon":"");this.$.appendChild(this.Bv);if(C){var L=t.e("button");
L.textContent="\u25BC";L.addEventListener("click",this.We.bind(this),!1);this.w.appendChild(L)}else{var D=t.e("span");
D.textContent="\u25BC";D.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.$.appendChild(D)}var d=t.e("span");
this.on.appendChild(d);d.setAttribute("style","display:inline-block;  vertical-align:top; width:"+Z+"em;");
this.yl=new QQ($,_);d.appendChild(this.yl.w);this.yl.parent=this.yw;this.yl.p(t.E.U,this.vsD,this);this.yl.w.style.height=F+"em";
this.DR=t.e("button");this.DR.textContent="\u25BC";this.DR.setAttribute("style","padding:3px");this.DR.addEventListener("click",this.vsK.bind(this),!1);
this.on.appendChild(this.DR);var o=this.En(),v=_!=rQ.IL&&_!=rQ.vt?_:null,f=_==null?"":rQ.ZC[_][0].toUpperCase(),U=v?[{name:[12,87]}]:[];
U=U.concat([{name:"",F:function(B){return{yC:rT.get([25,3,0])+" / "+rT.get([25,3,1])}}},{name:[23,6,"."+(f=="ICC"?"icc .cube .look .3dl":f)]},{name:"",F:function(B){return{yC:rT.get([1,8])+" ."+f}},ui:o.length!=0}]);
for(var H=0;H<o.length;H++)U.push({name:o[H].split("/").pop()});this.xR=new QG(U);this.xR.parent=this.yw;
this.xR.p("select",this.oE,this);this.JA=_;this.vyb=v;this.xf=null;this.Dy=!0;this.Ib=null}_y.prototype=new rJ;
_y.prototype.En=function(){return[]};_y.prototype.vsD=function(Q){this.rQ(Q);this.yl.rm(this.yl.K())};
_y.prototype.EM=function(){};_y.prototype.N=function(){this.xR.N();this.yl.N();var Q=this.Lv;if(Q)this.uv.textContent=rT.get(Q)+":"};
_y.prototype.hE=function(Q){this.uv.textContent=Q};_y.prototype.Ip=function(Q){var C=this.JA,j=0;if(C==rQ.vK){j=this.xf?this.xf.length:0;
Q=Q.slice(0)}this.xf=Q;this.Dy=!0;if(t.sY(this.yl.w)||C==rQ.dH)this.he();if(C==rQ.vK&&Q.length-j==1&&t.sY(this.w)){this.t(Q[j]);
this.Dy=!0;this.he();this.yl.rm(j);this.Z(new P(t.E.U))}};_y.prototype.oE=function(Q){var C=Q.target.X_()[0];
if(this.vyb==null)C++;var j=new P(t.E.m,!0);if(C==0){var Z=this.eg();if(this.JA==rQ.vK&&Z[0].profile==null)return;
j.data={$:t.i.yN,yZ:"add",Vh:this.vyb,JF:Z}}else if(C==1)this.yl.xb(1-this.yl.vsv());else if(C==2)j.data={$:t.i.rb};
else if(C==3)j.data={$:t.i.so,vxx:this.JA};else{var F=this.En();j.data={$:t.i.PJ,Vh:{url:"rsrc/"+F[C-4]}}}if(j.data)this.Z(j)};
_y.prototype.eg=function(){return[this.K()]};_y.prototype.vsK=function(Q){var C=this.xR;C.N();C.update(null);
var j=Q.currentTarget.getBoundingClientRect(),Z=new P(t.E.m,!0);Z.data={$:t.i.Ko,kU:C,x:j.left,y:j.top+j.height};
this.Z(Z)};_y.prototype.We=function(Q){this.he();var C=this.$.getBoundingClientRect(),j=new P(t.E.m,!0);
j.data={$:t.i.Ko,kU:this.yw,x:C.left,y:C.top+C.height,v$V:!0};this.Z(j)};function bg(){rJ.call(this);
this.w=t.e("div");this.hb=!1;this.If=[new rc([12,19,1],[[13,1,7]].concat(rY.fY)),new Qu([17,1]),new Qu([12,46])];
for(var Q=0;Q<3;Q++){var C=this.If[Q];this.w.appendChild(C.w);C.p(t.E.U,this.$w,this)}this.N()}bg.prototype=new rJ;
bg.prototype.N=function(){for(var Q=0;Q<3;Q++)this.If[Q].N()};bg.prototype.K=function(){return this.hb.slice(0)};
bg.prototype.t=function(Q){this.hb=Q.slice(0);var C=this.If,j=C[0].K();C[1].t(Q.slice(j*8,j*8+4),j);
C[2].t(Q.slice(j*8+4,j*8+8),j)};bg.prototype.$w=function(Q){var C=this.If,j=C.indexOf(Q.currentTarget);
if(j==0)this.t(this.hb);else{var Z=C[0].K()*8+(j==1?0:4),F=C[j].K();for(var _=0;_<4;_++)this.hb[Z+_]=F[_];
this.Z(new P(t.E.U,!1))}};function Qu(Q){rJ.call(this);this.w=t.e("div");this.bn=t.e("canvas");this.vOf=Q;
this.hb=[0,20,200,255];this.Yp=0;this.v$M=-1;this.vTZ=!1;this.vW_=[];for(var C=0;C<5;C++){var j=t.e("span");
j.setAttribute("style","display:inline-block;width:"+(C==0?8:C==2?7:2)+"em");this.vW_.push(j);this.w.appendChild(j)}this.iO=this.GF.bind(this);
this._e=this.LC.bind(this);this.Q_=this.CB.bind(this);t.BF(this.bn,this.iO);this.w.appendChild(this.bn);
this.MT()}Qu.prototype=new rJ;Qu.prototype.N=function(){this.MT()};Qu.prototype.t=function(Q,C){this.hb=Q;
this.Yp=C;this.MT()};Qu.prototype.K=function(){return this.hb.slice(0)};Qu.prototype.GF=function(Q){var C=this.hb,j=t.Gp(Q,this.bn),Z=j.x-8,F=-1,_=1e9;
for(var $=0;$<4;$++){var L=Z-C[$],D=Math.abs(L);if(D<8&&D<_&&(($&1)==0&&L<0||($&1)==1&&L>0)){_=L;F=$}}if(F==-1)return;
this.v$M=F;this.eW=Q.altKey||C[(F>>>1)*2]!=C[(F>>>1)*2+1];t.og(window,this._e);t.oF(window,this.Q_)};
Qu.prototype.LC=function(Q){var C=this.hb,j=this.v$M,Z=(j>>>1)*2,F=Z+1,_=t.Gp(Q,this.bn),$=Math.round(Math.max(0,Math.min(255,_.x-8)));
C[j]=$;if(this.eW&&C[Z]>=C[F])this.eW=!1;if(!this.eW)C[Z]=C[F]=$;this.MT();this.Z(new P(t.E.U,!1))};
Qu.prototype.CB=function(Q){t.wf(window,this._e);t.Ab(window,this.Q_)};Qu.prototype.MT=function(){var Q=this.bn;
t.lZ(Q,255+16,16);var C=Q.getContext("2d"),j=Q.width,Z=Q.height,F=Math.round(255*t.s()),_=Math.round(8*t.s());
C.translate(_,0);var $=C.createLinearGradient(0,0,F,0);$.addColorStop(0,"black");$.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.Yp]);
C.fillStyle=$;C.fillRect(0,0,F,_);var L=this.vW_,D=rT.get(this.vOf)+":";L[0].textContent=D;for(var d=0;
d<4;d++){var o=this.hb[d];L[1+d].textContent=o;var v=Math.round(o*t.s());C.beginPath();C.moveTo(v,_);
C.lineTo(v,_+_);C.lineTo(v+((d&1)==0?-1:1)*_,_+_);C.closePath();C.fillStyle="#cccccc";C.fill();C.strokeStyle="black";
C.stroke()}};function tT(Q){rJ.call(this);this.Lr=0;this.alt=0;var C="ai"+t.jw();this.w=t.e("span","fitem angleinput");
if(Q){this.uv=t.e("label","flabel");this.Lv=Q;this.w.appendChild(this.uv);this.uv.setAttribute("for",C)}this.L_=20;
this.ky=t.e("canvas","gsicon");this.zf=this.ky.getContext("2d");t.lZ(this.ky,this.L_*2+1,this.L_*2+1,this.zf);
this.w.appendChild(this.ky);t.BF(this.ky,this.rD.bind(this));this.xX=this.gZ.bind(this);this.Fl=this.r_.bind(this);
this.Pb=t.e("input","");this.Pb.setAttribute("type","text");this.w.appendChild(this.Pb);this.Pb.setAttribute("id",C);
this.Pb.addEventListener("change",this._q.bind(this),!1);this.xk=t.e("span","");this.xk.innerHTML="\xB0";
this.w.appendChild(this.xk);this.t(this.Lr,this.alt)}tT.prototype=new rJ;tT.prototype.N=function(){this.uv.textContent=rT.get(this.Lv)+":"};
tT.prototype.hE=function(Q){this.uv.textContent=Q};tT.prototype.K=function(){return{Lr:this.Lr,alt:this.alt}};
tT.prototype.t=function(Q,C){if(Q!=null)this.Lr=Q;if(C!=null)this.alt=C;this.Pb.value=this.Lr;Q=Math.PI*this.Lr/180;
C=.9*this.L_*(90-this.alt)/90;var j=this.L_+.5,Z=this.zf;Z.clearRect(0,0,100,100);Z.strokeStyle="#000000";
Z.beginPath();Z.arc(j,j,.9*this.L_,0,2*Math.PI);Z.moveTo(j,j);Z.lineTo(j+Math.cos(Q)*this.L_*.9,j-Math.sin(Q)*this.L_*.9);
Z.stroke();Z.strokeStyle="#ff0000";Z.beginPath();Z.moveTo(j+Math.cos(Q)*C-3,j-Math.sin(Q)*C);Z.lineTo(j+Math.cos(Q)*C+3,j-Math.sin(Q)*C);
Z.moveTo(j+Math.cos(Q)*C,j-Math.sin(Q)*C-3);Z.lineTo(j+Math.cos(Q)*C,j-Math.sin(Q)*C+3);Z.stroke()};
tT.prototype._q=function(Q){var C=parseInt(this.Pb.value);C=C%360;this.t(C);this.Z(new P(t.E.U,!1))};
tT.prototype.rD=function(Q){t.og(window,this.xX);t.oF(window,this.Fl);this.gZ(Q)};tT.prototype.gZ=function(Q){var C=t.Gp(Q,this.ky),j=C.x-this.L_,Z=C.y-this.L_,F=180*Math.atan2(-Z,j)/Math.PI,_=90-90*Math.min(1,Math.sqrt(j*j+Z*Z)/(.9*this.L_));
this.t(Math.round(F),Math.round(_));this.Z(new P(t.E.U,!1))};tT.prototype.r_=function(Q){this.Z(new P(t.E.U,!1));
t.wf(window,this.xX);t.Ab(window,this.Fl)};function tO(Q,C){rJ.call(this);this.hb=0;this.Iu=C;this.w=t.e("span","fitem angleinput");
if(Q){this.uv=t.e("label","flabel");this.Lv=Q;this.w.appendChild(this.uv)}this.ky=t.e("canvas","gsicon");
this.zf=this.ky.getContext("2d");t.lZ(this.ky,C,C);this.w.appendChild(this.ky);t.BF(this.ky,this.rD.bind(this));
this.xX=this.gZ.bind(this);this.Fl=this.r_.bind(this);this.t(0)}tO.prototype=new rJ;tO.prototype.N=function(){if(this.Lv)this.uv.textContent=rT.get(this.Lv)+":"};
tO.prototype.hE=function(Q){this.uv.textContent=Q};tO.prototype.K=function(){return this.hb};tO.prototype.t=function(Q){this.hb=Q;
var C=this.ky.width,j=Math.floor(Q/3),Z=Q-3*j,F=(Z+.5)*C/3,_=(j+.5)*C/3,$=this.zf,L=[.5,Math.round(C/3)+.5,Math.round(2*C/3)+.5,C-.5];
$.clearRect(0,0,C,C);var D=this.Iu<30;$.setLineDash([]);$.strokeStyle=D?"rgba(0,0,0,0.5)":"#000000";
$.beginPath();for(var d=0;d<4;d++){var o=L[d];$.moveTo(o,0);$.lineTo(o,C);$.moveTo(0,o);$.lineTo(C,o)}$.stroke();
if(Q==9)return;if(!D){$.setLineDash([1,2]);var v=C*.53,f=Math.max(0,Math.min(C-v,F-v/2)),U=Math.max(0,Math.min(C-v,_-v/2));
$.strokeRect(Math.round(f)+.5,Math.round(U)+.5,Math.round(v),Math.round(v))}$.fillStyle="#000000";$.beginPath();
$.arc(F,_,C/8,0,Math.PI*2);$.fill()};tO.prototype.rD=function(Q){t.og(window,this.xX);t.oF(window,this.Fl);
this.gZ(Q)};tO.prototype.gZ=function(Q){var C=t.Gp(Q,this.ky),j=Math.max(0,Math.min(2,Math.floor(C.x/(this.Iu/3)))),Z=Math.max(0,Math.min(2,Math.floor(C.y/(this.Iu/3))));
this.t(Z*3+j)};tO.prototype.r_=function(Q){this.Z(new P(t.E.U,!1));t.wf(window,this.xX);t.Ab(window,this.Fl)};
function rs(Q,C,j,Z){rJ.call(this);this.w=t.e("button","fitem"+(C?" spread":"")+(Z?" bbtn":""));this.Lv=Q;
this.DW=j;this.N();this.w.addEventListener("click",this.xq.bind(this),!1)}rs.prototype=new rJ;rs.prototype.N=function(){var Q=this.w,C=this.Lv,j=this.DW,Z=rT.get(C);
Q.innerHTML=Z;if(Z.startsWith("<img"))Q.setAttribute("style","padding:2px");if(j){Q.setAttribute("title",rT.get(j))}};
rs.prototype.vxm=function(Q){this.w.setAttribute("title",Q)};rs.prototype.xq=function(Q){this.Z(new P("click",!1))};
rs.prototype.In=function(){t._I(this.w,"bactive")};rs.prototype.XG=function(){t.Zy(this.w,"bactive")};
rs.prototype.hE=function(Q,C){if(Q)this.Lv=Q;if(C)this.DW=C;this.N()};rs.prototype.t=function(Q){if(Q)this.In();
else this.XG()};rs.prototype.CC=function(){return this.w.getAttribute("class").indexOf("bactive")!=-1};
rs.prototype.K=function(){return this.CC()};function tv(Q){rJ.call(this);this.w=t.e("span","fitem cswatch");
this.vWQ=0;this.GK=[];this.VP=[];var C=this.vsj.bind(this);for(var j=0;j<Q;j++){this.GK.push(0);var Z=t.e("span","colorsample");
Z.addEventListener("click",C,!1);this.VP.push(Z);this.w.appendChild(Z)}var F=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],_=Math.min(Q,F.length);
for(var j=0;j<_;j++)this.GK[j]=F[j];this.iZ()}tv.prototype=new rJ;tv.prototype.vsj=function(Q){this.vWQ=this.VP.indexOf(Q.currentTarget);
this.Z(new P(t.E.U))};tv.prototype.K=function(){return this.GK[this.vWQ]};tv.prototype.t=function(Q){var C=this.GK,j=C.indexOf(Q);
if(j!=-1)C.splice(j,1);else C.pop();C.unshift(Q);this.iZ()};tv.prototype.iZ=function(){for(var Q=0;Q<this.GK.length;
Q++){this.VP[Q].setAttribute("style","background-color:#"+e.vY(this.GK[Q]))}};function vy(Q){rJ.call(this);
this.et=!1;this.dV={h:0,J:0,_:0};this.Qf=Q;this.w=t.e("span","fitem colorsample");this.w.addEventListener("click",this.xq.bind(this),!1)}vy.prototype=new rJ;
vy.prototype.N=function(){};vy.prototype.vtP=function(Q){if(this.et==Q)return;this.et=Q;this.dG()};vy.prototype.xq=function(Q){var C=this.dV;
this.Z(new P("click"));var j=new P(t.E.m,!0);j.data={$:t.i.kN,ul:"colorpicker",Uw:C.h<<16|C.J<<8|C._,np:this.eJ.bind(this),eR:this.Qf};
this.Z(j)};vy.prototype.eJ=function(Q){this.fN(Q);this.Z(new P(t.E.U))};vy.prototype.vsS=function(){this.xq(null)};
vy.prototype.dp=function(){var Q=this.dV;return Q.h<<16|Q.J<<8|Q._};vy.prototype.K=function(){return e.q.mx(this.dV)};
vy.prototype.fN=function(Q){this.dV={h:Q>>16&255,J:Q>>8&255,_:Q&255};this.dG()};vy.prototype.t=function(Q){this.dV=e.q.Xa(Q);
this.dG()};vy.prototype.dG=function(){var Q=this.dV,C=Q.h,j=Q.J,Z=Q._;if(this.et)C=j=Z=Math.round(e.kg(C,j,Z));
var F=C<<16|j<<8|Z;this.w.setAttribute("style","background-color:#"+e.vY(F))};function $Q(Q){_y.call(this,Q,!1,"brushbutton nopadding",16.6,10,rQ.LX,!0);
this.JU=new rX([12,14,0],1,1e3," px",0,!0);this.JU.p(t.E.U,this.vK$,this);this.e$.appendChild(this.JU.w);
this.R_=new rX([12,17],0,100,"%");this.R_.p(t.E.U,this.vK$,this);this.e$.appendChild(this.R_.w)}$Q.prototype=new _y;
$Q.prototype.We=function(Q){var C=this.w.getBoundingClientRect();this.vbh(C.left,C.top+C.height)};$Q.prototype.vbh=function(Q,C){this.he();
var j=new P(t.E.m,!0);j.data={$:t.i.Ko,kU:this.yw,x:Q,y:C};this.Z(j)};$Q.prototype.t=function(Q,C,j){this.Ib=JSON.parse(JSON.stringify(Q));
var Z=Math.floor(20*t.s()),F=Math.floor(36*t.s()),_=Math.floor(24*t.s()),$=rh.ww(Q,C,j,Z,_,F);this.Bv.setAttribute("src",$);
t.GI(this.Bv,F,_);var L=Q.Brsh.v;this.JU.t(L.Dmtr.v.val);if(L.Hrdn!=null){this.R_.Ii();this.R_.t(L.Hrdn.v.val)}else this.R_.IO();
this.yl.rm(-1)};$Q.prototype.eg=function(){return{list:[{t:"Objc",v:this.K()}],_G:[],vf:[]}};$Q.prototype.K=function(){return this.Ib};
$Q.prototype.he=function(){if(!this.Dy)return;var Q=[],C=[],j=this.xf,Z=Math.floor(33*t.s()),F=Math.floor(40*t.s());
for(var _=0;_<j.list.length;_++){var $=j.list[_].v,L=rh.ww($,j._G,j.vf,Z,F);Q.push(L);C.push($.Nm.v.split("=").pop())}this.yl.fZ(Q,C,Z,F);
this.Dy=!1};$Q.prototype.rQ=function(Q){var C=this.xf;this.t(C.list[this.yl.K()].v,C._G,C.vf);this.Z(new P(t.E.U))};
$Q.prototype.N=function(){_y.prototype.N.call(this);this.JU.N();this.R_.N()};$Q.prototype.vK$=function(Q){var C=this.xf,j=this.Ib;
j.Brsh.v.Dmtr.v.val=this.JU.K();if(j.Brsh.v.Hrdn!=null)j.Brsh.v.Hrdn.v.val=this.R_.K();this.t(j,C._G,C.vf);
this.Z(new P(t.E.U))};function QH(Q){_y.call(this,Q,!0,"contourbutton",17,10.5,rQ.tR)}QH.prototype=new _y;
QH.prototype.rQ=function(Q){this.t(this.xf[Q.target.K()]);this.Z(new P(t.E.U))};QH.prototype.EM=function(Q){var C=new P(t.E.m,!0);
C.data={$:t.i.kN,ul:"contoureditor",L:this.Ib,response:this.vsT.bind(this)};this.Z(C)};QH.prototype.vsT=function(Q){this.t(Q);
this.Z(new P(t.E.U))};QH.prototype.he=function(){if(!this.Dy)return;var Q=Math.floor(38*t.s()),C=Math.floor(38*t.s()),j=[],Z=[],F=this.xf;
for(var _=0;_<F.length;_++){Z.push(F[_].Nm?F[_].Nm.v:"");j.push(e.ZU.ww(F[_].Crv.v,Q,C))}this.yl.fZ(j,Z,Q,C);
this.Dy=!1};QH.prototype.t=function(Q){this.Ib=JSON.parse(JSON.stringify(Q));var C=this.Ib.Crv.v;for(var j=0;
j<C.length;j++)if(C[j].v.Cnty==null)C[j].v.Cnty={t:"bool",v:!0};this.nI()};QH.prototype.nI=function(){var Q=Math.floor(30*t.s()),C=Math.floor(30*t.s()),j=e.ZU.ww(this.Ib.Crv.v,Q,C);
this.Bv.setAttribute("src",j);t.GI(this.Bv,Q,C)};QH.prototype.K=function(){return JSON.parse(JSON.stringify(this.Ib))};
function vx(Q){rJ.call(this);this.Gj=null;this.VO=null;this.hP=null;this.Dz=null;this.vrl=[];this.v_W=[];
this.w=t.e("span","fitem fillbutton");this.yw=new rJ;this.yw.w=t.e("div","floatcont form");this.yw.w.setAttribute("style","width: 21em;");
this.yw.parent=this;this.tX=Q;this.uv=this.uv=t.e("label","flabel");this.w.appendChild(this.uv);this.ky=t.e("canvas");
this.zf=this.ky.getContext("2d");this.v_r=null;this.w.appendChild(this.ky);this.ky.addEventListener("click",this.We.bind(this),!1);
this.IG=new vp([12,66],["","Color","Grad","Patt"]);this.yw.w.appendChild(this.IG.w);this.IG.p(t.E.U,this.$w,this);
this.yw.w.appendChild(t.e("hr"));this.vOP=t.e("span");this.Ei=new vy(!0);this.Ei.parent=this.yw;this.Ei.p(t.E.U,this.$w,this);
this.Di=new tv(10);this.Di.p(t.E.U,this.$w,this);this.Rt=t.e("div","marged hiline");this.Rt.appendChild(this.Ei.w);
t.hQ(this.Rt);this.Rt.appendChild(this.Di.w);this.Cb=new $E("GrFl",!0);this.Cb.parent=this.yw;this.Cb.p(t.E.U,this.$w,this);
this.IT=t.e("div","marged hiline");var C="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var j=0;
j<C.length;j++){var Z=this.Cb.Ic[C[j]].w;this.IT.appendChild(Z)}this.Cs=new $E("patternFill",!0);this.Cs.parent=this.yw;
this.Cs.p(t.E.U,this.$w,this);this.Is=t.e("div","marged hiline");var C=["Ptrn","Scl","Algn","phase"];
for(var j=0;j<C.length;j++){var Z=this.Cs.Ic[C[j]].w;this.Is.appendChild(Z)}}vx.prototype=new rJ;vx.prototype.VD=function(Q,C){if(C==rQ.Mu){this.vrl=[];
this.v_W=[];if(this.Gj)this.t(this.hP,this.K(),this.Gj)}this.VO=Q;this.Cb.VD(Q,C);this.Cs.VD(Q,C)};vx.prototype.N=function(){this.uv.textContent=rT.get(this.tX)+": ";
this.IG.N();this.Ei.N();this.Cb.N();this.Cs.N()};vx.prototype.$w=function(Q){var C=Q.currentTarget;if(C==this.IG){var j=this.IG.K(),Z={Gg:j,hv:this.Gj[j]};
if(j>0&&Z.hv==null)Z.hv=JSON.parse(JSON.stringify(WM.$y[j-1]));if(this.Gj)this.t(this.hP,Z,this.Gj)}if(C==this.Di)this.Ei.fN(C.K());
this.Z(new P(t.E.U,!1))};vx.prototype.We=function(Q){var C=this.ky.getBoundingClientRect(),j=new P(t.E.m,!0);
j.data={$:t.i.Ko,kU:this.yw,x:C.left,y:C.top+C.height+4};this.Z(j);this.Di.t(this.Ei.dp())};vx.prototype.t=function(Q,C,j){this.Gj=j;
this.hP=Q;var Z=[[13,1,0],[13,0],[12,37],[12,62]],F=this.vrl,_=this.v_W,$=!1,v;for(var L=0;L<4;L++){var D={Gg:L,hv:j[L]},d=vx.vjP(D);
if(_[L]==d)continue;$=!0;var o=vx.vSB(null,D,this.VO,this.hP,22,22,!1);F[L]="<img width=\"22\" height=\"22\" src=\""+o+"\" />";
_[L]=d}if($)this.IG.Bk(F,Z);this.IG.t(C.Gg);var d=vx.vjP(C);if(d!=this.v_r)vx.vSB(this.zf,C,this.VO,this.hP,30,23,!0);
this.v_r=d;var f=C.Gg;if(f==0){v=this.vOP}if(f==1){this.Ei.t(C.hv.Clr.v);v=this.Rt}if(f==2){this.Cb.update(Q,C.hv);
v=this.IT}if(f==3){this.Cs.update(Q,C.hv);v=this.Is}if(v!=this.Dz){if(this.Dz!=null){this.yw.w.removeChild(this.Dz)}this.yw.w.appendChild(v);
this.Dz=v}};vx.prototype.K=function(){var Q={Gg:this.IG.K()};if(Q.Gg==1){Q.hv=JSON.parse(JSON.stringify(WM.$y[0]));
Q.hv.Clr.v=this.Ei.K()}if(Q.Gg==2){Q.hv=this.Cb.K()}if(Q.Gg==3){Q.hv=this.Cs.K()}return Q};vx.vjP=function(Q){var C=Q.Gg,j=Q.hv,Z="empty";
if(C==1){Z=e.q.Xa(j.Clr.v);Z=Z.h+","+Z.J+","+Z._}if(C==2)Z=JSON.stringify(j.Grad.v);if(C==3)Z=j.Ptrn.v.Idnt.v;
return Z};vx.vSB=function(Q,C,j,Z,F,_,$){if(Q==null)Q=vx.zf;var L=Math.floor(F*t.s()),D=Math.floor(_*t.s()),d=Q.canvas,o;
d.width=L;d.height=D;t.GI(d,L,D);var v=C.Gg;if(v==0){Q.fillStyle="#ffffff";Q.fillRect(0,0,L,D);Q.strokeStyle="#ff0000";
Q.lineWidth=2;Q.moveTo(0,0);Q.lineTo(L,D);Q.moveTo(0,D);Q.lineTo(L,0);Q.stroke()}if(v==1){var f=C.hv.Clr.v;
f=e.q.Xa(f);Q.fillStyle="#"+e.vY(f.h<<16|f.J<<8|f._);Q.fillRect(0,0,L,D)}if(v==2){G.Xt.ww(C.hv.Grad.v,L,D,0,j.pd,j.JD,d)}if(v==3){var U=C.hv.Ptrn.v,H;
if(Z!=null)H=rk.Fw(U,Z.add.Patt);if(H==null)H=rk.Fw(U,j._N);WA.ww(H,L,D,d)}if($){Q.beginPath();Q.strokeStyle="#000000";
Q.fillStyle="#ffffff";Q.lineWidth=2;var B=L*.7,m=Math.floor(D*.7),Y=7*t.s();Q.moveTo(B,m);Q.lineTo(B+Y,m);
Q.lineTo(B+Y/2,m+Y/2);Q.closePath();Q.stroke();Q.fill()}if(Q==vx.zf)return d.toDataURL()};vx.zf=t.e("canvas").getContext("2d");
function WA(Q){_y.call(this,Q,!1,"patternbutton",18,10,rQ.Mu);this.eS=null}WA.prototype=new _y;WA.prototype.rQ=function(Q){var C=this.xf[this.yl.K()];
this.Ib={classID:"Ptrn",Nm:{t:"TEXT",v:C.name},Idnt:{t:"TEXT",v:C.id}};this.Z(new P(t.E.U));this.nI()};
WA.zB=!1;WA.prototype.he=function(){if(!this.Dy)return;var Q=this.xf;if(Q==null||!WA.zB){var C=new P(t.E.m,!0);
C.data={$:t.i.PJ,Vh:{url:"rsrc/basic/basic.pat"}};this.Z(C);WA.zB=!0;return}var j=Math.floor(34*t.s()),Z=Math.floor(34*t.s()),F=[],_=[];
for(var $=0;$<Q.length;$++){F.push(WA.ww(Q[$],j,Z));_.push(Q[$].name)}this.yl.fZ(F,_,j,Z);this.Dy=!1};
WA.prototype.t=function(Q,C){if(this.Ib&&Q.Idnt.v==this.Ib.Idnt.v)return;this.Ib=JSON.parse(JSON.stringify(Q));
this.nI(C)};WA.prototype.K=function(){return JSON.parse(JSON.stringify(this.Ib))};WA.prototype.eg=function(){return this.eS?[this.eS]:[]};
WA.prototype.nI=function(Q){var C=Math.floor(50*t.s()),j=Math.floor(50*t.s()),Z;if(Q!=null)Z=rk.Fw(this.Ib,Q.add.Patt);
if(Z==null)Z=rk.Fw(this.Ib,this.xf);this.eS=Z;var F=WA.ww(Z,C,j);this.Bv.setAttribute("src",F);t.GI(this.Bv,C,j)};
WA.bn=t.e("canvas","");WA.ww=function(Q,C,j,Z){if(Z==null)Z=WA.bn;var F=Z.getContext("2d");Z.width=C;
Z.height=j;if(Q){var _=Q.z.W,$=Q.z.C,L=Q.Dg,D=Math.min(C/_,j/$),d=D;if(d*_<2)d=2/_;var o=D;if(o*$<2)o=2/$;
var v=G.S.Ia([L,Q.z],new rI(d,0,0,o,0,0),!1),f=v.rect.W,U=v.rect.C,H=F.createImageData(f,U);e.W_(v.buffer,H.data);
F.putImageData(H,Math.floor((C-f)/2),Math.floor((j-U)/2))}return Z.toDataURL()};function tX(Q){_y.call(this,Q,!1,"patternbutton",24.2,17,rQ.IL);
this.WP=""}tX.prototype=new _y;tX.prototype.rQ=function(Q){this.Ib=JSON.parse(JSON.stringify(this.xf[0][this.yl.K()]));
this.Z(new P(t.E.U))};tX.prototype.he=function(){var Q=this.xf;if(Q==null||!this.Dy)return;var C=Math.floor(50*t.s()),j=Math.floor(50*t.s()),Z=[],F=[];
for(var _=0;_<Q[0].length;_++){Z.push(tX.ww(this.xf[0][_].oK,C,j,this.xf[1]));F.push(Q[0][_].ED.Nm.v.split("=").pop())}this.yl.fZ(Z,F,C,j);
this.Dy=!1};tX.prototype.t=function(Q,C,j,Z){var F=JSON.stringify(Q.oK)+","+j+","+Z;if(this.WP!=F){this.WP=F;
this.Ib=JSON.parse(JSON.stringify(Q));this.nI(C,j,Z)}this.yl.rm(-1)};tX.prototype.K=function(){return JSON.parse(JSON.stringify(this.Ib))};
tX.prototype.nI=function(Q,C,j){var Z=Math.floor(68*t.s()),F=Math.floor(68*t.s()),_=tX.ww(this.Ib.oK,Z,F,Q?Q:this.xf[1],C,j);
this.Bv.setAttribute("src",_);t.GI(this.Bv,Z,F)};tX.ww=function(Q,C,j,Z,F,_){var $=new rH;$.W=C;$.C=j;
$.buffer=e.Q(C*j*4);$.add.Patt=Z;$.GO(F==null?90:F);$.Gd(_==null?30:_);var L=new s(0,0,Math.round(C*.5),Math.round(j*.5));
L.x=Math.round((C-L.W)/2);L.y=Math.round((j-L.C)/2);var D=$.qg();D.rect=L;D.buffer=e.Q(L.P()*4);e.kM(D.buffer,4284045657);
rk.vzM(Q,D,.5*100);$.k.push(D);$.Ed();$.X();var d=E.bs;E.bs=!1;$.GV();var o=$.ln();E.bs=d;var v=vX.Md(o.buffer,$.W,$.C);
return v};function DK(Q){_y.call(this,null,!1,"tpresetbutton",18,24,rQ.G_,!0);t.Zy(this.w,"fitem");this.yl.xb(1);
this.id=Q;this.nI();this.IE=new vg([15,7,9]);this.IE.t(!0);this.IE.p(t.E.U,this.vsB,this);this.on.appendChild(this.IE.w)}DK.prototype=new _y;
DK.prototype.vsX=function(Q){if(this.id==Q)return;this.id=Q;this.Ip(this.xf)};DK.prototype.rQ=function(Q){var C=this.xf[this.yl.K()],j=new P(t.E.m,!0);
j.data={$:t.i.yN,yZ:"set",Vh:rQ.G_,JF:C};this.Z(j)};DK.prototype.N=function(){_y.prototype.N.call(this);
this.IE.N()};DK.prototype.vsB=function(){this.Dy=!0;this.he()};DK.prototype.he=function(){if(!this.Dy)return;
var Q=Math.floor(16*t.s()),C=Math.floor(16*t.s()),j=[],Z=[],F=this.xf,_=this.IE.K();for(var $=0;$<F.length;
$++){var L=G.vvk(F[$]);if(!_||L==this.id){Z.push(F[$][0]?F[$][0].split("=").pop():"");j.push(L==-1?"":PIMG[G.Mc[L][0]])}else{j.push(null);
Z.push(null)}}this.yl.fZ(j,Z,Q,C);this.Dy=!1};DK.prototype.nI=function(){var Q=this.Bv;Q.setAttribute("src",PIMG[G.Mc[this.id][0]]);
t._I(Q,"toolicon")};DK.prototype.eg=function(){return null};DK.wl={};DK.ww=function(Q,C,j){var Z=DK.Dn,F=DK.wl,_=e.vY(Q.h<<16|Q.J<<8|Q._);
if(F[_])return F[_];if(Z==null){var $=t.e("canvas");Z=DK.Dn=$.getContext("2d")}var $=Z.canvas;$.width=C;
$.height=j;Z.fillStyle="#"+_;Z.fillRect(0,0,C,j);var L=F[_]=$.toDataURL();return L};function QP(Q,C){rJ.call(this);
this.w=t.e("span","fitem curveeditor");this.sC=null;this.vQz=0;this.Yp="";this.mode=0;this.Du=Q;this.vOe=C;
this.td=null;this.va=null;this.Zu=new Wn;this.FS=this.gZ.bind(this);this.FJ=this.r_.bind(this);this.ky=t.e("canvas","");
this.zf=this.ky.getContext("2d");t.W$(this.ky);t.lZ(this.ky,256,256,this.zf);this.w.appendChild(this.ky);
t.BF(this.ky,this.rD.bind(this))}QP.prototype=new rJ;QP.prototype.t=function(Q,C){var j=JSON.stringify(Q);
if(j==JSON.stringify(this.td))return;this.mode=Q.length==256?1:0;this.td=JSON.parse(j);if(C!=null)this.va=this.td[C];
this.hx()};QP.prototype.xC=function(Q,C,j){this.sC=Q;this.vQz=C;this.Yp=j;this.hx()};QP.prototype.K=function(){return JSON.parse(JSON.stringify(this.td))};
QP.prototype.vuj=function(){return this.td.indexOf(this.va)};QP.prototype.rD=function(Q){var C=t.Gp(Q,this.ky),j=C.x,Z=256-C.y;
if(this.Du){var F=j;j=256-Z;Z=F}this.Zu.KL(j,Z);if(this.mode==0){var _=null;for(var $=0;$<this.td.length;
$++){var L=this.td[$].v,D=L.Hrzn.v-j,d=L.Vrtc.v-Z,o=Math.sqrt(D*D+d*d);if(o<5)_=this.td[$]}if(_==null){_=e.ZU.fM(j,Z,!0);
this.td.push(_)}this.va=_}t.og(document.body,this.FS);t.oF(document.body,this.FJ);this.gZ(Q)};QP.prototype.gZ=function(Q){var C=t.Gp(Q,this.ky),j=C.x,Z=256-C.y;
if(this.Du){var F=j;j=256-Z;Z=F}if(this.mode==0){var _=this.td,$=this.vOe,L=_.indexOf(this.va),D=L==0||L==_.length-1,d=0,o=255,v=!0;
if(D){d=1;o=254}if(!$||!D)this.va.v.Hrzn.v=Math.max(d,Math.min(o,Math.round(j)));this.va.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(Z)));
for(var f=0;f<_.length;f++){if(_[f]==this.va)continue;if(Math.abs(_[f].v.Hrzn.v-this.va.v.Hrzn.v)<2)v=!1}if(j<0||j>255||Z<0||Z>255)v=!1;
if(v&&_.indexOf(this.va)==-1)_.push(this.va);if(!v&&_.indexOf(this.va)!=-1&&_.length>2&&(!$||!D))_.splice(_.indexOf(this.va),1);
if(_[0].v.Hrzn.v==_[1].v.Hrzn.v)if(_[0].v.Hrzn.v==0)_[1].v.Hrzn.v=1;else _[0].v.Hrzn.v--;_.sort(function(q,r){return q.v.Hrzn.v-r.v.Hrzn.v})}else{j=Math.round(j);
Z=Math.round(Z);j=Math.max(0,Math.min(255,j));Z=Math.max(0,Math.min(255,Z));var U=this.Zu.x,H=j,B=this.Zu.y,m=Z;
if(j<this.Zu.x){H=U;U=j;m=B;B=Z}this.td[j]=Z;if(U!=H)for(var Y=U;Y<=H;Y++)this.td[Y]=Math.round(B+(Y-U)*(m-B)/(H-U))}this.Zu.KL(j,Z);
this.hx();this.Z(new P(t.E.U))};QP.prototype.r_=function(Q){t.wf(document.body,this.FS);t.Ab(document.body,this.FJ);
this.Z(new P(t.E.U))};QP.prototype.hx=function(){var Q=this.zf;Q.fillStyle="#ffffff";Q.fillRect(0,0,256,256);
if(this.sC){Q.translate(0,256);Q.scale(1,-1);Dm.vui(Q,this.sC,5700/this.vQz,this.Yp);Q.scale(1,-1);Q.translate(0,-256)}Q.strokeStyle="#aaaaaa";
Q.lineWidth=1;Q.beginPath();for(var C=1;C<4;C++){Q.moveTo(0,64*C-.5);Q.lineTo(255,64*C-.5);Q.moveTo(64*C-.5,0);
Q.lineTo(64*C-.5,255)}Q.stroke();if(this.Du){Q.save();Q.transform(0,1,-1,0,256,0)}if(this.mode==0){var j=this.td,Z=e.ZU.Ij(j,256);
Q.strokeStyle="#000000";Q.beginPath();Q.moveTo(0,255.5-Z[0]);for(var C=0;C<256;C++)Q.lineTo(C,255.5-Z[C]);
Q.stroke();Q.lineWidth=2;for(var C=0;C<j.length;C++){var F=j[C].v;Q.fillStyle=this.va==j[C]?"#333":"#fff";
Q.beginPath();Q.moveTo(F.Hrzn.v,255.5-F.Vrtc.v);Q.arc(F.Hrzn.v,255.5-F.Vrtc.v,3,0,2*Math.PI);Q.stroke();
Q.fill()}}else{var Z=this.td;Q.strokeStyle="#000000";Q.beginPath();Q.moveTo(0,255.5-Z[0]);for(var C=0;
C<256;C++)Q.lineTo(C,255.5-Z[C]);Q.stroke()}if(this.Du)Q.restore()};function Dm(Q){rJ.call(this);this.w=t.e("span","");
this.IY=new rc([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);this.IY.p(t.E.U,this.MT,this);this.w.appendChild(this.IY.w);
t.hQ(this.w);this.bn=t.e("canvas");var C=this.bn;this.w.appendChild(C);C.width=Math.round(Q*t.s());C.height=Math.round(100*t.s());
t.GI(C,C.width,C.height);this.Dn=C.getContext("2d");this.sC=null;this.sU=0}Dm.prototype=new rJ;Dm.prototype.N=function(){this.IY.N()};
Dm.prototype.xb=function(Q){this.IY.t(Q);this.MT()};Dm.prototype.t=function(Q){this.sC=Q;this.MT()};
Dm.prototype.fN=function(Q){if(Q==this.sU)return;this.sU=Q;this.MT()};Dm.prototype.MT=function(){if(this.sC==null)return;
var Q=this.bn,C=this.Dn,j=this.sC,Z=this.IY.K(),F=6e3/j[4],_="#"+e.vY(this.sU),$=Dm.vui;Q.width=Q.width;
C.setTransform(Q.width/256,0,0,-Q.height/100,0,Q.height);C.globalCompositeOperation="lighter";if(Z==0)$(C,j[0],F/3,_);
else if(Z<4)$(C,j[Z],F,_);else{$(C,j[1],F,"#ff0000");$(C,j[2],F,"#00ff00");$(C,j[3],F,"#0000ff")}C.setTransform(1,0,0,1,0,0)};
Dm.vui=function(Q,C,j,Z){Q.beginPath();Q.moveTo(0,0);for(var F=0;F<256;F++)Q.lineTo(F,C[F]*j);Q.lineTo(256,0);
Q.closePath();Q.fillStyle=Z;Q.fill()};function $S(Q){rJ.call(this);this.lP={h:0,J:0,_:0};if(Math.abs(Q-256/t.s())<10)Q=256/t.s();
var C=this.w=t.e("div","flexrow");this.Lz=new Wn;this.GB=new Wn;this.xX=this.vsp.bind(this);this.Fl=this.vsh.bind(this);
this.ky=t.e("canvas","");this.zf=this.ky.getContext("2d");this.ky.width=this.ky.height=256;this.vOH=this.zf.getImageData(0,0,256,256);
this.vQB=-1;t.W$(this.ky);t.BF(this.ky,this.vsf.bind(this));C.appendChild(this.ky);this.vQx=this.vyf.bind(this);
this.vtK=this.vEp.bind(this);this.tn=t.e("canvas","");this.tB=this.tn.getContext("2d");this.tn.width=20;
this.tn.height=256;this.vtd=this.tB.getImageData(0,0,20,256);this.vsZ(this.vtd.data,20,256);t.W$(this.tn);
t.BF(this.tn,this.vEu.bind(this));C.appendChild(this.tn);this.ky.setAttribute("style","width:"+Q+"px; height:"+Q+"px");
this.tn.setAttribute("style","width:"+20/t.s()+"px; height:"+Q+"px")}$S.prototype=new rJ;$S.prototype.b_=function(Q,C){this.ky.style.width=Q+"px"};
$S.prototype.t=function(Q){this.lP=Q;this.update()};$S.prototype.K=function(){return JSON.parse(JSON.stringify(this.lP))};
$S.prototype.update=function(){var Q=this.lP,C=e.kV(Q.h,Q.J,Q._);if(C.dK==0)C.iC=this.Lz.x/255;if(C.iC==0||C.dK==0)C.NE=(255-this.zX(this.GB.y))/255;
if(C.dK!=0)this.Lz.x=C.iC*255;this.Lz.y=(1-C.dK)*255;this.GB.y=(1-C.NE)*255;var j=this.vOH;if(Math.abs(C.NE-this.vQB)>.002){this.vsy(j.data,256,256,C.NE);
this.vQB=C.NE}this.zf.putImageData(j,0,0);this.zf.strokeStyle="#000000";this.zf.beginPath();this.zf.arc(this.Lz.x+1,this.Lz.y+1,5,0,2*Math.PI);
this.zf.stroke();this.zf.strokeStyle="#ffffff";this.zf.beginPath();this.zf.arc(this.Lz.x,this.Lz.y,5,0,2*Math.PI);
this.zf.stroke();var j=this.vtd;this.tB.putImageData(j,0,0);this.tB.strokeStyle="#ffffff";this.tB.beginPath();
this.tB.moveTo(0,this.GB.y);this.tB.lineTo(20,this.GB.y);this.tB.lineWidth=2;this.tB.stroke()};$S.prototype.vsy=function(Q,C,j,Z){var F=1/C,_=1/j;
for(var $=0;$<j;$++)for(var L=0;L<C;L++){var D=e.zj(Z,L*F,(j-$-1)*_),d=$*C+L<<2;Q[d+0]=~~(D.h*255);Q[d+1]=~~(D.J*255);
Q[d+2]=~~(D._*255);Q[d+3]=255}};$S.prototype.vsZ=function(Q,C,j){var Z=new Uint32Array(Q.buffer);for(var F=0;
F<j;F++){var _=e.zj(1-F/j,1,1),$=255<<24|_._*255<<16|_.J*255<<8|_.h*255;for(var L=0;L<C;L++)Z[F*C+L]=$}};
$S.prototype.vsf=function(Q){t.og(window,this.xX);t.oF(window,this.Fl);this.vsp(Q)};$S.prototype.vsh=function(Q){t.wf(window,this.xX);
t.Ab(window,this.Fl)};$S.prototype.vsp=function(Q){var C=t.Gp(Q,this.ky);C.x=C.x*(256/parseFloat(this.ky.style.width));
C.y=C.y*(256/parseFloat(this.ky.style.height));this.Lz.KL(this.zX(C.x),this.zX(C.y));this.GJ()};$S.prototype.GJ=function(){this.lP=this.vEg();
this.Z(new P(t.E.U))};$S.prototype.vEg=function(){var Q=e.zj((255-this.zX(this.GB.y))/255,this.FD(this.Lz.x/255),this.FD(1-this.Lz.y/255));
return{h:Q.h,J:Q.J,_:Q._}};$S.prototype.vEu=function(Q){t.og(window,this.vQx);t.oF(window,this.vtK);
this.vyf(Q)};$S.prototype.vEp=function(Q){t.wf(window,this.vQx);t.Ab(window,this.vtK)};$S.prototype.vyf=function(Q){var C=t.Gp(Q,this.tn);
C.y=C.y*(256/parseFloat(this.tn.style.height));this.GB.KL(this.zX(C.x),this.zX(C.y));this.GJ()};$S.prototype.zX=function(Q){return Math.max(0,Math.min(255,Q))};
$S.prototype.FD=function(Q){return Math.max(0,Math.min(1,Q))};function vp(Q,C,j){rJ.call(this);if(!C)return;
this.iu=0;this.w=t.e("span","fitem bbmenu");if(Q){this.Lv=Q;this.uv=t.e("label","flabel");this.uv.textContent=Q+":";
this.w.appendChild(this.uv)}this.A$=[];this.pv=null;this.Bk(C,j);this.t(0)}vp.prototype=new rJ;vp.prototype.hE=function(Q){this.Lv=Q;
this.N()};vp.prototype.N=function(){if(this.Lv!=null){this.uv.textContent=rT.get(this.Lv)+": "}for(var Q=0;
Q<this.A$.length;Q++)this.A$[Q].N()};vp.prototype.K=function(){return this.iu};vp.prototype.Bk=function(Q,C){while(this.A$.length>0)this.w.removeChild(this.A$.pop().w);
this.pv=Q;for(var j=0;j<Q.length;j++){var Z=new rs(Q[j],!1,C?C[j]:null);Z.p("click",this._q,this);this.w.appendChild(Z.w);
this.A$.push(Z)}this.N()};vp.prototype.t=function(Q){this.iu=Q;for(var C=0;C<this.A$.length;C++)this.A$[C].XG();
this.A$[Q].In()};vp.prototype._q=function(Q){var C=this.A$.indexOf(Q.target);this.t(C);this.Z(new P(t.E.U,!1))};
function to(Q,C,j,Z){if(Z==null)Z=16;var F=to.zm,_=F.getContext("2d"),$=Z>>>1;F.width=F.height=Z;var L=[];
for(var D=0;D<C.length;D++){if(C[D]=="checker"){_.fillStyle="white";_.fillRect(0,0,Z,Z);_.fillStyle="#bbbbbb";
_.fillRect($,0,$,$);_.fillRect(0,$,$,$)}else{_.fillStyle=C[D];_.fillRect(0,0,Z,Z)}L.push("<img src=\""+F.toDataURL()+"\" />")}vp.call(this,Q,L,j)}to.prototype=new vp;
to.zm=t.e("canvas");function rc(Q,C,j,Z){rJ.call(this);if(!C)return;if(j==null)j=!1;this.iu=0;this.vON=j;
this.Lv=Q;this.DX=null;this.vKG=Z;var F="dd"+t.jw();this.w=t.e("span","fitem ddmenu");if(Q&&!j){this.uv=t.e("label","flabel");
this.w.appendChild(this.uv);this.uv.setAttribute("for",F)}this.ic=t.e("select","bbtn");this.ic.setAttribute("id",F);
this.w.appendChild(this.ic);this.ic.addEventListener("change",this._q.bind(this),!1);this.A$=[];this.pv=null;
this.Bk(C,Z);this.N()}rc.prototype=new rJ;rc.prototype.hE=function(Q){this.Lv=Q;this.N()};rc.prototype.N=function(){if(this.Lv!=null){var Q=rT.get(this.Lv);
if(this.vON)this.ic.setAttribute("title",Q);else this.uv.textContent=Q+":"}if(this.pv)this.Bk(this.pv,this.vKG);
this.t(this.iu)};rc.prototype.K=function(){return this.iu};rc.prototype.Bk=function(Q,C){t.pi(this.ic);
var j=[],F=0;if(C){j.push(C[0]);for(var Z=1;Z<C.length;Z++)j.push(j[Z-1]+C[Z])}this.pv=Q;this.DX=[];
this.vKG=C;for(var Z=0;Z<Q.length;Z++){var _=t.e("option");_.textContent=rT.get(Q[Z]);_.setAttribute("value",Z);
this.ic.appendChild(_);this.A$.push(_);this.DX.push(Z+F);if(j.indexOf(Z+1)!=-1&&Z!=Q.length-1){var $=t.e("option");
$.setAttribute("disabled","");$.textContent="";this.ic.appendChild($);F++}}};rc.prototype.t=function(Q){this.iu=Q;
this.ic.selectedIndex=this.DX[Q]};rc.prototype._q=function(Q){this.iu=this.DX.indexOf(this.ic.selectedIndex);
this.Z(new P(t.E.U,!1))};function ta(){rJ.call(this);this.El=null;this.Rl=new tJ;this.Rl.p(t.E.U,this.vEZ,this);
this.Rl.parent=this;this.RS=new vf([12,14,0],1,150,"px",0,!0);this.RS.p(t.E.U,this.Qm,this);this.RS.parent=this;
this.Rp=new vf([16,0],0,100,"px",2,!0,null,5);this.Rp.p(t.E.U,this.Qm,this);this.Rp.parent=this;this.pD=new vg("Auto");
this.pD.p(t.E.U,this.Qm,this);this.j$=new vf([16,1],-500,5e3,"%",0,!0);this.j$.p(t.E.U,this.Qm,this);
this.j$.parent=this;this.Gy=new vf("\u2B0D",1,300,"%",null,null,null,null,[2,7,[22,4,3]]);this.Gy.p(t.E.U,this.Qm,this);
this.Gy.parent=this;this.Pg=new vf("\u2B0C",1,300,"%",null,null,null,null,[2,7,[22,4,2]]);this.Pg.p(t.E.U,this.Qm,this);
this.Pg.parent=this;this.Pu=new vf([16,2],-10,10,"px");this.Pu.p(t.E.U,this.Qm,this);this.Pu.parent=this;
this.jz=new vy(!0);this.jz.p(t.E.U,this.vEG,this);this.jz.parent=this;this.DB=new rs("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.DG=new rs("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.$D=new rs("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.$b=new rs("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.$i=new rs("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.$l=new rs("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.$u=new rs("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.$C=new rs("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var Q=[this.DB,this.DG,this.$D,this.$b,this.$i,this.$l,this.$u,this.$C];
for(var C=0;C<Q.length;C++)Q[C].p("click",this.vEd,this);this.eT=new rs("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.eu=new rs("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.ek=new rs("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.vRO=new rs("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.vRK=new rs("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.vRk=new rs("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.vRY=new rs("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.PX=[this.eT,this.eu,this.ek,this.vRO,this.vRK,this.vRk,this.vRY];for(var C=0;C<this.PX.length;C++)this.PX[C].p("click",this.Qm,this);
var j=["lind","rind","flind","bind","aind"],Z=[];for(var C=0;C<5;C++)Z.push("<img src=\""+PIMG["par/"+j[C]]+"\" class=\"autoscale gsicon\" /> ");
this.p$=new vf(Z[0],-20,20,"px");this.p$.p(t.E.U,this.Qm,this);this.p$.parent=this;this.pW=new vf(Z[1],-20,20,"px");
this.pW.p(t.E.U,this.Qm,this);this.pW.parent=this;this.p_=new vf(Z[2],-20,20,"px");this.p_.p(t.E.U,this.Qm,this);
this.p_.parent=this;this.pt=new vf(Z[3],-20,20,"px");this.pt.p(t.E.U,this.Qm,this);this.pt.parent=this;
this.pK=new vf(Z[4],-20,20,"px");this.pK.p(t.E.U,this.Qm,this);this.pK.parent=this;this.PF=new vp([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);
this.PF.p(t.E.U,this.Qm,this);this.PF.parent=this}ta.prototype=new rJ;ta.prototype.N=function(){this.Rl.N();
this.RS.N();this.Rp.N();this.j$.N();this.Pu.N();this.Gy.N();this.Pg.N();this.PF.N()};ta.prototype.t=function(Q,C,j){this.Bz=JSON.parse(JSON.stringify(Q));
var Z=this.Bz,F=Z.hy,_=Z.Cx;this.DB.t(F.FauxBold!=null?F.FauxBold:!1);this.DG.t(F.FauxItalic!=null?F.FauxItalic:!1);
this.$D.t(F.FontCaps==2);this.$b.t(F.FontCaps==1);this.$l.t(F.FontBaseline==1);this.$i.t(F.FontBaseline==2);
this.$u.t(F.Underline);this.$C.t(F.Strikethrough);this.Rl.t(F.Font==null?null:Z.UT[F.Font].Name,C,j);
var $=F.FontSize==null?20:F.FontSize;this.RS.t($);var L=F.Tracking;this.j$.t(L==null?0:L);this.Rp.t(F.Leading!=null?F.Leading:0);
this.pD.t(F.AutoLeading);this.Gy.t((F.VerticalScale!=null?F.VerticalScale:0)*100);this.Pg.t((F.HorizontalScale!=null?F.HorizontalScale:0)*100);
this.Pu.t(F.BaselineShift!=null?F.BaselineShift:0);if(F.FillColor){var D=rD.Xa(F);this.jz.fN(Math.round(D.h)<<16|Math.round(D.J)<<8|Math.round(D._))}else this.jz.fN(0);
var d=_._Direction!=null?_._Direction:0,o=rD.jS(_);for(var v=0;v<this.PX.length;v++)this.PX[v].t(o==v);
this.PF.t(d);this.p$.t(_.StartIndent!=null?_.StartIndent:0);this.pW.t(_.EndIndent!=null?_.EndIndent:0);
this.p_.t(_.FirstLineIndent!=null?_.FirstLineIndent:0);this.pt.t(_.SpaceBefore!=null?_.SpaceBefore:0);
this.pK.t(_.SpaceAfter!=null?_.SpaceAfter:0)};ta.prototype.IK=function(){var Q=new P(t.E.m,!0);Q.data={$:t.i.yN,Vh:rQ.tq,Bz:this.Bz};
this.Z(Q);var Q=new P(t.E.a,!0);Q.Y=G.Jl;Q.data={$:"updateStyles"};this.Z(Q)};ta.prototype.vEd=function(Q){var C=this.Bz.hy,j=Q.target,Z=!j.CC();
if(j==this.DB)C.FauxBold=Z;if(j==this.DG)C.FauxItalic=Z;if(j==this.$D)C.FontCaps=Z?2:0;if(j==this.$b)C.FontCaps=Z?1:0;
if(j==this.$l)C.FontBaseline=Z?1:0;if(j==this.$i)C.FontBaseline=Z?2:0;if(j==this.$u)C.Underline=Z;if(j==this.$C)C.Strikethrough=Z;
this.IK()};ta.prototype.Qm=function(Q){var C=this.Bz.hy,j=this.Bz.Cx,Z=Q.target;if(Z==this.j$){var F=this.j$.K();
if(F==null)window.vjv("An error occured. Please, write us an email to support@photopea.com and describe what you did.");
C.Tracking=F}if(Z==this.Rp){C.AutoLeading=!1;C.Leading=this.Rp.K()}if(Z==this.pD){C.AutoLeading=this.pD.K()}if(Z==this.RS)C.FontSize=Z.K();
if(Z==this.Gy)C.VerticalScale=Z.K()/100;if(Z==this.Pg)C.HorizontalScale=Z.K()/100;if(Z==this.Pu)C.BaselineShift=Z.K();
if(this.PX.indexOf(Z)!=-1){j.Justification=rD.jS(j,this.PX.indexOf(Z))}if(Z==this.p$)j.StartIndent=Z.K();
if(Z==this.pW)j.EndIndent=Z.K();if(Z==this.p_)j.FirstLineIndent=Z.K();if(Z==this.pt)j.SpaceBefore=Z.K();
if(Z==this.pK)j.SpaceAfter=Z.K();if(Z==this.PF)j._Direction=Z.K();this.IK()};ta.prototype.vEZ=function(Q){var C=this.Bz,j=this.Rl.K(),Z=-1;
for(var F=0;F<C.UT.length;F++)if(C.UT[F].Name==j)Z=F;if(Z==-1){Z=C.UT.length;var _=JSON.parse(JSON.stringify(C.UT[0]));
_.Name=j;C.UT.splice(Z,0,_)}C.hy.Font=Z;this.IK()};ta.prototype.vEG=function(Q){var C=this.jz.dp(),j={Type:1,Values:[1,(C>>16&255)/255,(C>>8&255)/255,(C>>0&255)/255]};
for(var Z=0;Z<4;Z++)j.Values[Z]=Math.round(j.Values[Z]*1e3)/1e3;this.Bz.hy.FillColor=j;this.IK()};function tJ(){rJ.call(this);
this.w=t.e("span","fontinput");this.ND=null;this.ep=null;this.Fp=null;this.PM="";this.$K={};this.eE=[];
this.vjq={};this.eL=!1;this.ja=t.e("button","fitem");this.ja.setAttribute("style","width:9em;");this.ja.textContent="Family Name \u25BC";
this.w.appendChild(this.ja);t.BF(this.ja,this.vDP.bind(this));this.iw=new rJ;this.iw.parent=this;this.iw.w=t.e("div","floatcont");
this.iw.w.addEventListener("keyup",this.vEH.bind(this),!1);this.vw=new bq(6.8);this.iw.w.appendChild(this.vw.vdk());
this.vw.parent=this.iw;this.vw.p(t.E.U,this.FW,this);var Q=t.e("div","form");this.iw.w.appendChild(Q);
this.eQ=new rs(t.Pr("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.eQ.p("click",this.vdv,this);
Q.appendChild(this.eQ.w);this.LY=new $q([12,86],null,9);this.LY.p("input",this.de,this);Q.appendChild(this.LY.w);
var C=this.vOw=new rs([23,6,[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);C.p("click",this.vEM,this);
C.w.style.marginLeft="1.5em";Q.appendChild(C.w);this.$G=t.e("span","fitem imageset scrollable marged");
this.$G.style.height="30em";this.iw.w.appendChild(this.$G);this.ez=t.e("button","fitem");this.ez.setAttribute("style","width:7em;");
this.ez.textContent="SubFamily Name \u25BC";this.w.appendChild(this.ez);t.BF(this.ez,this.vDP.bind(this));
this.pR=new rJ;this.pR.parent=this;this.pR.w=t.e("div","floatcont");this.eC=t.e("span","fitem imageset scrollable marged");
this.pR.w.appendChild(this.eC)}tJ.prototype=new rJ;tJ.prototype.vEH=function(Q){var C=0;if(b.BM(Q.code,b.bo))C=-1;
if(b.BM(Q.code,b.bP))C=1;if(C!=0){var j=this.eE,Z=j.length,F=this.ND.am()[this.Fp];if(F==null&&Z==0)return;
var _=j.indexOf(F[0]);if(_==-1)return;_=(_+C+Z)%Z;this.XK(j[_],null)}};tJ.prototype.vEM=function(){var Q=new P(t.E.m,!0);
Q.data={$:t.i.rb,vOA:".otf,.ttf,.ttc"};this.Z(Q)};tJ.prototype.N=function(){this.vw.N();this.vOw.N();
this.eQ.hE(t.Pr("tools/cshape",null,"autoscale"))};tJ.prototype.vdv=function(Q){this.eQ.t(!this.eQ.CC());
this.FW()};tJ.prototype.de=function(Q){this.PM=this.LY.K().toLowerCase();this.FW()};tJ.prototype.vDP=function(Q){t.QZ(Q);
var C=Q.currentTarget,j=C.getBoundingClientRect(),Z=C==this.ja,F=Z?this.iw:this.pR;if(t.sY(F.w)){this.vdq(F);
return}if(!Z&&this.ND.am()[this.Fp]==null)return;var _=new P(t.E.m,!0);_.data={$:t.i.Ko,kU:F,x:j.left,y:j.top+j.height};
this.Z(_);if(Z){this.FW();this.LY.Fg()}};tJ.prototype.vdr=function(Q){var C=Q.currentTarget.firstChild.nextSibling.textContent;
if(Q.target.tagName.toLowerCase()=="button"){var j=this.ep.slice(0),Z=j.indexOf(C);if(Z==-1){j=j.slice(Math.max(0,j.length-29));
j.push(C)}else j.splice(Z,1);var F=new P(t.E.m,!0);F.data={$:t.i.yN,Vh:rQ.tp,GE:j};this.Z(F);this.eL=!0;
this.FW()}else{this.XK(C,null);this.LY.Fg()}};tJ.prototype.vdR=function(Q){this.XK(null,Q.currentTarget.firstChild.textContent)};
tJ.prototype.XK=function(Q,C){var j=Q==null?this.pR:this.iw,Z=this.ND;if(Q==null)Q=Z.am()[this.Fp][0];
else{var F=Z.Uv(Q),_=Z.am()[this.Fp];C=rA.UO(F,_?_[1]:"regular")}var $=Z.bp(Q,C)[2];this.t($,Z);this.Z(new P(t.E.U,!1));
this.FW()};tJ.prototype.vdq=function(Q){var C=new P(t.E.m,!0);C.data={$:t.i.zt,kU:Q};this.Z(C)};tJ.prototype.K=function(){return this.Fp};
tJ.prototype.t=function(Q,C,j){var Z=this.ND;if(Q!=null)this.Fp=Q;else Q=this.Fp;this.ND=C;this.ep=j;
if(Q!=null){var F=C.am()[Q],_,$;if(F==null){_="- "+Q;$="-------"}else{_=F[0];$=F[1];var L=C.Uv(_);L.sort(rA.vam);
var D=L.indexOf($),d=this.vdR.bind(this);this.eC.textContent="";for(var o=0;o<L.length;o++){var F=C.bp(_,L[o]);
if(!this.vw.XR(F))continue;var v=this.vWm(F,F[1],d,!1);this.eC.appendChild(v)}}this.ja.textContent=_.substring(0,15)+" \u25BC";
this.ja.setAttribute("title",_);this.ez.textContent=$.substring(0,10)+" \u25BC";this.ez.setAttribute("title",$)}};
tJ.prototype.FW=function(){var Q=this.ND.am()[this.Fp],C=this.ep,j=null,Z=this.ND.vmC(),F=this.vdr.bind(this);
this.eE=[];for(var _ in Z){var $=rA.UO(Z[_],"regular"),L=this.ND.bp(_,$),D=C.indexOf(_)!=-1,d=!0;if(this.PM.length>0&&L[0].toLowerCase().indexOf(this.PM)==-1)d=!1;
else if(!this.vw.XR(L))d=!1;else if(this.eQ.CC()&&!D)d=!1;var o=this.$K[_];if(o==null){var o=this.vWm(L,_,F,!0);
this.$K[_]=o;this.$G.appendChild(o)}if(d)this.eE.push(_);var v=d?"":"display:none; ",f="opacity: "+(D?"1":"0.2");
if(Q&&Q[0]==_){v+="background-color:rgba(0,0,0,0.13);";j=o}if(this.vjq[_]!=v+f){o.setAttribute("style",v);
o.firstChild.setAttribute("style",f);this.vjq[_]=v+f}}if(j&&!this.eL)this.$G.scrollTop=j.offsetTop-210;
this.eL=!1};tJ.prototype.vWm=function(Q,C,j,Z){var F=t.e("div","fontitem"),D="";F.addEventListener("click",j,!1);
if(Z)F.appendChild(t.e("button","star"));var _=t.e("span","label");_.setAttribute("title",C);_.textContent=C;
F.appendChild(_);var $=t.s(),L=1/$,d=rA.bk*L,o=rA.nd*L;if(1<$&&$<1.5)D="width:"+d+"px; height:"+o+"px;";
var v=t.e("span","thumb gsicon");if(Q.vqx){D+="background: url("+Q.vqx+");";if(1<$&&$<1.5)D+="background-size: "+d+"px "+o+"px;"}else{var f=Math.ceil(FNTS.list.length/rA.cols),U=Math.floor(Q.BW/f),H=Q.BW%f,B=U*rA.bk,m=H*rA.nd;
if(1<$&&$<1.5){D+="background-size: "+rA.cols*d+"px "+f*o+"px;";B*=L;m*=L}D+="background-position:-"+B+"px -"+m+"px;"}v.setAttribute("style",D);
F.appendChild(v);return F};function bq(Q){rJ.call(this);this.w=t.e("button","fitem bbtn");this.w.addEventListener("click",this.vdE.bind(this),!1);
this.yw=new rJ;this.yw.w=t.e("div","floatcont");this.yw.parent=this;this.eZ=t.e("div","flexrow");this.yw.w.appendChild(this.eZ);
this.pl=[];this.z$=[];var C=this.eZ,j=t.e("div",""),Z=t.e("div","");C.appendChild(j);C.appendChild(Z);
this.vB=[];for(var F=0;F<FNTS.cats.length;F++)this.vB.push({name:FNTS.cats[F],index:F,g_:0});this.eP=new vg([7,0]);
this.eP.p(t.E.U,this.vdL,this);j.appendChild(this.eP.w);this.eN=t.e("div","vlist marged scrollable");
this.eN.setAttribute("style","width:10.85em; height:"+Q+"em; ");j.appendChild(this.eN);this.eA=[];for(var F=0;
F<this.vB.length;F++){var _=this.vB[F],$=new vg(_.name);this.eA.push($);$.p(t.E.U,this.vXW,this);$.t(!0);
this.eN.appendChild($.w);this.pl.push(1)}this.vjI=new vg([7,0]);this.vjI.p(t.E.U,this.vdP,this);this.en=t.e("div","vlist marged scrollable");
this.en.setAttribute("style","width:8.6em; height:"+(Q+1.5)+"em; ");Z.appendChild(this.en);this.$U=[];
for(var F=0;F<FNTS.subsetNames.length;F++){var $=new vg(FNTS.subsetNames[F]);this.$U.push($);$.p(t.E.U,this.vXp,this);
$.t(!1);this.en.appendChild($.w);this.z$.push(0)}}bq.prototype=new rJ;bq.prototype.vdT=function(Q){var C=this.$U;
for(var j=0;j<C.length;j++){var Z=(Q>>>j&1)==1;this.z$[j]=Z;C[j].t(Z)}};bq.prototype.vdk=function(){return this.eZ};
bq.prototype.N=function(){this.w.textContent=rT.get([25,1,0])+" \u25BC";this.eP.N();this.vjI.N()};bq.prototype.vdE=function(Q){var C=this.w.getBoundingClientRect(),j=new P(t.E.m,!0);
j.data={$:t.i.Ko,kU:this.yw,x:C.left,y:C.top+C.height,v$V:!1};this.Z(j)};bq.prototype.XR=function(Q){if(this.pl[Q[4]]==0)return!1;
else for(var C=0;C<this.z$.length;C++)if(this.z$[C]==1&&(Q[3]>>>C&1)==0)return!1;return!0};bq.prototype.vdL=function(Q){var C=Q.target.K(),j=this.eA,Z=this.pl;
for(var F=0;F<j.length;F++){j[F].t(C);Z[F]=C?1:0}this.Z(new P(t.E.U,!1))};bq.prototype.vdP=function(Q){var C=Q.target.K(),j=this.$U,Z=this.z$;
for(var F=0;F<j.length;F++){j[F].t(C);Z[F]=C?1:0}this.Z(new P(t.E.U,!1))};bq.prototype.vXW=function(Q){var C=this.eA.indexOf(Q.target),j=this.vB[C].index;
this.pl[j]=1-this.pl[j];this.Z(new P(t.E.U,!1))};bq.prototype.vXp=function(Q){var C=this.$U.indexOf(Q.target);
this.z$[C]=1-this.z$[C];this.Z(new P(t.E.U,!1))};function vY(Q,C,j){_y.call(this,C,!0,"gradientbutton",18,10,rQ.dZ);
this.pd=-1;this.JD=-1;this.vjC=null;this.vvO=Q;this.Qf=j}vY.prototype=new _y;vY.prototype.rQ=function(Q){var C=this.xf;
this.t(C[this.yl.K()]);this.Z(new P(t.E.U))};vY.prototype.EM=function(Q){var C=new P(t.E.m,!0);C.data={$:t.i.kN,ul:"gradienteditor",q:this.Ib,np:this.vXa.bind(this),eR:this.Qf};
this.Z(C)};vY.prototype.vXa=function(Q){this.t(Q);this.Z(new P(t.E.U))};vY.prototype.he=function(){if(!this.Dy)return;
var Q=Math.floor(36*t.s()),C=Math.floor(36*t.s()),j=[],Z=[],F=this.xf;for(var _=0;_<F.length;_++){var $=F[_];
Z.push($.Nm?$.Nm.v.split("=").pop():"");var L=G.Xt.ww($,Q,C,Math.PI/4,this.pd,this.JD);j.push(L)}this.yl.fZ(j,Z,Q,C);
this.Dy=!1};vY.prototype.Xj=function(Q,C){this.vWx(this.Ib,Q,C)};vY.prototype.t=function(Q){this.vWx(Q,this.pd,this.JD)};
vY.prototype.vWx=function(Q,C,j){this.pd=C;this.JD=j;if(Q==null)return;var Z=JSON.stringify(Q),F=Z+C+","+j;
if(F==this.vjC)return;this.vjC=F;this.Ib=JSON.parse(Z);var _=Math.floor(80*t.s()),$=Math.floor(16*t.s()),L=G.Xt.ww(this.Ib,_,$,0,this.pd,this.JD);
this.Bv.setAttribute("src",L);t.GI(this.Bv,_,$)};vY.prototype.K=function(){var Q;if(this.vvO)Q=G.Xt.v$q(this.Ib,this.pd,this.JD);
else Q=JSON.parse(JSON.stringify(this.Ib));return Q};function Dw(Q){_y.call(this,Q,!1,"swatchbutton",16,8.75,rQ.dH)}Dw.prototype=new _y;
Dw.prototype.rQ=function(Q){this.t(this.xf[Q.target.K()]);this.Z(new P(t.E.U))};Dw.prototype.he=function(){if(!this.Dy)return;
var Q=Date.now(),C=Math.floor(10*t.s()),j=Math.floor(10*t.s()),Z=[],F=[],_=this.xf;for(var $=0;$<_.length;
$++){F.push(_[$].cr?_[$].cr.split("=").pop():"");Z.push(Dw.ww(_[$],C,j))}this.yl.fZ(Z,F,C,j);this.Dy=!1};
Dw.prototype.t=function(Q){this.Ib=JSON.parse(JSON.stringify(Q));this.nI()};Dw.prototype.nI=function(){var Q=Math.floor(24*t.s()),C=Math.floor(20*t.s()),j=Dw.ww(this.Ib,Q,C);
this.Bv.setAttribute("src",j);t.GI(this.Bv,Q,C)};Dw.prototype.K=function(){return JSON.parse(JSON.stringify(this.Ib))};
Dw.wl={};Dw.ww=function(Q,C,j){var Z=Dw.Dn,F=Dw.wl,_=e.vY(Q.h<<16|Q.J<<8|Q._);if(F[_])return F[_];if(Z==null){var $=t.e("canvas");
Z=Dw.Dn=$.getContext("2d")}var $=Z.canvas;$.width=C;$.height=j;Z.fillStyle="#"+_;Z.fillRect(0,0,C,j);
var L=F[_]=$.toDataURL();return L};function vg(Q,C,j){rJ.call(this);this.w=t.e("span","fitem cbox");
if(C==null)C=!0;if(j==null)j="flabel";var Z="cb"+t.jw();this.Pb=t.e("input","");this.Pb.setAttribute("type","checkbox");
this.Pb.setAttribute("id",Z);this.w.appendChild(this.Pb);this.Lv=Q;this.uv=t.e("label",j);if(C)this.uv.setAttribute("for",Z);
this.w.appendChild(this.uv);this.N();this.Pb.addEventListener("change",this._q.bind(this),!1)}vg.prototype=new rJ;
vg.prototype.vrP=function(){return this.Lv};vg.prototype.hE=function(Q){this.uv.textContent=Q};vg.prototype.N=function(){this.uv.textContent=rT.get(this.Lv)};
vg.prototype.In=function(){this.Pb.checked=!0};vg.prototype.XG=function(){this.Pb.checked=!1};vg.prototype.CC=function(){return this.Pb.checked};
vg.prototype.t=function(Q){this.Pb.checked=Q};vg.prototype.K=vg.prototype.CC;vg.prototype._q=function(Q){this.Z(new P(t.E.U,!1))};
function tV(Q,C,j,Z){rJ.call(this);this.w=t.e("span","fitem mbox");this.vv$=j;if(Q){this.Lv=Q;this.uv=t.e("label","flabel");
this.w.appendChild(this.uv)}this.FE=C;this.XP=[];for(var F=0;F<C.length;F++){var _=j?new rs(C[F],!1,Z?Z[F]:null):new vg(C[F]);
_.p(j?"click":t.E.U,this._q,this);this.XP.push(_);this.w.appendChild(_.w)}this.N()}tV.prototype=new rJ;
tV.prototype.t=function(Q){for(var C=0;C<this.FE.length;C++)this.XP[C].t(Q[C])};tV.prototype.K=function(){var Q=[];
for(var C=0;C<this.FE.length;C++)Q[C]=this.XP[C].K();return Q};tV.prototype.N=function(){if(this.Lv)this.uv.innerHTML=rT.get(this.Lv)+":";
for(var Q=0;Q<this.XP.length;Q++)this.XP[Q].N()};tV.prototype._q=function(Q){var C=this.XP.indexOf(Q.currentTarget);
if(this.vv$)this.XP[C].t(!this.XP[C].K());this.Z(new P(t.E.U,!1))};function _p(Q,C,j,Z,F,_){QB.call(this,Q,C,j,Z,F,!1,_);
this.w.appendChild(this.uv);var $=t.e("span","rangecont");this.w.appendChild($);$.appendChild(this.JN);
this.w.appendChild(this.Pb);this.Pb.setAttribute("style","width:3.3em");if(this.Dr)this.w.appendChild(this.xk)}_p.prototype=new QB;
function Qj(Q,C,j,Z){if(Q==null)Q=!1;if(C==null)C=!1;if(j==null)j=!1;rJ.call(this);this.CQ=new Wn;this.ci=new Wn;
this.HO=72;this.es=72;this.pg=!0;this.w=t.e("span","");this.fK=new vf([12,41],0,0,null,0,!1,!0);this.w.appendChild(this.fK.w);
this.fK.p(t.E.U,this.$w,this);var F=["px","%"];if(Q)F=F.concat(["mm","in"]);this.tw=new rc(null,F);this.w.appendChild(this.tw.w);
t.hQ(this.w);this.tw.p(t.E.U,this.$w,this);this.hd=new vf([12,42],0,0,null,0,!1,!0);this.w.appendChild(this.hd.w);
this.hd.p(t.E.U,this.$w,this);var _=new rs("\u21F5",!1,null,!0);_.p("click",this.vaD,this);this.Fm=new rs("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.Fm.p("click",this.$w,this);this.vzi=new $C("");if(C){this.w.appendChild(this.Fm.w);this.w.appendChild(this.vzi.w);
this.Fm.In()}else this.w.appendChild(_.w);this.Fo=new vf("DPI",0,0,null,3,!1,!0,4);if(Q&&Z==null){t.hQ(this.w);
this.w.appendChild(this.Fo.w)}this.Fo.p(t.E.U,this.$w,this);this.ed=new vg([12,23,1]);this.ed.p(t.E.U,this.$w,this);
if(j){t.hQ(this.w);this.w.appendChild(this.ed.w)}t.hQ(this.w)}Qj.prototype=new rJ;Qj.prototype.vXc=function(){this.pg=!1;
if(this.tw.K()==0){this.tw.t(3);this.Fb()}};Qj.prototype.vXG=function(){this.pg=!0};Qj.prototype.vXe=function(Q){this.Fm.t(Q)};
Qj.prototype.N=function(){this.fK.N();this.hd.N();this.Fo.N();this.Fm.N();this.ed.N()};Qj.prototype.vaD=function(Q){var C=this.ci.x;
this.ci.x=this.ci.y;this.ci.y=C;this.Fb();this.Z(new P(t.E.U,!1))};Qj.prototype.$w=function(Q){if(Q.target==this.tw&&!this.pg&&this.tw.K()==0)this.tw.t(3);
if(Q.target==this.tw||Q.target==this.ed){this.Fb();return}if(Q.target==this.Fm)Q.target.t(!Q.target.K());
var C=this.CQ,j=parseFloat(this.fK.K());if(isNaN(j))j=1;var Z=parseFloat(this.hd.K());if(isNaN(Z))Z=1;
var F=this.tw.K();if(this.pg){var _=this.es;if(F==1){j=this.CQ.x*(j/100);Z=this.CQ.y*(Z/100)}var $=[1,1,25.4/_,1/_][F];
j/=$;Z/=$;if(this.ed.K()){j+=this.CQ.x;Z+=this.CQ.y}if(Q.target==this.Fo){var L=this.Fo.K();if(!0){var D=L/_;
j*=D;Z*=D}_=L}if(this.Fm.K()){if(Q.target==this.fK)Z=j*(C.y/C.x);else j=Z*(C.x/C.y)}j=Math.max(Math.abs(j),1);
Z=Math.max(Math.abs(Z),1)}else{var _=this.HO;if(Q.target==this.Fo)_=this.Fo.K();else{if(this.Fm.K()){if(Q.target==this.fK)Z=j*(C.y/C.x);
else j=Z*(C.x/C.y)}var $=[1,1,25.4/_,1/_][F],d=j/(F==1?100:C.x*$);_=_/d}j=C.x;Z=C.y}this.ci=new Wn(Math.round(j),Math.round(Z));
this.es=_;this.Fb();this.Z(new P(t.E.U,!1))};Qj.prototype.vaW=function(Q){this.tw.t(Q);this.Fb()};Qj.prototype.t=function(Q,C){this.CQ=Q.clone();
this.ci=Q.clone();if(C!=null){this.HO=C;this.es=C}this.Fb()};Qj.prototype.Fb=function(){var Q=this.ci.x,C=this.ci.y,j=this.es,Z=(Q/C).toFixed(3);
while(Z.charAt(Z.length-1)=="0")Z=Z.substring(0,Z.length-1);if(Z.charAt(Z.length-1)==".")Z=Z.substring(0,Z.length-1);
var F="  "+Z+" : 1",_=function(o,v){while(v!=0){var f=v;v=o%v;o=f}return o},$=_(Q,C);if(Math.min(Q,C)/$<10)F="  "+Math.round(Q/$)+" : "+Math.round(C/$);
this.vzi.t(F);if(this.ed.K()){Q-=this.CQ.x;C-=this.CQ.y}var L=this.tw.K();if(L==1){if(this.pg){Q=100*Q/this.CQ.x;
C=100*C/this.CQ.y}else{Q=C=100*this.HO/this.es}}Q=Math.round(Q);C=Math.round(C);var D=[1,1,25.4/j,1/j][L];
Q*=D;C*=D;var d=L>2?2:0;this.fK.vdd(d);this.hd.vdd(d);this.fK.t(Q);this.hd.t(C);this.Fo.t(j)};Qj.prototype.K=function(){return this.ci.clone()};
Qj.prototype.vQ$=function(){return this.es};function tc(){rJ.call(this);this.HW=0;this.zr=[0,0,1,1,100,100];
this.w=t.e("span","fitem");this._V=new rc(null,[[12,89,0],[12,89,1],[12,89,2]]);this.w.appendChild(this._V.w);
this._V.p(t.E.U,this.$w,this);this.fK=new $q("W",null,3);this.fK.t(0);this.w.appendChild(this.fK.w);
this.fK.p(t.E.U,this.$w,this);this.hd=new $q("H",null,3);this.hd.t(0);this.w.appendChild(this.hd.w);
this.hd.p(t.E.U,this.$w,this);this.t({bd:0,x:0,y:0})}tc.prototype=new rJ;tc.prototype.N=function(){t.eK(this.fK,this.hd);
this._V.N()};tc.prototype.$w=function(Q){if(Q.target==this._V){var C=this.K(),j=this.zr;j[this.HW*2]=C.x;
j[this.HW*2+1]=C.y;this.HW=C.bd;this.t({bd:C.bd,x:j[C.bd*2],y:j[C.bd*2+1]})}this.Z(new P(t.E.U,!1))};
tc.prototype.t=function(Q){this._V.t(Q.bd);this.fK.t(Q.x);this.hd.t(Q.y);if(Q.bd==0){this.fK.IO();this.hd.IO()}else{this.fK.Ii();
this.hd.Ii()}};tc.prototype.K=function(){return{bd:this._V.K(),x:parseInt(this.fK.K()),y:parseInt(this.hd.K())}};
function $C(Q,C){rJ.call(this);this.Lv=Q;this.w=t.e("span","labelitem fitem"+(C?" spread":""));this.N()}$C.prototype=new rJ;
$C.prototype.t=function(Q){this.w.textContent=Q};$C.prototype.K=function(){return this.w.textContent};
$C.prototype.Ii=function(){this.w.removeAttribute("disabled")};$C.prototype.IO=function(){this.w.setAttribute("disabled","")};
$C.prototype.hE=function(Q){this.w.textContent=Q};$C.prototype.N=function(){this.w.textContent=rT.get(this.Lv)};
$C.prototype.vrP=function(){return this.Lv};function tm(Q){rJ.call(this);this.w=t.e("span","");this.vzu=Q;
this.xh=new _p("Off X",-100,100,Q?"%":"px",0,!1);this.z_=new _p("Off Y",-100,100,Q?"%":"px",0,!1);this.xh.p(t.E.U,this.$w,this);
this.z_.p(t.E.U,this.$w,this);this.w.appendChild(this.xh.w);this.w.appendChild(this.z_.w)}tm.prototype=new rJ;
tm.prototype.N=function(){this.xh.N();this.z_.N()};tm.prototype.$w=function(Q){this.Z(new P(t.E.U,!1))};
tm.prototype.va_=function(Q){this.xh.t(Q.x);this.z_.t(Q.y)};tm.prototype.vxZ=function(){return new Wn(this.xh.K(),this.z_.K())};
tm.prototype.t=function(Q){var C=Q.Hrzn.v,j=Q.Vrtc.v;if(this.vzu){C=C.val;j=j.val}this.xh.t(C);this.z_.t(j)};
tm.prototype.K=function(){var Q=this.xh.K(),C=this.z_.K();if(this.vzu)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:Q}},Vrtc:{t:"UntF",v:{type:"#Prc",val:C}}};
else return{classID:"Pnt",Hrzn:{v:Q,t:"doub"},Vrtc:{v:C,t:"doub"}}};function vf(Q,C,j,Z,F,_,$,L,D){QB.call(this,Q,C,j,Z,F,!0,_,D);
t._I(this.w,"rangedropinput");this.w.appendChild(this.uv);this.Pb.setAttribute("style","width:"+(L?L:3.3)+"em");
this.w.appendChild(this.Pb);this.vzI=t.e("span","rangecont");this.vzI.appendChild(this.JN);this.Hr=t.e("button");
this.Hr.innerHTML="\u25BC";t.BF(this.Hr,this.vat.bind(this));if($!=!0)this.w.appendChild(this.Hr);this.Xc=new rJ;
this.Xc.w=this.vzI}vf.prototype=new QB;vf.prototype.vat=function(Q){if(t.sY(this.Xc.w))return;Q.stopPropagation();
var C=this.w.getBoundingClientRect();this.JN.setAttribute("style","width:"+C.width+"px;");var j=new P(t.E.m,!0);
j.data={$:t.i.Ko,kU:this.Xc,x:C.left,y:C.top+C.height};this.Z(j)};function tf(){rJ.call(this);this.w=t.e("span","fitem strokebutton");
this.H_=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]];this.Qj=JSON.parse(JSON.stringify(WM.oj.default));
this.pV=t.e("button");this.w.appendChild(this.pV);this.pV.addEventListener("click",this.We.bind(this),!1);
var Q=t.e("canvas","gsicon");this.zf=Q.getContext("2d");this.pV.appendChild(Q);var C=t.e("span");C.textContent=" \u25BC";
this.pV.appendChild(C);this.yw=new rJ;this.yw.parent=this;this.yw.w=t.e("div","floatcont form");var j=this.yw.w;
j.setAttribute("style","width: 14em;");this.$K=[new rc([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new vp([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new vp([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new $q([19,9,2])];
for(var Z=0;Z<this.$K.length;Z++){var F=this.$K[Z];j.appendChild(F.w);var _=Z<4?t.E.U:"click";F.p(_,this.$w,this)}t.hQ(j);
this.VP=[];var $=this.vab.bind(this);for(var Z=0;Z<this.H_.length;Z++){var L=t.e("button","fitem");this.VP.push(L);
j.appendChild(L);L.addEventListener("click",$,!1);var Q=t.e("canvas","gsicon"),D=Q.getContext("2d");
L.appendChild(Q);this.vbP(D,40,20,this.H_[Z])}}tf.prototype=new rJ;tf.prototype.We=function(Q){var C=this.pV.getBoundingClientRect(),j=new P(t.E.m,!0);
j.data={$:t.i.Ko,kU:this.yw,x:C.left,y:C.top+C.height+4};this.Z(j)};tf.prototype.$w=function(Q){var _j=this.$K,C=_j.indexOf(Q.target),j=[];
for(var Z=0;Z<4;Z++)j.push(_j[Z].K());this.Qj=this.vbt(j);this.Z(new P(t.E.U,!1))};tf.prototype.vab=function(Q){var C=this.VP.indexOf(Q.currentTarget);
this.t(this.vbt(this.H_[C]));this.Z(new P(t.E.U,!1))};tf.prototype.vbt=function(Q){var C=JSON.parse(JSON.stringify(this.Qj)),j=Q[0],Z=Q[1],F=Q[2],_=Q[3];
if(j!=null)C.strokeStyleLineAlignment.v.strokeStyleLineAlignment=WM.oj.EE[j];if(Z!=null)C.strokeStyleLineCapType.v.strokeStyleLineCapType=WM.oj.Eg[Z];
if(F!=null)C.strokeStyleLineJoinType.v.strokeStyleLineJoinType=WM.oj.join[F];var $=C.strokeStyleLineDashSet.v=[];
_=_.split(" ");while((_.length&1)!=0)_.pop();for(var L=0;L<_.length;L++)$.push({t:"UntF",v:{type:"#Nne",val:parseInt(_[L])}});
return C};tf.prototype.N=function(){for(var Q=0;Q<this.$K.length;Q++)this.$K[Q].N()};tf.prototype.t=function(Q){this.Qj=JSON.parse(JSON.stringify(Q));
var C=WM.oj.EE.indexOf(Q.strokeStyleLineAlignment.v.strokeStyleLineAlignment),j=WM.oj.Eg.indexOf(Q.strokeStyleLineCapType.v.strokeStyleLineCapType),Z=WM.oj.join.indexOf(Q.strokeStyleLineJoinType.v.strokeStyleLineJoinType),F=[],_=Q.strokeStyleLineDashSet.v;
for(var $=0;$<_.length;$++)F.push(_[$].v.val);var _j=this.$K;_j[0].t(C);_j[1].t(j);_j[2].t(Z);_j[3].t(F.join(" "));
var L=[];for(var D=0;D<4;D++)L.push(_j[D].K());this.vbP(this.zf,40,16,L)};tf.prototype.K=function(){return JSON.parse(JSON.stringify(this.Qj))};
tf.prototype.vbP=function(Q,C,j,Z){var F=Z[0],_=Z[1],$=Z[2],L=Z[3].split(" ").map(parseFloat);t.lZ(Q.canvas,C,j);
var D=Math.min(5,this.Qj.strokeStyleLineWidth.v.val);for(var d=0;d<L.length;d++)L[d]*=D;Q.clearRect(0,0,C,j);
Q.setLineDash(L);Q.lineCap=["butt","round","square"][_];Q.lineJoin=["miter","round","bevel"][$];Q.lineWidth=D;
Q.beginPath();Q.moveTo(0,j/2);Q.lineTo(C*2,j/2);Q.stroke()};function Q$(Q){_y.call(this,Q,!1,"contourbutton",34,16,rQ.vt);
this.LY=new $q([12,86],null,16);this.LY.p("input",this.de,this);this.yw.w.appendChild(this.LY.w);this.Ht=null;
this.PM="";this.FH=null;this.t(Wh._j())}Q$.prototype=new _y;Q$.prototype.N=function(){_y.prototype.N.call(this);
this.LY.N()};Q$.prototype.rQ=function(Q){this.t(this.Ht[Q.target.K()]);this.Z(new P(t.E.U))};Q$.prototype.de=function(Q){this.PM=this.LY.K().toLowerCase();
this.vbn()};Q$.zB=!1;Q$.prototype.he=function(){if(!this.Dy)return;var Q=this.xf;if(Q==null||!Q$.zB){var C=new P(t.E.m,!0);
C.data={$:t.i.PJ,Vh:{url:"rsrc/basic/fa_basic.csh"}};this.Z(C);Q$.zB=!0}else{var j=Math.floor(38*t.s()),Z=Math.floor(38*t.s());
this.FH=[];for(var F=0;F<Q.length;F++)this.FH.push(Q$.vRg(Q[F],j,Z));this.vbn();this.Dy=!1}};Q$.prototype.vbn=function(){var Q=Math.floor(38*t.s()),C=Math.floor(38*t.s());
this.Ht=[];var j=[],Z=[],F=this.xf;for(var _=0;_<F.length;_++){if(F[_].BX.toLowerCase().indexOf(this.PM)==-1)continue;
this.Ht.push(F[_]);j.push(this.FH[_]);Z.push(F[_].BX)}this.yl.fZ(j,Z,Q,C)};Q$.prototype.t=function(Q){this.Ib=Q$.clone(Q);
this.nI()};Q$.prototype.nI=function(){var Q=Math.floor(23*t.s()),C=Math.floor(23*t.s()),j=Q$.vRg(this.Ib,Q,C);
this.Bv.setAttribute("src",j);t.GI(this.Bv,Q,C)};Q$.prototype.K=function(){return Q$.clone(this.Ib)};
Q$.clone=function(Q){return{BX:Q.BX,ED:Q.ED,G:S.jH.Do(Q.G),LT:Q.LT.clone()}};Q$.bn=null;Q$.Xq=null;Q$.vRg=function(Q,C,j){var Z=S.jH.Do(Q.G),F=Q.LT,_=Math.min(C/F.W,j/F.C)*.9,$=new rI;
$.translate(-.5,-.5);$.scale(.95,.95);$.translate(.5,.5);$.scale(_*F.W,_*F.C);e.D.gw(Z,$);var L=new S.jH;
L.G=Z;var D=L.oH();D.rect.x=Math.floor((C-D.rect.W)/2);D.rect.y=Math.floor((j-D.rect.C)/2);var d=e.Q(D.rect.P()*4);
e.kM(d,4278190080);e.Ie(D.channel);e.gG(D.channel,d,0);e.gG(D.channel,d,1);e.gG(D.channel,d,2);var o=Q$;
if(o.bn==null)o.bn=t.e("canvas");var v=o.bn,f=v.getContext("2d");if(v.width!=C||v.height!=j||o.Xq==null){v.width=C;
v.height=j;o.Xq=f.createImageData(C,j)}var U=o.Xq;e.kM(U.data,4294967295);e.tW(d,D.rect,U.data,new s(0,0,C,j));
f.putImageData(U,0,0);return v.toDataURL()};function $t(Q){_y.call(this,Q,!1,"ICCButton",16,12,rQ.vK,!0);
this.yl.xb(1)}$t.prototype=new _y;$t.prototype.En=function(){var Q="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var C=0;C<Q.length;C++)Q[C]="luts/"+Q[C]+".CUBE";return Q};$t.prototype.rQ=function(Q){this.t(this.xf[Q.target.K()]);
this.Z(new P(t.E.U))};$t.prototype.he=function(){if(!this.Dy)return;var Q=Math.floor(1*t.s()),C=Math.floor(1*t.s()),j=[],Z=[],F=this.xf;
for(var _=0;_<F.length;_++){var $=F[_].Nm.v.split("\\").pop().split("/").pop();Z.push($);j.push($t.ww(F[_],Q,C))}this.yl.fZ(j,Z,Q,C);
this.Dy=!1};$t.prototype.t=function(Q){this.Ib=JSON.parse(JSON.stringify(Q));this.nI()};$t.ww=function(Q,C,j){var Z=t.e("canvas"),$="ICC / 3DL / look / cube";
Z.width=C;Z.height=j;var F=Z.getContext("2d"),_=Math.floor(14*t.s());F.font=_+"px sans-serif";if(Q.Nm)$=Q.Nm.v.split("\\").pop().split("/").pop();
F.fillText($,10,_);return Z.toDataURL()};$t.prototype.nI=function(){var Q=Math.floor(120*t.s()),C=Math.floor(20*t.s());
this.Bv.setAttribute("src",$t.ww(this.Ib,Q,C));t.GI(this.Bv,Q,C)};$t.prototype.K=function(){return JSON.parse(JSON.stringify(this.Ib))};
function tM(){rJ.call(this);this.lP=null;this.w=t.e("span","fitem");this.Wv=new vx([14,9]);this.HR=new vf(null,0,150,"pt",1,!0,null,null,[19,2,5]);
this.xn=new tf;this.Wt=[this.Wv,this.HR,this.xn];for(var Q=0;Q<this.Wt.length;Q++){var C=this.Wt[Q];
this.w.appendChild(C.w);C.parent=this;C.p(t.E.U,this.$w,this)}}tM.prototype=new rJ;tM.prototype.N=function(){for(var Q=0;
Q<this.Wt.length;Q++)this.Wt[Q].N()};tM.prototype.VD=function(Q,C){this.Wv.VD(Q,C)};tM.prototype.$w=function(Q){var C=this.lP,j=this.Wv.K(),Z=j.Gg;
C.strokeEnabled.v=Z!=0;if(Z!=0){C.strokeStyleContent.v=j.hv;j.hv.classID=WM.oj.wH[Z-1]}C.strokeStyleLineWidth.v.val=this.HR.K();
if(Q.target==this.xn)C=this.xn.K();this.lP=C;this.Z(new P(t.E.U,!1))};tM.prototype.t=function(Q,C,j){this.lP=JSON.parse(JSON.stringify(C));
var Z=C.strokeEnabled.v,F=C.strokeStyleContent.v,_=Z?{Gg:1+WM.oj.wH.indexOf(F.classID),hv:F}:{Gg:0};
this.Wv.t(Q,_,j);this.HR.t(C.strokeStyleLineWidth.v.val);this.xn.t(C)};tM.prototype.K=function(){return JSON.parse(JSON.stringify(this.lP))};
function bO(Q,C){rJ.call(this);this.w=t.e("span","fitem");this.pS=["front","union","difference","intersection"];
var j=[[18,0],[18,1],[18,2],[18,3]];this.PR=[];this.Hq=0;for(var Z=0;Z<this.pS.length;Z++){var F=new rs("<img src=\""+PIMG["set/"+this.pS[Z]]+"\" class=\"autoscale gsicon\" />",!1,j[Z]);
F.p("click",this.vai,this);this.w.appendChild(F.w);this.PR.push(F)}this.PR[0].In()}bO.prototype=new rJ;
bO.prototype.K=function(){return this.pS[this.Hq]};bO.prototype.t=function(Q){this.Hq=this.pS.indexOf(Q);
for(var C=0;C<this.PR.length;C++)this.PR[C].XG();this.PR[this.Hq].In()};bO.prototype.vai=function(Q){this.t(this.pS[this.PR.indexOf(Q.currentTarget)]);
this.Z(new P(t.E.U,!1))};bO.prototype.N=function(){for(var Q=0;Q<this.PR.length;Q++)this.PR[Q].N()};
function $q(Q,C,j,Z){rJ.call(this);var F=t.jw(),_="";this.w=t.e("span","fitem tinput");if(Q){this.Lv=Q;
this.uv=t.e("label","flabel");this.w.appendChild(this.uv);this.uv.setAttribute("for",F);this.N()}if(Z==null){this.Pb=t.e("input","");
this.Pb.setAttribute("type","text")}else this.Pb=t.e("textarea","scrollable");this.Pb.setAttribute("id",F);
if(j)_+="width:"+j+"em;";if(Z){this.Pb.setAttribute("rows",Z)}if(_!="")this.Pb.setAttribute("style",_);
this.w.appendChild(this.Pb);if(C){this.xk=t.e("span","");this.xk.textContent=C;this.w.appendChild(this.xk)}this.Pb.addEventListener("change",this._q.bind(this),!1);
this.Pb.addEventListener("input",this.vag.bind(this),!1)}$q.prototype=new rJ;$q.prototype.N=function(){if(this.Lv)this.uv.textContent=rT.get(this.Lv)+":"};
$q.prototype.hE=function(Q){this.uv.textContent=Q};$q.prototype.t=function(Q){this.Pb.value=Q==null?"":Q};
$q.prototype.K=function(){return this.Pb.value};$q.prototype.Fg=function(){this.Pb.select();this.Pb.focus()};
$q.prototype._q=function(Q){this.Z(new P(t.E.U,!1))};$q.prototype.vag=function(Q){this.Z(new P("input",!1))};
function rX(Q,C,j,Z,F,_){QB.call(this,Q,C,j,Z,F,!0,_);t._I(this.w,"trangeinput");this.w.appendChild(this.uv);
this.w.appendChild(this.Pb);var $=t.e("span","rangecont");this.w.appendChild($);$.appendChild(this.JN);
this.JN.setAttribute("style","width:97%;")}rX.prototype=new QB;function bn(){rJ.call(this);this.dc=[10,!0,!0];
this.w=t.e("span","");this.If=[new vf([12,24],0,255),new vg("Anti-alias"),new vg([12,25])];for(var Q=0;
Q<3;Q++){var C=this.If[Q];C.parent=this;C.t(this.dc[Q]);this.w.appendChild(C.w);C.p(t.E.U,this.$w,this)}}bn.prototype=new rJ;
bn.prototype.$w=function(){for(var Q=0;Q<3;Q++)this.dc[Q]=this.If[Q].K();this.Z(new P(t.E.U,!1))};bn.prototype.t=function(Q){this.dc=Q.slice(0);
for(var C=0;C<3;C++)this.If[C].t(Q[C])};bn.prototype.K=function(){return this.dc.slice(0)};bn.prototype.N=function(){for(var Q=0;
Q<3;Q++)this.If[Q].N()};function bv(Q,C){rJ.call(this);if(C==null)C=!1;this.FH=[];this.vzo=0;this.vqR=0;
this.pE=0;this.dv=[];this.yg=[];for(var j in e.$k.type){if(j=="warpCustom"&&!C)continue;this.dv.push(j);
this.yg.push(e.$k.type[j])}this.w=t.e("span","fitem warpbutton");this.yw=new rJ;this.yw.w=t.e("div","floatcont");
if(Q){this.Wb=Q;this.uv=t.e("label","flabel");this.w.appendChild(this.uv)}this.$=t.e("button");this.w.appendChild(this.$);
this.$.addEventListener("click",this.We.bind(this),!1);this.Wl=new QQ(!0);this.yw.w.appendChild(this.Wl.w);
this.Wl.p(t.E.U,this.vax,this);this.N()}bv.prototype=new rJ;bv.prototype.hE=function(Q){this.uv.textContent=Q};
bv.prototype.N=function(){if(this.Wb)this.uv.innerHTML=rT.get(this.Wb)+":";this.FH=[];var Q=t.e("canvas",""),C=Q.getContext("2d"),j=0;
C.font=Math.floor(13*t.s())+"px sans-serif";for(var Z=0;Z<this.dv.length;Z++){j=Math.max(j,C.measureText(rT.get(e.$k.type[this.dv[Z]])).width)}var F=this.vzo=Math.floor(50*t.s()+j),_=this.vqR=Math.floor(23*t.s());
Q.width=F;Q.height=_;this.yw.w.setAttribute("style","width:"+Math.floor(8+F/t.s())+"px;");C.font=Math.floor(13*t.s())+"px sans-serif";
C.lineWidth=1;C.strokeStyle="#000000";var $=Math.floor(16*t.s()),L=new s(0,0,$,$);for(var Z=0;Z<this.dv.length;
Z++){var D=this.dv[Z];C.clearRect(0,0,Q.width,Q.height);var d=e.$k.$k(L,D,!0,.3,0,0),o=e.g.iq(L);o.u.push("M","L","M","L");
o.b.push(0,$/2,$,$/2);o.b.push($/2,0,$/2,$);o=e.g.Dv(o);o=e.g.D$(o,$/5);e.tl.apply(d,o.b,L);e.g.M(o.b,new rI(1,0,0,1,Math.floor(8*t.s())+.5,Math.floor(3*t.s())+.5),o.b);
C.beginPath();Typr.U.pathToContext({cmds:o.u,crds:o.b},C);C.stroke();C.fillText(rT.get(e.$k.type[D]),Math.floor(40*t.s()),Math.floor(16*t.s()));
this.FH.push(Q.toDataURL())}this.Wl.fZ(this.FH,null,F,_);this.nI()};bv.prototype.We=function(Q){var C=this.$.getBoundingClientRect(),j=new P(t.E.m,!0);
j.data={$:t.i.Ko,kU:this.yw,x:C.left,y:C.top+C.height+4};this.Z(j)};bv.prototype.vax=function(Q){var C=new P(t.E.m,!0);
C.data={$:t.i.zt,kU:this.yw};this.Z(C);this.pE=Q.target.K();this.nI();this.Z(new P(t.E.U))};bv.prototype.nI=function(){this.Wl.rm(this.pE);
this.$.innerHTML="<img src=\""+this.FH[this.pE]+"\" class=\"gsicon\" />";var Q=this.vzo,C=this.vqR;t.GI(this.$.firstChild,Q,C)};
bv.prototype.K=function(){return this.dv[this.pE]};bv.prototype.t=function(Q){this.pE=this.dv.indexOf(Q);
this.nI()};function DO(Q,C,j){rJ.call(this);if(Q==null)Q=!1;if(C==null)C=!1;if(j==null)j=!1;this.vvr=C;
this.$k=null;this.LO=new bv([12,22],j);this.LO.parent=this;this.LO.p(t.E.U,this.IK,this);this.zS=new rc([22,0],[[22,4,0],[22,4,1]]);
this.zS.p(t.E.U,this.IK,this);var Z=Q?vf:rX;this.LQ=new Z([22,1],-100,100,"%");this.Lt=new Z("Horizontal Distortion:",-100,100,"%");
this.Lg=new Z("Vertical Distortion:",-100,100,"%");this.LQ.parent=this.Lt.parent=this.Lg.parent=this;
this.LQ.p(t.E.U,this.IK,this);this.Lt.p(t.E.U,this.IK,this);this.Lg.p(t.E.U,this.IK,this)}DO.prototype=new rJ;
DO.prototype.N=function(){this.LO.N();this.zS.N();this.LQ.N();var Q=this.vvr?1:100;this.Lt.hE(rT.get([22,2]).substring(0,Q)+":");
this.Lg.hE(rT.get([22,3]).substring(0,Q)+":")};DO.prototype.IK=function(){var Q=this.$k,C=this.LO.K(),j=Q.warpStyle.v.warpStyle;
if(C=="warpCustom")e.$k._y(e.$k.ah(Q),Q);else delete Q.customEnvelopeWarp;Q.warpStyle.v.warpStyle=this.LO.K();
Q.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.zS.K()];Q.warpValue.v=this.LQ.K();Q.warpPerspective.v=this.Lt.K();
Q.warpPerspectiveOther.v=this.Lg.K();if(C=="warpNone"||C=="warpCustom"){Q.warpValue.v=0;Q.warpPerspective.v=0;
Q.warpPerspectiveOther.v=0}else if(j=="warpNone"||j=="warpCustom")Q.warpValue.v=50;this.Z(new P(t.E.U,!1));
this.t(Q)};DO.prototype.K=function(Q){return JSON.parse(JSON.stringify(this.$k))};DO.prototype.t=function(Q){this.$k=JSON.parse(JSON.stringify(Q));
this.LO.t(Q.warpStyle.v.warpStyle);this.zS.t(Q.warpRotate.v.Ornt=="Hrzn"?0:1);this.LQ.t(Q.warpValue.v);
this.Lt.t(Q.warpPerspective.v);this.Lg.t(Q.warpPerspectiveOther.v);var C=Q.warpStyle.v.warpStyle,j=C=="warpNone"||C=="warpCustom",Z=[this.zS,this.LQ,this.Lt,this.Lg];
for(var F=0;F<Z.length;F++)if(j)Z[F].IO();else Z[F].Ii()};function vz(Q){rJ.call(this);this.w=t.e("div");
this.Hi=Q;this.pX=!1;this.UX=new Wn(0,0);this.Kw="position:relative;overflow:hidden;";this.tH=null;this.Wg=new t.e_(this.w);
this.zc("grab");this.Ev=t.e("canvas","canv");this.w.appendChild(this.Ev);this.zf=this.Ev.getContext("2d");
this.vgF=null;this.CS=null;this.Hg=null;this.eB=0;this.HS=0;this.Hk=0;this.vv_=this.vTb.bind(this);this.vVg=null;
this.R=new bD({W:1,C:1});this.ew=null;this.to=null;this.vvt=this.GF.bind(this);this.vSt=this.LC.bind(this);
this.vSL=this.CB.bind(this);this.vvb=this.zp.bind(this);this.vuO=0;this.WS=null;this.vzR(this.Ev);this.Xw(this)}vz.prototype=new rJ;
vz.prototype.ZZ=function(Q){var C=this.tH;this.pX=Q.r(b.pG);if(this.pX)C="grab";this.Wg.Ik(C,this.Kw);
if(Q.r(b.XE)){var j=0;if(Q.r(b.be))j=1;if(Q.r(b.fb))j=-1;if(j!=0){this.vlD(new Wn(this.Ev.width/2,this.Ev.height/2),j==1)}}};
vz.prototype.zc=function(Q){this.tH=Q;this.Wg.Ik(Q,this.Kw)};vz.prototype.vzR=function(Q){t.BF(Q,this.vvt);
t.W$(Q);Q.addEventListener("wheel",this.vvb,!1)};vz.prototype.Xw=function(Q){Q.p("viewchange",this.vaG,this)};
vz.prototype.vaG=function(Q){var C=this.R.l,j=Q.currentTarget.eX();this.R.l=j.l;this.R.f=j.f.clone();
if(C!=j.l)this.XM();this.hx()};vz.prototype.eX=function(){return{l:this.R.l,f:this.R.f}};vz.prototype.t=function(Q,C){var j=Q[0].Rm;
if(this.CS!=null&&this.CS[0].Rm.gm(j)){}else{this.R.xa={W:j.W,C:j.C};this.R.f=new Wn(0,0);this.R.l=1}this.CS=Q;
this.XM();this.eh();this.eB=0;this.HS=0;this.Hk=C==null?0:C;this.vTb()};vz.prototype.zp=function(Q){Q.preventDefault();
if(Q.deltaY==0||Date.now()-this.vuO<100)return;var C=t.Gp(Q);C.x=t.s()*C.x;C.y=t.s()*C.y;this.vuO=Date.now();
this.vlD(C,Q.deltaY<0)};vz.prototype.vlD=function(Q,C){G.VF.QO(this.R,Q,C);this.vVQ()};vz.prototype.vae=function(){var Q=this.R,C=Q.xa;
this.R.l=G.VF.gB(C.W,C.C,Q.L.W,Q.L.C);this.vVQ()};vz.prototype.vVQ=function(){this.XM();this.Z(new P("viewchange"));
this.Z(new P("zoom"))};vz.prototype.XM=function(){this.Hg=[];var Q=this.R.l;for(var C=0;C<this.CS.length;
C++){var j=this.CS[C],Z=new Uint8Array(j.data),F;if(Q>=1)F={Dg:Z,rect:j.Rm};else F=e.Ks(Z,j.Rm,Q);this.Hg.push(F)}};
vz.prototype.eh=function(){clearTimeout(this.vVg)};vz.prototype.hx=function(){if(this.CS==null||!t.sY(this.Ev))return;
var Q=this.vgF,C=this.Ev.width,j=this.Ev.height,$,L;if(Q==null||Q.width!=C||Q.height!=j){Q=this.vgF=this.zf.createImageData(C,j);
console.log("creating image data")}var Z=this.CS[this.eB],F=this.Hg[this.eB],_=this.R;if(_.l<=1){var D=F.rect.clone();
D.x=_.f.x+Math.floor((_.L.W-F.rect.W)/2);D.y=_.f.y+Math.floor((_.L.C-F.rect.C)/2);$=F.Dg;L=D}else{var d=_.Gf(),o=_.mP(),v=new s(0,0,d.W*_.l,d.C*_.l);
v.x=d.x*_.l+o.x;v.y=d.y*_.l+o.y;if(_.FP==null||_.FP.length!=d.P()*4){_.FP=e.Q(d.P()*4)}if(_.Iz==null||_.Iz.length!=v.P()*4){_.Iz=e.Q(v.P()*4)}e.kM(_.FP,0);
e.tW(F.Dg,F.rect,_.FP,d);e.scale.IQ(_.FP,d.W,d.C,_.Iz,v.W,v.C,_.l);$=_.Iz;L=v}var o=_.mP();e.Mm(Q.data,_.L.W,_.L.C,8,-o.x,-o.y);
e.B.hW("norm",$,L,Q.data,_.L,_.L,1);this.zf.setTransform(1,0,0,1,0,0);this.zf.putImageData(Q,0,0);if(_.l<1)o=L;
var f=o.x,U=o.y,H=o.W,B=o.C;this.zf.clearRect(f,U,-1e3,B);this.zf.clearRect(f+H,U,1e3,B);this.zf.clearRect(f-1e3,U,H+2e3,-1e3);
this.zf.clearRect(f-1e3,U+B,H+2e3,1e3);var m=vz.vSp(_.l,"#ffffff");this.zf.putImageData(m,0,_.L.C-m.height)};
vz.vS$={};vz.vSp=function(Q,C){var j="z"+Q+","+C,Z=vz.vS$[j];if(Z)return Z;var F=Math.round(50*t.s()),_=Math.round(18*t.s()),$=t.e("canvas"),L=$.getContext("2d");
$.width=F;$.height=_;L.fillStyle="rgba(1,1,1,1)";L.fillRect(0,0,F,_);L.font=Math.round(11*t.s())+"px monospace";
L.fillStyle=C;var D=Q*100;if(D<100)D=D.toFixed(2);D=D+"%";var d=L.measureText(D).width;L.fillText(D,(F-d)/2,Math.round(_*.7));
Z=vz.vS$[j]=L.getImageData(0,0,F,_);return Z};vz.prototype.vTb=function(){var Q=this.CS,C=Q.length,j=this.eB,Z=this.CS[j],F=(j+1)%C;
this.hx();if(C!=1&&Q[F].Rm.gm(Z.Rm)){var _=Z.Nj?parseInt(Z.Nj.split(",").pop()):30;if(_==0)_=16;if(F==0)this.HS++;
if(this.Hk==0||this.HS<this.Hk)this.vVg=setTimeout(this.vv_,_)}this.eB=F};vz.prototype.b_=function(Q,C){if(Q<=0||C<=0)return;
var j=Math.floor(Q*t.s()),Z=Math.floor(C*t.s());this.R.L=new s(0,0,j,Z);this.Ev.width=j;this.Ev.height=Z;
this.Ev.setAttribute("style","width:"+j/t.s()+"px; height:"+Z/t.s()+"px; display:block;");this.hx()};
vz.prototype.GF=function(Q){this.WS=Q.target;t.og(window,this.vSt);t.oF(window,this.vSL);this.ew=t.Gp(Q,this.Ev);
this.ew.x*=t.s();this.ew.y*=t.s();this.UX=this.ew;this.to=this.R.f.clone();if(this.Hi&&this.WS==this.Ev&&!this.pX)this.Z(new P("mousedown"))};
vz.prototype.LC=function(Q){var C=this.R,j=this.CS[this.eB].Rm.clone();j.W*=C.l;j.C*=C.l;var Z=t.Gp(Q,this.Ev);
Z.x*=t.s();Z.y*=t.s();this.UX=Z;if(this.Hi&&this.WS==this.Ev&&!this.pX)this.Z(new P("mousemove"));else if(!C.L.yt(j)){var F=Z.x-this.ew.x,_=Z.y-this.ew.y;
C.f.x=this.to.x+Math.round(F);C.f.y=this.to.y+Math.round(_);this.Z(new P("viewchange"))}};vz.prototype.CB=function(Q){t.wf(window,this.vSt);
t.Ab(window,this.vSL);if(Q.detail>1){this.R.l=1;this.R.f.KL(0,0);this.hx()}if(this.Hi&&this.WS==this.Ev&&!this.pX)this.Z(new P("mouseup"))};
vz.prototype.zo=function(){return this.R.gx(this.UX.x,this.UX.y)};function Wy(){rJ.call(this);this.WT=null;
this.Ld=null;this.zU=null;this.Wk=null;this.vuR="";this.WJ=[];this.WI=0;this.pB=[];this.up=0;this.VO=null;
var Q=this.w=t.e("div",""),C=this.vvK=t.e("div","form");C.setAttribute("style","line-height:0; margin-bottom:0.5em;");
Q.appendChild(C);var j=this.Wb=t.e("span");C.appendChild(j);j.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");
var Z=this.vuf=new vg([25,2,0]);Z.t(!0);C.appendChild(Z.w);Z.p(t.E.U,this.iZ,this);var F=this.HJ=new vg([25,2,1]);
F.t(!1);C.appendChild(F.w);F.p(t.E.U,this.iZ,this);var _=new $C(" ");C.appendChild(_.w);var $=this.HI=new $q([25,1,1]);
C.appendChild($.w);$.p(t.E.U,this.iZ,this);this.vw=new bq(14);this.vw.vdT(3);C.appendChild(this.vw.w);
this.vw.parent=this;this.vw.p(t.E.U,this.vBW,this);var L=this.vvR=new rs([25,1,2],null,null,!0);C.appendChild(L.w);
L.p("click",this.zw,this);this.vvq=this.vBg.bind(this);this.qE=t.e("div","svggallery scrollable");Q.appendChild(this.qE);
this.qE.addEventListener("scroll",this.vaU.bind(this))}Wy.prototype=new rJ;Wy.prototype.VD=function(Q){this.vuh=Q};
Wy.prototype.N=function(){this.Wb.textContent=rT.get([25,0]);this.vw.N();this.vuf.N();this.HJ.N();this.HI.N();
this.vvR.N()};Wy.prototype.b_=function(Q,C){C-=26;this.WT=new Wn(Q,C);this.vvK.setAttribute("style","width:"+Q+"px");
this.qE.setAttribute("style","width:"+Q+"px; height:"+C+"px");if(t.sY(this.w))this.iZ()};Wy.prototype.t=function(Q){this.Ld=Q;
this.iZ()};Wy.prototype.vaU=function(Q){var C=this.qE;if(C.scrollTop+C.clientHeight+10>=C.scrollHeight){this.iZ(!0)}};
Wy.prototype.vBW=function(Q){this.zU=null;this.iZ()};Wy.prototype.vBg=function(Q){if(Date.now()-this.up<2e3)return;
this.up=Date.now();this.WI=this.pB.indexOf(Q.currentTarget);var C=this.aD(this.Ld.x,this.Ld.y);if(C[1]){var j=C[1].largeImageURL,Z=new XMLHttpRequest;
Z.responseType="arraybuffer";Z.open("GET",j,!0);Z.onload=this.vBT.bind(this);Z.send();return}this.vTF(C)};
Wy.prototype.vBT=function(Q){var C=Q.target.response,j=vX.Kl(C),Z=vX.Xo(j),F=Z.aJ(C),_=this.aD(this.Ld.x,this.Ld.y,[C,F[0].Rm.W,F[0].Rm.C]);
this.vTF(_)};Wy.prototype.vTF=function(Q){var C=Q[0],j=vX.Kl(C),Z=vX.Xo(j),F=new rH("template.psd");
Z.aJ(C,F);var _=new P("tempready",!0);_.data={xa:F};this.Z(_)};Wy.prototype.zw=function(Q){var C=Q.target;
this.WJ=[];this.iZ()};Wy.prototype.vBF=function(Q){console.log(Q.target.response);var C=JSON.parse(Q.target.response);
this.Wk=C.hits;this.iZ()};Wy.prototype.iZ=function(Q){if(this.Ld==null||this.WT==null||this.vuh==null)return;
if(this.WT.x<=0)return;var C=this.Ld.x,j=this.Ld.y;if(Math.min(C,j)<50)return;if(Q!=!0){this.pB=[];t.pi(this.qE);
this.qE.scrollTop=0}if(this.pB.length>300)return;var Z=Math.min(1,300/Math.max(C,j)),F=this.WT.clone();
F.x-=20;var _=Math.max(1,Math.floor(F.x/(C*Z))),$=Math.max(1,Math.ceil(F.y/(j*Z)));Z=F.x/_/C;var L=_*$;
if(this.zU==null){var D=this.vuh.ho.am();this.zU=[];for(var d in D){var o=D[d],v=o[3];if(!this.vw.XR(o))continue;
if(o[5]==null||o[5].slice(0,2)=="gf")continue;this.zU.push(o)}if(this.zU.length==0)this.zU.push(D.DejaVuSans)}var f=this.HJ.K(),U=this.HI.K().trim();
this.HI.XY(f);if(f&&(this.Wk==null||U!=this.vuR)){var H=new XMLHttpRequest,B="https://pixabay.com/api/?image_type=photo"+(U==""?"":"&q="+encodeURIComponent(U))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88";
if(U=="")B+="&safesearch=true";H.open("GET",B,!0);H.onload=this.vBF.bind(this);H.onerror=function(i){console.log(i.target.response)};
H.send();this.vuR=U;return}Z*=(C*Z-5)/(C*Z);var m=this.pB.length;for(var Y=0;Y<L;Y++){var q=this.WI=m+Y;
if(this.WJ[q]==null)this.WJ[q]=Math.floor(Math.random()*4294967295);var r=this.aD(Math.round(C*Z),Math.round(j*Z)),x=r[0];
x=c.hI(new Uint8Array(x));var a=t.e("span");a.innerHTML=x;this.pB.push(a);this.qE.appendChild(a);a.addEventListener("click",this.vvq,!1)}};
Wy.prototype.aD=function(Q,C,j){var Z=this.HJ.K(),F=this.vuf.K(),_=Z&&this.Wk.length!=0?this.Wk:null;
if(F&&!Z)_=null;if(F&&Z&&(this.WI&1)==0)_=null;return vI._K(Q,C,this.WJ[this.WI],this.zU,j?j:_)};function Kv(){rJ.call(this);
this.w=t.e("div");this.Qi=null;this.vuo=null;this.HE=-1;this.Lo={JPG:[{Vd:new rX([12,52,0],0,100,"%"),xY:70},{Vd:new vg("attach metadata"),xY:!1}],TIFF:[{Vd:new vg("attach metadata"),xY:!1}],WEBP:[{Vd:new rX([12,52,0],0,100,"%"),xY:70}],GIF:[{Vd:new rX([12,52,0],0,100,"%"),xY:100}],PNG:[{Vd:new rX([12,52,0],0,100,"%"),xY:100},{Vd:new vg("don't use palettes"),xY:!1}],PDF:[{Vd:new $q([12,52,1]),xY:""},{Vd:new rX([12,52,0],0,100,"%"),xY:100},{Vd:new vg("rasterize all"),xY:!1},{Vd:new vg("rasterize text"),xY:!1},{Vd:new vg("vectorize text"),xY:!1}],EMF:[{Vd:new $q([12,52,1]),xY:""},{Vd:new vg("rasterize all"),xY:!1},{Vd:new vg("rasterize text"),xY:!1},{Vd:new vg("vectorize text"),xY:!1}],SVG:[{Vd:new vg("add raster graphics"),xY:!0},{Vd:new vg("add hidden layers"),xY:!1},{Vd:new vg("vectorize text"),xY:!1},{Vd:new vg("rasterize text"),xY:!1},{Vd:new vg("add layer names"),xY:!0},{Vd:new vg("pretty-print"),xY:!0}],RAW:[{Vd:new vp([12,72],["1","3","4"]),xY:2},{Vd:new vp([12,34],["8 Bits","16 Bits"]),xY:0},{Vd:new vp("Byte Order",["12-34","34-12"]),xY:0}],anim:[{Vd:new rX("Speed",25,400,"%"),xY:100},{Vd:new vf("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),xY:0},{Vd:new vg("reverse frames"),xY:!1}],slcs:[{Vd:new vg("As Slices"),xY:!0}]};
for(var Q in this.Lo){var C=this.Lo[Q];for(var j=0;j<C.length;j++){C[j].Vd.t(C[j].xY);C[j].Vd.p(t.E.U,this.aQ,this)}}}Kv.prototype=new rJ;
Kv.prototype.vBo=function(){this.HE=-1};Kv.prototype.N=function(){for(var Q in this.Lo)for(var C=0;C<this.Lo[Q].length;
C++)this.Lo[Q][C].Vd.N()};Kv.prototype.aQ=function(){this.iZ();this.Z(new P(t.E.U,!1))};Kv.prototype.iZ=function(){var Q=this.Qi,C=Q[0],j=Q[1],Z=Q[2],F=this.Lo[C];
if(F==null)F=[];else F=F.slice(0);if(j)F=F.concat(this.Lo.anim);if(["GIF","PNG","JPG"].indexOf(C)!=-1&&Z)F=F.concat(this.Lo.slcs);
if(C+" "+j!=this.HE){this.HE=C+" "+j;t.pi(this.w);for(var _=0;_<F.length;_++){this.w.appendChild(F[_].Vd.w);
t.hQ(this.w)}}var $=this.vuo=[];for(var _=0;_<F.length;_++)$.push(F[_].Vd.K())};Kv.prototype.vuQ=function(Q,C,j){this.Qi=[Q,C,j];
this.iZ()};Kv.prototype.K=function(){return this.vuo.slice(0)};function tq(){rJ.call(this);this.w=t.e("span","fitem");
this.hb=!1;this.Hm=new rs("No",!1,"Cancel");this.Yi=new rs("Yes",!1,"Confirm");this.w.appendChild(this.Hm.w);
this.w.appendChild(this.Yi.w);this.Hm.p("click",this.ap,this);this.Yi.p("click",this.ap,this);this.N()}tq.prototype=new rJ;
tq.prototype.N=function(){this.Hm.hE(t.Pr("cross",null,"autoscale"));this.Yi.hE(t.Pr("checkmark",null,"autoscale"))};
tq.prototype.ap=function(Q){this.hb=Q.target==this.Yi;this.Z(new UIEvent("click"))};tq.prototype.K=function(){return this.hb};
function n(Q){rJ.call(this);this.vvp=Q;this.w=t.e("div","");this.Cl=[];this.vuP=[]}n.prototype=new rJ;
n.prototype.at=function(Q){};n.prototype.tD=function(){return!1};n.prototype.b_=function(Q,C){};n.prototype.VD=function(Q,C){};
n.prototype.xC=function(Q){};n.prototype.t=function(Q,C,j,Z,F,_){var $=[];this.Bl(Q,$,_);for(var L=0;
L<this.Cl.length;L++)this.Cl[L].t($[L])};n.prototype.K=function(){var Q=vr._j(this.vvp),C=[];for(var j=0;
j<this.Cl.length;j++)C.push(this.Cl[j].K());this.IX(Q,C);return Q};n.prototype.ZZ=function(Q){};n.prototype.IK=function(Q){var C=this.vuP;
for(var j=0;j<C.length;j+=2){var Z=this.Cl[C[j]],F=this.Cl[C[j+1]],_=Z.K(),$=F.K();if(Q.target==Z)F.t(Math.max(_,$));
else Z.t(Math.min(_,$))}this.Z(new P(t.E.U))};n.prototype.N=function(){for(var Q=0;Q<this.Cl.length;
Q++)this.Cl[Q].N()};n.prototype._w=function(Q){t._I(this.w,"form");var C=this.Cl;for(var j=0;j<C.length;
j++){var Z=C[j];Z.parent=this;Z.p(t.E.U,this.IK,this);this.w.appendChild(Z.w);if(Z instanceof vg&&C[j+1]instanceof vy)continue;
if(Q&&Q.indexOf(j)!=-1)t.pZ(this.w);else t.hQ(this.w)}};n.prototype.rK=function(){return!1};n.prototype.yi=function(Q,C,j,Z,F){};
n.prototype.eF=function(Q,C,j,Z,F){};n.prototype._c=function(Q,C,j,Z,F){};n.prototype.IX=function(Q,C){};
n.prototype.Bl=function(Q,C){};n.Bokh=function(){n.call(this,"Bokh");this.Cl=[new rc("Depth Map",["A","b"]),new rX("Focal Distance",0,255),new rc([12,76,1],"Triangle (3),Square (4),Pentagon (5),Hexagon (6),Heptagon (7),Octagon (8)".split(",")),new rX([12,56],0,100),new rX([12,15],0,360),new rX([12,2],0,100),new rX([4,13],0,255),new rX([24,6],0,100),new vp([12,58],[[12,59,0],[12,59,1]]),new vg([12,60])];
this._w([4,6])};n.Bokh.prototype=new n;n.Bokh.prototype.Bl=function(Q,C,j){var Z=[[22,5,0],[6,5,3],[6,2]],F=Q.BkDi.v.BtDi,_=Q.BkDc,$=0;
if(F=="BeIn")$=0;else if(F=="BeIt"&&_.v.BtDc=="BeCt")$=1;else if(F=="BeIt"&&_.v.BtDc=="BeCm")$=2;else $=3+_.v;
for(var L=0;L<j[1].length;L++)Z.push(j[1][L].name);this.Cl[0].Bk(Z,[3]);C[0]=$;C[1]=Q.BkDp.v;C[2]=parseInt(Q.BkIs.v.BtIs.slice(3))-3;
C[3]=Q.BkIb.v;C[4]=Q.BkIr.v;C[5]=Q.BkSb.v;C[6]=Q.BkSt.v;C[7]=Q.BkNa.v;C[8]=Q.BkNt.v.BtNt=="BeNu"?0:1;
C[9]=Q.BkNm.v};n.Bokh.prototype.IX=function(Q,C){var j;if(C[0]==0){j="BeIn";delete Q.BkDc}else if(C[0]<3){j="BeIt";
Q.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][C[0]-1]}}}else{j="BeIa";Q.BkDc={t:"long",v:C[0]-3}}Q.BkDi.v.BtDi=j;
Q.BkDp.v=C[1];Q.BkIs.v.BtIs="BeS"+(3+C[2]);Q.BkIb.v=C[3];Q.BkIr.v=C[4];Q.BkSb.v=C[5];Q.BkSt.v=C[6];Q.BkNa.v=C[7];
Q.BkNt.v.BtNt=["BeNu","BeNg"][C[8]];Q.BkNm.v=C[9]};n["\0\0\x03\xFD"]=function(){n.call(this,"\0\0\x03\xFD");
this.Cl=[new rX([12,56],.1,10,"px",!0),new rX("Cleanliness",0,10,"px",!0),new rX([12,38],.1,10,null,!0),new rX("Bristle Detail",0,10,null,!0),new vg("Lighting"),new rX("Shine",0,10,null,!0),new tT([12,15])];
this._w()};n["\0\0\x03\xFD"].prototype=new n;n["\0\0\x03\xFD"].prototype.Bl=function(Q,C){var j="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var Z=0;Z<j.length;Z++)C[Z]=Q[j[Z]].v;C[6]=Q.LghD.v};n["\0\0\x03\xFD"].prototype.IX=function(Q,C){var j="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var Z=0;Z<j.length;Z++)Q[j[Z]].v=C[Z];Q.LghD.v=C[6].Lr};n["\0\0\x03^"]=function(){n.call(this,"\0\0\x03^");
this.Cl=[new rX([24,3,1],0,30,"px"),new rX([12,38],0,200,"%"),new vg([4,11]),new rX("High",0,100,"%"),new rX("Medium",0,100,"%"),new rX("Low",0,100,"%")];
this._w()};n["\0\0\x03^"].prototype=new n;n["\0\0\x03^"].prototype.Bl=function(Q,C){C[0]=Q.blur.v;C[1]=Q.textureScale.v*100;
C[2]=Q.Scl.v==-1;var j=Q.Dtl.v;C[3]=j[0].v*100;C[4]=j[1].v*100;C[5]=j[2].v*100};n["\0\0\x03^"].prototype.IX=function(Q,C){Q.blur.v=C[0];
Q.textureScale.v=C[1]/100;Q.Scl.v=C[2]?-1:1;var j=Q.Dtl.v;j[0].v=C[3]/100;j[1].v=C[4]/100;j[2].v=C[5]/100};
n.LnsF=function(){n.call(this,"LnsF");this.Cl=[new rX([12,2],10,300,"%"),new vp([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new rX("Position X",0,100,"%"),new rX("Position Y",0,100,"%")];
this._w()};n.LnsF.prototype=new n;n.LnsF.prototype.Bl=function(Q,C){C[0]=Q.Brgh.v;C[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(Q.Lns.v.Lns);
var j=Q.FlrC.v;C[2]=Math.round(j.Hrzn.v*100);C[3]=Math.round(j.Vrtc.v*100)};n.LnsF.prototype.IX=function(Q,C){Q.Brgh.v=C[0];
Q.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][C[1]];var j=Q.FlrC.v;j.Hrzn.v=C[2]/100;j.Vrtc.v=C[3]/100};n.LnCr=function(){n.call(this,"LnCr");
this.Cl=[new rX([12,57],-100,100),new rX([12,38],10,150,"%")];this._w()};n.LnCr.prototype=new n;n.LnCr.prototype.Bl=function(Q,C){C[0]=Q.LnIa.v;
C[1]=Q.LnSi.v};n.LnCr.prototype.IX=function(Q,C){Q.LnIa.v=C[0];Q.LnSi.v=C[1]};n["\0\0\x02\xB1"]=function(){n.call(this,"\0\0\x02\xB1");
this.Cl=[new rX([12,56],1,200," px")];this._w()};n["\0\0\x02\xB1"].prototype=new n;n["\0\0\x02\xB1"].prototype.Bl=function(Q,C){C[0]=Q.Rds.v.val};
n["\0\0\x02\xB1"].prototype.IX=function(Q,C){Q.Rds.v.val=C[0]};n.GsnB=function(){n.call(this,"GsnB");
this.Cl=[new rX([12,56],.1,400,"px",1,!0)];this._w()};n.GsnB.prototype=new n;n.GsnB.prototype.Bl=function(Q,C){C[0]=Q.Rds.v.val};
n.GsnB.prototype.IX=function(Q,C){Q.Rds.v.val=C[0]};n.MtnB=function(){n.call(this,"MtnB");this.Cl=[new tT([12,15]),new rX([12,28],1,100," px")];
this._w()};n.MtnB.prototype=new n;n.MtnB.prototype.Bl=function(Q,C){C[0]=Q.Angl.v;C[1]=Q.Dstn.v.val};
n.MtnB.prototype.IX=function(Q,C){Q.Angl.v=C[0].Lr;Q.Dstn.v.val=C[1]};n.RdlB=function(){n.call(this,"RdlB");
this.Cl=[new rX([12,57],1,100),new vp([12,36],["Spin","Zoom"]),new _p("Off X",0,1,null,2),new _p("Off Y",0,1,null,2)];
this._w()};n.RdlB.prototype=new n;n.RdlB.prototype.Bl=function(Q,C){C[0]=Q.Amnt.v;C[1]=["Spn","Zm"].indexOf(Q.BlrM.v.BlrM);
C[2]=Q.Cntr.v.Hrzn.v;C[3]=Q.Cntr.v.Vrtc.v};n.RdlB.prototype.IX=function(Q,C){Q.Amnt.v=C[0];Q.BlrM.v.BlrM=["Spn","Zm"][C[1]];
Q.Cntr.v.Hrzn.v=C[2];Q.Cntr.v.Vrtc.v=C[3]};n.Dspl=function(){n.call(this,"Dspl");this.Cl=[new rc([6,36,3],["a","b"]),new rX([22,4,0],-100,100,"px"),new rX([22,4,1],-100,100,"px"),new rc([24,18,0],[[24,18,3],[24,18,2]])];
this._w()};n.Dspl.prototype=new n;n.Dspl.prototype.Bl=function(Q,C,j){this.vuw=[];this.HV=[];var Z=-1,F=j?j[0]:null;
if(F==null)F=this.vvh;else this.vvh=F;if(F)for(var _=0;_<F.length;_++){var $=F[_];this.vuw.push($.RJ.trim());
this.HV.push($.rw);if($.rw==Q.DspF.v.pth)Z=_}this.Cl[0].Bk(this.vuw);C[0]=Z==-1?0:Z;C[1]=Q.HrzS.v;C[2]=Q.VrtS.v;
C[3]=["WrpA","RptE"].indexOf(Q.UndA.v.UndA)};n.Dspl.prototype.IX=function(Q,C){if(this.HV.length==0)return;
Q.DspF.v.pth=this.HV[C[0]];Q.HrzS.v=C[1];Q.VrtS.v=C[2];Q.UndA.v.UndA=["WrpA","RptE"][C[3]]};n.Pnch=function(){n.call(this,"Pnch");
this.Cl=[new rX([12,57],-100,100,"%")];this._w()};n.Pnch.prototype=new n;n.Pnch.prototype.Bl=function(Q,C){C[0]=Q.Amnt.v};
n.Pnch.prototype.IX=function(Q,C){Q.Amnt.v=C[0]};n["Plr "]=function(){n.call(this,"Plr ");this.Cl=[new vp(null,["Rect to Polar","Polar to Rect"])];
this._w()};n["Plr "].prototype=new n;n["Plr "].prototype.Bl=function(Q,C){C[0]=["RctP","PlrR"].indexOf(Q.Cnvr.v.Cnvr)};
n["Plr "].prototype.IX=function(Q,C){Q.Cnvr.v.Cnvr=["RctP","PlrR"][C[0]]};n.Rple=function(){n.call(this,"Rple");
this.Cl=[new rX([12,57],-999,999),new rc([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];this._w()};n.Rple.prototype=new n;
n.Rple.prototype.Bl=function(Q,C){C[0]=Q.Amnt.v;C[1]=["Sml","Mdm","Lrg"].indexOf(Q.RplS.v.RplS)};n.Rple.prototype.IX=function(Q,C){Q.Amnt.v=C[0];
Q.RplS.v.RplS=["Sml","Mdm","Lrg"][C[1]]};n["Shr "]=function(){n.call(this,"Shr ");this.Cl=[new QP(!0,!0),new rc([24,18,0],[[24,18,3],[24,18,2]])];
this._w()};n["Shr "].prototype=new n;n["Shr "].prototype.Bl=function(Q,C){var j=new rI(0,255/127,255/127,0,-2,128),Z=JSON.parse(JSON.stringify(Q.ShrP.v));
e.ZU.M(Z,j);C[0]=Z;C[1]=["WrpA","RptE"].indexOf(Q.UndA.v.UndA)};n["Shr "].prototype.IX=function(Q,C){var j=new rI(0,255/127,255/127,0,-2,128);
j.Ie();e.ZU.M(C[0],j);Q.ShrP.v=C[0];Q.ShrE.v=C[0].length-1;Q.UndA.v.UndA=["WrpA","RptE"][C[1]]};n.Sphr=function(){n.call(this,"Sphr");
this.Cl=[new rX([12,57],-100,100),new rc([12,36],["Normal",[22,4,0],[22,4,1]])];this._w()};n.Sphr.prototype=new n;
n.Sphr.prototype.Bl=function(Q,C){C[0]=Q.Amnt.v;C[1]=["Nrml","HrzO","VrtO"].indexOf(Q.SphM.v.SphM)};
n.Sphr.prototype.IX=function(Q,C){Q.Amnt.v=C[0];Q.SphM.v.SphM=["Nrml","HrzO","VrtO"][C[1]]};n.Twrl=function(){n.call(this,"Twrl");
this.Cl=[new rX([12,15],-999,999)];this._w()};n.Twrl.prototype=new n;n.Twrl.prototype.Bl=function(Q,C){C[0]=Q.Angl.v};
n.Twrl.prototype.IX=function(Q,C){Q.Angl.v=C[0]};n.Wave=function(){n.call(this,"Wave");this.vuP=[1,2,3,4];
this.Cl=[new rX("Number of Generators",1,100),new _p("Min Length",1,999),new _p("Max Length",1,999),new _p("Min Ampl.",1,999),new _p("Max Ampl.",1,999),new _p("Scale X",1,100,"%"),new _p("Scale Y",1,100,"%"),new vp([12,44],["Sine","Triangle",[12,93,3]]),new rc([24,18,0],[[24,18,3],[24,18,2]]),new $q("Randomizer Seed")];
this._w()};n.Wave.prototype=new n;n.Wave.prototype.Bl=function(Q,C){C[0]=Q.NmbG.v;C[1]=Q.WLMn.v;C[2]=Q.WLMx.v;
C[3]=Q.AmMn.v;C[4]=Q.AmMx.v;C[5]=Q.SclH.v;C[6]=Q.SclV.v;C[7]=["WvSn","WvTr","WvSq"].indexOf(Q.Wvtp.v.Wvtp);
C[8]=["WrpA","RptE"].indexOf(Q.UndA.v.UndA);C[9]=Q.RndS.v};n.Wave.prototype.IX=function(Q,C){Q.NmbG.v=C[0];
Q.WLMn.v=C[1];Q.WLMx.v=C[2];Q.AmMn.v=C[3];Q.AmMx.v=C[4];Q.SclH.v=C[5];Q.SclV.v=C[6];Q.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][C[7]];
Q.UndA.v.UndA=["WrpA","RptE"][C[8]];var j=parseInt(C[9]);if(isNaN(j))j=248325464;j=Math.max(0,Math.min(268435455,j));
Q.RndS.v=j;this.Cl[9].t(j)};n["\0\0\x02\xB5"]=function(){n.call(this,"\0\0\x02\xB5");this.Cl=[new rX([12,56],1,200," px"),new rX([4,13],1,255," px")];
this._w()};n["\0\0\x02\xB5"].prototype=new n;n["\0\0\x02\xB5"].prototype.Bl=function(Q,C){C[0]=Q.Rds.v.val;
C[1]=Q.Thsh.v};n["\0\0\x02\xB5"].prototype.IX=function(Q,C){Q.Rds.v.val=C[0];Q.Thsh.v=C[1]};n.AdNs=function(){n.call(this,"AdNs");
this.Cl=[new rX([12,57],0,200," %"),new rc([12,58],[[12,59,0],[12,59,1]]),new vg([12,60])];this._w()};
n.AdNs.prototype=new n;n.AdNs.prototype.Bl=function(Q,C){C[0]=Q.Nose.v.val;C[1]=["Unfr","Gsn"].indexOf(Q.Dstr.v.Dstr);
C[2]=Q.Mnch.v};n.AdNs.prototype.IX=function(Q,C){Q.Nose.v.val=C[0];Q.Dstr.v.Dstr=["Unfr","Gsn"][C[1]];
Q.Mnch.v=C[2]};n.DstS=function(){n.call(this,"DstS");this.Cl=[new rX([12,56],1,200," px"),new rX([4,13],1,255," px")];
this._w()};n.DstS.prototype=new n;n.DstS.prototype.Bl=function(Q,C){C[0]=Q.Rds.v;C[1]=Q.Thsh.v};n.DstS.prototype.IX=function(Q,C){Q.Rds.v=C[0];
Q.Thsh.v=C[1]};n["Mdn "]=function(){n.call(this,"Mdn ");this.Cl=[new rX([12,56],1,200," px")];this._w()};
n["Mdn "].prototype=new n;n["Mdn "].prototype.Bl=function(Q,C){C[0]=Q.Rds.v.val};n["Mdn "].prototype.IX=function(Q,C){Q.Rds.v.val=C[0]};
n.ClrH=function(){n.call(this,"ClrH");this.Cl=[new rX([12,56],4,100," px")];for(var Q=1;Q<4;Q++)this.Cl.push(new rX("Angle "+Q,0,90," \xB0"));
this._w()};n.ClrH.prototype=new n;n.ClrH.prototype.Bl=function(Q,C){C[0]=Q.Rds.v;for(var j=1;j<4;j++)C[j]=Q["Ang"+j].v};
n.ClrH.prototype.IX=function(Q,C){Q.Rds.v=C[0];for(var j=1;j<4;j++)Q["Ang"+j].v=C[j]};n.ClrH.prototype.N=function(){var Q=this.Cl;
Q[0].N();for(var C=1;C<4;C++)Q[C].hE(rT.get([12,15])+" "+C)};n.Crst=function(){n.call(this,"Crst");this.Cl=[new rX([12,61],3,100," px")];
this._w()};n.Crst.prototype=new n;n.Crst.prototype.Bl=function(Q,C){C[0]=Q.ClSz.v};n.Crst.prototype.IX=function(Q,C){Q.ClSz.v=C[0]};
n.Mztn=function(){n.call(this,"Mztn");this.Cl.push(new rc([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3]));
this.HV="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this._w()};n.Mztn.prototype=new n;
n.Mztn.prototype.Bl=function(Q,C){C[0]=this.HV.indexOf(Q.MztT.v.MztT)};n.Mztn.prototype.IX=function(Q,C){Q.MztT.v.MztT=this.HV[C[0]]};
n["Msc "]=function(){n.call(this,"Msc ");this.Cl=[new rX([12,61],2,200," px")];this._w()};n["Msc "].prototype=new n;
n["Msc "].prototype.Bl=function(Q,C){C[0]=Q.ClSz.v.val};n["Msc "].prototype.IX=function(Q,C){Q.ClSz.v.val=C[0]};
n.Pntl=function(){n.call(this,"Pntl");this.Cl=[new rX([12,61],3,100," px")];this._w()};n.Pntl.prototype=new n;
n.Pntl.prototype.Bl=function(Q,C){C[0]=Q.ClSz.v};n.Pntl.prototype.IX=function(Q,C){Q.ClSz.v=C[0]};n["\0\0\x03\xE8"]=function(){n.call(this,"\0\0\x03\xE8");
this.Cl=[new rX([12,57],1,200,"%"),new rX([12,56],0,200,"px",1,!0)];this._w()};n["\0\0\x03\xE8"].prototype=new n;
n["\0\0\x03\xE8"].prototype.Bl=function(Q,C){C[0]=Q.Amnt.v.val;C[1]=Q.Rds.v.val};n["\0\0\x03\xE8"].prototype.IX=function(Q,C){Q.Amnt.v.val=C[0];
Q.Rds.v.val=C[1]};n.UnsM=function(){n.call(this,"UnsM");this.Cl=[new rX([12,57],1,200," %"),new rX([12,56],0,200," px"),new rX([4,13],0,255," ")];
this._w()};n.UnsM.prototype=new n;n.UnsM.prototype.Bl=function(Q,C){C[0]=Q.Amnt.v.val;C[1]=Q.Rds.v.val;
C[2]=Q.Thsh.v};n.UnsM.prototype.IX=function(Q,C){Q.Amnt.v.val=C[0];Q.Rds.v.val=C[1];Q.Thsh.v=C[2]};n.HghP=function(){n.call(this,"HghP");
this.Cl=[new rX([12,56],1,200," px")];this._w()};n.HghP.prototype=new n;n.HghP.prototype.Bl=function(Q,C){C[0]=Q.Rds.v.val};
n.HghP.prototype.IX=function(Q,C){Q.Rds.v.val=C[0]};n["Mxm "]=function(){n.call(this,"Mxm ");this.Cl=[new rX([12,56],1,200," px")];
this._w()};n["Mxm "].prototype=new n;n["Mxm "].prototype.Bl=function(Q,C){C[0]=Q.Rds.v.val};n["Mxm "].prototype.IX=function(Q,C){Q.Rds.v.val=C[0]};
n["Mnm "]=function(){n.call(this,"Mnm ");this.Cl=[new rX([12,56],1,200," px")];this._w()};n["Mnm "].prototype=new n;
n["Mnm "].prototype.Bl=function(Q,C){C[0]=Q.Rds.v.val};n["Mnm "].prototype.IX=function(Q,C){Q.Rds.v.val=C[0]};
n.Ofst=function(){n.call(this,"Ofst");this.Cl=[new rX([22,4,0],-1024,1024," px"),new rX([22,4,1],-1024,1024," px"),new rc([24,18,0],[[24,18,1],[24,18,2],[24,18,3]])];
this._w()};n.Ofst.prototype=new n;n.Ofst.prototype.Bl=function(Q,C){C[0]=Q.Hrzn.v;C[1]=Q.Vrtc.v;C[2]=["Bckg","Rpt","Wrp"].indexOf(Q.Fl.v.FlMd)};
n.Ofst.prototype.IX=function(Q,C){Q.Hrzn.v=C[0];Q.Vrtc.v=C[1];Q.Fl.v.FlMd=["Bckg","Rpt","Wrp"][C[2]]};
n.Rept=function(){n.call(this,"Rept");this.Cl=[new _p([12,38],1,300," %"),new _p("Row Shift",-50,50," %"),new _p("Space X",-99,200," %"),new _p("Space Y",-99,200," %"),new vg([4,16,2]),new tT([12,15])];
this._w()};n.Rept.prototype=new n;n.Rept.prototype.Bl=function(Q,C){C[0]=Q.Scl.v.val;C[1]=Q.Rsft.v.val;
C[2]=Q.SpcX.v.val;C[3]=Q.SpcY.v.val;C[4]=Q.SpcC.v;C[5]=Q.Angl.v};n.Rept.prototype.IX=function(Q,C){Q.Scl.v.val=C[0];
Q.Rsft.v.val=C[1];Q.SpcX.v.val=C[2];Q.SpcY.v.val=C[3];Q.SpcC.v=C[4];Q.Angl.v=C[5].Lr;return Q};n.LqFy=function(){n.call(this,"LqFy");
this.DP=!1;this.gu=null;this.vDm=null;this.Y=0;this.Bq={HT:[[{Y:{id:0,name:[24,1,0,1,0],Fy:"liq/smudge"}}],[{Y:{id:1,name:[24,1,0,1,1],Fy:"liq/reconstruct"}}],[{Y:{id:2,name:[24,1,0,1,2],Fy:"liq/smooth"}}],[{Y:{id:3,name:[24,1,0,1,3],Fy:"liq/twirl"}}],[{Y:{id:4,name:[24,1,0,1,4],Fy:"liq/shrink"}}],[{Y:{id:5,name:[24,1,0,1,5],Fy:"liq/blow"}}],[{Y:{id:6,name:[24,1,0,1,6],Fy:"liq/pleft"}}]],keys:[]};
this.Vj=new tR(this.Bq,!1);this.Vj.eH(0);this.Vj.p(t.E.m,this.vm_,this);this.Hh=Dq.jK();this.wl=null;
this.qc=[];this.R$=-1;this.uR=null;this.vkp=null;this.He=null;this.Wd=null;this.Hw=null;var Q=t.e("div","flexrow");
this.ko=Q;this.w.appendChild(Q);Q.appendChild(this.Vj.w);this.view=new vz(!0);this.view.b_(100,100);
this.view.p("mousedown",this.GF,this);this.view.p("mousemove",this.LC,this);this.view.p("mouseup",this.CB,this);
this.view.p("zoom",this.$m,this);Q.appendChild(this.view.w);var C=t.e("div","form");Q.appendChild(C);
this.Hy=C;C.style.width="230px";this.XP=[new rX([12,14,0],0,1e3,null,!1,!0),new rX([12,74],0,100,null,!1,!1),new rX([12,84],0,100,null,!1,!1),new vg([12,46]),new rX([12,0],0,100,null,!1,!1)];
var j=this.Hh.Brsh.v;j.Dmtr.v.val=100;var Z=[100,50,100,!1,100];for(var F=0;F<this.XP.length;F++){var _=this.XP[F];
_.t(Z[F]);_.p(t.E.U,this.vmQ,this);C.appendChild(_.w)}var $=new rs("Reset",!0,null,!0);$.p("click",this.zw,this);
C.appendChild($.w);this.im=new rJ;this.im.w=t.e("div","floatcont");this.WB=new rs("Menu",!1,null,!0);
this.WB.p("click",this.vBn,this);var L=this.WB.w;L.setAttribute("style","position:absolute; right:13px; top:47px")};
n.LqFy.prototype=new n;n.LqFy.prototype.tD=function(){return!0};n.LqFy.prototype.at=function(Q){this.Hy.appendChild(Q)};
n.LqFy.prototype.vBn=function(Q){var C=this.WB.w.getBoundingClientRect();this.im.w.appendChild(this.Hy);
var j=new P(t.E.m,!0);j.data={$:t.i.Ko,kU:this.im,x:C.right+C.width-290,y:C.top+C.height};this.Z(j)};
n.LqFy.prototype.ZZ=function(Q){this.DP=Q.r(b.DT);var C=G.WR.lI(this.Hh,Q);if(C!=null){this.Hh=C;this.$m();
this.XP[0].t(C.Brsh.v.Dmtr.v.val)}else if(Q.r(b.XE)&&Q.r(b.fd)){var j=this.qc;if(Q.r(b.WO)){if(this.R$+1<j.length)this.R$++}else if(this.R$>0)this.R$--;
this.wl.map=j[this.R$].slice(0);this.MT(null)}else this.view.ZZ(Q)};n.LqFy.prototype.vm_=function(Q){if(Q.data.$==t.i.TX){this.Y=Q.data.Y;
this.Vj.eH(this.Y)}};n.LqFy.prototype.vmQ=function(Q){var C=Q.currentTarget,j=this.XP.indexOf(C),Z=this.Hh.Brsh.v;
if(j==0){Z.Dmtr.v.val=C.K();this.$m()}if(j>2)this.MT(null)};n.LqFy.prototype.Lb=function(){var Q=this.qc;
this.R$++;Q[this.R$]=this.wl.map.slice(0);while(Q.length>this.R$+1)Q.pop();while(Q.length>50){Q=Q.slice(1);
this.R$--}};n.LqFy.prototype.GF=function(Q){this.eG();this.gu=this.view.zo();this.vDm=new Wn(0,0);this.p(t.E.ym,this.zA,this)};
n.LqFy.prototype.LC=function(Q){var C=this.view.zo(),j=new Wn(C.x-this.gu.x,C.y-this.gu.y);if(this.Y==0||this.Y==6)this.vub(j);
this.gu=C};n.LqFy.prototype.CB=function(Q){this.Lb();this.eG()};n.LqFy.prototype.eG=function(){if(this.AY(t.E.ym,this.zA))this.removeEventListener(t.E.ym,this.zA,this)};
n.LqFy.prototype.zA=function(Q){if(this.Y!=0&&this.Y!=6)this.vub(new Wn(0,0))};n.LqFy.prototype.vub=function(Q){var C=this.wl,j=C.fA/this.uR.W,Z=this.gu,F=this.Hh.Brsh.v,_=F.Dmtr.v.val,$=Date.now(),L=C.fA,D=C.NE,d=Math.sqrt(Q.x*Q.x+Q.y*Q.y),o=Math.max(1,Math.ceil(d/2)),v=Q.x/o,f=Q.y/o,U=Z.clone(),H=this.Y,B=this.XP[1].K()/100,m=this.XP[2].K()/100,Y=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],q=Y[H*2],r=Y[H*2+1],x=(1-B)*q+B*r,a=_*j/2;
for(var i=0;i<o;i++){var l=[];U.x+=v;U.y+=f;e.qJ.vkq(C.map,L,D,H,U.x*j,U.y*j,a,B,m,v*j,f*j,l,this.DP);
e.qJ.vkj(L,D,C.map,l,2*x*m)}var M=new s(0,0,L,D),z=new s(Z.x*j,Z.y*j,0,0);z.ac(_*j*.5,_*j*.5);var V=z.clone();
V.offset(Q.x*j,Q.y*j);z=z.fJ(V);var X=new s(z.x/j,z.y/j,z.W/j,z.C/j);X=e.g.fx(X).QU(this.uR);this.MT(X)};
n.LqFy.prototype.$m=function(){var Q=rh.kH(this.Hh,null,this.view.eX().l);this.view.zc(Q)};n.LqFy.prototype.t=function(Q,C,j,Z,F){j=j.clone();
if(C==null)return;if(!Z.gm(j)){var _=j.fJ(Z),$=e.Q(_.P()*4);e.tW(C,j,$,_);C=$;j=_}j.x=j.y=0;this.He=C;
this.vkp=F;this.Hw=C.slice(0);this.Wd=C.slice(0);this.uR=j;this.wl=tH.ig(new Uint8Array(Q.LqMe.v).buffer);
var L=j.W,D=j.C;if(this.wl.fA/L<.22){this.wl={fA:Math.floor(L/4),NE:Math.floor(D/4)};this.wl.map=new Float32Array(this.wl.fA*this.wl.NE*2)}this.qc=[];
this.R$=-1;this.Lb();this.MT(null);this.$m()};n.LqFy.prototype.K=function(){this.eG();var Q=vr._j("LqFy"),C=new Uint8Array(tH.TI(this.wl)),j=[];
for(var Z=0;Z<C.length;Z++)j.push(C[Z]);Q.LqMe.v=j;return Q};n.LqFy.prototype.b_=function(Q,C){this.Vj.b_(Q,C);
var j=this.WB.w,Z=this.Hy;this.ko.appendChild(Z);this.ko.appendChild(j);if(Q>450){Z.style.marginLeft="1em";
this.ko.removeChild(j);this.view.b_(Q-238-45,C)}else{Z.style.marginLeft="";this.ko.removeChild(Z);this.view.b_(Q-40,C)}};
n.LqFy.prototype.N=function(){this.Vj.N();for(var Q=0;Q<this.XP.length;Q++)this.XP[Q].N()};n.LqFy.prototype.zw=function(){this.eG();
this.wl.map.fill(0);this.Lb();this.MT(null)};n.LqFy.prototype.MT=function(Q){var C=this.uR,j=this.He,Z=this.Hw,F=this.wl;
e.qJ.RY(j,this.Wd,C.W,C.C,Q,F.map,F.fA,F.NE,0);if(this.XP[3].CC()){e.tW(this.vkp,C,Z,C,Q?Q:C);e.B.hW("norm",this.Wd,C,Z,C,Q?Q:C,this.XP[4].K()/100)}else e.W_(this.Wd,Z);
this.view.t([{Rm:C,data:Z.buffer}])};n.GEfc=function(){n.call(this,"GEfc");this.CJ=0;this.ZQ=0;this.He=null;
this.Hw=null;this.uR=null;this.VO=null;this.ci=null;this.bm=0;var Q=t.e("div","flexrow");this.ko=Q;this.w.appendChild(Q);
this.view=new vz;this.view.b_(100,100);Q.appendChild(this.view.w);var C=t.e("div","form");Q.appendChild(C);
C.style.width="230px";C.style.marginLeft="1em";this.Wm=[];var j=[];this.pm={};for(var Z in Dv.names){this.Wm.push(Z);
j.push(Dv.names[Z]);var F=new n.GEfc.LV(Z);this.pm[Z]=F;F.p(t.E.U,this.vJd,this)}this.Hx=t.e("div");
C.appendChild(this.Hx);this.Hx.style.marginBottom="1.5em";this.yg=new rc(null,j);C.appendChild(this.yg.w);
this.yg.p(t.E.U,this.vJd,this);this.Wy=t.e("div");this.Wy.style.height="14em";C.appendChild(this.Wy);
t.hQ(C);this.Wx=t.e("div","lpbody scrollable");this.ps=t.e("div","lpfoot");C.appendChild(this.Wx);C.appendChild(this.ps);
this.p("click",this.vmV,this);this.pn=[];Db.qZ([[5,3],[5,4]],this.pn,this.ps,this.rL.bind(this))};n.GEfc.prototype=new n;
n.GEfc.prototype.tD=function(){return!0};n.GEfc.prototype.at=function(Q){this.Hx.appendChild(Q)};n.GEfc.prototype.VD=function(Q,C){this.VO=Q};
n.GEfc.prototype.b_=function(Q,C){this.CJ=Q;this.ZQ=C;this.view.b_(Q-240,C);this.Wx.style.height=C-this.Wy.getBoundingClientRect().height-140+"px"};
n.GEfc.prototype.rL=function(Q){var C=Db.HZ(this.pn,Q),j=this.ci.GEfs.v,Z=j[this.bm].v;if(C==0){j.push(JSON.parse(JSON.stringify(j[this.bm])));
this.bm=j.length-1}else{j.splice(this.bm,1);if(this.bm==j.length)this.bm--}this.Hv();this.MT()};n.GEfc.prototype.vJd=function(Q){var C=this.Wm[this.yg.K()],j;
if(Q.target==this.yg)j=Dv._j(C);else j=this.pm[C].K();this.ci.GEfs.v[this.bm].v=j;this.Hv();this.MT()};
n.GEfc.prototype.t=function(Q,C,j,Z,F){console.log(Q);Q=this.ci=JSON.parse(JSON.stringify(Q));if(Q.GEfs==null)Q=this.ci={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:Q}]}};
var _=Q.GEfs.v;for(var $=0;$<_.length;$++)if(_[$].v.GELv==null)_[$].v.GELv={t:"bool",v:!0};this.bm=_.length-1;
this.Hv();j=j.clone();if(C==null)return;if(!Z.gm(j)){var L=j.fJ(Z),D=e.Q(L.P()*4);e.tW(C,j,D,L);C=D;
j=L}j.x=j.y=0;this.He=C;this.Hw=C.slice(0);this.uR=j;this.MT()};n.GEfc.prototype.vmV=function(Q){var C=Q.data,j=C.BW,Z=this.ci.GEfs.v;
if(C.WL){Z[j].v.GELv.v=!Z[j].v.GELv.v;this.MT()}else this.bm=j;this.Hv()};n.GEfc.prototype.Hv=function(){var Q=this.ci.GEfs.v,C=Q[this.bm].v,j=C.GEfk.v.GEft,Z=this.Wm.indexOf(j),F=this.Wy;
if(Z==-1){alert("Unsupported gallery filter");this.yg.IO();t.pi(F)}else{this.yg.t(Z);this.yg.Ii();var _=this.pm[j];
_.t(C);if(F.firstChild!=_.w){t.pi(F);F.appendChild(_.w)}}var $=[];for(var L=0;L<Q.length;L++){var D=Q[L].v,d=Dv.names[D.GEfk.v.GEft],o=new QR(L,!0,!1,null,d?d:"Filter",L==this.bm,D.GELv.v);
o.parent=this;$.push(o.w)}t.pi(this.Wx);$.reverse();for(var L=0;L<$.length;L++)this.Wx.appendChild($[L]);
this.b_(this.CJ,this.ZQ)};n.GEfc.prototype.K=function(){return JSON.parse(JSON.stringify(this.ci))};
n.GEfc.prototype.MT=function(Q){var C=this.uR,j=this.He,Z=this.Hw,F=this.Wm[this.yg.K()],_=this.ci,$=this.VO;
function L(D){return{h:D>>>16,J:D>>>8&255,_:D&255}}vr.DZ("GEfc",{rect:this.uR,buffer:this.He},_,L($.pd),L($.JD),{rect:this.uR,buffer:this.Hw},null);
this.view.t([{Rm:C,data:Z.buffer}])};n.GEfc.prototype.N=function(){for(var Q in this.pm)this.pm[Q].N();
Db.mi(this.pn,["lrs/newlayer","lrs/bin"])};n.GEfc.LV=function(Q){rJ.call(this);this.wH=Q;this.w=t.e("div");
this.bb={};var C=Dv._j(Q);for(var j in C){var Z;if(j=="__name"||j=="classID"||j=="GEfk"||j=="GELv"||["LghI","FlRs"].indexOf(j)!=-1)continue;
else if(j=="Sz")Z=new rX([12,14,0],1,50);else if(j=="Dtl")Z=new rX("Detail",1,15);else if(j=="Shrp")Z=new rX("Sharpness",0,40);
else if(j=="BrsT")Z=new rc("Brush type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(j=="LghD")Z=new rc("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(j=="SDir")Z=new rc([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(j=="EdgW")Z=new rX("Edge Width",1,14);
else if(j=="EdgB")Z=new rX("Edge Brightness",0,20);else if(j=="Smth")Z=new rX([19,3,3],1,15);else if(j=="ClSz")Z=new rX([12,61],3,100);
else if(j=="BrdT")Z=new rX([7,9],1,20);else if(j=="HghS")Z=new rX([12,64],0,20);else if(j=="HlSz")Z=new rX([12,14,0],1,15);
else if(j=="Cntr")Z=new rX([12,3,0],0,50);else if(j=="ScrT")Z=new rc([12,62],["Circle","Dot",[10,35]]);
else if(j=="SprR")Z=new rX("Spray Radius",0,25);else if(j=="StrL")Z=new rX("Stroke Length",0,20);else console.log(j);
Z.p(t.E.U,this.GJ,this);this.bb[j]=Z;this.w.appendChild(Z.w)}};n.GEfc.LV.prototype=new rJ;n.GEfc.LV.prototype.GJ=function(Q){this.Z(new P(t.E.U,!1))};
n.GEfc.LV.prototype.t=function(Q){for(var C in this.bb){var j;if("Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL".split(" ").indexOf(C)!=-1)j=Q[C].v;
else if(C=="BrsT")j=Dv.vRR.indexOf(Q[C].v[C]);else if(C=="LghD")j=Dv.us.indexOf(Q[C].v[C]);else if(C=="ScrT")j=Dv.uE.indexOf(Q[C].v[C]);
else if(C=="SDir")j=Dv.ud.indexOf(Q[C].v.StrD);this.bb[C].t(j)}};n.GEfc.LV.prototype.K=function(){var Q=Dv._j(this.wH);
for(var C in this.bb){var j=this.bb[C].K();if("Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL".split(" ").indexOf(C)!=-1)Q[C].v=j;
else if(C=="BrsT")Q[C].v[C]=Dv.vRR[j];else if(C=="LghD")Q[C].v[C]=Dv.us[j];else if(C=="ScrT")Q[C].v[C]=Dv.uE[j];
else if(C=="SDir")Q[C].v.StrD=Dv.ud[j]}return Q};n.GEfc.LV.prototype.N=function(){for(var Q in this.bb)this.bb[Q].N()};
n.blnc=function(){n.call(this);var Q=this.w;this.hb=null;this.TG=new rc([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
this.TG.p(t.E.U,this.MT,this);Q.appendChild(this.TG.w);this.cq=[];for(var C=0;C<3;C++){var j=new rX(rY.fY[C],-100,100);
j.p(t.E.U,this.IK,this);this.cq.push(j);Q.appendChild(j.w)}this.py=new vg([13,4]);this.py.p(t.E.U,this.IK,this);
Q.appendChild(this.py.w)};n.blnc.prototype=new n;n.blnc.prototype.N=function(){this.TG.N();for(var Q=0;
Q<3;Q++)this.cq[Q].N();this.py.N()};n.blnc.prototype.t=function(Q){this.hb=JSON.parse(JSON.stringify(Q));
this.MT()};n.blnc.prototype.K=function(Q){var C=["ShdL","MdtL","HghL"],j=this.hb[C[this.TG.K()]].v;for(var Z=0;
Z<3;Z++)j[Z].v=this.cq[Z].K();this.hb.PrsL.v=this.py.K();return JSON.parse(JSON.stringify(this.hb))};
n.blnc.prototype.MT=function(Q){var C=["ShdL","MdtL","HghL"],j=this.hb[C[this.TG.K()]].v;for(var Z=0;
Z<3;Z++)this.cq[Z].t(j[Z].v);this.py.t(this.hb.PrsL.v)};n.brit=function(){n.call(this,"brit");this.Cl.push(new rX([12,2],-150,150,""));
this.Cl.push(new rX([12,3,0],-100,100,""));this.Cl.push(new vg([12,3,1]));this._w()};n.brit.prototype=new n;
n.brit.prototype.Bl=function(Q,C){C[0]=Q.Brgh?Q.Brgh.v:0;C[1]=Q.Cntr?Q.Cntr.v:0;C[2]=Q.useLegacy?Q.useLegacy.v:!1};
n.brit.prototype.IX=function(Q,C){Q.Brgh.v=C[0];Q.Cntr.v=C[1];Q.useLegacy.v=C[2]};n.curv=function(){n.call(this);
this.value=null;this.Te=null;var Q=this.w;this.DE=new rc([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.DE.p(t.E.U,this.hx,this);Q.appendChild(this.DE.w);this._V=new rc(null,["Spline","Sketch"]);this._V.p(t.E.U,this.vmT,this);
Q.appendChild(this._V.w);this.xi=new QP;this.xi.p(t.E.U,this.aT,this);Q.appendChild(this.xi.w);this.px=new to("Sample from image",["#000000","#888888","#ffffff"]);
Q.appendChild(this.px.w)};n.curv.prototype=new n;n.curv.prototype.N=function(){this.DE.N()};n.curv.prototype.vmT=function(Q){var C=_d.hJ(this.value,0),j=C.length==256?1:0,Z=this._V.K();
if(j==Z)return;var F=vr._j("curv");if(Z==1){var _=[];for(var $=0;$<256;$++)_.push($);_d.ht(F,0,_)}this.t(F);
this.IK()};n.curv.prototype.aT=function(){_d.ht(this.value,this.DE.K(),this.xi.K());this.IK()};n.curv.prototype.hx=function(){var Q=this.DE.K(),C=_d.hJ(this.value,Q),j=C.length==256?1:0;
this._V.t(j);if(this.Te)this.xi.xC(this.Te[Q],this.Te[4]*[1,.33,.33,.33][Q],["#ccc","#fcc","#cfc","#ccf"][Q]);
this.xi.t(C)};n.curv.prototype.rK=function(){return!0};n.curv.prototype._c=function(Q,C,j,Z,F){var _=this.value,$=this.px.K();
this.value=vr._j("curv");this.IK();var L=G.dn._u(Q,F,1),D=[L>>>16&255,L>>>8&255,L&255];for(var d=0;d<3;
d++){var o=_d.hJ(_,1+d);if($==0)o[0].v.Hrzn.v=D[d];if($==1){var v=(D[0]+D[1]+D[2])*.333,f=Math.log(D[d]/255)/Math.log(v/255),U=Math.min(999,Math.max(10,Math.round(100*f)));
if(o.length==2)o.splice(1,0,JSON.parse(JSON.stringify(o[0])));o[1].v.Hrzn.v=127-Math.log(U/100)*127;
o[1].v.Vrtc.v=127}if($==2)o[o.length-1].v.Hrzn.v=D[d];_d.ht(_,1+d,o)}this.t(_);this.IK()};n.curv.prototype.t=function(Q){this.value=Q;
this.hx()};n.curv.prototype.xC=function(Q){this.Te=Q;this.hx()};n.curv.prototype.K=function(Q){return JSON.parse(JSON.stringify(this.value))};
n.expA=function(){n.call(this,"expA");this.Cl.push(new rX([12,5],-20,20,null,3));this.Cl.push(new rX([12,6],-.5,.5,null,3));
this.Cl.push(new rX([12,7],.01,6.99,null,3));this._w()};n.expA.prototype=new n;n.expA.prototype.Bl=function(Q,C){C[0]=Q.Exps.v;
C[1]=Q.Ofst.v;C[2]=Q.gammaCorrection.v};n.expA.prototype.IX=function(Q,C){Q.Exps.v=C[0];Q.Ofst.v=C[1];
Q.gammaCorrection.v=C[2]};n.grdm=function(){n.call(this,"grdm");this.Cl.push(new vY(!0,null,!0));this.Cl.push(new vg([12,23,0]));
this._w()};n.grdm.prototype=new n;n.grdm.prototype.Bl=function(Q,C){C[0]=Q.Grad.v;C[1]=Q.Rvrs?Q.Rvrs.v:!1};
n.grdm.prototype.IX=function(Q,C){Q.Grad.v=C[0];Q.Rvrs={t:"bool",v:C[1]}};n.grdm.prototype.VD=function(Q,C){this.Cl[0].Xj(Q.pd,Q.JD);
if(C==rQ.yY||C==rQ.TH||C==rQ.dZ)this.Cl[0].Ip(Q.WY)};n.selc=function(){n.call(this);var Q=this.w;this.lz=[];
this.ZN=null;this.TG=new rc([12,82],rY.uk.concat([[13,1,8],[13,1,13],[13,1,10]]));this.TG.p(t.E.U,this.GJ,this);
Q.appendChild(this.TG.w);for(var C=0;C<4;C++){var j=new rX(rY.vzZ[C],-100,100,"%");j.p(t.E.U,this.GJ,this);
this.lz.push(j);Q.appendChild(j.w)}this.pF=new vg([13,3]);Q.appendChild(this.pF.w);this.pF.p(t.E.U,this.GJ,this)};
n.selc.prototype=new n;n.selc.prototype.N=function(){this.TG.N();this.pF.N();for(var Q=0;Q<4;Q++)this.lz[Q].N()};
n.selc.prototype.t=function(Q){this.ZN=JSON.parse(JSON.stringify(Q));this.MT()};n.selc.prototype.K=function(Q){return JSON.parse(JSON.stringify(this.ZN))};
n.selc.prototype.GJ=function(Q){if(Q.target!=this.TG){var C=this.ZN,j=[];for(var Z=0;Z<4;Z++)j[Z]=this.lz[Z].K();
_F.ht(C,this.TG.K(),j);C.Mthd={t:"enum",v:{CrcM:this.pF.K()?"Absl":"Rltv"}}}this.MT();this.IK()};n.selc.prototype.MT=function(){var Q=this.ZN,C=_F.hJ(Q,this.TG.K());
for(var j=0;j<4;j++)this.lz[j].t(C[j]);this.pF.t(Q.Mthd?Q.Mthd.v.CrcM=="Absl":!1)};n.blwh=function(){n.call(this,"blwh");
this.Cl.push(new vg([12,11]));this.Cl.push(new vy(!0));for(var Q=0;Q<6;Q++)this.Cl.push(new rX(rY.uk[Q],-200,300));
this._w()};n.blwh.prototype=new n;n.blwh.prototype.Bl=function(Q,C){C[0]=Q.useTint.v;C[1]=Q.tintColor.v;
var j="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var Z=0;Z<6;Z++)C[2+Z]=Q[j[Z]].v};n.blwh.prototype.IX=function(Q,C){Q.useTint.v=C[0];
Q.tintColor.v=C[1];var j="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var Z=0;Z<6;Z++)Q[j[Z]].v=C[2+Z]};
n.hue2=function(){n.call(this);this.value=null;this.xh=null;this.vkZ=null;var Q=this.w;this.TG=new rc([12,12],["Master"].concat(rY.uk));
this.TG.p(t.E.U,this.hx,this);Q.appendChild(this.TG.w);this.cW=new rX([12,8],-180,180);this.cW.p(t.E.U,this.HQ,this);
Q.appendChild(this.cW.w);this.qf=new rX([12,9],-100,100);this.qf.p(t.E.U,this.HQ,this);Q.appendChild(this.qf.w);
this.pc=new rX([12,10],-100,100);this.pc.p(t.E.U,this.HQ,this);Q.appendChild(this.pc.w);this.pf=new vg([12,11]);
this.pf.p(t.E.U,this.vmk,this);Q.appendChild(this.pf.w);this.vJt=new $C("...",!0);Q.appendChild(this.vJt.w)};
n.hue2.prototype=new n;n.hue2.prototype.N=function(){this.cW.N();this.qf.N();this.pc.N();this.pf.N();
this.TG.N()};n.hue2.prototype.vmk=function(Q){var C=this.pf.K();this.value.Clrz.v=C;if(C)this.TG.t(0);
this.hx();this.IK()};n.hue2.prototype.HQ=function(Q){var C=this.value.Clrz.v,j=this.TG.K(),Z=vM.hJ(this.value,j),F=j==0?Z:Z.cq;
F[0]=this.cW.K();var _=this.qf.K();F[1]=C?Math.max(0,_):_;F[2]=this.pc.K();vM.ht(this.value,j,Z);this.hx();
this.IK()};n.hue2.prototype.hx=function(){var Q=this.value.Clrz?this.value.Clrz.v:!1,F="";this.pf.t(Q);
if(Q)this.TG.IO();else this.TG.Ii();var C=this.TG.K(),j=vM.hJ(this.value,C),Z=C==0?j:j.cq;this.cW.t(Z[0]);
this.qf.t(Z[1]);this.pc.t(Z[2]);if(!Q){F+=rT.get([5,8])+": ";var C=this.TG.K();if(C==0)F+=rT.get([13,2]);
else F+=j.EO}this.vJt.t(F)};n.hue2.prototype.rK=function(){return!0};n.hue2.prototype.yi=function(Q,C,j,Z,F){var _=this.value;
this.value=vr._j("hue2");this.IK();var $=G.dn._u(Q,F,1),L=[$>>>16&255,$>>>8&255,$&255],D=e.kV(L[0]/255,L[1]/255,L[2]/255);
this.TG.t(1+Math.round(D.NE*6)%6);this.t(_);this.IK();this.xh=F.x;this.vkZ=this.qf.K()};n.hue2.prototype.eF=function(Q,C,j,Z,F){if(this.xh!=null){var _=F.x-this.xh;
_=Math.max(-100,Math.min(100,this.vkZ+.5*_));this.qf.t(_);this.HQ()}};n.hue2.prototype._c=function(Q,C,j,Z,F){this.xh=null};
n.hue2.prototype.t=function(Q){this.value=JSON.parse(JSON.stringify(Q));this.hx()};n.hue2.prototype.K=function(Q){return JSON.parse(JSON.stringify(this.value))};
n.levl=function(){n.call(this);this.value=null;this.Te=null;this.qK=[new Wn(0,0),new Wn(0,0),new Wn(0,0),new Wn(0,0),new Wn(0,0)];
this.bN=-1;this.FS=this.gZ.bind(this);this.FJ=this.r_.bind(this);var Q=this.w;this.DE=new rc([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.DE.p(t.E.U,this.hx,this);Q.appendChild(this.DE.w);var C=t.e("div","");Q.appendChild(C);var j=t.e("div","");
Q.appendChild(j);this.ky=t.e("canvas");C.appendChild(this.ky);this.zf=this.ky.getContext("2d");this.HA=new Wn(256,120);
this.ky.setAttribute("style","display:block");t.lZ(this.ky,this.HA.x,this.HA.y,this.zf);t.W$(this.ky);
t.BF(this.ky,this.rD.bind(this));this.tn=t.e("canvas","");j.appendChild(this.tn);this.tB=this.tn.getContext("2d");
this.Wc=new Wn(this.HA.x,40);this.tn.setAttribute("style","display:block");t.lZ(this.tn,this.Wc.x,this.Wc.y,this.tB);
t.W$(this.tn);t.BF(this.tn,this.vmh.bind(this));var Z=this.vJj=[];for(var F=0;F<5;F++){var _=new $q(null,null,3);
Z.push(_);_.p(t.E.U,this.vmE,this);(F<2||F==4?C:j).appendChild(_.w)}C.appendChild(Z[1].w);Z[4].w.setAttribute("style","margin: 0 4.7em");
Z[3].w.setAttribute("style","margin:0 0 0 13em");this.px=new to("Sample from image",["#000000","#888888","#ffffff"]);
Q.appendChild(this.px.w)};n.levl.prototype=new n;n.levl.prototype.N=function(){this.DE.N()};n.levl.prototype.vmE=function(Q){var C=[];
for(var j=0;j<5;j++){var Z=255,F=1;if(j==4){Z=999;F=100}var _=parseFloat(this.vJj[j].K());C[j]=Math.max(0,Math.min(Z,_*F))}Dp.ht(this.value,this.DE.K(),C);
this.hx();this.IK()};n.levl.prototype.hx=function(Q){var C=this.HA.x,j=this.HA.y,Z=this.DE.K(),F=this.zf;
F.clearRect(0,0,C,j);F.fillStyle="#cccccc";F.fillRect(8,8,C-16,j-16-8);if(this.Te){if(Z==0){e.set(this.Te[0],0);
var _=JSON.parse(JSON.stringify(this.value));Dp.ht(_,0,[0,255,0,255,100]);var $=rY.vT("levl",_),L=[$.Kx,$.wu,$.lG];
for(var D=0;D<3;D++){var d=this.Te[1+D],o=L[D];for(var v=0;v<256;v++)this.Te[0][o[v]]+=d[v]}}var f=this.Te[Z],U=0;
for(var v=0;v<f.length;v++)U+=f[v];F.fillStyle="#333333";F.beginPath();F.moveTo(8,j-16);for(var v=0;
v<256;v++){var H=55*f[v]/U;F.lineTo(8+v/256*(C-16),Math.max(8,j-16-j*H))}F.lineTo(C-8,j-16);F.closePath();
F.fill()}var B=Dp.hJ(this.value,Z);for(var v=0;v<5;v++)this.vJj[v].t(B[v]/(v==4?100:1));this.qK[0].KL(8+B[0]/255*(C-16),j-14);
this.qK[1].KL(8+B[1]/255*(C-16),j-14);var m=Math.log(B[4]/100)/Math.log(9.99);m=.5-m/2;this.qK[4].KL(this.qK[0].x+m*(this.qK[1].x-this.qK[0].x),j-14);
this.qD(F,this.qK[0],"#000000");this.qD(F,this.qK[1],"#ffffff");this.qD(F,this.qK[4],"#777777");var C=this.Wc.x,j=this.Wc.y;
F=this.tB;F.clearRect(0,0,C,j);var Y=F.createLinearGradient(0,0,C-16,0);Y.addColorStop(0,"black");Y.addColorStop(1,"white");
F.fillStyle=Y;F.fillRect(8,8,C-16,16);this.qK[2].KL(8+B[2]/255*(C-16),j-14);this.qK[3].KL(8+B[3]/255*(C-16),j-14);
this.qD(F,this.qK[2],"#000000");this.qD(F,this.qK[3],"#ffffff")};n.levl.prototype.qD=function(Q,C,j){Q.fillStyle=j;
Q.fillRect(C.x-5,C.y,10,10)};n.levl.prototype.rD=function(Q){var C=t.Gp(Q,this.ky);for(var j=0;j<2;j++)if(Wn.iQ(this.qK[j],C)<10)this.bN=j;
if(Wn.iQ(this.qK[4],C)<10)this.bN=4;this.vsU()};n.levl.prototype.vmh=function(Q){var C=t.Gp(Q,this.tn);
for(var j=2;j<4;j++)if(Wn.iQ(this.qK[j],C)<10)this.bN=j;this.vsU()};n.levl.prototype.vsU=function(Q){if(this.bN==-1)return;
t.og(document.body,this.FS);t.oF(document.body,this.FJ)};n.levl.prototype.gZ=function(Q){var C=Dp.hJ(this.value,this.DE.K()),j=t.Gp(Q,this.bN==2&&this.bN==3?this.tn:this.ky),Z=255*(j.x-8)/(this.HA.x-16);
Z=Math.max(0,Math.min(255,Z));if(this.bN==0)Z=Math.min(Z,C[1]-2);if(this.bN==1)Z=Math.max(Z,C[0]+2);
if(this.bN!=4)C[this.bN]=Math.round(Z);else{var F=(Z-C[0])/(C[1]-C[0]);F=1-2*F;F=Math.pow(9.99,F);C[4]=Math.min(999,Math.max(10,Math.round(F*100)))}Dp.ht(this.value,this.DE.K(),C);
this.hx();this.IK()};n.levl.prototype.r_=function(Q){t.wf(document.body,this.FS);t.Ab(document.body,this.FJ);
this.bN=-1};n.levl.prototype.rK=function(){return!0};n.levl.prototype._c=function(Q,C,j,Z,F){var _=this.value,$=this.px.K();
this.value=vr._j("levl");this.IK();var L=G.dn._u(Q,F,1),D=[L>>>16&255,L>>>8&255,L&255];for(var d=0;d<3;
d++){var o=Dp.hJ(_,1+d);if($==0)o[0]=D[d];if($==1){var v=Math.log(D[d]/255)/Math.log((D[0]+D[1]+D[2])*.333/255);
o[4]=Math.min(999,Math.max(10,Math.round(100*v)))}if($==2)o[1]=D[d];Dp.ht(_,1+d,o)}this.t(_);this.IK()};
n.levl.prototype.t=function(Q){this.value=Q;this.hx()};n.levl.prototype.xC=function(Q){this.Te=Q;this.hx()};
n.levl.prototype.K=function(Q){return JSON.parse(JSON.stringify(this.value))};n.phfl=function(){n.call(this,"phfl");
this.Cl.push(new vy);this.Cl.push(new rX([12,74],0,100,"%"));this.Cl.push(new vg([13,4]));this._w()};
n.phfl.prototype=new n;n.phfl.prototype.Bl=function(Q,C){C[0]=Q.Clr.v;C[1]=Q.Dnst.v;C[2]=Q.PrsL.v};n.phfl.prototype.IX=function(Q,C){var j=e.q.Xa(C[0]),Z=Q.Clr.v,F=e.ZM(j.h,j.J,j._);
Z.Lmnc.v=F.m$;Z.A.v=F.om;Z.B.v=F._;Q.Dnst.v=C[1];Q.PrsL.v=C[2]};n.vibA=function(){n.call(this,"vibA");
this.Cl.push(new rX([12,13],-100,100,null));this.Cl.push(new rX([12,9],-100,100,null));this._w()};n.vibA.prototype=new n;
n.vibA.prototype.Bl=function(Q,C){C[0]=Q.vibrance?Q.vibrance.v:0;C[1]=Q.Strt?Q.Strt.v:0};n.vibA.prototype.IX=function(Q,C){Q.vibrance.v=C[0];
Q.Strt.v=C[1]};n.thrs=function(){n.call(this,"thrs");this.Cl.push(new rX([4,13],1,255,null));this._w()};
n.thrs.prototype=new n;n.thrs.prototype.Bl=function(Q,C){C[0]=Q.Lvl.v};n.thrs.prototype.IX=function(Q,C){Q.Lvl.v=C[0]};
n.mixr=function(){n.call(this);var Q=this.w;this.lz=[];this.ZN=null;this.TG=new rc([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.TG.p(t.E.U,this.GJ,this);Q.appendChild(this.TG.w);t.hQ(Q);this.dT=new vg([12,60]);Q.appendChild(this.dT.w);
this.dT.p(t.E.U,this.GJ,this);for(var C=0;C<4;C++){var j=new rX([[13,1,1],[13,1,4],[13,1,5],[13,2]][C],-200,200,"%");
j.p(t.E.U,this.GJ,this);this.lz.push(j);Q.appendChild(j.w)}};n.mixr.prototype=new n;n.mixr.prototype.N=function(){this.TG.N();
this.dT.N();for(var Q=0;Q<4;Q++)this.lz[Q].N()};n.mixr.prototype.t=function(Q){this.ZN=JSON.parse(JSON.stringify(Q));
this.MT()};n.mixr.prototype.K=function(Q){return JSON.parse(JSON.stringify(this.ZN))};n.mixr.prototype.GJ=function(Q){if(Q.target!=this.TG){var C=rY.ff(this.ZN);
if(Q.target==this.dT){C.dT=this.dT.K();if(C.dT)C.O=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else C.O=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var j=(C.dT?0:this.TG.K())*5,Z=this.lz.indexOf(Q.target);
C.O[j+(Z<3?Z:4)]=Q.target.K()}this.ZN=rY.vIu(C)}this.MT();this.IK()};n.mixr.prototype.MT=function(){var Q=rY.ff(this.ZN);
this.dT.t(Q.dT);var C=(Q.dT?0:this.TG.K())*5;for(var j=0;j<4;j++)this.lz[j].t(Q.O[C+(j<3?j:4)])};n.post=function(){n.call(this,"post");
this.Cl.push(new rX([4,1],2,255,null));this._w()};n.post.prototype=new n;n.post.prototype.Bl=function(Q,C){C[0]=Q.Lvls.v};
n.post.prototype.IX=function(Q,C){Q.Lvls.v=C[0]};n.clrL=function(){n.call(this,"clrL");this.Cl.push(new $t("LUTs"));
this._w()};n.clrL.prototype=new n;n.clrL.prototype.Bl=function(Q,C){C[0]=Q};n.clrL.prototype.IX=function(Q,C){var j=C[0];
for(var Z in j)Q[Z]=j[Z]};n.clrL.prototype.VD=function(Q,C){if(C==rQ.yY||C==rQ.vK)this.Cl[0].Ip(Q.vJy)};
n.rplc=function(){n.call(this,"rplc");this.Cl.push(new rX([12,92],0,200));this.Cl.push(new vy);this.Cl.push(new rX([12,8],-180,180));
this.Cl.push(new rX([12,9],-100,100));this.Cl.push(new rX([12,10],-100,100));this._w()};n.rplc.prototype=new n;
n.rplc.prototype.Bl=function(Q,C){C[0]=Q.Fzns.v;C[1]=Q.Mxm.v;C[2]=Q.H.v;C[3]=Q.Strt.v;C[4]=Q.Lght.v};
n.rplc.prototype.IX=function(Q,C){function j(F,_){_.Lmnc.v=F.m$;_.A.v=F.om;_.B.v=F._}Q.Fzns.v=C[0];Q.H.v=C[2];
Q.Strt.v=C[3];Q.Lght.v=C[4];var Z=e.q.Xa(C[1]),F=e.ZM(Z.h,Z.J,Z._);j(F,Q.Mnm.v);j(F,Q.Mxm.v)};n.fade=function(){n.call(this,"fade");
this.Cl.push(new rX([12,0],0,100,"%"));this.Cl.push(new rc([12,19,0],rP.yg,!1,rP.pP));this._w()};n.fade.prototype=new n;
n.fade.prototype.Bl=function(Q,C){C[0]=Q.Opct.v.val;C[1]=rP.kQ.indexOf(Q.Md.v.BlnM)};n.fade.prototype.IX=function(Q,C){Q.Opct.v.val=C[0];
Q.Md.v.BlnM=rP.kQ[C[1]]};function rm(Q,C){rJ.call(this);if(Q==null)return;this.id=C;this.Wf=Q;this.HF=null;
this.w=t.e("div","window "+C);this.EZ=t.e("div","whead");this.vI$=t.e("span","wname");this.EZ.appendChild(this.vI$);
this.w.appendChild(this.EZ);this.iO=this.vyD.bind(this);this._e=this.vyW.bind(this);this.Q_=this.vyj.bind(this);
t.W$(this.EZ);t.BF(this.EZ,this.iO);this.HC=t.e("span","cross");this.EZ.appendChild(this.HC);rm.prototype.N.call(this);
t.oF(this.HC,this.vsM.bind(this));this.body=t.e("div","body");this.w.appendChild(this.body)}rm.prototype=new rJ;
rm.prototype.cX=function(){return!1};rm.prototype.rK=function(){return!1};rm.prototype.N=function(){if(this.Wf==null)return;
this.vI$.textContent=rT.get(this.Wf);var Q=PIMG.__cross==null?"filter:invert(1);":"";this.HC.setAttribute("style","background-image:url("+PIMG.cross+");"+Q)};
rm.prototype.yi=function(Q,C,j,Z,F){};rm.prototype.Le=function(Q,C,j,Z,F){};rm.prototype.eF=function(Q,C,j,Z,F){};
rm.prototype._c=function(Q,C,j,Z,F){};rm.prototype.MJ=function(Q,C,j,Z,F){};rm.prototype.ZZ=function(Q,C,j,Z){if(Z.r(b.bA)&&this.Ha)this.Ha()};
rm.prototype.Yy=function(Q){return!1};rm.prototype.Po=function(Q,C){return!0};rm.prototype.Ik=function(Q,C,j,Z){};
rm.prototype.VD=function(Q,C){};rm.prototype.tD=function(){return!1};rm.prototype.eD=function(Q,C){return Q<450||C<450?new Wn(0,0):new Wn(150,150)};
rm.prototype.b_=function(){};rm.prototype.close=function(){this.Z(new P(t.E.Wu))};rm.prototype.vyD=function(Q){this.HF=t.Gp(Q,this.w);
t.og(window,this._e);t.oF(window,this.Q_)};rm.prototype.vyW=function(Q){var C=this.w.parentNode,j=t.Gp(Q,C);
this.w.style.left=Math.round(j.x-this.HF.x)+"px";this.w.style.top=C.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(j.y-this.HF.y)))+"px"};
rm.prototype.vyj=function(Q){t.wf(window,this._e);t.Ab(window,this.Q_)};rm.prototype.vsM=function(Q){this.Z(new P("closebtn"));
this.close()};function vJ(){rm.call(this,[0,13,0],"account");this.ga=t.e("div","form padded scrollable");
this.ga.setAttribute("style","max-width:48em;  max-height:33em;");this.body.appendChild(this.ga);this.NW=[new vJ.DI,new vJ.qR(vJ.vxG),new vJ.qR(vJ.vxF)];
for(var Q=0;Q<this.NW.length;Q++)this.NW[Q].parent=this;this.p("showpage",this.vyz,this)}vJ.prototype=new rm;
vJ.prototype.vyz=function(Q){t.pi(this.ga);this.ga.scrollTop=0;this.ga.appendChild(this.NW[Q.data.BW].w)};
vJ.prototype.N=function(){rm.prototype.N.call(this);for(var Q=0;Q<this.NW.length;Q++)this.NW[Q].N()};
vJ.prototype.Ik=function(Q,C,j){t.pi(this.ga);var Z=this.NW[0];this.ga.appendChild(Z.w);Z.Ik();this.N()};
vJ.prototype.VD=function(Q,C){this.Ik(null,null,null)};vJ.DI=function(){rJ.call(this);this.w=t.e("div");
var Q=this.w,C,j,Z="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; font-weight:bold; color:#ffffff; cursor:pointer; margin:4px 0;";
this.ly=t.e("div");Q.appendChild(this.ly);this.WA=new rs([0,11],!1,null,!0);this.WA.w.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.WA.p("click",this.bL,this);Q.appendChild(this.WA.w);this.HY=new rs([0,13,1],!1,null,!0);this.HY.p("click",this.vda,this);
Q.appendChild(this.HY.w);this.vIi=new rs("Contact",!1,null,!0);this.vIi.p("click",this.vyq,this);C=t.e("h2","");
C.innerHTML="Account types";Q.appendChild(C);j=t.e("table","");j.innerHTML="\t\t\t<table>\t\t\t\t<tr>   <th class=\"left\"></th><th>Free</th><th>Premium</th> </tr>\t\t\t\t<tr>   <td class=\"left\">Full Functionality</td><td class=\"yes\">\u2713</td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">No Ads</td><td class=\"no\"> </td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">Steps in History</td><td class=\"no\" style=\"font-size:1.3em\">30</td><td class=\"yes\">60</td>    </tr>\t\t\t\t<!--<tr class=\"lastrow\">   <td class=\"left\">Cost</td><td>Free</td><td><big>$5</big> per month</td>    </tr>-->\t\t\t</table>\t\t";
Q.appendChild(j);var F=this.vDy=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.cy=[];for(var _=0;_<F.length;_++)this.cy.push(new rs("Buy: $"+F[_][0],!1,null,!0));for(var _=0;
_<this.cy.length;_++){this.cy[_].w.setAttribute("style",Z);this.cy[_].p("click",this.vxO,this)}C=t.e("h2","");
C.innerHTML="Go Premium";Q.appendChild(C);this.r$=new rs("...",!0);this.r$.w.setAttribute("style",Z);
Q.appendChild(this.r$.w);j=this.vyo(3,["Single user",this.cy[0],this.cy[1],this.cy[2],"Team of 5",this.cy[3],this.cy[4],this.cy[5],"Team of 20",this.cy[6],this.cy[7],this.cy[8]]);
Q.appendChild(j);this.vIx=new vg("I accept",!0,"");Q.appendChild(this.vIx.w);this.HG=new rs([0,13,1],!1,null,!0);
this.HG.p("click",this.vda,this);Q.appendChild(this.HG.w);C=t.e("h2","");C.textContent="Team Settings";
Q.appendChild(C);this.qh=new vg("Join a team");Q.appendChild(this.qh.w);this.qh.p(t.E.U,this.vmf,this);
this.rW=new $q("Email of a leader",null,14);Q.appendChild(this.rW.w);t.hQ(Q);this.pH=new vg("Start a team");
Q.appendChild(this.pH.w);this.pH.p(t.E.U,this.vmf,this);var $=new $C("Emails of other members:");Q.appendChild($.w);
t.hQ(Q);this.yM=t.e("textarea");this.yM.setAttribute("rows",3);this.yM.setAttribute("cols",70);this.yM.setAttribute("style","display:block;tab-size:4;");
Q.appendChild(this.yM);var L=new rs("Save Team Settings",!1,null,!0);Q.appendChild(L.w);L.p("click",this.vyc,this);
var D=this.vDx=new rs("More about Teams",!1,null,!0);Q.appendChild(D.w);D.p("click",this.vXY,this);C=t.e("h2","");
C.innerHTML="Distributor Account";Q.appendChild(C);this.rr=new rs("...",!0);this.rr.w.setAttribute("style",Z);
Q.appendChild(this.rr.w);j=this.vyo(3,["1000 views/month",this.cy[9],this.cy[10],this.cy[11],"5000 views/month",this.cy[12],this.cy[13],this.cy[14],"20000 views/month",this.cy[15],this.cy[16],this.cy[17]]);
Q.appendChild(j);this.rR=new $q("Domain name (e.g. domain.com)",null,14);Q.appendChild(this.rR.w);t.hQ(Q);
var L=new rs("Save Domain Settings",!1,null,!0);L.In();Q.appendChild(L.w);L.p("click",this.vyN,this);
var D=new rs("More about Distributors",!1,null,!0);Q.appendChild(D.w);D.p("click",this.vXY,this)};vJ.DI.prototype=new rJ;
vJ.DI.prototype.vda=function(Q){var C=new P("showpage",!0);C.data={BW:1};this.Z(C)};vJ.DI.prototype.vyq=function(Q){var C=new P("showpage",!0);
C.data={BW:2};this.Z(C)};vJ.DI.prototype.N=function(){this.WA.hE(ra.FU()?rT.get([0,11]):rT.get([0,10]));
this.HG.N();this.HY.N();this.vIi.N()};vJ.DI.prototype.vXY=function(Q){var C=new P(t.E.m,!0);C.data={$:t.i.xO,link:"https://www.photopea.com/api/accounts#"+(Q.target==this.vDx?"teams":"distributors")};
this.Z(C)};vJ.DI.prototype.vmf=function(Q){var C=Q.currentTarget==this.qh;this.qh.t(C);this.pH.t(!C)};
vJ.DI.prototype.vyc=function(Q){var C=this.qh.K(),j=this.rW.K().trim(),Z=this.yM.value.trim();if(j.length>60){alert("Too long email address");
return}if(Z.length>600){alert("Too many team members");return}Z=Z.split(",").join(" ").trim();Z=Z.replace(/\s+/g," ");
if(Z=="")Z=[];else Z=Z.split(" ");var F=ra.Ts();if(F==null)F={};if(F.acc==null)F.acc={};F.acc.team={jin:C,ldr:j,mmb:Z};
ra.bh(F,this.ak.bind(this));alert("Saved!");this.Ik()};vJ.DI.prototype.vyN=function(Q){var C=this.rR.K().trim();
if(C.length==0){alert("Domain is empty.");return}if(!ra.FU()){alert("You have to log in first.");return}if(ra.ZY().distrib=="0"){alert("Order a distributor account first.");
return}var j=ra.Ts();if(j==null)j={};if(j.acc==null)j.acc={};j.acc.dname=C;ra.bh(j,this.ak.bind(this));
alert("Saved!");this.Ik()};vJ.DI.prototype.Ik=function(){if(ra.FU()){var Q=ra.ZY();if(Q==null)return;
this.ly.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+Q.name+"</span> "+Q.email+" <br/>"}else this.ly.innerHTML="Logging In is free. Your environment settings will be synchronized across all devices. <br/>";
var C=ra.FU()&&ra.un();this.r$.w.style.display=C?"block":"none";if(C){var j=parseInt(Q[t.$A("!&|'&50")])-Date.now()*(1/1e3),Z=parseInt(Q.ptype),F;
if(Z==-1)F="member of a team";else if(Z==1)F="Single user";else F="Team of "+Z;this.r$.hE("Premium active for "+Math.round(j/(60*60*24))+" more days! ("+F+")")}var _=ra.FU()&&Q.distrib*1e3>Date.now();
this.rr.w.style.display=_?"block":"none";if(_){var j=parseInt(Q.distrib)-Date.now()/1e3,Z=parseInt(Q.ptype);
this.rr.hE("Distributor active for "+Math.round(j/(60*60*24))+" more days! ("+Z+" visitos)")}var $=ra.Ts();
if($&&$.acc&&$.acc.team){var L=$.acc.team;this.qh.t(L.jin);this.pH.t(!L.jin);this.rW.t(L.ldr);this.yM.value=L.mmb.join(", ")}else{this.qh.t(!0);
this.pH.t(!1);this.rW.t("");this.yM.value=""}if($&&$.acc&&$.acc.dname)this.rR.t($.acc.dname);else this.rR.t("")};
vJ.DI.prototype.vyo=function(Q,C){var j=t.e("table");j.innerHTML="\t\t\t\t<table>\t\t\t\t\t<tr>   <th class=\"left\"></th><th>30 days</th><th>90 days</th> "+(Q==3?"<th>365 days</th>":"")+" </tr>\t\t\t\t</table>\t\t\t";
for(var Z=0;Z<C.length;Z+=Q+1){var F=t.e("tr"),_;j.appendChild(F);_=t.e("td","left");F.appendChild(_);
_.innerHTML="<b>"+C[Z]+"</b>";for(var $=0;$<Q;$++){_=t.e("td");F.appendChild(_);_.appendChild(C[Z+1+$].w)}}return j};
vJ.DI.prototype.vxO=function(Q){var C=this.cy.indexOf(Q.currentTarget);if(!ra.FU()){alert("You must log in before buying Premium");
return}if(this.vIx.K()==!1&&C<9){alert("You must accept Terms of Service");return}var j=this.vDy[C],Z=j[1],F=j[2],_=ra.FU()&&ra.un();
if(_&&F<1e3){alert("You already have premium.");return}ra.order(Z,F,this.ak.bind(this));this.BD()};vJ.DI.prototype.ak=function(Q){if(ra.FU()&&ra.ZY().msg)alert(ra.ZY().msg);
this.Ik();this.BD()};vJ.DI.prototype.bL=function(Q){if(ra.FU()){ra.vyk();this.BD();this.Ik(null,null,null)}else ra.bL(this.vxj.bind(this))};
vJ.DI.prototype.vxj=function(){var Q=new P(t.E.m,!0);Q.data={$:t.i.vDL};this.Z(Q)};vJ.DI.prototype.BD=function(){var Q=new P(t.E.m,!0);
Q.data={$:t.i.vjo};this.Z(Q)};vJ.qR=function(Q){rJ.call(this);this.w=t.e("div");var C=this.w,j=this.vDC=new rs([0,13,2],!1,null,!0);
j.p("click",this.vxJ,this);C.appendChild(j.w);var Z=t.e("div","");Z.innerHTML=Q;C.appendChild(Z)};vJ.qR.prototype=new rJ;
vJ.qR.prototype.vxJ=function(Q){var C=new P("showpage",!0);C.data={BW:0};this.Z(C)};vJ.qR.prototype.N=function(){this.vDC.N()};
vJ.vxF="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is a service operated by Ivan Kuckir (I\u010C 04498411).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com</li>\t\t\t<li><b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<p>You can ask for a refund by writing us an email.</p>\t\t<p>You can pay with PayPal or your credit / debit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t";
vJ.vxG="\t\t<h1>Terms of Service</h1>\t\t\t\t<h2>What are these Terms?</h2>\t\t<p>\t\tThese terms form a binding contract between you and us (\"these Terms\") regarding your access to and use of any of our web sites, \t\tweb applications, services, products and Software that contain a link to these Terms (individually and collectively, the \"Service\"). \t\t</p>\t\t\t\t<h2>Changes to the Service or these Terms</h2>\t\t<p>\t\tWe may make changes to, update (or not update) or discontinue any part, element, functionality, availability or offering of the Service.\t\tWe may also make changes or updates to these Terms at any time and for any reason in our sole discretion, including complying with applicable law. \t\tIf we make any material changes to these Terms, we\u2019ll provide notice to you in any way we deem reasonable including, for example, \t\tby posting a notice of the change on our web site(s) or in-service, or by sending a notice to your email address if you\u2019ve given it to us.\t\t</p>\t\t\t\t<h2>Your content</h2>\t\t<p>\t\tThese Terms don\u2019t grant us (and we don\u2019t claim) any ownership rights in Your Content.\t\t</p>\t\t<p>\t\t<b>Posting Your Content.</b> By sharing, publishing (e.g. through Imgur), distributing or allowing others to \t\taccess Your Content through the Service You are solely responsible for the consequences of doing so and you acknowledge \t\tand agree that Your Content may be viewed worldwide. If you choose to make your personal information publicly available through the Service, \t\tyou do so at your own risk. You warrant that you have obtained all necessary licenses, \t\trights and permissions to use and grant all of the rights granted in these Terms\t\tto Your Content and that you will comply with any requirements or restrictions imposed by them.\t\t</p>\t\t<!--\t\t<p>\t\tWe have the right (but not the obligation) to pre-screen or monitor any Content or any user's access to the Service,\t\tand to remove or block access to any Content for any reason, or suspend or terminate any user's access to the Service for any reason. \t\tWe have no responsibility or liability with respect to any Content, including for any actions that we may take with respect \t\tto any Content that we determine violates these Terms.\t\t</p>\t\t-->\t\t\t\t<h2>Registering for the Service</h2>\t\t<p>\t\tYou may be required or permitted to register with us to access the Service or certain areas of the Service.\t\tYou agree to immediately notify us of any unauthorized use of your registration information (including all purchases).  \t\tYou may also be able to sign into the Service by using a third-party social networking platform account \t\t(such as Facebook, Google+ or Twitter). Your registration information (including your user name and password, \t\tand any social networking account with which you sign into the Service) is for your personal use only, and not for use by any other person. \t\tYou are responsible for maintaining the confidentiality of any password you may use to access the Service, and agree not to transfer your password or user name\t\tto any third party. You are fully responsible for all use of your registration information, \t\tand to ensure that you \"log out\"/exit from your account with the Service (if applicable) \t\tat the end of each session. We are not liable for any loss or damage arising from your failure to comply with any of the foregoing obligations. \t\t</p>\t\t\t\t<h1>Privacy Policy</h1>\t\t\t\t<p>\t\tBy voluntarily providing us with Personal Data, you are consenting to our use of it in accordance with this Privacy Policy. \t\tIf you provide Personal Data to the Service, you acknowledge and agree that such Personal Data may be transferred from your current location to our servers.\t\t</p>\t\t<p>Computer information collected:</p>\t\t\t\t<ul>\t\t\t\t<li><b>Third party tracking tools.</b> We use third party tracking tools to improve the performance and features of the Service (e.g. Google Analytics).\t\t\t\tSuch tools are created and managed by parties outside our control. As such, we are not responsible for what information is actually captured by such third parties \t\t\t\tor how such third parties use and protect that information.</li>\t\t\t\t\t\t\t\t<li><b>Name and email for the authorization.</b> You may use third-party services (such as Facebook or Google) to log into the Service. \t\t\t\tIn such case, we store your name and email address, that were provided to us by third-party services.</li>\t\t\t\t\t\t\t\t<li><b>Environment settings.</b> When you use the Service, environment settings (e.g. current language, current color theme) \t\t\t\tare stored at your computer in \"localData\".\t\t\t\tIt helps us provide you the same environment when you visit the Service next time.<br/>\t\t\t\tWhen you log into the Service, your environemnt settings are stored at our server. \t\t\t\t</li>\t\t\t\t\t\t\t\t<li><b>Payer information.</b> When you make an order inside the Service and you pay through a third-party service (e.g. PayPal), \t\t\t\twe may store the information about the payer, that we may receive from the third-party service \t\t\t\t(it usually contains the name, the email address and the physical address of the payer, but no card nambers or passwords).</li>\t\t</ul>\t\t\t\t";
function WG(){rm.call(this,[11,14],"addguides");this.gc;this.VO={ZD:{xc:0}};this.HP=null;var Q=t.e("div","form");
this.body.appendChild(Q);this.hd=new $q([22,4,0],null,16);this.hd.p(t.E.U,this.Lp,this);this.sW=new $q([22,4,1],null,16);
this.sW.p(t.E.U,this.Lp,this);this.NQ=new rc(null,e.oD.D_);this.NQ.p(t.E.U,this.Lp,this);Q.appendChild(this.hd.w);
Q.appendChild(this.NQ.w);t.hQ(Q);Q.appendChild(this.sW.w);this.Yi=new rs("OK",!0,null,!0);this.Yi.p("click",this.Ha,this);
Q.appendChild(this.Yi.w);this.p("closebtn",this.vOW,this)}WG.prototype=new rm;WG.prototype.Po=function(Q,C){return Q!=null};
WG.prototype.cX=function(){return!0};WG.prototype.N=function(){rm.prototype.N.call(this);this.hd.N();
this.sW.N();this.NQ.N()};WG.prototype.VD=function(Q,C){var j=Q.ZD.xc;this.VO.ZD.xc=j;this.NQ.t(j)};WG.prototype.Ik=function(Q,C){this.gc=Q;
this.HP=JSON.stringify(Q.Wi);this.iZ()};WG.prototype.iZ=function(){var Q=this.gc,C=Q.Wi,j=function(Z,Q,F,_){var $=[];
for(var L=0;L<Z.length;L++)$.push(e.oD.ef(Z[L],Q.zn,F,_));return $.join(", ")};this.hd.t(j(C[1],Q,this.VO,Q.C));
this.sW.t(j(C[0],Q,this.VO,Q.W))};WG.prototype.Lp=function(Q){if(Q&&Q.currentTarget==this.NQ)this.VO.ZD.xc=this.NQ.K();
else{var C=this.vxN(this.hd),j=this.vxN(this.sW),Z=this.gc;Z.Wi=[j,C];Z.uV=!0}this.iZ()};WG.prototype.vxN=function(Q){var C=Q==this.hd?this.gc.C:this.gc.W,j=Q.K().replace(/,/g," ").replace(/  +/g," ").trim(),Z=j==""?[]:j.split(" ");
for(var F=0;F<Z.length;F++)Z[F]=e.oD.vpj(Z[F],this.gc.zn,this.VO,C);return Z};WG.prototype.vOW=function(Q){var C=this.gc;
C.Wi=JSON.parse(this.HP);C.uV=!0;this.gc=null};WG.prototype.Ha=function(Q){this.Lp(Q);var C=new P(t.E.a,!0);
C.Y=G.hj;C.data={$:"gids",RV:JSON.parse(this.HP),CP:JSON.parse(JSON.stringify(this.gc.Wi))};this.gc=null;
this.close();this.Z(C)};function Dj(Q){var C=vr.names[Q];if(C==null)C=rY.names[Q];if(Q=="fade")C=[2,11];
rm.call(this,C,"afw_"+Q);this.qI=Q;this.qL=null;this.HU=null;this.xi=new n[Q];this.xi.p(t.E.U,this.IK,this);
this.xi.parent=this;this.body.appendChild(this.xi.w);this.aG=new vg([24,18,5]);this.aG.t(!0);this.aG.p(t.E.U,this.IK,this);
this.vpR=new rs("Reset",!0,null,!0);this.vpR.p("click",this.zw,this);this.Yi=new rs("OK",!0,null,!0);
this.Yi.p("click",this.Ha,this);if(this.xi.tD())this.xi.at(this.Yi.w);else{t._I(this.xi.w,"form");t._I(this.body,"flexrow");
this.xi.w.setAttribute("style","width:24em");var j=t.e("div");this.body.appendChild(j);j.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
j.appendChild(this.Yi.w);j.appendChild(this.vpR.w);j.appendChild(this.aG.w)}this.p("closebtn",this.rT,this)}Dj.prototype=new rm;
Dj.prototype.cX=function(){return!0};Dj.prototype.tD=function(){return this.xi!=null&&this.xi.tD()};
Dj.prototype.eD=function(){return this.xi.tD()?new Wn(0,0):rm.prototype.eD()};Dj.prototype.rK=function(){return this.xi.rK()};
Dj.prototype.yi=function(Q,C,j,Z,F){this.xi.yi(Q,C,j,Z,F)};Dj.prototype.eF=function(Q,C,j,Z,F){this.xi.eF(Q,C,j,Z,F)};
Dj.prototype._c=function(Q,C,j,Z,F){this.xi._c(Q,C,j,Z,F)};Dj.prototype.Po=function(Q,C){if(this.qI=="fade")return Dj.vvZ(Q);
return!0};Dj.prototype.zw=function(Q){this.xi.t(vr._j(this.qI));this.IK()};Dj.prototype.IK=function(Q){this.lo({$:"edit",dK:this.xi.K(),o$:!this.aG.K()})};
Dj.prototype.rT=function(Q){this.lo({$:"cancel"})};Dj.prototype.Ha=function(Q){if(!this.aG.K()){this.aG.t(!0);
this.IK()}this.HU=this.xi.K();if(this.tD())this.IK();this.lo({$:"confirm"});this.close()};Dj.prototype.N=function(){rm.prototype.N.call(this);
this.aG.N();if(this.xi)this.xi.N()};Dj.prototype.VD=function(Q,C){if(this.xi)this.xi.VD(Q,C)};Dj.prototype.ZZ=function(Q,C,j,Z){if(this.xi&&this.xi.tD())this.xi.ZZ(Z);
else rm.prototype.ZZ.call(this,Q,C,j,Z)};Dj.prototype.Ik=function(Q,C,j,Z){this.qL=C.qL;var F=Q.add.lnk2?Q.add.lnk2:[],_,$,L=new s(0,0,Q.W,Q.C),D=Q.k[Q.H[0]],d=null;
_=D.buffer;$=D.rect;if(this.tD())d=Q.ln(Q.H[0]-1);var o=vr._j(this.qI),v=[F,Q.$W];if(C.qL==null){this.xi.t(o,_,$,L,d,v);
if(rY.names[this.qI]){if(Z.r(b.DT)&&this.HU)this.xi.t(this.HU);var f=rz.Cz.getData(Q),U=e.uH(f[0].xu);
this.xi.xC(U)}}else{var H=!1,D=Q.k[this.qL.c];if(D.nr()){var B=D.qv(Q);_=B.buffer;$=B.rect;var m=D.add.SoLd.filterFX.v.filterFXList.v;
if(m[this.qL.index]){var Y=m[this.qL.index].v.Fltr.v;this.xi.t(Y,_,$,L,d,v);H=!0}}if(!H)this.xi.t(o,_,$,L,d,v)}if(!this.tD())this.IK()};
Dj.prototype.lo=function(Q){var C=new P(t.E.a,!0);Q.qI=this.qI;Q.qL=this.qL;C.data=Q;C.Y=vr.names[this.qI]||this.qL?G.yz:G.MF;
C.gA=!0;this.Z(C)};Dj.prototype.b_=function(Q,C){C=C-26;Q=Q-26;this.xi.b_(Q,C)};Dj.vvZ=function(Q){if(Q==null)return!1;
var C=Q.qT();if(C==null||!(C.data instanceof Array)||C.data.length!=Q.H.length)return!1;for(var j=0;
j<C.data.length;j++){var Z=C.data[j];if(Z.c<0&&Q.$W[-1-Z.c])return!0;if(Z.c==null||Q.k[Z.c]==null||Q.k[Z.c].IF!=Z.xw)return!1;
if(Q.H.indexOf(Z.c)==-1)return!1}return!0};function th(){rm.call(this,[11,0],"camera");this.data=null;
this.Nr=new Wn(1,1);this.vpL=[];var Q=t.e("div","form hbar");this.body.appendChild(Q);this.vpn=new rc(null,[]);
this.Nb=new rc([21,0],[[21,2],[21,1]]);Q.appendChild(this.Nb.w);this.s_=new rc(null,[]);this.s_.p(t.E.U,this.vvc,this);
Q.appendChild(this.s_.w);this.Ni=new rs([11,0],!1,null,!0);this.Ni.p("click",this.vOr,this);Q.appendChild(this.Ni.w);
this.Ng=new $C("");Q.appendChild(this.Ng.w);this.stream=null;this.Kg=t.e("video","");this.Kg.setAttribute("autoplay","true");
this.body.appendChild(this.Kg);this.vsi=this.vOg.bind(this);this.vsF=this.vOS.bind(this);this.vWD=this.vvH.bind(this);
this.p("closebtn",this.vWZ,this)}th.prototype=new rm;th.prototype.N=function(){rm.prototype.N.call(this);
this.Nb.N();this.Ni.N();this.vvH()};th.prototype.ln=function(){var Q=this.Kg.videoWidth,C=this.Kg.videoHeight,j=t.e("canvas","");
j.width=Q;j.height=C;var Z=j.getContext("2d");Z.drawImage(this.Kg,0,0,Q,C);var F=Z.getImageData(0,0,Q,C);
return{Rm:new s(0,0,Q,C),data:F.data.buffer}};th.prototype.vOr=function(Q){if(this.Nb.K()==0)this.vOj();
else this.vOR()};th.prototype.vOR=function(){var Q=this.ln(),C={buffer:new Uint8Array(Q.data),rect:Q.Rm},j=new P(t.E.a,!0);
j.gA=!0;j.Y=G.tP;j.data={$:S.Rz,$d:C};this.Z(j);alert(rT.get([21,4]))};th.prototype.vOj=function(){var Q=this.ln(),C=_$.iE("camera",[Q]),j=new P(t.E.m,!0);
j.data={$:t.i.XV,xa:C};this.Z(j);alert(rT.get([21,5]))};th.prototype.Ik=function(Q,C,j){navigator.mediaDevices.enumerateDevices().then(this.vOq.bind(this))};
th.prototype.vOq=function(Q){var C=this.vpL=[],j=[];for(var Z=0;Z<Q.length;Z++)if(Q[Z].kind=="videoinput"){C.push(Q[Z]);
j.push("Camera "+C.length)}this.s_.Bk(j);this.s_.t(0);this.vvc()};th.prototype.vvc=function(Q){this.vWZ();
var C={video:{deviceId:this.vpL[this.s_.K()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(C).then(this.vsi).catch(this.vsF);
else navigator.webkitGetUserMedia(C,this.vsi,this.vsF)};th.prototype.vOg=function(Q){this.stream=Q;this.Kg.srcObject=Q;
this.Kg.addEventListener("loadedmetadata",this.vWD,!1)};th.prototype.vvH=function(Q){this.Kg.play();
this.b_(this.fA,this.NE)};th.prototype.eD=function(Q,C){return new Wn(0,0)};th.prototype.b_=function(Q,C){var j=this.Kg.videoWidth,Z=this.Kg.videoHeight;
this.Ng.t(j+" x "+Z+" px");this.Ng.w.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.Nr.KL(j,Z);this.fA=Q;this.NE=C;var F=Q-28,_=C-28-30,$=this.Nr.x/this.Nr.y;if(F/_>$)F=_*$;else _=F/$;
this.Kg.setAttribute("style","display: block; width: "+Math.round(F)+"px; height:"+Math.round(_)+"px;")};
th.prototype.vOS=function(Q){console.log("error",Q);alert(rT.get([21,6]));this.close()};th.prototype.vWZ=function(Q){if(this.stream!=null){var C=this.stream.getTracks();
for(var j=0;j<C.length;j++)C[j].stop();this.stream=null}};function $T(){rm.call(this,[7,8],"crange");
this.gc=null;this.rz={m$:73,om:4.45,_:4};this.rq={m$:73,om:4.45,_:4};var Q=t.e("div","form");Q.setAttribute("style","width:18em");
this.body.appendChild(Q);this.Nu=new rX([12,92],0,200);this.Nu.t(40);this.Nu.p(t.E.U,this.MT,this);Q.appendChild(this.Nu.w);
this.bn=t.e("canvas");Q.appendChild(this.bn);this.NV=new vp([12,36],[[18,0],"\uFF0B","\u2014"]);Q.appendChild(this.NV.w);
this.vn=new rs("OK",!0,null,!0);this.vn.p("click",this.Ha,this);this.body.appendChild(this.vn.w)}$T.prototype=new rm;
$T.prototype.Po=function(Q,C){return Q!=null};$T.prototype.rK=function(){return!0};$T.prototype.cX=function(){return!0};
$T.prototype.N=function(){rm.prototype.N.call(this);this.Nu.N();this.NV.N()};$T.prototype.yi=function(Q,C,j,Z,F){var _=Q.R.gx(F.x,F.y);
this.vre(_.x,_.y)};$T.prototype.vre=function(Q,C){var j=Math.min,Z=Math.max,F=this.gc,_=Z(0,j(F.W-1,Math.floor(Q))),$=Z(0,j(F.C-1,Math.floor(C))),L=F.ln(),D=($*F.W+_)*4,d=L[D],o=L[D+1],v=L[D+2],f=e.ZM(d,o,v),U=this.NV.K(),H=this.rz,B=this.rq;
if(U==0){this.rz=JSON.parse(JSON.stringify(f));this.rq=f}else if(U==1){H.m$=j(H.m$,f.m$);H.om=j(H.om,f.om);
H._=j(H._,f._);B.m$=Z(B.m$,f.m$);B.om=Z(B.om,f.om);B._=Z(B._,f._)}else if(U==2){var m=(H.m$+B.m$)/2,Y=(H.om+B.om)/2,q=(H._+B._)/2;
if(f.m$<m)H.m$=Z(H.m$,f.m$+10);else B.m$=j(B.m$,f.m$-10);if(f.om<Y)H.om=Z(H.om,f.om+1);else B.om=j(B.om,f.om-1);
if(f._<q)H._=Z(H._,f._+1);else B._=j(B._,f._-1)}this.MT()};$T.prototype.Ha=function(Q){var C=new P(t.E.a,!0);
C.Y=G.sT;C.data={$:"crange",QF:this.rz,Qh:this.rq,aw:this.Nu.K()/200};C.gA=!0;this.Z(C);this.close()};
$T.prototype.Ik=function(Q,C){this.gc=Q;this.vre(0,0)};$T.prototype.MT=function(){var Q=this.gc,C=G.jT.vRp(Q,this.rz,this.rq,this.Nu.K()/200),j=C.rect,Z=C.channel,F=this.bn,_=F.getContext("2d"),$=Math.floor(230*t.s()),L=Math.floor($*(j.C/j.W));
F.width=$;F.height=L;t.GI(F,$,L);var D=e.Q(Z.length*4);e.kM(D,4294967295);for(var d=0;d<3;d++)e.gG(Z,D,d);
var o=G.S.Ia([D,j],new rI($/j.W,0,0,L/j.C,0,0)),v=o.rect,f=new ImageData(new Uint8ClampedArray(o.buffer.buffer),v.W,v.C);
_.putImageData(f,0,0)};function vT(){rm.call(this,[12,76,1],"createshape");this.dc=null;var Q=t.e("div","form");
Q.setAttribute("style","width:20em");this.body.appendChild(Q);this.fK=new vf([12,41],0,0,null,0,!1,!0);
Q.appendChild(this.fK.w);t.hQ(Q);this.hd=new vf([12,42],0,0,null,0,!1,!0);Q.appendChild(this.hd.w);t.hQ(Q);
this.NT=new vg([19,5,3]);Q.appendChild(this.NT.w);this.fK.t(100);this.hd.t(100);this.Yi=new rs("OK",!0,null,!0);
this.Yi.p("click",this.Ha,this);Q.appendChild(this.Yi.w)}vT.prototype=new rm;vT.prototype.Ha=function(Q){this.dc.vmp(this.dc.vma,this.fK.K(),this.hd.K(),this.NT.K());
this.close()};vT.prototype.N=function(){if(this.dc)this.Wf=rT.get([5,3])+": "+rT.get(this.dc.vms);rm.prototype.N.call(this);
this.fK.N();this.hd.N();this.NT.N()};vT.prototype.Ik=function(Q,C){this.dc=C;this.N()};function DH(){rm.call(this,[11,1],"colorpicker");
this.st=null;this.lP=null;this.lx=null;this.qo=!1;this.Qf=!1;var Q=t.e("div","flexrow"),_,$;this.body.appendChild(Q);
this.KJ=new $S(256);this.KJ.p(t.E.U,this.B$,this);Q.appendChild(this.KJ.w);var C=t.e("div","form");C.setAttribute("style","width:14.5em; margin-left:1em;");
Q.appendChild(C);this.vEV=t.e("div","full");C.appendChild(this.vEV);this.vEs=t.e("div","full");C.appendChild(this.vEs);
var j=t.e("div","flexrow");C.appendChild(j);var Z=t.e("div"),F=t.e("div");j.appendChild(Z);j.appendChild(F);
_=["R","G","B"];$=Z;this.Nk=[];for(var L=0;L<3;L++){var D=new vf(_[L]+":",0,255,null,0,!1,!0);this.Nk.push(D);
D.p(t.E.U,this.vOu,this);$.appendChild(D.w)}_=["H","S","B"];$=F;this.NJ=[];for(var L=0;L<3;L++){var d=0,o=360,v="\xB0";
if(L!=0){o=100;v="%"}var D=new vf(_[L]+":",d,o,v,0,!1,!0);this.NJ.push(D);D.p(t.E.U,this.vOk,this);$.appendChild(D.w)}this.hd=new $q("Hex",null,6);
this.hd.p(t.E.U,this.BK,this);C.appendChild(this.hd.w);this.Nm=t.e("input","fitem");this.Nm.setAttribute("type","color");
this.Nm.setAttribute("style","width:50px");this.Nm.addEventListener("change",this.BK.bind(this),!1);
C.appendChild(this.Nm);this.sK=new tv(9);this.sK.p(t.E.U,this.BK,this);C.appendChild(this.sK.w);this.Yi=new rs("OK",!0,null,!0);
this.Yi.p("click",this.Ha,this);C.appendChild(this.Yi.w);this.p("closebtn",this.rT,this);this.ri=!1}DH.prototype=new rm;
DH.prototype.rK=function(){return!0};DH.prototype.b_=function(Q,C){this.KJ.b_(Math.min(256,Q-250),C)};
DH.prototype.B$=function(Q){this.lP=this.KJ.K();this.update()};DH.prototype.yi=function(Q,C,j,Z,F){this.ri=!0;
this.vKT(Q,F)};DH.prototype.eF=function(Q,C,j,Z,F){if(!this.ri)return;this.vKT(Q,F)};DH.prototype._c=function(Q,C,j,Z,F){this.ri=!1};
DH.prototype.vKT=function(Q,C){var j=G.dn._u(Q,C,1),Z=j&255,F=j>>8&255,_=j>>16&255;this.lP={h:_/255,J:F/255,_:Z/255};
this.update()};DH.prototype.vOu=function(Q){var C=this.Nk,j=this.zX(parseInt(C[0].K())),Z=this.zX(parseInt(C[1].K())),F=this.zX(parseInt(C[2].K()));
this.lP={h:j/255,J:Z/255,_:F/255};this.update()};DH.prototype.vOk=function(Q){var C=this.NJ,j=this.FD(parseInt(C[0].K())/360),Z=this.FD(parseInt(C[1].K())/100),F=this.FD(parseInt(C[2].K())/100);
this.lP=e.zj(j,Z,F);this.update()};DH.prototype.BK=function(Q){var C;if(Q.currentTarget==this.sK)C=this.sK.K();
else{C=Q.currentTarget==this.hd?this.hd.K():this.Nm.value;if(C.charAt(0)=="#")C=C.slice(1);if(C.length==3)C=C[0]+C[0]+C[1]+C[1]+C[2]+C[2];
C=e.vQs(C)}this.lP={h:(C>>16&255)/255,J:(C>>8&255)/255,_:(C&255)/255};this.update()};DH.prototype.HK=function(Q){var C=Q.h,j=Q.J,Z=Q._;
return Math.round(C*255)<<16|Math.round(j*255)<<8|Math.round(Z*255)};DH.prototype.Ha=function(Q){this.vRl();
var C=this.HK(this.lP);this.lx(C);this.close();this.Qf=!1;this.lP=null};DH.prototype.rT=function(Q){this.vRl();
if(this.qo)this.lx(this.HK(this.st));this.Qf=!1;this.lP=null};DH.prototype.vRl=function(Q){var C=new P(t.E.m,!0);
C.data={$:t.i.vDv};this.Z(C)};DH.prototype.VD=function(Q,C){if(C!=rQ.TH)return;var j=Q.pd;this.sK.t(j);
if(this.lP!=null){this.lP={h:(j>>16&255)/255,J:(j>>8&255)/255,_:(j>>0&255)/255};this.update()}};DH.prototype.Ik=function(Q,C){var j=C.Uw,Z={h:(j>>16&255)/255,J:(j>>8&255)/255,_:(j>>0&255)/255};
if(this.lP==null){var F=new P(t.E.m,!0);F.data={$:t.i.ea,Js:"crosshair",push:!0};this.Z(F);this.ri=!1;
this.lx=C.np;this.qo=!1;this.Qf=C.eR;this.st=JSON.parse(JSON.stringify(Z));this.vEs.setAttribute("style","height:3em;background-color:#"+e.vY(j)+";")}this.lP=Z;
this.update()};DH.prototype.update=function(){var Q=this.lP,C=this.HK(Q),j=this.Nk;j[0].t(Math.round(Q.h*255));
j[1].t(Math.round(Q.J*255));j[2].t(Math.round(Q._*255));this.hd.t(e.vY(C));this.Nm.value="#"+e.vY(C);
this.vEV.setAttribute("style","height:3em;background-color:#"+e.vY(C)+";");var Z=e.kV(Q.h,Q.J,Q._);j=this.NJ;
j[0].t(Math.round(Z.NE*360));j[1].t(Math.round(Z.iC*100));j[2].t(Math.round(Z.dK*100));this.KJ.t(Q);
if(this.Qf){this.lx(this.HK(this.lP));this.qo=!0}};DH.prototype.zX=function(Q){return Math.max(0,Math.min(255,Q))};
DH.prototype.FD=function(Q){return Math.max(0,Math.min(1,Q))};function tA(){rm.call(this,[11,2],"contoureditor");
this.vEx=null;this.XD=null;this.response=null;this.Zt=t.e("div","cell");this.body.appendChild(this.Zt);
this.HD=t.e("div","cell padded");this.body.appendChild(this.HD);var Q=t.e("div","bordered padded vmargin");
this.Zt.appendChild(Q);this.xi=new QP;this.xi.p(t.E.U,this.aT,this);Q.appendChild(this.xi.w);this.Yi=new rs("OK",!0,null,!0);
this.Yi.p("click",this.close,this);this.HD.appendChild(this.Yi.w);this.coords=t.e("div","");this.coords.setAttribute("style","width:250px");
this.Zt.appendChild(this.coords);this.KA=new $q("X (in)","%",4);this.RR=new $q("Y (out)","%",4);this.sR=new vg([19,3,0]);
this.KA.p(t.E.U,this.BI,this);this.RR.p(t.E.U,this.BI,this);this.sR.p(t.E.U,this.BI,this);this.coords.appendChild(this.KA.w);
this.coords.appendChild(this.sR.w);this.coords.appendChild(this.RR.w);this.p("closebtn",this.QZ,this)}tA.prototype=new rm;
tA.prototype.N=function(){rm.prototype.N.call(this);this.sR.N()};tA.prototype.aT=function(Q){this.XD.Crv.v=this.xi.K();
this.response(this.XD);this.BT()};tA.prototype.QZ=function(Q){this.response(this.vEx)};tA.prototype.Ik=function(Q,C){this.vEx=JSON.parse(JSON.stringify(C.L));
this.XD=C.L;this.response=C.response;this.xi.t(this.XD.Crv.v);this.BT()};tA.prototype.BT=function(){var Q=this.xi.vuj();
this.coords.setAttribute("class",Q==-1?"disabled":"");if(Q==-1)return;var C=this.XD.Crv.v[Q].v;this.KA.t(Math.round(C.Hrzn.v*(100/255)));
this.RR.t(Math.round(C.Vrtc.v*(100/255)));this.sR.t(C.Cnty.v)};tA.prototype.BI=function(Q){var C=this.xi.vuj(),j=this.XD.Crv.v[C];
j.v.Hrzn.v=parseFloat(this.KA.K())*(255/100);j.v.Vrtc.v=parseFloat(this.RR.K())*(255/100);j.v.Cnty.v=this.sR.K();
this.XD.Crv.v.sort(function(Z,F){return Z.v.Hrzn.v-F.v.Hrzn.v});this.xi.t(this.XD.Crv.v,this.XD.Crv.v.indexOf(j));
this.BT();this.response(this.XD)};function bl(){rm.call(this,[11,3],"csize");this.NI=0;this.ga=t.e("div","form");
this.ga.setAttribute("style","width:22em");this.body.appendChild(this.ga);this.oR=new Qj(!0,!0,!0,!0);
this.oR.vXe(!1);this.ga.appendChild(this.oR.w);this.Np=new vp("Align with",[[8,7],[12,6]]);this.Np.p(t.E.U,this.vOI,this);
this.sz=new tO([12,23,2],41);this.ga.appendChild(this.sz.w);this.sz.t(4);this.Ns=new tm(!1);this.Ns.va_(new Wn(0,0));
this.vn=new rs("OK",!0,null,!0);this.vn.p("click",this.Ha,this);this.body.appendChild(this.vn.w)}bl.prototype=new rm;
bl.prototype.Po=function(Q,C){return Q!=null};bl.prototype.cX=function(){return!0};bl.prototype.vOI=function(){var Q=[this.sz.w,this.Ns.w];
this.ga.removeChild(Q[this.NI]);this.NI=this.Np.K();this.ga.appendChild(Q[this.NI])};bl.prototype.N=function(){rm.prototype.N.call(this);
this.oR.N();this.Np.N();this.sz.N();this.Ns.N()};bl.prototype.Ha=function(Q){var C=this.oR.K(),j=C.x,Z=C.y,F=new P(t.E.xD,!0);
F.data=G.QQ.vvX(j,Z,this.sz.K());this.close();this.Z(F)};bl.prototype.Ik=function(Q,C){this.oR.t(new Wn(Q.W,Q.C),Q.zn)};
function DV(){rm.call(this,[11,4],"duplinto");this.aX=null;this.Ln=null;var Q=t.e("div","form");Q.setAttribute("style","max-width:26em");
this.body.appendChild(Q);this.qw=new rc([12,43],["abc","def"]);this.qw.p(t.E.U,this.vRE,this);Q.appendChild(this.qw.w);
t.hQ(Q);this.Ix=new $q([12,48],null,14);Q.appendChild(this.Ix.w);this.Yi=new rs("OK",!0,null,!0);this.Yi.p("click",this.Ha,this);
Q.appendChild(this.Yi.w)}DV.prototype=new rm;DV.prototype.cX=function(){return!0};DV.prototype.N=function(){rm.prototype.N.call(this);
this.qw.N();this.Ix.N()};DV.prototype.vRE=function(Q){var C=this.qw.K();if(C==this.Ln.length)this.Ix.Ii();
else this.Ix.IO()};DV.prototype.Ik=function(Q,C,j){this.aX=Q;this.Ln=j;this.Ix.t(Q.H.length==0?"Layer":Q.k[Q.H[0]].getName());
var Z=[];for(var F=0;F<j.length;F++)Z.push(j[F].name);Z.push([11,7]);this.qw.Bk(Z);this.qw.t(j.indexOf(Q));
this.vRE(null)};DV.prototype.Ha=function(Q){var C=this.qw.K();if(C==this.Ln.length){var j=new rH(this.Ix.K()+".psd");
j.W=this.aX.W;j.C=this.aX.C;j.buffer=e.Q(j.W*j.C*4);var Z=j.qg();Z.sp("Background");j.Fd([Z]);var F=new P(t.E.m,!0);
F.gA=!0;F.data={$:t.i.XV,xa:j};this.Z(F)}var _=this.aX.Rw(null,this.aX!=this.Ln[C]),F=new P(t.E.a,!0);
F.data={$:S.Rr,k:_,jf:this.aX,MP:this.Ln[C]};F.Y=G.tP;F.gA=!0;this.Z(F);this.close()};function bz(){rm.call(this,[1,9],"eassets");
this.VO=null;this.i_=null;var Q=t.e("div","form");Q.setAttribute("style","width:32em");this.body.appendChild(Q);
this.yp=t.e("span");Q.appendChild(this.yp);t.hQ(Q);this._Q=[new vg("Only layers / folders, whose name starts with \"-e-\""),new vg("Remove parts outside the canvas"),new vg("Trim transparent parts")];
for(var C=0;C<3;C++){var j=this._Q[C];j.t(!0);j.p(t.E.U,this.iZ,this);Q.appendChild(j.w);t.hQ(Q)}this.rl=new tV([12,14,0],["1x","2x","3x","4x"]);
this.rl.t([!0,!1,!1,!1]);Q.appendChild(this.rl.w);t.pZ(Q);this.Nd=["PNG","JPG","SVG"];this.si=new rc([12,50],this.Nd);
this.si.p(t.E.U,this.vis,this);Q.appendChild(this.si.w);this.Dh=new Kv;Q.appendChild(this.Dh.w);this.vn=new rs([1,9],!0,null,!0);
this.vn.p("click",this.Ha,this);Q.appendChild(this.vn.w);this.p("closebtn",this.qz,this)}bz.prototype=new rm;
bz.prototype.vis=function(Q){this.Dh.vuQ(this.Nd[this.si.K()])};bz.prototype.qz=function(Q){this.i_=null};
bz.prototype.N=function(){rm.prototype.N.call(this);this.si.N();this.rl.N();this.vn.N();this.Dh.N()};
bz.prototype.Ik=function(Q,C,j){this.i_=Q;this.iZ()};bz.prototype.iZ=function(Q){var C=this.vgH(),j="- - - "+C.length+" exportable layers";
this.yp.textContent=j;this.vis(null)};bz.prototype.vgH=function(){var Q=this._Q[0].K(),C=[],j=this.i_;
for(var Z=0;Z<j.k.length;Z++){var F=j.k[Z],_=F.getName();if(!Q&&!F.Hd()&&!F.rect.jJ()||_.startsWith("-e"))C.push(Z)}return C};
bz.prototype.VD=function(Q,C){this.VO=Q};bz.prototype.Ha=function(Q){var C=this.i_,j=[this.Nd[this.si.K()]],Z=[this.Dh.K()],F=this.rl.K(),_={},$={},L=this.vgH();
if(L.length==0){alert("No layers to export.");return}var D=[this._Q[1].K(),this._Q[2].K()];for(var d=0;
d<L.length;d++){var o=L[d],v=C.k[o],f=v.getName();if($[f]!=null){$[f]++;f+=" "+$[f]}else $[f]=1;var U=v.ow();
v.yh(!0);for(var H=0;H<F.length;H++){if(!F[H])continue;var B=H+1,m=G.BG.vvv(C,j,B,this.VO,o,Z,D);for(var Y=0;
Y<j.length;Y++){var q=j[Y],r=f.slice(f.startsWith("-e-")?3:0)+(B==1?"":"-"+B+"x")+"."+q.toLowerCase();
_[r]=new Uint8Array(m[Y])}}v.yh(U)}var x=UZIP.encode(_),a=new P(t.E.m,!0);a.data={$:t.i.zb,data:x,name:"assets.zip"};
this.Z(a)};function WH(){rm.call(this,"File Info","finfo");this.NX=null;this.wl=null;this.Na=null;this.ga=t.e("div","form scrollable label12");
this.ga.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");this.body.appendChild(this.ga);
var Q=t.e("div","form");this.body.appendChild(Q);this.rS=new rc(null,["Hello"]);Q.appendChild(this.rS.w);
this.vEw=new rs("Add Parameter",!1,null,!0);Q.appendChild(this.vEw.w);this.vEw.p("click",this.rf,this);
this.ru=new rs("=== S A V E ===",!1,null,!0);Q.appendChild(this.ru.w);this.ru.p("click",this.Bp,this);
this.vEU=""}WH.prototype=new rm;WH.prototype.eD=function(Q,C){return Q<450||C<450?new Wn(0,0):new Wn(150,100)};
WH.prototype.rf=function(Q){if(this.Na.length==0)return;var C=this.Na[this.rS.K()],j=this.Bm();j[C]=$X.Wh[C][0];
this.Hj(j);this.wl[C].w.scrollIntoView();this.wl[C].Fg()};WH.prototype.qd=function(Q){var C=this.Bm();
delete C[Q.currentTarget.vWu];this.Hj(C)};WH.prototype.Bp=function(Q){var C=this.Bm(),j=this.NX,Z=!0;
for(var F in j)if(JSON.stringify(j[F])!=JSON.stringify(C[F]))Z=!1;for(var F in C)if(JSON.stringify(j[F])!=JSON.stringify(C[F]))Z=!1;
if(Z)return;var _=new P(t.E.a,!0);_.Y=G.tP;_.data={$:S.ou,gO:C};this.Z(_);this.NX=C;this.Hj(C)};WH.vOX=function(Q){function C(F){var _=F.toLowerCase();
return F==_}var j=Q.split(":").pop();for(var Z=1;Z<j.length-1;Z++){if(j[Z]==j[Z].toUpperCase()&&(C(j[Z+1])||C(j[Z-1]))){j=j.slice(0,Z)+" "+j.slice(Z);
Z++}}return j};WH.prototype.Ik=function(Q,C){this.NX=Q.vh;this.Hj(Q.vh)};WH.prototype.Hj=function(Q){var C=this.ga,F=0;
t.pi(C);var j=this.wl={},Z=["tiff","exif","exif:GPS"],_=this.Na=[],$=[];for(var L in $X.Wh){var D=WH.vOX(L),d=0,v=15,f=null;
if(Q[L]==null){_.push(L);$.push(D);continue}for(var o=0;o<Z.length;o++)if(L.startsWith(Z[o]))d=o;if(d!=F){t.pZ(C);
F=d}if(L=="tiff:ImageDescription"||L=="dc:Keywords"){v=18.5;f=3}var U=new $q(D,null,v,f);j[L]=U;var H=Q[L];
if(H instanceof Array)H=H[1]==0?"---":H[0]+"/"+H[1];var B=new rs("\u2716",null,rT.get([5,4]));C.appendChild(B.w);
B.p("click",this.qd,this);B.vWu=L;U.t(H);C.appendChild(U.w);t.hQ(C);if(L=="exif:GPSLongitude"&&Q["exif:GPSLatitude"]){this.vEU=WH.vgN(Q["exif:GPSLatitude"])+","+WH.vgN(Q["exif:GPSLongitude"]);
var m=new rs("Show on map",!1,null,!0);C.appendChild(m.w);t.hQ(C);m.p("click",this.vOa,this)}}this.rS.Bk($);
this.rS.t(0)};WH.prototype.Bm=function(){var Q=this.wl,C=$X.Wh,j={};for(var Z in C){var F=C[Z][0],_=typeof F;
if(F==null||Q[Z]==null)continue;var $=Q[Z].K();if(_=="number")$=parseFloat($);else if(F instanceof Array&&F.length==2)$=$.split("/").map(parseFloat);
j[Z]=$}return j};WH.vgN=function(Q){var C=Q.length,j=Q.slice(0,C-1).split(",").map(parseFloat),Z=Q.slice(C-1),F=j[0]+j[1]/60+j[2]/3600;
if(Z!="N"&&Z!="E")F=-F;return F};WH.prototype.vOa=function(Q){window.open("https://maps.google.com?q="+this.vEU,"Map")};
function Dy(){rm.call(this,[11,5],"gradienteditor");this.st=null;this.lP=null;this.em=null;this.lx=null;
this.qo=!1;this.Qf=!1;t._I(this.body,"form");this.bB=null;this.ER=null;this.dJ=-1;this.$O=-1;this.oZ=0;
this.FS=this.gZ.bind(this);this.FJ=this.r_.bind(this);this.ky=t.e("canvas","");this.zf=this.ky.getContext("2d");
this.ky.setAttribute("style","display:block");this.ds=null;t.W$(this.ky);t.BF(this.ky,this.rD.bind(this));
this.Ny=new vf([19,3,3],0,100,"%");this.Ny.p(t.E.U,this.LL,this);this.Ny.parent=this;this.body.appendChild(this.Ny.w);
t.hQ(this.body);this.gv=new $C([12,0]);this.body.appendChild(this.gv.w);this.sS=t.e("div","bordered padded noalign");
this.body.appendChild(this.sS);this._v=new vf([12,0],0,100,"%");this._v.parent=this;this._v.p(t.E.U,this.LL,this);
this.sS.appendChild(this._v.w);this.gs=new vf([12,40],0,100,"%");this.gs.parent=this;this.gs.p(t.E.U,this.LL,this);
this.sS.appendChild(this.gs.w);this.ra=new rs([5,4],!1,null,!0);this.ra.p("click",this.vSq,this);this.sS.appendChild(this.ra.w);
this.body.appendChild(this.ky);t.hQ(this.body);this.vEn=new $C([13,0]);this.body.appendChild(this.vEn.w);
this.XO=t.e("div","bordered padded noalign");this.body.appendChild(this.XO);this.iG=new rc([12,44],[[12,45],[12,46],[12,47]]);
this.iG.p(t.E.U,this.LL,this);this.XO.appendChild(this.iG.w);this.cQ=new vy(!0);this.cQ.parent=this;
this.cQ.p(t.E.U,this.LL,this);this.XO.appendChild(this.cQ.w);this.gf=new vf([12,40],0,100,"%");this.gf.parent=this;
this.gf.p(t.E.U,this.LL,this);this.XO.appendChild(this.gf.w);this.rB=new rs([5,4],!1,null,!0);this.rB.p("click",this.vuk,this);
this.XO.appendChild(this.rB.w);this.Yi=new rs("OK",!0,null,!0);this.Yi.p("click",this.Ha,this);this.body.appendChild(this.Yi.w);
this.p("closebtn",this.rT,this)}Dy.prototype=new rm;Dy.prototype.rT=function(Q){if(this.qo)this.lx(this.st)};
Dy.prototype.N=function(){rm.prototype.N.call(this);this.Ny.N();this.gv.N();this.vEn.N();this.ra.N();
this.rB.N();this._v.N();this.gs.N();this.iG.N();this.gf.N()};Dy.prototype.VD=function(Q,C){this.em=Q};
Dy.prototype.Ik=function(Q,C){this.lP=JSON.parse(JSON.stringify(C.q));this.st=JSON.parse(JSON.stringify(C.q));
this.bB=this.ER=null;this.lx=C.np;this.qo=!1;this.Qf=C.eR;this.hx();this.LB()};Dy.prototype.Ha=function(Q){var C=this.lP;
this.lx(C);this.close()};Dy.prototype.Yy=function(Q){return Q==b.Ae||Q==b.oC};Dy.prototype.ZZ=function(Q,C,j,Z){if(Z.r(b.Ae)||Z.r(b.oC)){if(this.ER)this.vSq();
if(this.bB)this.vuk()}};Dy.prototype.vSq=function(Q){var C=this.lP.Trns.v;if(this.ER==null||C.length==2)return;
C.splice(C.indexOf(this.ER),1);this.ER=null;this.hx();this.LB()};Dy.prototype.vuk=function(Q){var C=this.lP.Clrs.v;
if(this.bB==null||C.length==2)return;C.splice(C.indexOf(this.bB),1);this.bB=null;this.hx();this.LB()};
Dy.prototype.hx=function(){var Q=this.ky,C=this.zf,j=t.s();Q.width=Math.floor(410*j);Q.height=Math.floor(90*j);
t.GI(Q,Q.width,Q.height);this.ds=new s(0,0,Math.floor(380*j),Math.floor(32*j));this.ds.x=Math.floor((this.ky.width-this.ds.W)/2);
this.ds.y=Math.floor((this.ky.height-this.ds.C)/2);var Z=this.ds,F=Z.W,_=Z.C,$=Z.x,L=Z.y,D=new s(0,0,F,_),d=C.getImageData(0,0,F,_),o=new Uint8Array(d.data.buffer);
e.Mm(o,F,_,8,0,0);var v=e.Q(F*_*4);e.q.vx(this.lP,v,D,[1/F,0,0,1/_],F/2,_/2,!1,0,this.em.pd,this.em.JD);
e.B.hW("norm",v,Z,o,Z,Z,1);C.clearRect(0,0,Q.width,Q.height);C.putImageData(d,$,L);var f=this.lP.Trns.v,U=this.lP.Clrs.v,H=e.q.mW(U,this.em.pd,this.em.JD),B=Math.round(6*t.s()),m=Math.round(14*t.s()),Y=this.ER?this.ER.v:null,q=this.bB?this.bB.v:null;
for(var r=0;r<f.length;r++){var x=f[r].v,a=Math.round(255-255*x.Opct.v.val/100);if((x==Y||f[r-1]&&f[r-1].v==Y||r==this.$O)&&r!=0){C.fillStyle="#000000";
C.fillRect($-3+F*(f[r-1].v.Lctn.v+(x.Lctn.v-f[r-1].v.Lctn.v)*x.Mdpn.v/100)/4096,L-6-2,6,6)}if(x==Y){C.fillStyle="#ffffff";
C.fillRect($-B+F*(x.Lctn.v/4096)-2,L-2-m-2,2*B+4,m+4)}C.fillStyle="rgb("+a+","+a+","+a+")";C.fillRect($-B+F*(x.Lctn.v/4096),L-2-m,2*B,m)}for(var r=0;
r<U.length;r++){var i=U[r].v,l=H[r];if((i==q||U[r-1]&&U[r-1].v==q||r==this.dJ)&&r!=0){C.fillStyle="#000000";
C.fillRect($-3+F*(U[r-1].v.Lctn.v+(i.Lctn.v-U[r-1].v.Lctn.v)*i.Mdpn.v/100)/4096,L+_+2,6,6)}if(i==q){C.fillStyle="#ffffff";
C.fillRect($-B+F*(i.Lctn.v/4096)-2,L+_+2-2,2*B+4,m+4)}C.fillStyle="rgb("+Math.round(l.h)+", "+Math.round(l.J)+","+Math.round(l._)+")";
C.fillRect($-B+F*(i.Lctn.v/4096),L+_+2,2*B,m)}if(this.Qf){this.lx(this.lP);this.qo=!0}};Dy.prototype.LB=function(){this.Ny.t(Math.round(100*this.lP.Intr.v/4096));
var Q=this.lP.Trns.v,C=this.lP.Clrs.v,j=this.ER!=null,Z=this.$O!=-1;this._v.XY(j);this.gs.XY(j||Z);this.ra.XY(j);
if(j){this.sS.setAttribute("style","");var F=this.ER.v;this.gs.t(Math.round(100*F.Lctn.v/4096));this._v.t(F.Opct.v.val)}if(Z)this.gs.t(Q[this.$O].v.Mdpn.v);
var j=this.bB!=null,Z=this.dJ!=-1;this.iG.XY(j);this.cQ.XY(j);this.gf.XY(j||Z);this.rB.XY(j);if(j){this.XO.setAttribute("style","");
var _=this.bB.v;this.gf.t(Math.round(100*_.Lctn.v/4096));var $=_.Type.v.Clry;this.iG.t(["FrgC","BckC","UsrS"].indexOf($));
if($=="FrgC")this.cQ.fN(this.em.pd);if($=="BckC")this.cQ.fN(this.em.JD);if($=="UsrS")this.cQ.t(_.Clr.v)}if(Z)this.gf.t(C[this.dJ].v.Mdpn.v)};
Dy.prototype.LL=function(Q){var C=Math.round(4096*this.Ny.K()/100);this.lP.Intr.v=C;var j=this.lP.Trns.v,Z=this.lP.Clrs.v;
if(this.ER!=null){var F=this.ER.v;F.Lctn.v=Math.round(4096*(this.gs.K()/100));F.Opct.v.val=this._v.K()}if(this.bB!=null){var _=this.bB.v;
_.Lctn.v=Math.round(4096*(this.gf.K()/100));if(Q.target==this.cQ)this.iG.t(2);var $=this.iG.K();_.Type.v.Clry=["FrgC","BckC","UsrS"][$];
if($==2)_.Clr={t:"Objc",v:this.cQ.K()};else if(_.Clr)delete _.Clr}if(this.$O!=-1)j[this.$O].v.Mdpn.v=this.gs.K();
if(this.dJ!=-1)Z[this.dJ].v.Mdpn.v=this.gf.K();this.hx()};Dy.prototype.rD=function(Q){var C=t.Gp(Q,this.ky),j=(C.x*t.s()-this.ds.x)/this.ds.W,Z=(C.y*t.s()-this.ds.y)/this.ds.C,F=this.lP.Trns.v,_=this.lP.Clrs.v,$=null,L=null,D=-1,d=-1;
if(Z<1)for(var o=0;o<F.length;o++){var v=F[o].v;if(Math.abs(v.Lctn.v/4096-j)<.02)$=F[o];if(o>0)if(Math.abs((F[o-1].v.Lctn.v+(v.Lctn.v-F[o-1].v.Lctn.v)*v.Mdpn.v/100)/4096-j)<.01)D=o}if(Z>0)for(var o=0;
o<_.length;o++){var f=_[o].v;if(Math.abs(f.Lctn.v/4096-j)<.02)L=_[o];if(o>0)if(Math.abs((_[o-1].v.Lctn.v+(f.Lctn.v-_[o-1].v.Lctn.v)*f.Mdpn.v/100)/4096-j)<.01)d=o}if(L==null&&$==null&&D==-1&&d==-1){if(Z<0){var v={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
v.v.Lctn.v=Math.round(j*4096);F.push(v);F.sort(this.Hz);$=v}if(Z>1){var _=this.lP.Clrs.v,U=e.q.mW(_,this.em.pd,this.em.JD),H=e.q.FT(this.lP,U,j),f={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:e.q.mx({h:H&255,J:H>>8&255,_:H>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
f.v.Lctn.v=Math.round(j*4096);_.push(f);_.sort(this.Hz);L=f}}if(L!=null)d=-1;if($!=null)D=-1;if(L!=null||$!=null||D>-1||d>-1){this.ER=$;
this.bB=L;this.$O=D;this.dJ=d;this.LB();this.hx();t.og(window,this.FS);t.oF(window,this.FJ)}};Dy.prototype.gZ=function(Q){var C=t.Gp(Q,this.ky),j=t.s()*(C.x-this.ds.x)/this.ds.W,Z=t.s()*(C.y-this.ds.y)/this.ds.C;
j=Math.max(0,Math.min(1,j));var F=this.lP.Trns.v,_=this.lP.Clrs.v;if(this.ER!=null){var $=this.ER.v;
$.Lctn.v=Math.round(4096*j);var L=F.indexOf(this.ER);if(L!=-1&&Z<-1&&F.length>2)F.splice(L,1);if(L==-1&&Z>-1)F.push(this.ER);
F.sort(this.Hz)}if(this.bB!=null){var D=this.bB.v;D.Lctn.v=Math.round(4096*j);var d=_.indexOf(this.bB);
if(d!=-1&&Z>1.5&&_.length>2)_.splice(d,1);if(d==-1&&Z<1.5)_.push(this.bB);_.sort(this.Hz)}if(this.$O>-1){var $=F[this.$O].v;
$.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(j*4096-F[this.$O-1].v.Lctn.v)/($.Lctn.v-F[this.$O-1].v.Lctn.v))))}if(this.dJ>-1){var D=_[this.dJ].v;
D.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(j*4096-_[this.dJ-1].v.Lctn.v)/(D.Lctn.v-_[this.dJ-1].v.Lctn.v))))}if(this.ER!=null||this.bB!=null||this.$O>-1||this.dJ>-1){this.LB();
this.hx()}};Dy.prototype.r_=function(Q){t.wf(window,this.FS);t.Ab(window,this.FJ);if(Date.now()-this.oZ<300){if(this.dJ!=-1||this.$O!=-1){var C=(this.dJ!=-1?this.lP.Clrs.v[this.dJ]:this.lP.Trns.v[this.$O]).v;
C.Mdpn.v=50;this.LB();this.hx()}else if(this.bB!=null)this.cQ.vsS()}this.oZ=Date.now()};Dy.prototype.Hz=function(Q,C){return Q.v.Lctn.v-C.v.Lctn.v};
function bs(){rm.call(this,[11,10],"isize");this.ga=t.e("div","form");this.ga.setAttribute("style","width:20em");
this.body.appendChild(this.ga);this.oR=new Qj(!0,!0);this.ga.appendChild(this.oR.w);this.su=new vg("Resample");
this.su.t(!0);this.ga.appendChild(this.su.w);this.su.p(t.E.U,this.vOx,this);this._V=new rc([12,14,1],[[12,14,2],[12,14,3],"Bicubic Sharper"]);
this._V.t(1);this.ga.appendChild(this._V.w);this.vn=new rs("OK",!0,null,!0);this.vn.p("click",this.Ha,this);
this.body.appendChild(this.vn.w)}bs.prototype=new rm;bs.prototype.Po=function(Q,C){return Q!=null};bs.prototype.cX=function(){return!0};
bs.prototype.vOx=function(Q){var C=this.su.K(),j=this.oR,F=this._V;if(C)F.Ii();else F.IO();if(C)j.vXG();
else j.vXc()};bs.prototype.N=function(){rm.prototype.N.call(this);this._V.N();this.oR.N()};bs.prototype.Ha=function(Q){this.close();
var C=this.oR.K(),j=C.x,Z=C.y,F=this._V.K();if(!this.su.K())F=null;var _=new P(t.E.xD,!0);_.data=G.QQ.v$x(j,Z,this.oR.vQ$(),F);
this.Z(_)};bs.prototype.Ik=function(Q,C){this.oR.t(new Wn(Q.W,Q.C),Q.zn)};function DS(){rm.call(this,"Import RAW","importraw");
var Q=t.e("div","flexrow"),C=t.e("div");this.body.appendChild(Q);this.body.appendChild(C);var j=t.e("div","form");
j.setAttribute("style","width:16em");Q.appendChild(j);var Z=t.e("div","form");Z.setAttribute("style","width:14em");
Q.appendChild(Z);this.dc=null;this.vdS=null;this.Bv=null;this.vdn=[];this.Er=[new Qj(!0,!0),new vp([12,72],["1","3","4"]),new vp([12,34],["8 Bits","16 Bits"]),new vp("Byte Order",["12-34","34-12"]),new rc("Guesses",[])];
for(var F=0;F<this.Er.length;F++){var _=this.Er[F];if(F!=0)_.t(0);_.p(t.E.U,F==4?this.vkE:this.GJ,this);
var $=F==0?j:F==4?C:Z;$.appendChild(_.w)}this.bn=t.e("canvas");this.Dn=this.bn.getContext("2d");this.body.appendChild(this.bn);
this.vn=new rs("OK",!0,null,!0);this.vn.p("click",this.Ha,this);this.body.appendChild(this.vn.w)}DS.prototype=new rm;
DS.prototype.N=function(){rm.prototype.N.call(this);var Q=this.Er;for(var C=0;C<Q.length;C++)Q[C].N()};
DS.prototype.Ha=function(Q){this.close();var C=this.Er[0].K(),j=_$.iE(this.vdS,[{data:this.Bv,Rm:new s(0,0,C.x,C.y)}]),Z=new P(t.E.m,!0);
Z.data={$:!0?t.i.XV:t.i.el,xa:j};this.Z(Z)};DS.prototype.Ik=function(Q,C){this.dc=new Uint8Array(C.rY);
this.vdS=C.RJ;var j=this.dc.length,Z=[1,3,4],F=0,_=0,$=1,L=1,D=this.vdn=[];for(var d=0;d<3;d++){for(var o=1;
o<3;o++){var v=Z[d],f=v*o,U=Math.round(j/f);if(U!=j/f)continue;for(var H=0;H<=4e3;H++)for(var B=0;B<=4e3;
B++)if(H*B==U){var m=0;if(H==B)m+=64;if(Math.round(H/100)==H/100&&Math.round(B/100)==B/100)m+=32;if(Math.round(H/10)==H/10&&Math.round(B/10)==B/10)m+=16;
if(Math.round(H/2)==H/2&&Math.round(B/2)==B/2)m+=8;D.push([H,B,v,o,m])}}}var Y=function(i,l){if(l[4]!=i[4])return l[4]-i[4];
var M=Math.max(i[0],i[1])/Math.min(i[0],i[1]),z=Math.max(l[0],l[1])/Math.min(l[0],l[1]);if(M!=z)return M-z;
return l[0]-i[0]};D.sort(Y);var q=this.Er,r=[];for(var x=0;x<D.length;x++){var a=D[x];r.push(a[0]+" x "+a[1]+", "+a[2]+"c, "+a[3]*8+"-bit")}q[4].Bk(r);
q[4].t(0);this.vkE(null)};DS.prototype.vkE=function(Q){var C=this.Er,j=this.vdn[this.Er[4].K()];C[0].t(new Wn(j[0],j[1]),72);
C[1].t([1,3,4].indexOf(j[2]));C[2].t([1,2].indexOf(j[3]));this.GJ()};DS.prototype.GJ=function(Q){var C=this.Er,j=C[0].K(),Z=j.x,F=j.y,_=8+8*C[2].K(),$=this.dc;
if(_==16&&C[3].K()==1){$=$.slice(0);for(var L=0;L<$.length;L+=2){var D=$[L];$[L]=$[L+1];$[L+1]=D}}var d=this.Bv=UPNG.toRGBA8.decodeImage($,Z,F,{tabs:{},ctype:[0,2,6][C[1].K()],depth:_}),o=this.bn,v=this.Dn,f=[d,new s(0,0,Z,F)];
e.aR(f);for(var L=0;L<f.length;L+=2)if(f[L+1].C<300){d=f[L];Z=f[L+1].W;F=f[L+1].C;break}o.width=Z;o.height=F;
t.GI(o,Z,F);var U=new ImageData(new Uint8ClampedArray(d.buffer),Z,F);v.putImageData(U,0,0)};function $E(Q,C,j){rJ.call(this);
this.w=t.e("div","");this.kQ=Q;this.Ic=null;this.sa=C==null?!1:C;this.rc=null;this.NG=j;this.NY=[];this.ii=[];
this.sm=[];this.$K=[];this.sy=0;this.Ic=this.vOU($E.$K[Q]);this._w()}$E.prototype=new rJ;$E.prototype.vOF=function(){for(var Q=0;
Q<this.$K.length;Q++){t.Zy(this.$K[Q],"selected");if(this.sm[Q]instanceof vg)this.sm[Q].t(!1)}};$E.prototype.vOC=function(Q){var C=this.vOh.bind(this);
for(var j=0;j<this.sm.length;j++){var Z=t.e("div","listitem");this.$K.push(Z);if(j>0)Z.textContent="\u2003";
Z.appendChild(this.sm[j].w);if(WM.vdH.indexOf(this.kQ)!=-1){var F=new rs("+");F.In();F.w.style.float="right";
Z.appendChild(F.w);var _=new rs("\u2B0D");_.In();_.w.style.float="right";_.w.style["margin-right"]="2px";
Z.appendChild(_.w)}Z.addEventListener("click",C,!1);Q.appendChild(Z)}};$E.Lf=function(Q,C){var j=C.getBoundingClientRect();
return(Q.clientY-j.top)/j.height};$E.prototype.vOh=function(Q){var C=Q.target.tagName.toLowerCase();
if(C=="input"){return}if(C=="button"){var j=new P(t.E.a,!0),Z=Q.target.textContent=="+",F=Z?0:$E.Lf(Q,Q.target)<.5?-1:1;
if(Z)j.data={$:"st_dupsingle",c:this.parent.data.c,gI:this.NG};else j.data={$:"st_movsingle",c:this.parent.data.c,gI:this.NG,vqa:F};
j.Y=G.IH;j.gA=!0;this.Z(j);j=new P("redrawall",!0);j.data={vqa:F};this.Z(j);return}t.QZ(Q);this.Bx();
this.sy=this.$K.indexOf(Q.currentTarget);this.Z(new P("showme"))};$E.prototype.Bx=function(){if(this.Ic.enab&&this.Ic.enab.K()==!1)this.lo({VH:"enab",O:!0})};
$E.prototype.vOo=function(){var Q=this.$K[this.sy];if(Q)t._I(Q,"selected");return this.ii[this.sy]};
$E.prototype.vOU=function(Q){var C={};for(var j=0;j<Q.length;j++){var Z=Q[j],F=null;if(Z=="----")F={w:t.e("hr")};
if(Z=="\n")F={w:t.e("br")};if(Z=="blOptions")F=new $C([14,10]);if(Z=="brst")F=new MultiCheck([12,72],["R","G","B"]);
if(Z=="knko")F=new rc("Knockout",[[13,1,0],"Shallow","Deep"]);if(Z=="enab")F=new vg(WM.names[WM.order.indexOf(this.kQ)]);
if(Z=="lrMd"||Z=="Md")F=new rc([12,19,0],rP.yg,!1,rP.pP);if(Z=="Opct")F=new _p([12,0],0,100,"%");if(Z=="iOpa")F=new _p([12,26],0,100,"%");
if(Z=="blIf")F=new bg;if(Z=="ShdN")F=new _p([12,68],0,100,"%");if(Z=="lagl"||Z=="Angl")F=new tT([12,15]);
if(Z=="uglg")F=new vg([12,27]);if(Z=="Dstn")F=new _p([12,28],0,200,"px");if(Z=="Ckmt")F=new _p([12,29],0,100,"%");
if(Z=="blur")F=new _p([12,14,0],0,200,"px");if(Z=="TrnS"||Z=="MpgS")F=new QH([12,21]);if(Z=="Nose")F=new _p([12,30],0,100,"%");
if(Z=="layerConceals")F=new vg([12,31]);if(Z=="AntA"||Z=="antialiasGloss")F=new vg("Anti-alias");if(Z=="GlwT")F=new rc([12,32],WM.mH.names);
if(Z=="glwS")F=new rc([12,70],WM.mH.vlI);if(Z=="Inpr")F=new _p([12,12],1,100,"%");if(Z=="bvlS")F=new rc([12,22],WM.Wr.style);
if(Z=="bvlT")F=new rc([12,32],WM.Wr.vlp);if(Z=="bvlD")F=new rc(null,WM.Wr.dir);if(Z=="srgR")F=new _p([12,34],0,1e3,"%");
if(Z=="Sftn")F=new _p([12,35],0,20,"px");if(Z=="Lald")F=C.lagl;if(Z=="hglM"||Z=="sdwM")F=new rc([12,36],rP.yg,!1,rP.pP);
if(Z=="hglC"||Z=="sdwC")F=new vy;if(Z=="hglO"||Z=="sdwO")F=new _p([12,0],0,100,"%");if(Z=="Invr"||Z=="InvT")F=new vg([4,11]);
if(Z=="Sz")F=new _p([12,14,0],1,200,"px");if(Z=="Styl")F=new rc([12,40],WM.stroke.names);if(Z=="PntT")F=new rc([12,66],WM.stroke.viZ);
if(Z=="Clr")F=new vy(!0);if(Z=="Grad"){F=new vY(!0,[12,37],!0);F.t(JSON.parse(WM.Gu.vQC).v)}if(Z=="Rvrs")F=new vg([12,23,0]);
if(Z=="Dthr")F=new vg("Dither");if(Z=="Type")F=new rc([12,22],WM.q.names.slice(0,this.kQ=="FrFX"?6:5));
if(Z=="Ptrn")F=new WA([12,62]);if(Z=="Scl")F=new _p([12,38],10,500,"%",0,!0);if(Z=="Algn")F=new vg([12,39]);
if(Z=="Ofst")F=new tm(!0);if(Z=="phase")F=new tm(!1);if(Z=="useShape")F=new vg([12,21]);if(Z=="useTexture")F=new vg([12,67]);
if(Z=="textureDepth")F=new _p([12,34],-300,300,"%");var _=Z=="----"||Z=="\n"?Z+j:Z;if(F!=null)C[_]=F}return C};
$E.prototype.vvW=function(Q){var C=this.ii[this.sy];for(var j=0;j<Q.length;j++){var Z=this.Ic[Q[j]];
if(Z&&C.contains(Z.w))C.removeChild(Z.w)}};$E.prototype.vvQ=function(Q){var C=this.ii[this.sy];for(var j=0;
j<Q.length;j++){var Z=this.Ic[Q[j]];if(Z&&!C.contains(Z.w))C.appendChild(Z.w)}};$E.prototype.VD=function(Q,C){if(this.Ic==null)return;
var j=C==rQ.yY;if(this.Ic.Grad){this.Ic.Grad.Xj(Q.pd,Q.JD);if(j||C==rQ.TH||C==rQ.dZ)this.Ic.Grad.Ip(Q.WY)}if(this.Ic.Ptrn){if(j||C==rQ.Mu)this.Ic.Ptrn.Ip(Q._N)}if(this.Ic.TrnS){if(j||C==rQ.tR)this.Ic.TrnS.Ip(Q.Nc)}if(this.Ic.MpgS){if(j||C==rQ.tR)this.Ic.MpgS.Ip(Q.Nc)}};
$E.prototype.N=function(){for(var Q=0;Q<this.NY.length;Q++)this.NY[Q].N();for(var C in this.Ic)if(this.Ic[C]instanceof rJ)this.Ic[C].N()};
$E.prototype._w=function(){for(var Q in this.Ic){var C=this.Ic[Q];C.parent=this;if(C instanceof rJ)C.p(t.E.U,this.vvj,this);
if(this.ii.length==0||Q=="useShape"||Q=="useTexture"){var j=new $C(C.vrP()),Z=t.e("div","bordered padded");
if(this.sa==!1){Z.appendChild(j.w);Z.appendChild(t.e("hr",""))}this.NY.push(j);this.ii.push(Z);this.sm.push(C)}else this.ii[this.ii.length-1].appendChild(C.w)}};
$E.prototype.update=function(Q,C){if(this.Ic==null)return;if(this.sa)this.rc=JSON.parse(JSON.stringify(C));
for(var j in C){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr Angl srgR Sftn textureDepth ShdN".split(" ").indexOf(j)!=-1)this.Ic[j].t(C[j].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(j)!=-1){this.Ic[j].t(C[j].v,Q)}if(["Md","hglM","sdwM"].indexOf(j)!=-1)this.Ic[j].t(rP.kQ.indexOf(C[j].v.BlnM));
if(j=="lrMd"){var Z=(C.Hd?[[15,10,27]]:[]).concat(rP.yg),F=(C.Hd?[1]:[]).concat(rP.pP);this.Ic[j].Bk(Z,F);
this.Ic[j].t(C[j].v)}if(j=="lagl"){var _=C.uglg&&C.uglg.v?Q.WD():C.lagl.v.val;this.Ic[j].t(_)}if(j=="Lald"){var _=C.uglg&&C.uglg.v?Q.RH():C.Lald.v.val;
this.Ic[j].t(null,_)}if(j=="Type")this.Ic[j].t(WM.q.types.indexOf(C.Type.v.GrdT));if(j=="Styl")this.Ic[j].t(WM.stroke.types.indexOf(C.Styl.v.FStl));
if(j=="PntT"){var $=WM.stroke.kT.indexOf(C.PntT.v.FrFl);this.Ic[j].t($);if(!this.sa){this.vvW(WM.rE.concat(WM.FX.concat(WM.FF)));
this.vvQ([WM.rE,WM.FX,WM.FF][$])}}if(j=="GlwT")this.Ic[j].t(WM.mH.types.indexOf(C.GlwT.v.BETE));if(j=="glwS")this.Ic[j].t(WM.mH.vzF.indexOf(C.glwS.v.IGSr));
if(j=="bvlS")this.Ic[j].t(WM.Wr.types.indexOf(C.bvlS.v.BESl));if(j=="bvlT")this.Ic[j].t(WM.Wr.vTB.indexOf(C.bvlT.v.bvlT));
if(j=="bvlD")this.Ic[j].t(["In","Out"].indexOf(C.bvlD.v.BESs))}};$E.prototype.vvj=function(Q){for(var C in this.Ic){if(this.Ic[C]!=Q.target)continue;
var j=null,Z=!1;if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(C)!=-1)j={type:"#Prc",val:Q.target.K()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(C)!=-1)j={type:"#Pxl",val:Q.target.K()};if(["Angl","lagl"].indexOf(C)!=-1)j={type:"#Ang",val:Q.target.K().Lr};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(C)!=-1)j=Q.target.K();
if(["Md","hglM","sdwM"].indexOf(C)!=-1)j={BlnM:rP.kQ[Q.target.K()]};if(C=="uglg"){j=Q.target.K();Z=!0}if(C=="PntT"){j={FrFl:WM.stroke.kT[Q.target.K()]};
Z=!0}if(C=="Lald")j={type:"#Ang",val:Q.target.K().alt};if(C=="Type")j={GrdT:WM.q.types[Q.target.K()]};
if(C=="Styl")j={FStl:WM.stroke.types[Q.target.K()]};if(C=="GlwT")j={BETE:WM.mH.types[Q.target.K()]};
if(C=="glwS")j={IGSr:WM.mH.vzF[Q.target.K()]};if(C=="bvlS")j={BESl:WM.Wr.types[Q.target.K()]};if(C=="bvlT")j={bvlT:WM.Wr.vTB[Q.target.K()]};
if(C=="bvlD")j={BESs:["In","Out"][Q.target.K()]};this.lo({VH:C,O:j});if(Z){if(this.sa)this.update(null,this.rc);
else{var F=this.parent,_=F.xa,$=this.NG,L=_.k[F.data.c].add.lmfx[WM.zV[$[0]]].v[$[1]].v;this.update(_,L)}}}};
$E.prototype.lo=function(Q){if(this.sa){this.rc[Q.VH].v=Q.O;this.Z(new P(t.E.U))}else{Q.$="changeprop";
Q.c=this.parent.data.c;Q.BW=this.NG;var C=new P(t.E.a,!0);C.data=Q;C.Y=G.IH;C.gA=!0;this.Z(C);this.Z(new P("afterchange",!0))}};
$E.prototype.K=function(){return JSON.parse(JSON.stringify(this.rc))};$E.$K={bops:"blOptions lrMd Opct iOpa ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(WM.rE),GrFl:["enab","Md","Opct"].concat(WM.FX),patternFill:["enab","Md","Opct"].concat(WM.FF),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(WM.rE.concat(WM.FX.concat(WM.FF)))};
function _x(){rm.call(this,[11,6],"layerstyle");this.vEk=-1;this.data={};this.xa=null;this.VO=null;this.ar=[];
this.Ne=[];t._I(this.body,"flexrow");this.Zt=t.e("div","bordered");this.Zt.setAttribute("style","min-width:13em;");
this.body.appendChild(this.Zt);this.Bn=t.e("div","");this.Bn.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.Bn);this.HD=t.e("div","form");this.HD.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.HD);this.Yi=new rs("OK",!0,null,!0);this.Yi.p("click",this.Ha,this);this.HD.appendChild(this.Yi.w);
this.Nh=new rs([12,87],!0,null,!0);this.Nh.p("click",this.vvi,this);this.HD.appendChild(this.Nh.w);this.iS=new tX;
this.iS.parent=this;this.iS.p(t.E.U,this.vvz,this);this.HD.appendChild(this.iS.w);this.p("closebtn",this.rT,this);
this.p("redrawall",this.vpD,this)}_x.prototype=new rm;_x.prototype.cX=function(){return!0};_x.prototype.vvz=function(Q){var C=this.iS.K();
this.lo({$:"setstl",O:C.oK});this.vpD(null)};_x.prototype.vvi=function(Q){var C=this.xa,j=this.data.c;
if(j==null)j=C.H[0];var Z=this.xa.k[j],F=rk.viH(Z),_=new P(t.E.m,!0);_.data={$:t.i.yN,yZ:"add",Vh:rQ.IL,JF:[JSON.parse(JSON.stringify(F))]};
this.Z(_)};_x.prototype.vvl=function(Q){this.data.index=Q.currentTarget.NG;this.BC(Q.currentTarget.NG)};
_x.prototype.vpD=function(Q){this.Ik(this.xa,this.data)};_x.prototype.BC=function(Q,C){t.pi(this.Bn);
for(var j=0;j<this.ar.length;j++)this.ar[j].vOF();var Z=Q==0?this.ar[0]:this.Ne[Q[0]][Q[1]];this.Bn.appendChild(Z.vOo());
if(C)Z.Bx();var F=this.xa;if(F){var _=F.k[this.data.c];this.ar[0].update(F,rz.hL.vp(F,_));var $=_.add.lmfx;
if($==null)return;for(var j=0;j<WM.order.length;j++){var L=$[WM.zV[j]].v;for(var D=0;D<L.length;D++)this.Ne[j][D].update(F,L[D].v)}}if(C)Z.Bx()};
_x.prototype.N=function(){rm.prototype.N.call(this);this.Nh.N();this.iS.N();for(var Q=0;Q<this.ar.length;
Q++)this.ar[Q].N()};_x.prototype.Ik=function(Q,C){var j=C.c==null;this.data.c=C.c;this.data.index=C.index;
C=this.data;this.xa=Q;if(j)C.c=Q.H.length==0?Q.k.length-1:Q.H[0];t.pi(this.Zt);var Z=Q.k[C.c].add.lmfx;
this.BZ();this.ar=[new $E("bops",!1,0)];this.Ne=[];for(var F=0;F<WM.order.length;F++){this.Ne.push([]);
var _=Z==null?[]:Z[WM.zV[F]].v;for(var $=0;$<_.length;$++){var L=new $E(WM.order[F],!1,[F,$]);this.ar.push(L);
this.Ne[F].push(L)}if(_.length==0){var L=new $E(WM.order[F],!1,[F,0]);this.ar.push(L);this.Ne[F].push(L)}}this.N();
this.vsc(this.VO,rQ.yY);for(var F=0;F<this.ar.length;F++){this.ar[F].parent=this;this.ar[F].vOC(this.Zt);
this.ar[F].p("showme",this.vvl,this)}if(C.index==null||C.index==0||!j&&Z[WM.zV[C.index[0]]].v.length==0){this.BC(0)}else this.BC(C.index,j);
this.p("afterchange",this.BZ,this)};_x.prototype.BZ=function(Q){var C=this.xa,j=this.data.c;if(j==null)j=C.H[0];
var Z=this.xa.k[j],F=rk.viH(Z);this.iS.t(F,C.add.Patt?C.add.Patt:[],C.WD(),C.RH())};_x.prototype.VD=function(Q,C){this.VO=Q;
this.vsc(Q,C);if(C==rQ.IL||C==rQ.yY){this.iS.Ip([Q.zC,Q._N])}if(C==rQ.vt){}};_x.prototype.vsc=function(Q,C){for(var j=0;
j<this.ar.length;j++)this.ar[j].VD(Q,C)};_x.prototype.rT=function(Q){this.lo({$:"cancel"})};_x.prototype.Ha=function(Q){this.lo({$:"confirm"});
this.close()};_x.prototype.lo=function(Q){Q.c=this.data.c;var C=new P(t.E.a,!0);C.data=Q;C.Y=G.IH;C.gA=!0;
this.Z(C);this.BZ()};_x.vsn=function(Q){var C=[{name:[14,10],ui:!0}];for(var j=0;j<WM.names.length;j++)C.push({name:WM.names[j]});
if(Q){C[C.length-1].ui=!0;C.push({name:"Styles To Separate Layers",F:function(Z){return{F:Z!=null&&Z.H.length!=0&&Z.k[Z.H[0]].add.lmfx!=null}}})}return C};
_x.vyL=function(Q){var C=[{T:t.E.m,I:{$:t.i.kN,ul:"layerstyle"}}];for(var j=0;j<WM.names.length;j++)C.push({T:t.E.m,I:{$:t.i.kN,ul:"layerstyle",index:[j,0]}});
if(Q){var Z={classID:"Mk",null:_R.Ub("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
C.push({T:t.E.xD,I:{$Q:"make",aa:Z}})}return C};_x.v$B=function(Q){var C=[];if(Q)C.push({name:[6,48,0,0],qm:!0},{name:[6,48,0,1],qm:!0},{name:[6,48,0,2],qm:!0,ui:!0});
for(var j in rY.names)C.push({name:rY.names[j],ui:rY.vTE.indexOf(j)!=-1,qm:n[j]!=null});return C};_x.v$c=function(Q){var C=[];
if(Q)for(var j=0;j<3;j++)C.push({T:t.E.xD,I:G.da.Jh(j)});for(var Z in rY.names){var F=vr._j(Z);for(var _ in rY.fc)if(rY.fc[_]==Z)F.classID=_;
var $={$Q:"make",aa:{classID:"Mk",null:_R.Ub("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:F}}}}};
C.push({T:t.E.xD,I:$})}return C};function DL(){rm.call(this,"Merge Channels","mergechannels");this.wW=null;
var Q=t.e("div","form");this.body.appendChild(Q);this.Er=[];for(var C=0;C<3;C++){var j=new rc(rY.fY[C],[]);
this.Er.push(j);Q.appendChild(j.w);t.hQ(Q)}this.Yi=new rs("OK",!0,null,!0);this.Yi.p("click",this.Ha,this);
Q.appendChild(this.Yi.w)}DL.prototype=new rm;DL.prototype.N=function(){rm.prototype.N.call(this);for(var Q=0;
Q<3;Q++)this.Er[Q].N()};DL.prototype.Ik=function(Q,C,j,Z){this.wW=j;var F=[];for(var _=0;_<j.length;
_++)F.push(j[_].name);for(var _=0;_<3;_++){var $=this.Er[_];$.Bk(F);$.t(Math.min(_,j.length-1))}};DL.prototype.Ha=function(Q){var C=this.wW,j=C[0],Z=new P(t.E.xD,!0);
Z.data=rH.kS(j.W,j.C,j.zn,"Merged Document","Wht");this.Z(Z);var F=[];for(var _=0;_<3;_++)F.push(C[this.Er[_].K()].ln());
var j=C[C.length-1],$=j.k[0],L=$.buffer;for(var _=0;_<L.length;_+=4){L[_]=F[0][_];L[_+1]=F[1][_];L[_+2]=F[2][_]}$.X();
j.X();this.close()};function b$(){rm.call(this,[1,10],"script");var Q=t.e("div","form");Q.setAttribute("style","width:44em");
this.body.appendChild(Q);this.VO=null;this.VP=[];this.No=[];this.vXZ;var C=this.ru=new rs([1,2],!1,null,!0);
C.p("click",this.Bp,this);Q.appendChild(C.w);var j=new rs("JS Reference",!1,null,!0);j.p("click",this.vvo,this);
Q.appendChild(j.w);Q.appendChild(new $C("Demos:").w);this.vak=[];var Z=b$.Bf;for(var F=0;F<Z.length;
F++){var _=new rs(Z[F]._X,!1,null,!0);this.vak.push(_);Q.appendChild(_.w);_.p("click",this.vvw,this)}this.yM=t.e("textarea");
this.yM.setAttribute("rows",16);this.yM.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");
Q.appendChild(this.yM);var $=new rs("Run",!0,null,!0);$.p("click",this.Ha,this);Q.appendChild($.w);this.vBI=t.e("div");
Q.appendChild(this.vBI)}b$.prototype=new rm;b$.prototype.N=function(){this.ru.N()};b$.prototype.Bp=function(){var Q=this.vXZ;
if(Q==null)Q="script.jsx";var C=new P(t.E.m,!0);C.data={$:t.i.kN,ul:"namewindow",Fc:Q.slice(0,Q.length-4),vmr:this.vvy.bind(this)};
this.Z(C)};b$.prototype.vvy=function(Q){var C=this.yM.value,j=c.WH(C),Z=new P(t.E.m,!0);Z.data={$:t.i.sM,rY:j.buffer,qy:Q+".jsx",vWk:!0};
this.Z(Z)};b$.prototype.vvL=function(Q){var C=this.VP.indexOf(Q.target),j=this.vXZ=this.No[C],Z=this.VO.ct.iA[j],F=new Uint8Array(Z),_=c.hI(F,0,F.length);
this.yM.value=_};b$.prototype.Ik=function(Q,C,j){this.yM.value=b$.Bf[0].Hl;this.v$N()};b$.prototype.v$N=function(){var Q=this.VO.ct,C=this.vBI;
t.pi(C);this.VP=[];this.No=[];C.textContent="Saved scripts: ";for(var j in Q.iA){if(j.endsWith(".jsx")){var Z=new rs(j,!1,null,!0);
this.VP.push(Z);this.No.push(j);Z.p("click",this.vvL,this);C.appendChild(Z.w)}}};b$.prototype.VD=function(Q,C){this.VO=Q;
if(C==rQ.bj)this.v$N()};b$.prototype.vvo=function(Q){var C=new P(t.E.m,!0);C.data={$:t.i.xO,link:"https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"};
this.Z(C)};b$.prototype.Ha=function(Q){var C=new P(t.E.m,!0);C.data={$:t.i.XB,go:this.yM.value};this.Z(C)};
b$.prototype.vvw=function(Q){var C=this.vak.indexOf(Q.currentTarget);this.yM.value=b$.Bf[C].Hl};b$.Bf=[{_X:"Hello",Hl:"\nalert(\"Hello Photopea!\");\n"},{_X:"Process Layers",Hl:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{_X:"Clone Layers",Hl:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function QW(){rm.call(this,[11,7],"newproject");this.data=null;this.wW=null;var Q=t.e("div","flexrow");
this.bY=Q;this.body.appendChild(Q);var C=t.e("div","form");this.ga=C;Q.appendChild(C);this.Ix=new $q([12,48]);
C.appendChild(this.Ix.w);t.hQ(C);this.oR=new Qj(!0);this.oR.t(new Wn(1280,720),72);this.oR.p(t.E.U,this.Bh,this);
C.appendChild(this.oR.w);this.NH=new rc([12,46],[[13,1,8],[13,1,9],[12,46]]);C.appendChild(this.NH.w);
C.appendChild(t.e("hr"));this.vn=new rs([12,49],!0,null,!0);this.vn.p("click",this.Ha,this);C.appendChild(this.vn.w);
var j=QW.dc,Z=[];for(var F=0;F<j.length;F++)Z.push(j[F].name);this.wq=new vp(null,Z);this.wq.p(t.E.U,this.v$w,this);
C.appendChild(this.wq.w);this.wq.w.style["margin-top"]="1em";this.wS=new QQ(!0);this.wS.p(t.E.U,this.vvA,this);
C.appendChild(this.wS.w);this.v$w();this.CO=new Wy;this.CO.parent=this;this.CO.w.setAttribute("style","margin-left:1em");
this.CO.p("tempready",this.vvU,this)}QW.prototype=new rm;QW.prototype.VD=function(Q,C){this.CO.VD(Q)};
QW.prototype.eD=function(Q,C){return new Wn(Math.max(0,Math.min(70,(Q-690)/2)),Q>C?Math.max(0,Math.min(50,(C-400)/2)):0)};
QW.prototype.b_=function(Q,C){this.ga.setAttribute("style","width:"+Math.min(Q,338)+"px");this.wS.w.style.height=C-260+"px";
var j=this.CO.w,Z=j.parentNode;if(Q<500){if(Z!=null)this.bY.removeChild(j)}else{if(Z==null)this.bY.appendChild(j)}this.CO.b_(Q-360,C-35)};
QW.prototype.Bh=function(){this.CO.t(this.oR.K())};QW.prototype.vvA=function(Q){var C=this.wS.K(),j=QW.dc[this.wq.K()].cq[C],Z=j[4];
if(Z==0)Z=72;var F=j[1],_=j[2],$=["px","%","mm","in"].indexOf(j[3]),L=[1,1,25.4/Z,1/Z][$];F/=L;_/=L;
this.oR.t(new Wn(Math.round(F),Math.round(_)),Z);this.oR.vaW($);this.wS.rm(C);this.Bh()};QW.prototype.v$w=function(Q){var C=QW.dc[this.wq.K()].cq,j=[],Z=[],F=Math.round(106*t.s()),_=Math.round(106*t.s()),$=0;
for(var L=0;L<C.length;L++)$=Math.max($,C[L][1],C[L][2]);for(var L=0;L<C.length;L++){var D=C[L],d=D[1]+" x "+D[2]+" "+D[3];
if(D[3]=="in")d=(D[1]*25.4).toFixed(0)+" x "+(D[2]*25.4).toFixed(0)+" mm";if(D[3]=="mm")d=(D[1]/25.4).toFixed(1)+" x "+(D[2]/25.4).toFixed(1)+" in";
if(D[4])d=d+" @ "+D[4]+" ppi";Z.push(d);j.push(QW.ww(D,F,_,$))}this.wS.fZ(j,Z,F,_)};QW.ww=function(Q,C,j,Z){var F=t.e("canvas",""),_=F.getContext("2d");
F.width=C;F.height=j;var $=Math.round(C/8),L=Math.floor(11*t.s()),D=Q[1],d=Q[2];_.fillStyle="#000000";
_.font=Math.round(L*.9)+"px \"Open Sans\", Sans-Serif";var o=D+" x "+d+" "+Q[3],v=_.measureText(o);_.fillText(o,Math.round((C-v.width)/2),j-Math.round($/2));
if(Q[0]!=null){_.font="bold "+L+"px \"Open Sans\", Sans-Serif";var o=Q[0],v=_.measureText(o);_.fillText(o,Math.round((C-v.width)/2),j-Math.round($/2)-Math.round(L*1.3))}j-=Math.round(2.5*L);
var f=Math.min((C-$)/D,(j-$)/d);f*=.5+.5*(Math.max(D,d)/Z);var U=(C-D*f)/2,H=(j-d*f)/2;_.strokeRect(Math.round(U)+.5,Math.round(H)+.5,Math.round(D*f),Math.round(d*f));
return F.toDataURL()};QW.prototype.N=function(){rm.prototype.N.call(this);this.oR.N();this.Ix.N();this.NH.N();
this.vn.N();this.Ix.t(rT.get([11,7]));this.wq.N();this.CO.N()};QW.prototype.Ha=function(Q){var C=this.oR.K(),j=C.x,Z=C.y;
this.close();var F=new P(t.E.xD,!0);F.data=rH.kS(j,Z,this.oR.vQ$(),this.Ix.K(),["Wht","Trns","BckC"][this.NH.K()]);
this.Z(F);this.vWK()};QW.prototype.vvU=function(Q){var C=Q.data.xa,j=new P(t.E.m,!0);j.data={$:t.i.XV,xa:C};
this.Z(j);this.close();this.vWK()};QW.prototype.vWK=function(){var Q=this.wW[this.wW.length-1],C=this.data.vWd;
if(C)_n.Ms(function(){var j=new XMLHttpRequest,Z="https://www.googleapis.com/drive/v3/files?"+_n.UI();
j.open("POST",Z,!0);j.setRequestHeader("Content-Type","application/json");j.addEventListener("load",function(F){var _=JSON.parse(F.target.response);
Q.mv={file:_,Nw:"psd"};alert(Q.name+" created in Google Drive")});j.send(JSON.stringify({name:Q.name,vEo:[C]}))})};
QW.prototype.Ik=function(Q,C,j,Z){this.wW=j;if(Q!=null&&Q.v!=null){var F=new s(0,0,Q.W,Q.C).QU(Q.v.rect);
this.oR.t(new Wn(F.W,F.C))}this.data=C;this.Bh();this.Ix.Fg();if(t.WN())_$.vVt(this.vvM.bind(this))};
QW.prototype.vvM=function(Q){if(Q=="granted")_$.xv(this,this.vDV.bind(this))};QW.prototype.vDV=function(Q,C){this.oR.t(new Wn(C.W,C.C))};
QW.dc=[{name:"Social",cq:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],cq:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],cq:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],cq:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],cq:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],cq:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",cq:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function vZ(Q,C,j){rm.call(this,C,"sel_"+Q);this.$=Q;var Z=t.e("div","form");this.body.appendChild(Z);
this.Ix=new vf(C,0,255,null,0,!1,!0);Z.appendChild(this.Ix.w);this.Ix.t(1);var F=t.e("span");F.textContent=j;
Z.appendChild(F);t.hQ(Z);this.vml=new vg("Apply at canvas bounds");if(Q!="border")Z.appendChild(this.vml.w);
this.Yi=new rs("OK",!0,null,!0);this.Yi.p("click",this.Ha,this);Z.appendChild(this.Yi.w)}vZ.prototype=new rm;
vZ.prototype.Po=function(Q,C){if(Q==null)return;if(Q.v==null)alert("No selection!");return Q.v!=null};
vZ.prototype.Ha=function(Q){var C=new P(t.E.xD,!0);C.data=G.jT.vvG(this.$,this.Ix.K(),this.vml.K());
C.gA=!0;this.Z(C);this.close()};vZ.prototype.N=function(){rm.prototype.N.call(this);if(this.Ix)this.Ix.N()};
vZ.prototype.Ik=function(Q,C){};function DN(Q,C){rm.call(this,C,Q);this.dc=null;this.ga=t.e("div","form");
this.body.appendChild(this.ga);this.Ix=new $q(C);this.ga.appendChild(this.Ix.w);this.Yi=new rs("OK",!0,null,!0);
this.Yi.p("click",this.Ha,this);this.ga.appendChild(this.Yi.w)}DN.prototype=new rm;DN.prototype.Ha=function(Q){var C=this.Ix.K();
if(this.dc.vmr)this.dc.vmr(C);else{var j=this.dc.vBU,Z=new P(j.T,!0);Z.Y=j.Y;Z.data=j.I;Z.data.O=C;Z.gA=!0;
this.Z(Z)}this.close()};DN.prototype.N=function(){rm.prototype.N.call(this);if(this.Ix)this.Ix.N()};
DN.prototype.Ik=function(Q,C){this.dc=C;this.Ix.t(C.Fc);this.Ix.Fg()};function Dn(){rm.call(this,[1,5],"open_from_url");
this.LN=null;var Q=t.e("div","form");this.body.appendChild(Q);this.rG=new $q("URL",null,22);Q.appendChild(this.rG.w);
this.rG.p(t.E.U,this.Ha,this);t.hQ(Q);this.NU=new vp([21,0],[[21,2],[21,1]]);Q.appendChild(this.NU.w);
this.vn=new rs("OK",!0,null,!0);this.vn.p("click",this.Ha,this);Q.appendChild(this.vn.w)}Dn.prototype=new rm;
Dn.prototype.N=function(){rm.prototype.N.call(this);this.NU.N()};Dn.prototype.Ik=function(Q,C,j){this.rG.Fg();
this.LN=null;if(Q&&j.indexOf(Q)!=-1)this.LN=j.indexOf(Q)};Dn.prototype.Ha=function(Q){var C=new P(t.E.m,!0),j=this.rG.K();
C.data={$:t.i.PJ,Vh:{url:j,DO:!0,LN:this.NU.K()==1?this.LN:null}};this.Z(C);this.close()};function tb(){rm.call(this,[12,79],"preferences");
this.VO=null;var Q=t.e("div","form");this.body.appendChild(Q);this.$K=[new vg([8,2]),new vg([8,4]),new rc([12,80,3],[[12,93,3],[12,80,4]]),new _p([12,80,5],1,100,null,2),new rc(null,e.oD.D_),new rc([12,80,6],e.oD.D_)];
for(var C=0;C<this.$K.length;C++){var j=this.$K[C];Q.appendChild(j.w);if(C!=3)t.hQ(Q);j.p(t.E.U,this.Lp,this)}}tb.prototype=new rm;
tb.prototype.N=function(){rm.prototype.N.call(this);for(var Q=0;Q<this.$K.length;Q++)this.$K[Q].N()};
tb.prototype.Ik=function(Q,C,j){};tb.prototype.VD=function(Q,C){this.VO=Q;this.$K[0].t(Q.ZD.Wi);this.$K[1].t(Q.ZD.RU);
this.$K[2].t(Q.ZD.bM);this.$K[3].t(Q.ZD.mu);this.$K[4].t(Q.ZD.mM);this.$K[5].t(Q.ZD.xc)};tb.prototype.Lp=function(Q){var _j=this.$K,C=JSON.parse(JSON.stringify(this.VO.ZD));
C.Wi=_j[0].K();C.RU=_j[1].K();C.bM=_j[2].K();C.mu=_j[3].K();C.mM=_j[4].K();C.xc=_j[5].K();if(C.mM!=4)C.mu=Math.round(C.mu);
var j=new P(t.E.m,!0);j.data={$:t.i.yN,Vh:rQ.tC,GE:C};this.Z(j)};function Wc(){rm.call(this,[11,8],"saveforweb");
this.vmZ="";this.p("closebtn",function(){this.lK.eh()},this);this.Iu=new Wn(512,512);this.xa=null;this.iU=null;
this.vmn=null;this.VO=null;t._I(this.body,"flexrow");var Q=t.e("div"),C=t.e("div");this.body.appendChild(Q);
this.body.appendChild(C);this.XO=t.e("div","imgcont");Q.appendChild(this.XO);this.lK=new vz;this.lK.b_(this.Iu.x,this.Iu.y);
this.cV=t.e("span");Q.appendChild(this.cV);this.ga=t.e("div","form cell");this.ga.setAttribute("style","width:15em; padding-left:1em;");
C.appendChild(this.ga);this.lR=new rc([12,50],vX.hf());this.ga.appendChild(this.lR.w);this.lR.p(t.E.U,this.iZ,this);
this.oR=new Qj(!1,!0);this.oR.p(t.E.U,this.iZ,this);this.ga.appendChild(this.oR.w);this.Dh=new Kv;this.Dh.p(t.E.U,this.iZ,this);
this.ga.appendChild(this.Dh.w);this.Nn=new rs([1,2],!0,null,!0);this.Nn.p("click",this.Ha,this);this.ga.appendChild(this.Nn.w)}Wc.prototype=new rm;
Wc.prototype.Po=function(Q,C){return Q!=null};Wc.prototype.N=function(){rm.prototype.N.call(this);this.oR.N();
this.lR.N();this.Dh.N();this.Nn.N()};Wc.prototype.Ha=function(Q){var C=this.xa.name.split(".")[0],j=vX.hf()[this.lR.K()],Z=this.iU,F=C+"."+j.toLowerCase(),_=this.xa,$=_.Dl;
if($.length!=0&&(j=="JPG"||j=="PNG"||j=="GIF")&&this.Dh.K().pop()){var L="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",D=[],d={},o=new s(0,0,_.W,_.C),v=_.ln();
for(var f=0;f<$.length;f++)D.push(G.bC.QY($,f));D.reverse();var U=e.rect.Da([0,0,_.W,_.C],D);for(var f=0;
f<U.length;f++){var H=U[f],B=new s(H[0],H[1],H[2]-H[0],H[3]-H[1]),m=H.length==5?$[H[4]].v:null,Y=e.Q(B.P()*4);
e.tW(v,o,Y,B);var q="img/img"+(f+1)+"."+j.toLowerCase();d[q]=new Uint8Array(vX[j].pU([[Y.buffer,0]],B.W,B.C,this.Dh.K()));
L+="<div style=\"background-image:url('"+q+"'); left:"+B.x+"px; top:"+B.y+"px; width:"+B.W+"px; height:"+B.C+"px\">";
if(m&&m.url.v!="")L+="\n\t<a href=\""+m.url.v+"\" target=\""+m.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
L+="</div>\n"}L+="</body>\n</html>\n";var r=e.Q(Math.round(L.length*1.5)),x=c.GX(L,r,0);d["index.html"]=r.slice(0,x);
Z=UZIP.encode(d);F=C+".zip"}var a=new P(t.E.m,!0);a.data={$:t.i.zb,data:Z,name:F};this.Z(a);this.lK.eh();
this.close()};Wc.prototype.Ik=function(Q,C){if(C.Hp!=null)this.lR.t(C.Hp);this.xa=Q;var j=Q.W+","+Q.C;
if(j!=this.vmZ){this.vmZ=j;this.oR.t(new Wn(Q.W,Q.C))}this.Dh.vBo();this.iZ(null,!0)};Wc.prototype.eD=function(Q,C){return new Wn(Math.max(0,Math.min(150,(Q-770)/2)),Math.max(0,Math.min(150,(C-590)/2)))};
Wc.prototype.b_=function(Q,C){this.fA=Q;this.NE=C;this.Iu.x=Math.min(512,Q-26-214);this.Iu.y=Math.min(512,C-45);
if(this.xa==null)return;var j=this.oR.K(),Q=j.x,C=j.y,Z=vX.hf()[this.lR.K()],F=vX[Z],v="<span style=\"width:",f="display:inline-block; text-align:right;\">";
if(F.xG){var _=Q,$=C,L;if(Z=="PDF"||F.o$){_=this.Iu.x;$=this.Iu.y}else{_=Math.min(Q+20,this.Iu.x);$=Math.min(C+20,this.Iu.y)}this.XO.firstChild.setAttribute("style","display:block; width:"+_+"px; height:"+$+"px;")}else{if(F.o$){_=this.Iu.x;
$=this.Iu.y}else{var D=this.vmn,d=D[0].Rm,_=d.W,$=d.C;this.lK.b_(Math.max(50,Math.min(_/t.s(),this.Iu.x)),Math.max(50,Math.min($/t.s(),this.Iu.y)))}}var o=this.iU.byteLength,U=Z+":"+v+64+"px;"+f+Wc._W(o)+"</span>";
if(this.Iu.x>200)U+=v+90+"px; opacity:"+.5+";"+f+o.toLocaleString()+" B</span>";this.cV.innerHTML=U};
Wc._W=function(Q){var C=0;while(Q>>>C+10!=0)C+=10;var j=(Q/(1<<C)).toFixed(1),Z=["B","KB","MB","GB"][Math.floor(C/10)];
return j+" "+Z};Wc.prototype.VD=function(Q,C){this.VO=Q};Wc.prototype.iZ=function(Q,C){var j=this.oR.K(),Z=j.x,F=j.y,_=this.lR.K(),$=vX.hf()[_],L=vX.Uf(this.xa)[0].length,D=["GIF","PNG","WEBP"].indexOf($)!=-1&&L>1,f="";
if(D&&C&&(L>4&&Z*F>1024*1024||Z*F*L>800*800*50)){var d=1;while(Math.max(Z>>>d,F>>>d)>800)d++;var o=window.confirm("Your animation is large ("+Z+" x "+F+" px). Press \"OK\" to scale it to "+(100>>>d)+"%. Press \"Cancel\" to keep the size.");
if(o){this.oR.t(new Wn(Z>>>d,F>>>d));Z=Z>>>d;F=F>>>d}}this.Dh.vuQ($,D,this.xa.Dl.length!=0);var v=this.Dh.K();
this.iU=vX.TZ(this.xa,$,Z,F,v,this.VO);if(this.iU==null){this.xa=null;return}t.pi(this.XO);this.lK.eh();
var U=vX[$];if(U.o$){this.XO.innerHTML="<div></div>";f+="width:0px"}else if(U.xG){var H=Z,B=F,m;if($=="PDF"){m=URL.createObjectURL(new Blob([this.iU],{type:"application/pdf"}))}else{m=URL.createObjectURL(new Blob([this.iU],{type:"image/svg+xml"}))}this.XO.innerHTML="<iframe src=\""+m+"\"></iframe>"}else{var Y=this.vmn=U.aJ(this.iU),q=Y[0].Rm,H=q.W,B=q.C;
this.lK.t(Y,Y.length>1?v[v.length-2]:0);this.XO.appendChild(this.lK.w);f="background: rgba(0,0,0,0);"}this.XO.setAttribute("style","display:block; background-size:"+16/t.s()+"px;"+f);
this.b_(this.fA,this.NE)};function vc(){rm.call(this,[11,13],"shortcuts");var Q=this.bY=t.e("div","scrollable");
Q.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(Q);
this.vWf()}vc.prototype=new rm;vc.prototype.N=function(){rm.prototype.N.call(this);this.vWf()};vc.prototype.vWf=function(){var Q="<div style=\"column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",C="";
C+="<h2 style=\"margin-top:0;\">Main Menu</h2>";C+=Q;C+=this.qB([[0,0],"---",[1,0],"Ctrl + O",[1,2],"Ctrl + S",[1,3],"Shift+Ctrl + S",[1,8],"Alt+Shift+Ctrl + S",[0,1],"---",[2,0],"Shift + Ctrl + Z",[2,1],"Ctrl + Z",[5,0],"Ctrl + X",[5,1],"Ctrl + C",[5,2],"Ctrl + V",[2,2],"Delete",[2,3],"Alt + Backspace",[10,16],"Alt + Ctrl + T",[12,79],"Ctrl + K",[3],"---",[4,1],"Ctrl + L",[4,2],"Ctrl + M",[4,5],"Ctrl + U",[4,11],"Ctrl + I",[0,3],"---",[6,0],"Ctrl + J",[6,6,0],"Alt + Ctrl + G",[6,9],"Ctrl + G",[6,10],"Ctrl + E",[0,5],"---",[7,0],"Ctrl + A",[7,1],"Ctrl + D",[7,2],"Shift+Ctrl + I",[0,7],"---",[8,0],"Ctrl + +",[8,1],"Ctrl + -",[8,3],"Ctrl + R",[8,2],"Ctrl + ;",[8,4],"Ctrl + '",[11,13],"?"]);
C+="</div>";C+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";C+=Q;C+=this.qB("Vertical scroll,Wheel,Horizontal scroll,Ctrl + Wheel,Zooming,Alt + Wheel".split(","));
C+="</div>";C+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
C+=Q;C+=this.qB([[10,11],"Ctrl",[10,7],"Spacebar",[10,17],"Ctrl + Spacebar"]);C+="</div>";C+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
C+=Q;var j=[];for(var Z=0;Z<vc.Bq.length;Z+=3)j.push(vc.Bq[Z],vc.Bq[Z+1]);C+=this.qB(j);C+=this.qB(["abc",null,[24,16],"---",[22,7,1],"D",[22,7,0],"X","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}"]);
C+="</div>";this.bY.innerHTML=C};vc.prototype.qB=function(Q){var C="",j=!0;for(var Z=0;Z<Q.length;Z+=2){var F=Q[Z],_=Q[Z+1];
if(_==null){j=!1;continue}var $=t.vTe(rT.get(F));if(_=="---"){if(!j)C+="<br/>";C+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+$+"</div>"}else C+="<div>"+$+" <span style=\"float:right; font-weight:bold;\">"+_+"</span> </div>";
j=!1}return C};vc.Bq=[[10,11],"V",0,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function $$(){rm.call(this,[8,11,1],"soptions");this.ci=null;var Q=t.e("div","form");Q.style.width="20em";
this.body.appendChild(Q);this.rP={Nm:[12,48],url:"URL",null:[12,71]};this.$K={};for(var C in this.rP){var j=new $q(this.rP[C],null,15);
this.$K[C]=j;Q.appendChild(j.w)}var Z=new rs("OK",!0,null,!0);Z.p("click",this.Ha,this);Q.appendChild(Z.w)}$$.prototype=new rm;
$$.prototype.Ik=function(Q,C,j){var Z=C.O;this.ci=JSON.stringify(Z);for(var F in this.rP){if(Z[F])this.$K[F].t(Z[F].v)}};
$$.prototype.Ha=function(Q){var C=JSON.parse(this.ci);for(var j in this.rP){var Z=this.$K[j].K();C[j]={t:"TEXT",v:Z}}var F=new P(t.E.a,!0);
F.Y=G.CD;F.data=C;F.gA=!0;this.Z(F);this.close()};function vP(){rm.call(this,[2,3],"fill");this.VO=null;
this.gc=null;var Q=t.e("div","form padded");Q.style.width="22em";this.body.appendChild(Q);this.xF="FrgC BckC Clr Blck Gry Wht contentAware".split(" ");
this.IG=new rc([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3]]);this.IG.p(t.E.U,this.vDT,this);
Q.appendChild(this.IG.w);this.XO=t.e("span");Q.appendChild(this.XO);this.Ez=new vy;this.Ez.parent=this;
this.Ez.fN(0);this.w$=new rc([12,19,0],rP.yg,!1,rP.pP);Q.appendChild(this.w$.w);this.re=new _p([12,0],0,100,"%",0,!1);
this.re.t(100);Q.appendChild(this.re.w);this.vn=new rs("OK",!0,null,!0);this.vn.p("click",this.Ha,this);
this.body.appendChild(this.vn.w)}vP.prototype=new rm;vP.prototype.Po=function(Q,C){return Q!=null};vP.prototype.cX=function(){return!0};
vP.prototype.vDT=function(){var Q=this.IG.K()==2,C=this.Ez.w,j=this.XO;if(Q)j.appendChild(C);else if(j.contains(C))j.removeChild(C)};
vP.prototype.N=function(){rm.prototype.N.call(this);this.IG.N();this.w$.N();this.re.N()};vP.prototype.Ha=function(Q){if(!this.gc.TE())return;
var C=new P(t.E.xD,!0),j=this.IG.K();C.data=G.WR.Jh(this.xF[j],rP.Cg[this.w$.K()],this.re.K()/100,this.Ez.K());
this.close();this.Z(C)};vP.prototype.Ik=function(Q,C){this.gc=Q};vP.prototype.VD=function(Q,C){this.VO=Q};
function vh(){rm.call(this,[14,9],"stroke");this.VO=null;this.ga=t.e("div","form");this.ga.setAttribute("style","width:24em");
this.body.appendChild(this.ga);this.xn=new $E("FrFX",!0);this.xn.parent=this;var Q=["Sz","Styl","Md","Opct"].concat(WM.rE);
for(var C=0;C<Q.length;C++){var j=this.xn.Ic[Q[C]].w;this.ga.appendChild(j)}this.vyi=!1;this.vn=new rs("OK",!0,null,!0);
this.vn.p("click",this.Ha,this);this.body.appendChild(this.vn.w)}vh.prototype=new rm;vh.prototype.Po=function(Q,C){return Q!=null};
vh.prototype.cX=function(){return!0};vh.prototype.N=function(){rm.prototype.N.call(this);this.xn.N()};
vh.prototype.Ha=function(Q){var C=new P(t.E.a,!0);C.Y=G.rx;C.data={$:"stroke",vBc:this.xn.K()};this.close();
this.Z(C)};vh.prototype.Ik=function(Q,C){if(!this.vyi){var j=WM.oy[WM.order.indexOf("FrFX")];j=JSON.parse(j);
this.xn.update(Q,j);this.vyi=!0}var j=this.xn.K(),Z=this.VO.pd;j.Clr.v=e.q.mx({h:Z>>16&255,J:Z>>8&255,_:Z&255});
this.xn.update(Q,j)};vh.prototype.VD=function(Q,C){this.VO=Q};function Dt(){rm.call(this,[11,9],"textwarp");
this.$K=new DO;this.$K.p(t.E.U,this.IK,this);this.$K.parent=this;this.ga=t.e("div","form");this.ga.setAttribute("style","width:20em");
this.body.appendChild(this.ga);this.ga.appendChild(this.$K.LO.w);this.ga.appendChild(this.$K.zS.w);this.ga.appendChild(this.$K.LQ.w);
this.ga.appendChild(this.$K.Lt.w);this.ga.appendChild(this.$K.Lg.w);this.vn=new rs("OK",!0,null,!0);
this.vn.p("click",this.Ha,this);this.ga.appendChild(this.vn.w);this.p("closebtn",this.rT,this)}Dt.prototype=new rm;
Dt.prototype.cX=function(){return!0};Dt.prototype.N=function(){rm.prototype.N.call(this);this.$K.N()};
Dt.prototype.IK=function(Q){var C=this.$K.K();this.Bo({$:"warp",$k:C})};Dt.prototype.Bo=function(Q){var C=new P(t.E.a,!0);
C.Y=G.Jl;C.data=Q;C.gA=!0;this.Z(C)};Dt.prototype.rT=function(Q){this.Bo({$:"warpCancel"})};Dt.prototype.Ha=function(Q){this.Bo({$:"warpConfirm"});
this.close()};Dt.prototype.Ik=function(Q,C){var j=Q.k[Q.H[0]];this.$K.t(j.add.TySh.dP)};function WP(){rm.call(this,"Raw Photopea","rawpea");
this.Bv=null;this.gH=null;this.wr=null;this.vd_=0;this.C_=null;this.wD=null;this.vyg=500;this.vyJ=500;
this.p("closebtn",this.wi,this);t._I(this.body,"flexrow");var Q=t.e("div"),C=t.e("div"),F="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
C.setAttribute("style","padding-left: 1em");this.body.appendChild(Q);this.body.appendChild(C);this.bn=t.e("canvas");
Q.appendChild(this.bn);this.sC=new Dm(225);this.sC.xb(4);C.appendChild(this.sC.w);this.ga=t.e("div");
this.ga.setAttribute("style","width:18em;");C.appendChild(this.ga);this.vyI=new $C("Hi",!0);this.ga.appendChild(this.vyI.w);
this.bb=[new rX("Temperature",2e3,13e3),new rX("Tint",-150,150),new rX([4,3],-4,4,null,!0),new rX([12,3,0],-100,100)];
for(var j=0;j<this.bb.length;j++){var Z=this.bb[j];Z.t(0);Z.p(t.E.U,this.MT,this);this.ga.appendChild(Z.w);
if(j==1)this.ga.appendChild(t.e("hr"))}this.vn=new rs([1,0],!0,null,!0);this.vn.p("click",this.Ha,this);
this.ga.appendChild(this.vn.w);this.wj=new rs(F+" JPG",!0,null,!0);this.wj.p("click",this.vDF,this);
this.ga.appendChild(this.wj.w);this.wj.w.style.marginTop="6px"}WP.prototype=new rm;WP.prototype.tD=function(){return!0};
WP.prototype.eD=function(){return new Wn(0,0)};WP.prototype.b_=function(Q,C){this.vyg=Q-274;this.vyJ=C-32;
if(this.Bv)this.vrw()};WP.prototype.N=function(){rm.prototype.N.call(this);this.vn.N();for(var Q=0;Q<this.bb.length;
Q++)this.bb[Q].N()};WP.prototype.vDF=function(Q){var C=this.Bv,j=this.gH,Z=e.Q(C.width*C.height*4);e.kM(Z,4294967295);
e.raw.zz(j,Z,C,this.xT());var F=vX.JPG.pU([[Z.buffer]],j.Ql,j.QE,[85]),_=new P(t.E.m,!0);_.data={$:t.i.zb,data:F,name:"photo.jpg"};
this.Z(_)};WP.prototype.Ha=function(Q){var C=this.Bv,j=this.gH,Z=e.Q(C.width*C.height*4);e.kM(Z,4294967295);
e.raw.zz(j,Z,C,this.xT());var F=$X.yr(C),C={Rm:new s(0,0,j.Ql,j.QE),data:Z.buffer,vh:F},_=_$.iE("Raw Photo",[C]),$=new P(t.E.m,!0);
$.data={$:t.i.XV,xa:_};this.Z($);this.wi();this.close()};WP.prototype.wi=function(){this.Bv=null;this.gH=null;
this.C_=null;this.wD=null};WP.prototype.Ik=function(Q,C,j,Z){this.Bv=C.WV;this.gH=e.raw.vDS(this.Bv);
var F=this.gH;this.vyI.t(F.Ql+" x "+F.QE+", "+(F.Ql*F.QE/1e6).toFixed(1)+" MPx");var _=e.raw.vWb(C.WV);
this.wr=DA.QN(_);this.bb[0].t(this.wr.ZJ);this.bb[1].t(this.wr.NC);for(var $=2;$<this.bb.length;$++)this.bb[$].t(0);
this.vrw()};WP.prototype.VD=function(Q,C){this.sC.fN(D_.dF[Q.Fz]["--text-color"])};WP.prototype.vrw=function(){var Q=this.gH,C=Q.Ql,j=Q.QE,Z=1;
while(C/Z>this.vyg*t.s()||j/Z>this.vyJ*t.s())Z++;var F=Math.floor(C/Z),_=Math.floor(j/Z);this.C_={Dg:new Float32Array(F*_*3),Ql:F,QE:_};
var $=this.bn.getContext("2d");this.wD=$.createImageData(F,_);e.kM(this.wD.data,4294967295);var L=1/(Z*Z);
for(var D=0;D<_;D++)for(var d=0;d<F;d++){var o=0,v=0,f=0,U=(d+1)*Z,H=(D+1)*Z;for(var B=D*Z;B<H;B++)for(var m=d*Z;
m<U;m++){var Y=(B*C+m)*3;o+=this.gH.Dg[Y];v+=this.gH.Dg[Y+1];f+=this.gH.Dg[Y+2]}var q=(D*F+d)*3;this.C_.Dg[q]=o*L;
this.C_.Dg[q+1]=v*L;this.C_.Dg[q+2]=f*L}this.MT()};WP.prototype.MT=function(){var Q=this.Bv,C=this.C_.Ql,j=this.C_.QE,Z=C*j,F=this.bn,_=F.getContext("2d");
F.width=C;F.height=j;t.GI(F,C,j);e.raw.zz(this.C_,new Uint8Array(this.wD.data.buffer),Q,this.xT());_.putImageData(this.wD,0,0);
var $=e.uH(this.wD.data);for(var L=0;L<4;L++)for(var D=1;D<256;D++)if($[L][D]==0)$[L][D]=$[L][D-1];for(var L=0;
L<4;L++)for(var D=1;D<256;D++)if($[L][D]==0)$[L][D]=$[L][D-1];this.sC.t($)};WP.prototype.xT=function(){var Q=[];
for(var C=0;C<this.bb.length;C++)Q.push(this.bb[C].K());return Q};function _e(){rm.call(this,[11,11],"vbitmap");
this.dc=null;this.rH=null;this.wz=null;this.rN=null;this.i_=null;this.yS=this.hx.bind(this);this.ga=t.e("div","form hbar");
this.body.appendChild(this.ga);this.sL=new _p([12,82],2,50,null);this.sL.p(t.E.U,this.hx,this);this.ga.appendChild(this.sL.w);
this.Er="";this.sZ=new vg([12,81]);this.sZ.p(t.E.U,this.hx,this);this.ga.appendChild(this.sZ.w);this.sG=new vg("Segmentize");
this.sG.p(t.E.U,this.hx,this);this.ga.appendChild(this.sG.w);this.vn=new rs("OK",!1,null,!0);this.vn.p("click",this.Ha,this);
this.ga.appendChild(this.vn.w);var Q=t.e("div","flexrow"),C=16;this.body.appendChild(Q);this.lg=new vz;
this.lg.p("viewchange",this.vrA,this);this.Ev=t.e("canvas");this.Ev.setAttribute("style","margin-left: 1px; cursor:grab;");
this.zf=this.Ev.getContext("2d");var j=e.Q(16*16*4);e.Mm(j,C,C,8,0,0);this.wg=e.scale.eM(j,C,C);this.lg.vzR(this.Ev);
Q.appendChild(this.lg.w);Q.appendChild(this.Ev)}_e.prototype=new rm;_e.prototype.tD=function(){return!0};
_e.prototype.eD=function(){return new Wn(0,0)};_e.prototype.cX=function(){return!0};_e.prototype.b_=function(Q,C){C=C-26-30;
Q=Math.floor((Q-28)/2);t.lZ(this.Ev,Q,C);this.lg.b_(Q,C)};_e.prototype.ZZ=function(Q,C,j,Z){this.lg.ZZ(Z)};
_e.prototype.N=function(){rm.prototype.N.call(this);this.sL.N();this.sZ.N();this.sG.N();this.vn.N()};
_e.prototype.Ik=function(Q,C){this.i_=Q;var j=Q.k[Q.H[0]],Z=e.xJ.jP(j.buffer.buffer,j.rect.W,j.rect.C).vEj,F=Z/((j.rect.W-2)*(j.rect.C-2));
this.sZ.t(F<.75);this.sG.t(F<.75);var _=j.rect.clone();_.x=_.y=0;this.dc={Rm:_,data:j.buffer.buffer.slice(0)};
this.rH=null;this.lg.t([this.dc]);this.sL.t(20);setTimeout(this.yS,20)};_e.prototype.hx=function(){var Q=!0,C=Date.now(),j=this.dc,Z=this.sZ.K(),F=this.sG.K(),_=Z||F,$=Z+","+F;
if(_&&(this.rH==null||this.Er!=$)){this.Er=$;console.log("recomputing");var L=new Uint8Array(j.data.slice(0)),D=15,d=35,o=j.Rm.W,v=j.Rm.C;
if(Z){vr.XX(L,L,o,v,D,e.qq.MW,[d],2)}if(Q){console.log("denoise",Date.now()-C);C=Date.now()}if(F){var f=e.xJ.zL(L,o,v),U=f.IA,H=new Uint8Array(U*4);
for(var B=0;B<U;B++){var m=B*4,Y=B*6,q=1/f.gQ[Y+5];H[m]=f.gQ[Y]*q;H[m+1]=f.gQ[Y+1]*q;H[m+2]=f.gQ[Y+2]*q}for(var B=0;
B<L.length;B+=4){var r=f.qM[B>>>2]*4;L[B]=H[r];L[B+1]=H[r+1];L[B+2]=H[r+2]}}this.rH={Rm:j.Rm.clone(),data:L.buffer};
if(Q){console.log("segm",Date.now()-C);C=Date.now()}}if(_)j=this.rH;var L=new Uint8Array(j.data),o=j.Rm.W,v=j.Rm.C;
for(var B=0;B<L.length;B+=4){if(L[B+3]<10)L[B]=L[B+1]=L[B+2]=L[B+3]=0}var x=e.xJ.vqk(L,o,v,this.sL.K(),_?.1:2e-4);
if(Q){console.log("doclipart",Date.now()-C);C=Date.now()}var a=x.qM.slice(0);for(var B=0;B<a.length;
B++)a[B]++;var i=new Uint8Array((o+2)*(v+2));e.pQ(a,new s(1,1,o,v),i,new s(0,0,o+2,v+2));var l=Math.round((o+2)*(v+2)/1e4),M=tI.zJ(i,o+2,v+2,Math.min(12,l)),z=tI.Uh(M),V=new rI(1,0,0,1,-1,-1);
for(var B=0;B<z.length;B++)e.g.M(z[B].path.b,V,z[B].path.b);this.rN=z;this.wz=x;if(Q){console.log("trace",Date.now()-C);
C=Date.now()}for(var B=0;B<z.length;B++){var X=z[B];for(var O=B+1;O<z.length;O++){var y=z[O];if(x.EI[y.color-1].est.q[3]>.05||y.parent!=B)continue;
var K=y.path.u.slice(1);K.reverse();K=["M"].concat(K);var R=[],M=y.path.b.length;for(var W=0;W<M;W+=2){R[W]=y.path.b[M-2-W];
R[W+1]=y.path.b[M-2-W+1]}e.g.concat(X.path,{b:R,u:K})}}for(var B=0;B<z.length;B++){var X=z[B],N=x.EI[X.color-1].est.q;
if(N[3]<=.05){z.splice(B,1);B--;continue}}for(var B=1;B<z.length;B++){var I=z[B-1],X=z[B];if(I.color==X.color){e.g.concat(I.path,X.path);
z.splice(B,1);B--;continue}}this.vrA()};_e.prototype.vrA=function(Q){if(this.rN==null)return;var C=this.dc.Rm.W,j=this.dc.Rm.C,Z=this.rN,F=this.wz.EI,_=this.zf,$=this.lg.eX();
_.setTransform(1,0,0,1,0,0);_.clearRect(0,0,_.canvas.width,_.canvas.height);_.translate(_.canvas.width/2,_.canvas.height/2);
_.scale($.l,$.l);_.translate($.f.x/$.l-C/2,$.f.y/$.l-j/2);_.scale(1/$.l,1/$.l);_.fillStyle=this.wg;_.fillRect(0,0,C*$.l,j*$.l);
_.scale($.l,$.l);var L=[];for(var D=0;D<F.length;D++){var d=F[D].est.q;L.push({h:Math.round(255*d[0]),J:Math.round(255*d[1]),_:Math.round(255*d[2]),om:Math.round(255*d[3])})}for(var D=0;
D<Z.length;D++){var o=Z[D],d=L[o.color-1];if(d.om==0)continue;_.fillStyle="rgba("+d.h+","+d.J+","+d._+","+d.om/255+")";
_.beginPath();Typr.U.pathToContext({crds:o.path.b,cmds:o.path.u},_);_.fill()}};_e.prototype.Ha=function(Q){var C=this.rN,j=C.length==1,Z=this.i_,F=Z.H[0],_=Z.k[F],$=Z.k.slice(0,F);
if(!j)$.push(Z.fi());for(var L=0;L<C.length;L++){var D=C[L],d=this.wz.EI[D.color-1].est.q;e.g.M(D.path.b,new rI(1,0,0,1,_.rect.x,_.rect.y),D.path.b);
var o=Z.qg();o.sp("Path "+L);$.push(o);o.opacity=Math.round(d[3]*255);o.xz|=16;o.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.q.mx({h:255*d[0],J:255*d[1],_:255*d[2]})}};
o.add.vmsk=new S.jH;o.add.vstk=JSON.parse(JSON.stringify(WM.oj.default));o.add.vmsk.G=e.g.er(D.path,!1);
o.add.vogk=[];o.WU();o.Ea(Z)}var v=$[$.length-1];if(!j){var o=Z.qg();o.sp(_.getName());o.add.lsct=_K.gh;
o.gd="pass";o.xz=24;$.push(o);v=o}var f=_.add.lmfx;if(f)v.add.lmfx=JSON.parse(JSON.stringify(f));for(var L=F+1;
L<Z.k.length;L++)$.push(Z.k[L]);var U=new P(t.E.a,!0);U.gA=!0;U.Y=G.tP;U.data={$:S.P_,ba:$,aB:[F+C.length+(j?-1:1)],vA:[11,11]};
this.Z(U);this.close()};function vq(Q){rm.call(this,[[7,11],"Magic Cut"][Q],["redge","magiccut"][Q]);
this.Mh=Q;this.dc={};this.Ki=null;this.El=null;this.i_=null;this.sP=null;this.DU=null;this.qc=[];this.R$=-1;
this.ga=t.e("div","form hbar");this.body.appendChild(this.ga);this.cl=new $Q;this.cl.parent=this;this.cl.p(t.E.U,this.$m,this);
this.ga.appendChild(this.cl.w);var C=Q==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"],j=Q==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.wV=new to(null,C,j,28);this.ga.appendChild(this.wV.w);this.VC=new vf([7,9],0,50,null);this.VC.parent=this;
this.VC.p(t.E.U,[this.v_B,this.hx][Q],this);this.ga.appendChild(this.VC.w);var Z=this.vWX=new rs([2,2],!1,null,!0);
Z.p("click",this.wi,this);this.ga.appendChild(Z.w);var F=this.vWh=new rs([12,90],!1,null,!0);F.p("click",function(L){alert(Q==0?rT.get([15,7,1]):"Mark the object with Green, background with Red.",5e3)},this);
this.ga.appendChild(F.w);var _=t.e("span","form");this.ga.appendChild(_);_.setAttribute("style","position:absolute;  right:0px");
this._O=new to([12,46],["checker","white","black"]);this._O.p(t.E.U,this.vQY,this);_.appendChild(this._O.w);
this.wk=new rc(null,[[6,13],[6,2],[17,2]]);_.appendChild(this.wk.w);this.vn=new rs("OK",!1,null,!0);
this.vn.p("click",this.Ha,this);_.appendChild(this.vn.w);var $=t.e("div","flexrow");this.body.appendChild($);
this.Tt=new vz(!0);this.Au=new vz;this.Tt.Xw(this.Au);this.Au.Xw(this.Tt);this.Tt.p("mousedown",this.GF,this);
this.Tt.p("mousemove",this.LC,this);this.Tt.p("mouseup",this.CB,this);this.Tt.p("zoom",this.$m,this);
this.Au.p("zoom",this.$m,this);$.appendChild(this.Tt.w);$.appendChild(this.Au.w)}vq.prototype=new rm;
vq.prototype.Po=function(Q,C){var j=Q!=null&&!Q.k[Q.H[0]].rect.jJ();if(!j)alert("The layer is empty.");
return j};vq.prototype.tD=function(){return!0};vq.prototype.eD=function(){return new Wn(0,0)};vq.prototype.cX=function(){return!0};
vq.prototype.b_=function(Q,C){C=C-26-33;Q=Math.floor((Q-28)/2);this.Tt.b_(Q,C);this.Au.b_(Q,C)};vq.prototype.N=function(){rm.prototype.N.call(this);
this.cl.N();this.VC.N();this.vn.N();this._O.N();this.wk.N();this.vWX.N();this.vWh.N()};vq.prototype.VD=function(Q,C){this.El=Q;
if(C==rQ.LX||C==rQ.yY){this.cl.Ip(Q.yD);this.cl.t(Dq.jK(),Q.yD._G,Q.yD.vf)}};vq.prototype.ZZ=function(Q,C,j,Z){this.sP=Z;
var F=G.WR.lI(this.cl.K(),Z);if(F!=null){this.cl.t(F);this.$m()}else if(Z.r(b.XE)&&Z.r(b.fd)){var _=this.qc,$=0;
if(Z.r(b.WO)){if(this.R$+1<_.length)$=1}else if(this.R$>0)$=-1;if($!=0){this.R$+=$;var L=this.R$,D=this.dc;
if($==1)e.tW(_[L][2],_[L][0],D.df,D.rect);else e.tW(_[L+1][1],_[L+1][0],D.df,D.rect);D.sw=D.rect;this.hx()}}else this.Tt.ZZ(Z)};
vq.prototype.Lb=function(Q){var C=this.dc,j=this.qc,Z=e.Q(Q.P()*4);e.tW(C._$,C.rect,Z,Q);C._$=null;var F=e.Q(Q.P()*4);
e.tW(C.df,C.rect,F,Q);this.R$++;j[this.R$]=[Q.clone(),Z,F];while(j.length>this.R$+1)j.pop();while(j.length>50){j=j.slice(1);
this.R$--}};vq.prototype.$m=function(){var Q=this.El,C=rh.kH(this.cl.K(),Q.yD._G,this.Tt.eX().l);this.Tt.zc(C)};
vq.prototype.GF=function(Q){var C=this.El,j=this.dc,Z=this.sP,F=this.cl.K(),_=this.Tt.zo(),$=[16777215,8421504,0][this.wV.K()];
this.Ki=new rh(F,C.yD.list[0]._G,C.yD.list[0].vf,{_v:1,cf:!0},$,C.JD,j.rect);j._$=j.df.slice(0);if(Z!=null&&Z.r(b.WO)&&this.DU){this.Ki.moveTo(this.DU.x,this.DU.y);
this.Ki.lineTo(_.x,_.y)}else this.Ki.moveTo(_.x,_.y);this.v_d()};vq.prototype.LC=function(Q){var C=this.dc,j=this.Tt.zo();
this.Ki.lineTo(j.x,j.y);this.v_d()};vq.prototype.CB=function(Q){this.DU=this.Tt.zo();this.Lb(this.Ki.mn());
this.hx()};vq.prototype.v_d=function(){var Q=this.dc,C=this.Ki,j=C.kC();if(j.jJ())return;Q.sw=j;e.B.hW("norm",C.WE(),C.ET(),Q.df,Q.rect,j,1);
this.v_M()};vq.prototype.wi=function(Q){var C=this.dc;C._$=C.df.slice(0);C.sw=C.rect;e.kM(C.df,[4278190080,4292730333][this.Mh]);
this.Lb(C.rect);this.hx()};vq.prototype.Ik=function(Q,C){this.i_=Q;var j=Q.k[Q.H[0]],Z=j.rect.clone(),F=Z.W,_=Z.C;
this.VC.t(this.Mh==0?3:F*_<3e6?3:0);this.wV.t(Q.v==null?0:1);this.VC.IO();if(this.Mh==0&&Q.v!=null||this.Mh==1)this.VC.Ii();
var $=this.Mh,L=e.Q(Z.P()),D=new Float32Array(Z.P());if($==0&&Q.v){e.pQ(Q.v.channel,Q.v.rect,L,Z);var d=e.Q(Z.P());
for(var o=0;o<_;o++)for(var v=0;v<F;v++){var f=o*F+v,U=L[f];if(v>0&&L[f-1]!=U||v<F-1&&L[f+1]!=U||o>0&&L[f-F]!=U||o<_-1&&L[f+F]!=U)d[f]=255}e.style.II(d,D,F,_)}else D.fill(1e9);
Z.x=Z.y=0;this.dc={rect:Z,Dg:j.buffer,pq:L,as:D,QX:e.Q(Z.P()*4),FG:e.Q(Z.P()*4),df:e.Q(Z.P()*4),_$:null,Ak:null,sw:Z,vyy:{}};
if($==0)this.v_B();else{this.dc.vyy=G.ge.vRa(Q);var H=this.dc.df;e.kM(H,4287137928);var B=e.Dk.getSelection(j.buffer,F,_),m=Math.round(F/60),Y=Math.round(.7*_);
for(var o=0;o<_;o++)for(var v=0;v<F;v++){var q=(o*F+v)*4,r=B[q>>>2];r=r>128?255:128;if(o<m||o<Y&&(v<m||v>F-1-m))r=0;
H[q]=H[q+1]=H[q+2]=r}this.hx()}this.qc=[1];this.R$=0;this.Tt.vae();var x=this.cl.K();x.Brsh.v.Dmtr.v.val=Math.round(Z.W/($==0?10:20));
this.cl.t(x);this.$m()};vq.prototype.v_B=function(){var Q=this.dc,C=Q.rect.P(),j=this.VC.K(),Z=Q.pq.slice(0);
for(var F=0;F<C;F++)if(Q.as[F]<j)Z[F]=128;e.kM(Q.df,4294967295);e.gG(Z,Q.df,0);e.gG(Z,Q.df,1);e.gG(Z,Q.df,2);
Q.sw=Q.rect;this.hx()};vq.prototype.hx=function(){var Q=this.dc,F,_=0,$=0,L=0;this.v_M();var C=Q.rect,j=e.Q(C.P()),Z=Q.Dg;
e.yq(Q.df,j,0);for(var D=0;D<j.length;D++){var d=j[D];if(d==0)_++;else if(d==255)$++;else L++}if(_*$*L!=0){if(this.Mh==0)F=e.gT.gT(C,Z,j);
else{var o=Date.now(),v=this.dc.vyy;e.W_(j,v.Xi);G.ge.Ym(v,!0);var f=Math.ceil(this.VC.K()/2);if(f==0){F=Z.slice(0);
e.gG(v.v,F,3)}else{var U=v.v.slice(0),H=v.v.slice(0),B=C.W,m=C.C;for(var Y=0;Y<f;Y++){for(var q=1;q<m-1;
q++)for(var r=1;r<B-1;r++){var D=q*C.W+r,x=U[D];if(U[D-B]!=x||U[D-1]!=x||U[D+1]!=x||U[D+B]!=x)H[D]=128;
else H[D]=x}var a=U;U=H;H=a}F=e.gT.gT(C,Z,U,20,!1)}}}else{F=Z.slice(0);e.gG(j,F,3)}if(C.gm(Q.rect))Q.Ak=F;
else e.tW(F,C,Q.Ak,Q.rect);this.vQY()};vq.prototype.v_M=function(Q){var C=this.dc,j=C.sw;e.tW(C.Dg,C.rect,C.QX,C.rect,j,!0);
var Z=C.df;if(this.Mh==1){var F=new Uint32Array(256);F[0]=4278190335;F[255]=4278255360;var _=C.rect.P();
Z=Z.slice(0);var $=new Uint32Array(Z.buffer);for(var L=0;L<_;L+=2){$[L]=F[$[L]&255];$[L+1]=F[$[L+1]&255]}}e.B.hW("norm",Z,C.rect,C.QX,C.rect,j,.3);
this.Tt.t([{Rm:C.rect,data:C.QX.buffer}])};vq.prototype.vQY=function(Q){var C=this.dc;e.kM(C.FG,[0,4294967295,4278190080][this._O.K()]);
e.B.hW("norm",C.Ak,C.rect,C.FG,C.rect,C.rect,1);this.Au.t([{Rm:C.rect,data:C.FG.buffer}])};vq.prototype.Ha=function(Q){var C=this.i_,j=this.dc,Z=this.wk.K(),F=C.k[C.H[0]],_=new P(t.E.a,!0);
_.gA=!0;var $=F.rect.clone();if(Z==0&&F.ow()||Z!=0&&!F.ow()){_.Y=G.tP;_.data={$:S.sh,c:C.H[0]};this.Z(_)}if(C.v!=null){_.Y=G.sT;
_.data={$:"fromAction",cN:G.jT.fU()};this.Z(_)}if(Z==0){var L=C.k.slice(0),D=C.qg();D.sp(F.getName());
L.splice(C.H[0]+1,0,D);D.rect=$;D.buffer=j.Ak;D.X();_.Y=G.tP;_.data={$:S.P_,ba:L,aB:[C.H[0]+1],vA:[7,11]};
this.Z(_)}if(Z==1){var d=F.oH();_.Y=G.tP;_.data={$:S.q$,vxl:!0};this.Z(_);var o=F.oH();o.channel=e.Q($.P());
o.rect=$;o.color=0;o.CZ=!0;e.yq(j.Ak,o.channel,3);if(d){var v=o.uY(d);o.rect=v.rect;o.channel=v.channel;
o.color=v.color}o.Dx();F.Ea()}if(Z==2){var f={rect:$,channel:e.Q($.P())};e.yq(j.Ak,f.channel,3);_.Y=G.sT;
_.data={$:"setsel",v:f,vA:this.Wf};this.Z(_)}this.close()};function DR(){rm.call(this,[1,13],"locstor");
this.VO=null;this.dv=[];var Q=this.body,C=t.e("p");C.textContent="These files are loaded every time you start Photopea.";
Q.appendChild(C);this.vxP=0;this.wJ=t.e("span");Q.appendChild(this.wJ);this.wJ.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
this.qd=new rs([5,4],!1,null,!0);this.qd.p("click",this.v$l,this);Q.appendChild(this.qd.w);this.cw=new QQ(!0);
this.cw.parent=this;this.cw.xb(1);this.cw.p(t.E.U,this.v$i,this);Q.appendChild(this.cw.w);this.cw.w.setAttribute("style","width: 40em; height: 25em")}DR.prototype=new rm;
DR.prototype.N=function(){rm.prototype.N.call(this);this.wJ.textContent=rT.get([13,2])+": "+Wc._W(this.vxP);
this.qd.N()};DR.prototype.VD=function(Q,C){this.VO=Q;if(C==rQ.bj)this.Ik()};DR.prototype.Ik=function(Q,C){var j=this.VO.ct.iA,D=0;
this.dv=[];for(var Z in j)this.dv.push(Z);this.dv.sort(function(v,f){v=v.split(".");f=f.split(".");return v[1]==f[1]?v[0]<f[0]?-1:1:v[1]<f[1]?-1:1});
var F=Math.floor(100*t.s()),_=Math.floor(16*t.s()),$=[],L=[];for(var d=0;d<this.dv.length;d++){var Z=this.dv[d],o=DR.ww(Z,j[Z],F,_);
$.push(o);L.push(Z);D+=j[Z].byteLength}this.cw.fZ($,L,F,_);this.vxP=D;this.N()};DR.prototype.v$i=function(Q){this.cw.rm(this.cw.K())};
DR.prototype.v$l=function(Q){var C=this.cw.K();if(C==-1){alert("Select a file first.");return}this.cw.t(-1);
var j=this.VO.ct.iA;delete j[this.dv[C]];var Z=new P(t.E.m,!0);Z.data={$:t.i.yN,Vh:rQ.bj};this.Z(Z)};
DR.ww=function(Q,C,j,Z){var F=t.e("canvas"),L=0;F.width=j;F.height=Z;var _=F.getContext("2d"),$=Q.split(".").pop().toLowerCase();
for(var D=0;D<$.length;D++)L+=$.charCodeAt(D)*613<<8*D;_.fillStyle="#"+e.vY(L&16777215);_.fillRect(0,0,20,Z);
var d=Math.floor(14*t.s());_.fillStyle="#000000";_.font="bold "+d+"px sans-serif";var o=(Z-d)/2,v=Wc._W(C.byteLength),f=_.measureText(v);
_.fillText(v,j-12-f.width,Z-o);return F.toDataURL()};function $R(Q,C,j){rm.call(this,C,"cwindow");this.vWo=new Wn(j[0],j[1]-33);
this.ga=t.e("div","form");this.ga.setAttribute("style","width:"+(j[2]-j[0])+"px; height:"+(j[3]-j[1])+"px");
this.body.appendChild(this.ga)}$R.prototype=new rm;$R.prototype.eD=function(Q,C){return this.vWo.clone()};
function re(Q,C,j,Z){rJ.call(this);this.name=Q;this.vWG=j;this.Ct=Z;this.Ta=t.e("div","");this.Ta.setAttribute("draggable","true");
this.qA=t.e("div","pbody");this.Fi=new rs("",!1,"");this.Fi.parent=this;this.vvf=t.e("span","cross");
this.tX=t.e("span","label");var F=this.vWq.bind(this);this.Ta.addEventListener("mousedown",this.v$s.bind(this),!1);
this.Ta.addEventListener("contextmenu",F,!1);this.Fi.w.addEventListener("contextmenu",F,!1);this.vvf.addEventListener("mousedown",this.qz.bind(this),!1);
this.Ta.appendChild(this.tX);if(C)this.Ta.appendChild(this.vvf);this.iu=!1;this.wp=new QG([{name:[1,12]}]);
this.wp.p("select",this.qz,this);this.tX.textContent=Q}re.prototype=new rJ;re.prototype.mD=function(){return null};
re.prototype.Hs=function(){return new Wn(0,0)};re.prototype.N=function(){var Q=rT.get(this.name),C=this.fA==0?22:Math.round(2+this.fA/50),j=Q.length>C;
this.tX.textContent=j?Q.slice(0,C-2):Q;if(j)for(var Z=0;Z<2;Z++){var F=t.e("span");F.textContent=Q.charAt(C-2+Z);
F.setAttribute("style","opacity:"+(.6-Z*.4));this.tX.appendChild(F)}var _=Q.split(" "),$=_.length==2?_[0].substring(0,2)+_[1][0]:Q.substring(0,3);
if($.charCodeAt(0)>=11776)$=$.substring(0,1);var L=this.vWG;if(L==null)this.Fi.hE($,Q);else{if(L.indexOf("\"")==-1)this.Fi.hE("<img src=\""+L+"\" alt=\""+Q+"\" height=\"20\" />",Q)}};
re.prototype.enable=function(){this.qA.setAttribute("class","pbody")};re.prototype.disable=function(){this.qA.setAttribute("class","pbody disabled")};
re.prototype.VD=function(Q,C){};re.prototype.Ik=function(Q,C,j){};re.prototype.b_=function(Q,C){};re.prototype.ZI=function(Q){this.name=Q;
this.N()};re.prototype.xp=function(){};re.prototype.v$s=function(Q){if(Q.button==0)this.Z(new P("select",!1))};
re.prototype.vWq=function(Q){t.QZ(Q);if(this.Ct!=null&&isNaN(this.Ct))return;var C=t.Gp(Q,document.body),j=this.wp;
j.update(null);j.N();j.parent=this;var Z=new P(t.E.m,!0);Z.data={$:t.i.Ko,kU:j,x:C.x+1,y:C.y+1};this.Z(Z)};
re.prototype.mb=function(){this.qz({})};re.prototype.qz=function(Q){if(Q.stopPropagation)Q.stopPropagation();
if(this.Ct!=null&&!isNaN(this.Ct)){var C=new P(t.E.m,!0);C.data={$:t.i.zt,kU:this.wp};this.Z(C);C.data={$:t.i.yN,Vh:rQ.XW,O:parseFloat(this.Ct),yZ:"del"};
this.Z(C)}else if(this.vbc())this.Z(new P(t.E.Wu,!1))};re.prototype.vbc=function(Q){return!0};re.prototype.yi=function(Q,C,j,Z,F){};
re.prototype.eF=function(Q,C,j,Z,F){};re.prototype._c=function(Q,C,j,Z,F){};re._r=function(Q,C){if(Q.childElementCount!=0)return;
var j=Q.textContent;this.HM=this.vWg.bind(this);this.vvP=this.vWS.bind(this);this._z=C;this.xW=Q;this.vWe=j;
var Z=t.e("input","");Z.setAttribute("type","text");Z.setAttribute("size","10");Z.setAttribute("value",j);
t.pi(Q);Q.appendChild(Z);Z.select();Z.focus();Q.addEventListener("keyup",this.HM,!1);document.body.addEventListener("mousedown",this.vvP,!1)};
re._r.prototype.vWg=function(Q){var C=b.BM,j=C(Q.code,b.bA);if(C(Q.code,b.Fj)||j)this.vKN(j)};re._r.prototype.vWS=function(Q){var C=Q.target;
if(C.tagName&&C.tagName.toLowerCase()=="input")return;this.vKN(!0)};re._r.prototype.vKN=function(Q){var C=this.xW;
C.removeEventListener("keyup",this.HM);document.body.removeEventListener("mousedown",this.vvP);if(Q){var j=C.firstChild.value;
this._z(j)}else{t.pi(C);C.textContent=this.vWe}};re.Hb={fo:"0",vWs:"1",tP:"2",vWE:"3",vWP:"4",HB:"5",CSS:"6",LX:"7",vWH:"8",vRC:"9",vWN:"10",vrW:"11",vrd:"12",TH:"13",G_:"14",vrm:"15",vrU:"16",Xu:"17",vrn:"18"};
function QX(){re.call(this,[9,9],!1,null,re.Hb.vrW);this.VO=null;this.AJ=[0,0];this.Qi=t.e("div","padded scrollable");
this.Qi.setAttribute("style","width:260px;  height:260px");this.qA.appendChild(this.Qi);this.p(t.E.U,this.aQ,this);
this.ps=t.e("div","lpfoot");this.qA.appendChild(this.ps);this.VP=[];var Q="<svg  class=\"gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\">",C="</svg>",j=Q+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+C,Z=Q+"<path d=\"M0,2 L14,9 L0,16 Z\" />"+C;
this.vDU=Q+"<circle cx=\"7\" cy=\"9\" r=\"6\" />"+C;this.vWw=Q+"<path d=\"M2,4 L12,4 L12,14 L2,14 Z\" />"+C;
var F=[this.vDU,Z,"lrs/folder","lrs/newlayer","lrs/bin",j],_=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var $=0;$<F.length;$++){var L=F[$];if(1<$&&$!=F.length-1)L="<img src=\""+PIMG[F[$]]+"\" class=\"gsicon\" />";
var D=new rs(L,!1,_[$]);D.p("click",this.vzK,this);this.ps.appendChild(D.w);this.VP.push(D)}}QX.prototype=new re("");
QX.prototype.N=function(){re.prototype.N.call(this);for(var Q=0;Q<this.VP.length;Q++)this.VP[Q].N()};
QX.prototype.vzK=function(Q){var C=this.VP.indexOf(Q.currentTarget),j=this.AJ,Z=this.VO,F=Z.lV;if(C==0){var _,$=Z._S;
if(F.length==0){alert("Create an Action Set first.");return}if(j.length<2){alert("Select a target action first.");
return}if($==null){_=this.vWw;$=this.AJ}else{_=this.vDU;$=null}this.VP[0].hE(_);Z._S=$}else if(C==1)this.vrM();
else if(C==2||C==3){var L={vA:"Action Set "+F.length,L:[],exp:!0};if(C==2||F.length==0){j=[F.length];
F.push(L)}if(C==3){var D=F[j[0]].L;j=[j[0],D.length];D.push({vA:"Action "+D.length,color:0,L:[],vrs:!1,shift:!1,exp:!0,BW:D.length})}this.AJ=j;
this.MT()}else if(C==4){var d;if(j.length==1)d=F;else if(j.length==2)d=F[j[0]].L;else d=F[j[0]].L[j[1]].L;
var o=j.length-1;d.splice(j[o],1);if(d.length==0)j.pop();else while(j[o]>=d.length)j[o]--;if(j.length==0)j.push(0);
this.MT()}else if(C==5){if(F.length==0){alert("No Actions Present.");return}var v=new P(t.E.m,!0);v.data={$:t.i.so,vxx:rQ.a,gI:j[0]};
this.Z(v)}};QX.prototype.aQ=function(Q){var C=this.VO.lV,j=Q.data.$,Z=Q.data.fT;if(j=="sel")this.AJ=Z;
if(j=="fold"){if(Z.length==1)C[Z[0]].exp=!C[Z[0]].exp;else C[Z[0]].L[Z[1]].exp=!C[Z[0]].L[Z[1]].exp}if(j=="enab"){var F=C[Z[0]].L[Z[1]].L[Z[2]];
F.F=!F.F}if(j=="nchange"){if(Z.length==1)C[Z[0]].vA=Q.data.Ww;else C[Z[0]].L[Z[1]].vA=Q.data.Ww}this.MT()};
QX.prototype.VD=function(Q,C){this.VO=Q;if(C==rQ.a||C==rQ.yY)this.MT()};QX.prototype.MT=function(){if(this.VO==null)return;
t.pi(this.Qi);var Q=this.VO.lV;if(Q.length==0)return;var C=JSON.stringify(this.AJ);for(var j=0;j<Q.length;
j++){var Z=Q[j],F=new QX.CE([j],C,Z.exp,Z.vA.split("=").pop());F.parent=this;this.Qi.appendChild(F.w);
if(!Z.exp)continue;for(var _=0;_<Z.L.length;_++){var $=Z.L[_],F=new QX.CE([j,_],C,$.exp,$.vA.split("=").pop());
F.parent=this;this.Qi.appendChild(F.w);if(!$.exp)continue;for(var L=0;L<$.L.length;L++){var D=$.L[L],F=new QX.CE([j,_,L],C,null,rT.get(_R.vzE(D)),D.F);
F.parent=this;this.Qi.appendChild(F.w)}}}};QX.prototype.vrM=function(){var Q=this.VO.lV,C=this.AJ;if(Q.length==0){alert("No Actions Present");
return}if(C.length==1){alert("Select an Action first");return}if(this.VO._S!=null){alert("You can not apply actions while recording actions");
return}if(C.length==1)C.push(0);var j=Q[C[0]],Z=j.L[C[1]],F=new P(t.E.m,!0);F.data={$:t.i.Ep,nh:[Z.vA,j.vA]};
this.Z(F)};QX.CE=function(Q,C,j,Z,F){rJ.call(this);this.fT=Q;var _=this.fT.length-1;this.w=t.e("div","layeritem"+(JSON.stringify(Q)==C?" selected":""));
this.EZ=t.e("div","head");this.w.appendChild(this.EZ);this.EZ.setAttribute("style","height:24px");this.Ap=t.e("div","headL");
this.EZ.appendChild(this.Ap);if(_!=0){var $=t.e("div");$.style.width=_*20+"px";this.Ap.appendChild($)}if(j!=null){var L=this.vWA=t.e("div",j?"open":"closed");
this.Ap.appendChild(L)}else{var D=this.vWn=t.e("div","cmark");D.setAttribute("style","background-size:12px 12px; opacity:"+(F?1:.3));
this.Ap.appendChild(D)}if(_==0){var d=t.e("div","folder");this.Ap.appendChild(d)}var o=this.tX=t.e("div","label");
o.textContent=Z;this.Ap.appendChild(o);this.w.addEventListener("mouseup",this.qC.bind(this),!1)};QX.CE.prototype=new rJ;
QX.CE.prototype.qC=function(Q){if(Q.detail==1&&Q.target.tagName.toLowerCase()!="input"){var C="sel";
if(Q.target==this.vWA)C="fold";if(Q.target==this.vWn)C="enab";var j=new P(t.E.U,!0);j.data={$:C,fT:this.fT};
this.Z(j)}else if(this.fT.length<3)var Z=new re._r(this.tX,this._z.bind(this))};QX.CE.prototype._z=function(Q){var C=new P(t.E.U,!0);
C.data={$:"nchange",Ww:Q,fT:this.fT};this.Z(C)};function _k(){re.call(this,[9,3],!1,null,re.Hb.LX);this.xf=null;
this.Gh=null;this.VO=null}_k.prototype=new re("");_k.prototype.__=function(){var Q=t.e("div","");this.qA.appendChild(Q);
this.Zt=t.e("div","bordered cell");this.Zt.setAttribute("style","width:10em; height:28.5em;");Q.appendChild(this.Zt);
this.$K=[];this.ws=null;this.Vf=[];var C=this.v_$.bind(this);this.ar=[new _k.gY,new _k.eY,new _k._Z,new _k.aF];
for(var j=0;j<this.ar.length;j++){var Z=t.e("div","listitem"),F=this.ar[j].ob,_=null;if(j==0){this.ws=new $C(F);
Z.appendChild(this.ws.w)}else{_=new vg(F,!1);_.p(t.E.U,this.v_v,this);Z.appendChild(_.w)}this.Vf.push(_);
this.Zt.appendChild(Z);this.$K.push(Z);Z.addEventListener("click",C,!1)}this.Bn=t.e("div","cell padded");
Q.appendChild(this.Bn);for(var j=0;j<this.ar.length;j++)this.ar[j].p("brushchange",this.v_O,this);this.setItem(0);
this.ky=t.e("canvas","");this.ky.width=Math.floor(380*t.s());this.ky.height=Math.floor(80*t.s());t.GI(this.ky,this.ky.width,this.ky.height);
Q.appendChild(this.ky);this.zf=this.ky.getContext("2d");this.hx()};_k.prototype.xp=function(){if(this.Zt){this.hx();
return}this.__();this.N();this.VD(this.VO,rQ.yY)};_k.prototype.N=function(){re.prototype.N.call(this);
if(this.Zt==null)return;this.ws.N();for(var Q=1;Q<this.Vf.length;Q++)this.Vf[Q].N();for(var Q=0;Q<this.ar.length;
Q++)this.ar[Q].N()};_k.prototype.v_O=function(Q){var C=this.ar.indexOf(Q.currentTarget),j=JSON.parse(JSON.stringify(this.ar[C].Gh)),Z=new P(t.E.m,!0);
Z.data={$:t.i.yN,Vh:rQ.vH,Gh:j};this.Z(Z)};_k.prototype.v_v=function(Q){this.vzU(this.Vf.indexOf(Q.currentTarget),Q.currentTarget.CC())};
_k.prototype.v_$=function(Q){var C=this.$K.indexOf(Q.currentTarget);if(Q.target.tagName.toLowerCase()=="input")return;
if(this.Vf[C]&&!this.Vf[C].CC()){this.Vf[C].In();this.vzU(C,!0)}this.setItem(C)};_k.prototype.vzU=function(Q,C){this.ar[Q].HL(C)};
_k.prototype.setItem=function(Q){for(var C=0;C<this.ar.length;C++)this.$K[C].setAttribute("class","listitem");
if(this.Bn.firstChild)this.Bn.removeChild(this.Bn.firstChild);this.$K[Q].setAttribute("class","listitem selected");
this.Bn.appendChild(this.ar[Q].w)};_k.prototype.VD=function(Q,C){this.VO=Q;if(this.Zt==null)return;if(C==rQ.LX||C==rQ.yY){this.xf=Q.yD;
for(var j=0;j<this.ar.length;j++)this.ar[j].Ip(this.xf)}if(C==rQ.vH||C==rQ.yY){this.Gh=Q.yD.US;this.hx()}if(C==rQ.TH)this.hx()};
_k.prototype.hx=function(){if(this.Gh)this.enable();else{this.disable();return}if(!t.sY(this.qA))return;
var Q=this.VO;for(var C=0;C<this.ar.length;C++){this.ar[C].t(this.Gh);if(this.Vf[C])this.Vf[C].t(this.ar[C].CC())}var j=JSON.parse(JSON.stringify(this.Gh));
j.Brsh.v.Dmtr.v.val=Math.min(j.Brsh.v.Dmtr.v.val,50);var Z=new s(0,0,this.ky.width,this.ky.height),F=new rh(j,this.xf?this.xf._G:null,this.xf?this.xf.vf:null,{_v:1},Q.pd,Q.JD,Z),_=40*t.s(),$=300*t.s();
F.moveTo(_,_);for(var C=0;C<=$;C+=10)F.lineTo(_+C,_+20*Math.sin(2*Math.PI*C/$));F.finish();var L=this.zf.createImageData(Z.W,Z.C);
e.tW(F.WE(),F.ET(),L.data,Z);this.zf.putImageData(L,0,0)};_k.DF=function(Q){rJ.call(this);this.ob=Q;
this.w=t.e("div","");this.Gh=null};_k.DF.prototype=new rJ;_k.DF.prototype.Ip=function(Q){};_k.DF.prototype.t=function(Q){this.Gh=JSON.parse(JSON.stringify(Q));
this.w.setAttribute("class",this.CC()?"":"disabled");this.hx()};_k.DF.prototype.HL=function(Q){};_k.DF.prototype.CC=function(){return!1};
_k.DF.prototype.N=function(){};_k.DF.prototype.hx=function(){};_k.DF.prototype.hs=function(){this.Z(new P("brushchange"))};
_k.gY=function(){_k.DF.call(this,[15,0]);this.xf=null;this.vDM=null;this.sA=new QQ(!0);this.w.appendChild(this.sA.w);
this.sA.p(t.E.U,this.v_Q,this);this.sA.w.style.height="10.7em";this.E$=new rX([12,14,0],1,1e3," px",0,!0);
this.E$.p(t.E.U,this.v_t,this);this.E_=new rX([12,15],0,359," \xB0");this.E_.p(t.E.U,this.v_b,this);
this.Et=new rX([12,16],0,100," %");this.Et.p(t.E.U,this.v_K,this);this.EK=new rX([12,17],0,100," %");
this.EK.p(t.E.U,this.v_S,this);this.Ej=new rX([12,18],1,300," %");this.Ej.p(t.E.U,this.v_C,this);this.$K=[this.E$,this.E_,this.Et,this.EK,this.Ej]};
_k.gY.prototype=new _k.DF;_k.gY.prototype.N=function(){this.E$.N();this.E_.N();this.Et.N();this.EK.N();
this.Ej.N()};_k.gY.prototype.CC=function(){return!0};_k.gY.prototype.Ip=function(Q){this.xf=Q;var C=[],j=Math.floor(30*t.s()),Z=Math.floor(40*t.s());
for(var F=0;F<Q.list.length;F++){var _=Q.list[F].v,$=rh.ww(_,Q._G,Q.vf,j,Z);C.push($)}this.sA.fZ(C,null,j,Z)};
_k.gY.prototype.hx=function(){var Q=this.Gh.Brsh.v,C=Q.classID!=this.vDM;this.vDM=Q.classID;if(C)for(var j=0;
j<this.$K.length;j++)if(this.w.contains(this.$K[j].w))this.w.removeChild(this.$K[j].w);this.E$.t(Q.Dmtr.v.val);
if(C)this.w.appendChild(this.E$.w);this.E_.t(Q.Angl.v.val);if(C)this.w.appendChild(this.E_.w);if(Q.classID=="computedBrush"||Q.classID=="sampledBrush"){this.Et.t(Q.Rndn.v.val);
if(C)this.w.appendChild(this.Et.w)}if(Q.classID=="computedBrush"){this.EK.t(Q.Hrdn.v.val);if(C)this.w.appendChild(this.EK.w)}this.Ej.t(Q.Spcn.v.val);
if(C)this.w.appendChild(this.Ej.w)};_k.gY.prototype.v_Q=function(Q){this.Gh=this.xf.list[this.sA.K()].v;
this.hs()};_k.gY.prototype.v_t=function(Q){this.Gh.Brsh.v.Dmtr.v.val=Q.target.K();this.hs()};_k.gY.prototype.v_b=function(Q){this.Gh.Brsh.v.Angl.v.val=Q.target.K();
this.hs()};_k.gY.prototype.v_K=function(Q){this.Gh.Brsh.v.Rndn.v.val=Q.target.K();this.hs()};_k.gY.prototype.v_S=function(Q){this.Gh.Brsh.v.Hrdn.v.val=Q.target.K();
this.hs()};_k.gY.prototype.v_C=function(Q){this.Gh.Brsh.v.Spcn.v.val=Q.target.K();this.hs()};_k.eY=function(){_k.DF.call(this,[15,1]);
this._k=new rX([15,4,0],0,100," %");this._k.p(t.E.U,this.v_Z,this);this.w.appendChild(this._k.w);this._J=new rX([15,4,1],0,100," %");
this._J.p(t.E.U,this.v_Y,this);this.w.appendChild(this._J.w);this._B=new rX([15,4,2],0,100," %");this._B.p(t.E.U,this.v_h,this);
this.w.appendChild(this._B.w);this._f=new rX([15,4,3],0,100," %");this._f.p(t.E.U,this.v_P,this);this.w.appendChild(this._f.w);
this._n=new rX([15,4,4],0,100," %");this._n.p(t.E.U,this.v_e,this);this.w.appendChild(this._n.w)};_k.eY.prototype=new _k.DF;
_k.eY.prototype.N=function(){this._k.N();this._J.N();this._B.N();this._f.N();this._n.N()};_k.eY.prototype.CC=function(){return this.Gh.useTipDynamics.v};
_k.eY.prototype.HL=function(Q){this.Gh.useTipDynamics.v=Q;Dq.zX.kX(this.Gh);this.hs()};_k.eY.prototype.hx=function(){var Q=this.Gh;
if(Q.useTipDynamics.v==!1)return;this._k.t(Q.szVr.v.jitter.v.val);this._J.t(Q.minimumDiameter.v.val);
this._B.t(Q.angleDynamics.v.jitter.v.val);this._f.t(Q.roundnessDynamics.v.jitter.v.val);this._n.t(Q.minimumRoundness.v.val)};
_k.eY.prototype.v_Z=function(Q){this.Gh.szVr.v.jitter.v.val=Q.target.K();this.hs()};_k.eY.prototype.v_Y=function(Q){this.Gh.minimumDiameter.v.val=Q.target.K();
this.hs()};_k.eY.prototype.v_h=function(Q){this.Gh.angleDynamics.v.jitter.v.val=Q.target.K();this.hs()};
_k.eY.prototype.v_P=function(Q){this.Gh.roundnessDynamics.v.jitter.v.val=Q.target.K();this.hs()};_k.eY.prototype.v_e=function(Q){this.Gh.minimumRoundness.v.val=Q.target.K();
this.hs()};_k._Z=function(){_k.DF.call(this,[15,2]);this._M=new rX([15,5,0],0,1e3," %");this._M.p(t.E.U,this.v_H,this);
this.w.appendChild(this._M.w);this.Qv=new rX([15,5,1],1,20);this.Qv.p(t.E.U,this.v_N,this);this.w.appendChild(this.Qv.w);
this.QD=new rX([15,5,2],0,100," %");this.QD.p(t.E.U,this.v_w,this);this.w.appendChild(this.QD.w)};_k._Z.prototype=new _k.DF;
_k._Z.prototype.N=function(){this._M.N();this.Qv.N();this.QD.N()};_k._Z.prototype.CC=function(){return this.Gh.useScatter.v};
_k._Z.prototype.HL=function(Q){this.Gh.useScatter.v=Q;Dq.zX.kX(this.Gh);this.hs()};_k._Z.prototype.hx=function(){var Q=this.Gh;
if(Q.useScatter.v==!1)return;this._M.t(Q.scatterDynamics.v.jitter.v.val);this.Qv.t(Q.Cnt.v);this.QD.t(Q.countDynamics.v.jitter.v.val)};
_k._Z.prototype.v_H=function(Q){this.Gh.scatterDynamics.v.jitter.v.val=Q.target.K();this.hs()};_k._Z.prototype.v_N=function(Q){this.Gh.Cnt.v=Q.target.K();
this.hs()};_k._Z.prototype.v_w=function(Q){this.Gh.countDynamics.v.jitter.v.val=Q.target.K();this.hs()};
_k.aF=function(){_k.DF.call(this,[15,3]);this.Qr=new rX([15,6,0],0,100," %");this.Qr.p(t.E.U,this.vQZ,this);
this.w.appendChild(this.Qr.w);this.cW=new rX([15,6,1],0,100," %");this.cW.p(t.E.U,this.vQM,this);this.w.appendChild(this.cW.w);
this.QK=new rX([15,6,2],0,100," %");this.QK.p(t.E.U,this.vtS,this);this.w.appendChild(this.QK.w);this.QR=new rX([15,6,3],0,100," %");
this.QR.p(t.E.U,this.vtF,this);this.w.appendChild(this.QR.w)};_k.aF.prototype=new _k.DF;_k.aF.prototype.N=function(){this.Qr.N();
this.cW.N();this.QK.N();this.QR.N()};_k.aF.prototype.CC=function(){return this.Gh.useColorDynamics.v};
_k.aF.prototype.HL=function(Q){this.Gh.useColorDynamics.v=Q;Dq.zX.kX(this.Gh);this.hs()};_k.aF.prototype.hx=function(){var Q=this.Gh;
if(Q.useColorDynamics.v==!1)return;this.Qr.t(Q.clVr.v.jitter.v.val);this.cW.t(Q.H.v.val);this.QK.t(Q.Strt.v.val);
this.QR.t(Q.Brgh.v.val)};_k.aF.prototype.vQZ=function(Q){this.Gh.clVr.v.jitter.v.val=Q.target.K();this.hs()};
_k.aF.prototype.vQM=function(Q){this.Gh.H.v.val=Q.target.K();this.hs()};_k.aF.prototype.vtS=function(Q){this.Gh.Strt.v.val=Q.target.K();
this.hs()};_k.aF.prototype.vtF=function(Q){this.Gh.Brgh.v.val=Q.target.K();this.hs()};function DM(){re.call(this,[9,0],!1,null,re.Hb.fo);
this.qA.setAttribute("style","min-width:200px;");this.ko=t.e("div","hpbody scrollable");this.ko.style.height="160px";
this.qA.appendChild(this.ko);this.vrv=-1;this.wE=[];this.ax=""}DM.prototype=new re("");DM.prototype.Ik=function(Q){if(Q==null){t.pi(this.ko);
this.ax="";return}var C=Q.history.length+"-"+Q.V_,j=0;if(C==this.ax)return;this.ax=C;t.pi(this.ko);for(var Z=0;
Z<Q.history.length;Z++)if(Z<=Q.V_&&!Q.history[Z].Pi)j=Z;for(var Z=0;Z<Q.history.length;Z++){var F=Q.history[Z];
if(F.Pi)continue;var _=new $i(F,Z,j);_.parent=this;this.ko.appendChild(_.w);this.wE.push(_)}if(Q.V_==Q.history.length-1)this.xp()};
DM.prototype.xp=function(){this.ko.scrollTop=this.ko.scrollHeight};DM.prototype.N=function(){re.prototype.N.call(this);
for(var Q=0;Q<this.wE.length;Q++)this.wE[Q].N()};function $i(Q,C,j){rJ.call(this);this.index=C;this.w=t.e("div",C==j?"listitem selected":"listitem");
this.Lv=Q.name;this.N();if(C>j)this.w.style.opacity=.4;this.w.addEventListener("click",this.yi.bind(this),!1)}$i.prototype=new rJ;
$i.prototype.N=function(){this.w.textContent=rT.get(this.Lv)};$i.prototype.yi=function(Q){if(this.index==this.parent.vrv)return;
this.lo({$:"h_itemchange",index:this.index})};$i.prototype.lo=function(Q){var C=new P(t.E.a,!0);C.data=Q;
C.Y=G.fo;this.Z(C)};function Dk(){re.call(this,[9,10],!1,null,re.Hb.vWP);var Q=t.e("div","padded");this.qA.appendChild(Q);
this.sC=new Dm(256);Q.appendChild(this.sC.w);this.vrD=[];this.zr=[];var C=["Mean:","Pixels:"];for(var j=0;
j<C.length;j++){var Z=new $C(C[j]);this.vrD.push(Z);Q.appendChild(Z.w);var F=new $C("hi");this.zr.push(F);
Q.appendChild(F.w);t.hQ(Q)}this.gc=null}Dk.prototype=new re("");Dk.prototype.Ik=function(Q){this.gc=Q;
this.MT()};Dk.prototype.MT=function(){var Q=this.gc,d=0;if(!t.sY(this.qA))return;if(Q==null||Q.H.length==0){this.sC.t(e.uH(e.Q(4)));
this.zr[0].t("");this.zr[1].t("");return}var C=Q.ln(),j=new s(0,0,Q.W,Q.C),Z=j.P();if(Q.v){var F=Q.v.rect,_=e.Q(F.P()*4);
e.tW(C,j,_,F);e.nk(Q.v.channel,_);C=_;j=F;var $=Q.v.channel;Z=0;for(var L=0;L<$.length;L++)Z+=$[L];Z=Math.round(Z/255)}var D=e.uH(C);
this.sC.t(D);for(var L=0;L<256;L++)d+=L*(.333*D[1][L]+.333*D[2][L]+.333*D[3][L]);this.zr[0].t((d/Z).toFixed(1)+"");
this.zr[1].t(Z+"")};Dk.prototype.VD=function(Q,C){this.sC.fN(D_.dF[Q.Fz]["--text-color"])};Dk.prototype.N=function(){re.prototype.N.call(this);
this.sC.N()};Dk.prototype.xp=function(){this.MT()};function $V(){re.call(this,[9,8],!1,null,re.Hb.vWs);
this.Qi=t.e("div","padded");this.qA.appendChild(this.Qi);this.xA=new tv(10);this.Qi.appendChild(this.xA.w);
this.Qi.appendChild(t.e("hr"));this.Ad=new Dw;this.Ad.parent=this;this.Qi.appendChild(this.Ad.on);this.xA.p(t.E.U,this.vqc,this);
this.Ad.p(t.E.U,this.vqc,this)}$V.prototype=new re("");$V.prototype.vqc=function(Q){var C;if(Q.target==this.xA)C=this.xA.K();
else{var j=this.Ad.K();C=Math.round(j.h)<<16|Math.round(j.J)<<8|Math.round(j._)}var Z=new P(t.E.m,!0);
Z.data={$:t.i.yN,Vh:rQ.TH,zW:0,O:C};this.Z(Z)};$V.prototype.VD=function(Q,C){var j=Q.pd,Z=C==rQ.yY;if(C==rQ.TH||Z){this.xA.t(j);
this.Ad.t({h:j>>>16&255,J:j>>>8&255,_:j>>>0&255,cr:"Color #"+e.vY(j)})}if(C==rQ.dH||Z){var F=Q.v$u;this.Ad.Ip(F)}};
function Db(){re.call(this,[12,72],!1,null,re.Hb.vrU);this.Qg=null;this.hP=null;this.ko=t.e("div","lpbody scrollable");
this.ps=t.e("div","lpfoot");this.qA.appendChild(this.ko);this.qA.appendChild(this.ps);this.wX=[];this.p("click",this.mq,this);
this.pn=[];Db.qZ([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.pn,this.ps,this.rL.bind(this),this.mz.bind(this));
this.v$Z=new QG([{name:"Merge Channels",qm:!0}]);this.v$Z.p("select",this.oE,this)}Db.prototype=new re("");
Db.prototype.oE=function(Q){var C=new P(t.E.m,!0);C.data={$:t.i.kN,ul:"mergechannels"};this.Z(C)};Db.prototype.mD=function(){return this.v$Z};
Db.qZ=function(Q,C,j,Z,F){for(var _=0;_<Q.length;_++){var $=new rs("W",!1,Q[_]);C.push($);t.BF($.w,Z);
j.appendChild($.w);var L=$.w;L.addEventListener("drop",F,!1);L.addEventListener("dragover",function(D){D.preventDefault()},!1);
L.addEventListener("dragenter",t.QZ,!1)}};Db.HZ=function(Q,C){for(var j=0;j<Q.length;j++)if(Q[j].w==C.currentTarget)return j};
Db.prototype.rL=function(Q){var C=Db.HZ(this.pn,Q);if(C==0)this.Z(QR.ml(!0,null,Q));else{C--;var j=new P(t.E.xD,!0),Z={classID:"null"};
if(C==0)Z.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(C==1)Z.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else Z.null=_R.Ub("Chnl",!0);j.data={$Q:["duplicate","make","delete"][C],aa:Z};this.Z(j)}};Db.prototype.mz=function(Q){var C=Db.HZ(this.pn,Q);
if(C==2){var j=new P(t.E.xD,!0),Z={classID:"null"};Z.null=_R.Ub("Chnl",!0);j.data={$Q:"duplicate",aa:Z};
this.Z(j)}else this.rL(Q)};Db.prototype.pA=function(Q){var C=this.wX,j=C[Q];if(j==null){var Z=t.e("canvas");
j=Z.getContext("2d");C.push(j)}return j};Db.prototype.mq=function(Q){var C=this.Qg.slice(0),j=Q.data.BW,Z=C[0]+C[1]+C[2],F=this.hP;
if(-5<j&&j<0){var _=-j-1;if(Q.data.WL){if(_==0)C=Z==3?[0,0,0]:[1,1,1];else{if(C[_-1]==0)C[_-1]=1;else if(!0)C[_-1]=0}}else{if(_==0)C=[1,1,1];
else{C=[0,0,0];C[_-1]=1}F.CG=[]}var $=new P(t.E.a,!0);$.Y=G.Ex;$.data={$:"setcls",oe:C};this.Z($);return}if(-1<j){var L=F.k[j],D=L.IF==1?L.oH():L.qv(F).A;
if(Q.data.WL)D.me=!D.me;else{for(var d=0;d<F.$W.length;d++)F.$W[d].me=!1;F.CG=[]}}else{var o=-j-5,D=F.$W[o];
if(Q.data.WL)D.me=!D.me;else{for(var d=0;d<F.$W.length;d++)F.$W[d].me=!1;D.me=!0;F.CG=[o]}}F.uV=F.Iy=!0};
Db.prototype.xp=function(){this.iZ()};Db.prototype.Ik=function(Q){this.hP=Q;this.iZ()};Db.prototype.iZ=function(){var Q=this.hP,C=this.ko,L=34,D=34,H=4;
t.pi(C);if(Q==null||!t.sY(C))return;var j=Q.W,Z=Q.C,F=new s(0,0,j,Z),_=this.Qg=Q.R.oe.slice(0),$=_[0]+_[1]+_[2];
if(j>Z)D=Math.round(D*Z/j);else L=Math.round(L*j/Z);var d=["RGB"].concat(rY.fY);for(var o=0;o<4;o++){var v=this.pA(o);
e.Ca.Dc(v,L,D,F,Q.ln(),F,!1,o==0?null:o-1);var f=o==0?$==3:_[o-1]==1,U=new QR(-1-o,!0,!0,v,d[o],f,f);
U.parent=this;C.appendChild(U.w)}for(var o=0;o<Q.H.length;o++){var B=Q.k[Q.H[o]],m=B.IF;if(m!=1&&m!=3)continue;
var Y=m==1?B.oH():B.qv(Q).A,v=this.pA(H+o);H++;e.Ca.DY(v,L,D,F,Y);var U=new QR(Q.H[o],!0,!0,v,B.getName()+(m==1?"":" Filter")+" Mask",!0,Y.me);
U.parent=this;C.appendChild(U.w)}for(var o=0;o<Q.$W.length;o++){var Y=Q.$W[o],v=this.pA(H+o);e.Ca.DY(v,L,D,F,Y);
var U=new QR(-5-o,!0,Y.name=="Quick Mask",v,Y.name,Q.CG.indexOf(o)!=-1,Y.me,G.tP,{$:S.DC,zW:"rnm",BW:o});
U.parent=this;C.appendChild(U.w)}};Db.prototype.b_=function(Q,C){this.ko.style.height=C-9-25+"px"};Db.prototype.N=function(){re.prototype.N.call(this);
this.iZ();Db.mi(this.pn,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};Db.mi=function(Q,C){for(var j=0;
j<Q.length;j++){var Z=Q[j];Z.hE(t.Pr(C[j]))}};function QR(Q,C,j,Z,F,_,$,L,D){rJ.call(this);this.w=t.e("div","layeritem");
this.vrr=Q;this.vr_=C;this.vrt=j;this.Dn=Z;this.vrb=L;this.vru=D;this.EZ=t.e("div",_?"head selected":"head");
this.EZ.setAttribute("style","height: "+40+"px");var d=t.e("div","headL"),o=t.e("div","headR"),v=15;
this.w.appendChild(this.EZ);this.EZ.appendChild(d);this.EZ.appendChild(o);this.CR=t.e("div","eye");if(1<t.s()&&t.s()<1.5)v=v/t.s();
this.CR.setAttribute("style","background-size: "+v+"px "+v+"px;");this.CR.style.opacity=$?1:.2;if(C)d.appendChild(this.CR);
this.lN=t.e("div","thumb");if(Z)this.lN.appendChild(Z.canvas);d.appendChild(this.lN);this.dN=t.e("div","label");
if(j)this.dN.style.fontStyle="italic";this.dN.textContent=rT.get(F);d.appendChild(this.dN);var f=this.EZ;
f.setAttribute("draggable","true");this.EZ.addEventListener("mousedown",this.vtY.bind(this),!1)}QR.prototype=new rJ;
QR.prototype._z=function(Q){var C=new P(t.E.a,!0);C.Y=this.vrb;C.data=this.vru;C.data.name=Q;this.Z(C)};
QR.prototype.vtY=function(Q){var C=Q.ctrlKey||Q.metaKey,j=this.vrr;if(!this.vrt&&Q.detail==2&&Q.target==this.dN){var Z=new re._r(this.dN,this._z.bind(this))}else if(C&&Q.target==this.Dn.canvas){this.Z(QR.ml(this.vr_,j,Q))}else{var F=new P("click",!0);
F.data={BW:j,WL:Q.target==this.CR,wB:C};this.Z(F)}};QR.ml=function(Q,C,j){var Z=0;if(j.shiftKey)Z++;
if(j.altKey)Z+=2;var F=new P(t.E.a,!0);F.Y=G.sT;if(Q)F.data={$:"fromchannel",nh:[C,0,Z]};else F.data={$:"frompath",nh:[C,0,Z]};
return F};function QI(){re.call(this,[8,9],!1,null,re.Hb.Xu);this.Qg=null;this.hP=null;this.ko=t.e("div","lpbody scrollable");
this.ps=t.e("div","lpfoot");this.qA.appendChild(this.ko);this.qA.appendChild(this.ps);this.qA.addEventListener("click",this.vth.bind(this),!1);
this.wX=[];this.p("click",this.mq,this);this.pn=[];Db.qZ([[17,2],"Selection to Path",[5,3],[5,4]],this.pn,this.ps,this.rL.bind(this),this.mz.bind(this))}QI.prototype=new re("");
QI.prototype.rL=function(Q){var C=Db.HZ(this.pn,Q),j;if(C==0)j=QR.ml(!1,null,Q);else if(C==1){j=new P(t.E.xD,!0);
j.data={$Q:"make",aa:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else{var j=new P(t.E.a,!0);
j.Y=G.My;j.data={$:"pathedit",zW:["new","del"][C-2]}}this.Z(j)};QI.prototype.mz=function(Q){this.rL(Q)};
QI.prototype.pA=function(Q){var C=this.wX,j=C[Q];if(j==null){var Z=t.e("canvas");j=Z.getContext("2d");
C.push(j)}return j};QI.prototype.vth=function(Q){if(Q.target==this.ko){var C=this.hP;C.BA=[];C.Vb=[];
C.Iy=!0;C.uV=!0}};QI.prototype.mq=function(Q){var C=Q.data.BW,j=this.hP,Z=Q.data.wB,F=0,_,$;if(C<0){F=-1-C;
_=j.BA;$=j.Vb}else{var L=j.Uh()[0];for(var D=0;D<L.length;D++){var d=L[D].BW;if(d==C)break;if(d>=0)F++}_=j.Vb;
$=j.BA}if(Z){var o=_.indexOf(F);if(o==-1)_.push(F);else _.splice(o,1)}else{while(_.length!=0)_.pop();
while($.length!=0)$.pop();_.push(F)}j.Iy=!0;j.uV=!0};QI.prototype.xp=function(){this.iZ()};QI.prototype.Ik=function(Q){this.hP=Q;
this.iZ()};QI.prototype.iZ=function(){var Q=this.hP,C=this.ko,L=34,D=34;t.pi(C);if(Q==null||!t.sY(C))return;
var j=Q.W,Z=Q.C,F=new s(0,0,j,Z),_=this.Qg=Q.R.oe.slice(0),$=_[0]+_[1]+_[2];if(j>Z)D=Math.round(D*Z/j);
else L=Math.round(L*j/Z);var d=Q.Uh(),o=d[0];for(var v=0;v<o.length;v++){var f=o[v],U=this.pA(v);e.Ca.vay(U,L,D,F,f.add.vmsk);
var H=new QR(f.BW,!1,f.BW>=-1,U,f.name,d[1].indexOf(v)!=-1,!1,G.My,{$:"pathedit",zW:"rnm",BW:f.BW});
H.parent=this;C.appendChild(H.w)}};QI.prototype.b_=function(Q,C){this.ko.style.height=C-9-25+"px"};QI.prototype.N=function(){re.prototype.N.call(this);
this.iZ();Db.mi(this.pn,["lrs/makesel","lrs/makepath","lrs/newlayer","lrs/bin"])};function DI(Q){re.call(this,[9,Q?4:5],!1,null,Q?re.Hb.vRC:re.Hb.vWN);
this.qA.setAttribute("style","min-width:240px;");this.vrJ=Q;this.VU=null;this.VO=null}DI.prototype=new re("");
DI.prototype.__=function(){this.VU=new ta;var Q=this.VU,C=this.qA;Q.parent=this;if(this.vrJ){var j=t.e("div","marged");
C.appendChild(j);j.appendChild(Q.Rl.w);C.appendChild(t.e("hr"));var Z=t.e("div","marged");C.appendChild(Z);
Z.appendChild(Q.RS.w);Z.appendChild(Q.j$.w);var F=t.e("div","marged");C.appendChild(F);F.appendChild(Q.Rp.w);
F.appendChild(Q.pD.w);C.appendChild(t.e("hr"));var _=t.e("div","marged");C.appendChild(_);_.appendChild(Q.Gy.w);
_.appendChild(Q.Pg.w);var $=t.e("div","marged");C.appendChild($);$.appendChild(Q.Pu.w);$.appendChild(Q.jz.w);
C.appendChild(t.e("hr"));var L=t.e("div","marged");C.appendChild(L);L.appendChild(Q.DB.w);L.appendChild(Q.DG.w);
L.appendChild(Q.$D.w);L.appendChild(Q.$b.w);L.appendChild(Q.$l.w);L.appendChild(Q.$i.w);L.appendChild(Q.$u.w);
L.appendChild(Q.$C.w)}else{var j=t.e("div","marged");C.appendChild(j);j.appendChild(Q.eT.w);j.appendChild(Q.ek.w);
j.appendChild(Q.eu.w);j.appendChild(Q.vRO.w);j.appendChild(Q.vRk.w);j.appendChild(Q.vRK.w);j.appendChild(Q.vRY.w);
C.appendChild(t.e("hr"));var Z=t.e("div","marged");C.appendChild(Z);Z.appendChild(Q.p$.w);Z.appendChild(Q.pW.w);
Z.appendChild(Q.p_.w);C.appendChild(t.e("hr"));var F=t.e("div","marged");C.appendChild(F);F.appendChild(Q.pt.w);
F.appendChild(Q.pK.w);F.appendChild(Q.PF.w)}};DI.prototype.xp=function(){if(!t.sY(this.qA))return;if(this.VU==null){this.__();
var Q=this.VO;if(Q)this.VU.t(Q.Bz,Q.ho,Q.AG);this.VU.N()}};DI.prototype.N=function(){re.prototype.N.call(this);
if(this.VU)this.VU.N()};DI.prototype.VD=function(Q,C){this.VO=Q;if(C!=rQ.yY&&C!=rQ.tq&&C!=rQ.vR&&C!=rQ.tp)return;
if(this.VU)this.VU.t(Q.Bz,Q.ho,Q.AG)};function Dc(){re.call(this,[13,0],!1,null,re.Hb.TH);this.wm=0;
this.v$h=0;this.VO=null;var Q=t.e("div","flexrow padded");this.qA.appendChild(Q);var C=t.e("div");Q.appendChild(C);
this.wy=[];for(var j=0;j<2;j++){var Z=new vy;this.wy.push(Z);Z.p("click",this.vbr,this);C.appendChild(Z.w)}this.KJ=new $S(192);
this.KJ.p(t.E.U,this.B$,this);Q.appendChild(this.KJ.w)}Dc.prototype=new re("");Dc.prototype.vbr=function(Q){this.wm=this.wy.indexOf(Q.currentTarget);
this.MT()};Dc.prototype.B$=function(Q){var C=this.KJ.K();this.KJ.t(C);var j=Math.round(C.h*255)<<16|Math.round(C.J*255)<<8|Math.round(C._*255),Z=new P(t.E.m,!0);
Z.data={$:t.i.yN,Vh:rQ.TH,zW:this.wm,O:j};this.Z(Z);this.v$h=Date.now()};Dc.prototype.MT=function(){var Q=this.VO,C=this.wm,j=[Q.pd,Q.JD];
for(var Z=0;Z<2;Z++){var F=this.wy[Z],_=F.w.style;F.fN(j[Z]);if(Z==C)delete _.borderColor;else _.borderColor="var(--bg-color)"}var $=j[C];
if(Date.now()-this.v$h>100)this.KJ.t({h:($>>>16)/255,J:($>>>8&255)/255,_:($&255)/255})};Dc.prototype.VD=function(Q,C){this.VO=Q;
if(C==rQ.yY||C==rQ.TH)this.MT()};Dc.prototype.xp=function(){this.MT()};function vl(){re.call(this,"CSS",!1,null,re.Hb.CSS);
this.gc=null;var Q=t.e("div","padded");this.qA.appendChild(Q);this.yM=t.e("textarea");this.yM.setAttribute("rows",16);
this.yM.setAttribute("style","display:block;tab-size:4; font-family:monospace; width:98%; min-width:270px;");
Q.appendChild(this.yM)}vl.prototype=new re("");vl.prototype.Ik=function(Q){this.gc=Q;this.MT()};vl.prototype.VD=function(Q,C){if(C==rQ.vR)this.MT()};
vl.prototype.MT=function(){var Q=this.gc;if(Q==null||Q.H.length==0)return;if(!t.sY(this.qA))return;var C=Q.k[Q.H[0]],j=CSS.vJC(C,Q);
if(j.length!=0)this.yM.value=j.join(";\n")+";";else this.yM.value=""};vl.prototype.xp=function(){this.MT()};
function vC(){re.call(this,[9,6],!1,null,re.Hb.vWE);this.qA.setAttribute("style","min-width:240px;");
this.gc=null;this.VO=null;var Q=t.e("div","marged row");this.qA.appendChild(Q);var C=t.e("div","cell");
C.setAttribute("style","width:10em");Q.appendChild(C);var j=t.e("div","cell");j.setAttribute("style","width:10em");
Q.appendChild(j);this.vry=new $C("R:");this.vrx=new $C("G:");this.vrF=new $C("B:");this.qA.appendChild(t.e("hr",""));
var Z=t.e("div","marged row");this.qA.appendChild(Z);var C=t.e("div","cell");C.setAttribute("style","width:10em");
var j=t.e("div","cell");j.setAttribute("style","width:10em");Z.appendChild(C);Z.appendChild(j);this.KA=new $C("");
C.appendChild(this.KA.w);t.hQ(C);this.RR=new $C("");C.appendChild(this.RR.w);this.fK=new $C("");j.appendChild(this.fK.w);
t.hQ(j);this.hd=new $C("");j.appendChild(this.hd.w);this.KA.t("X: 100 px");this.RR.t("Y: 100 px");this.fK.t("W: 0");
this.hd.t("H: 0")}vC.prototype=new re("");vC.prototype.eF=function(Q,C,j,Z,F){var _=Q.R.gx(F.x,F.y),$=new Wn(Math.floor(_.x),Math.floor(_.y));
if(!1){var L=0,D=0,d=0;if(!F.gN&&!Q.vil()&&new s(0,0,Q.W,Q.C)._p($)){var o=Q.ln(),v=Q.W*$.y+$.x<<2;L=o[v+0];
D=o[v+1];d=o[v+2]}this.vry.t("R: "+L);this.vrx.t("G: "+D);this.vrF.t("B: "+d)}this.KA.t("X: "+e.oD.ef($.x,Q.zn,j,Q.W));
this.RR.t("Y: "+e.oD.ef($.y,Q.zn,j,Q.C));this.mg()};vC.prototype.mg=function(){var Q=this.gc,C=this.VO,j=0,Z=0;
if(Q&&C){if(Q.R.Aw){j=Q.R.Aw.W;Z=Q.R.Aw.C}else if(Q.v){j=Q.v.rect.W;Z=Q.v.rect.C}j=e.oD.ef(Math.abs(j),Q.zn,C,Q.W);
Z=e.oD.ef(Math.abs(Z),Q.zn,C,Q.C)}this.fK.t(rT.get([12,41]).charAt(0)+": "+j);this.hd.t(rT.get([12,42]).charAt(0)+": "+Z)};
vC.prototype.N=function(){re.prototype.N.call(this);this.mg()};vC.prototype.Ik=function(Q,C,j){this.gc=Q;
this.VO=j;this.mg()};function _h(){re.call(this,[9,1],!1,null,re.Hb.tP);this.AP=null;this.xa=null;this.Ln=null;
this.EZ=t.e("div","lphead");this.ko=t.e("div","lpbody scrollable");this.ps=t.e("div","lpfoot");this.Ci=new rc(null,rP.yg,!1,rP.pP);
this.Ci.p(t.E.U,this.vbl,this);this.EZ.appendChild(this.Ci.w);this.AN=new vf([12,0],0,100,"%",0);this.AN.p(t.E.U,this.vbg,this);
this.AN.parent=this;this.EZ.appendChild(this.AN.w);this.EV=new tV("<img src=\""+PIMG["lrs/lock"]+"\" class=\"autoscale gsicon\" />",[[12,76,2],[12,40],[7,0]]);
this.EV.p(t.E.U,this.vbY,this);this.EZ.appendChild(this.EV.w);this.Ek=new vf([12,26],0,100,"%",0);this.Ek.p(t.E.U,this.vKX,this);
this.Ek.parent=this;this.pn=[];this.qZ();this.qA.appendChild(this.EZ);this.qA.appendChild(this.ko);this.qA.appendChild(this.ps);
this.qA.addEventListener("contextmenu",t.QZ,!1);var Q=[{name:[14,10]},{name:[14,11],ui:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],ui:!0},{name:[6,7]},{name:"New Smart Obj. via Copy",F:function(_){return{F:_.k[_.H[0]].add.SoLd!=null}},ui:!0},{name:[6,8],F:function(_){var $=_.k[_.H[0]];
if($.add.TySh||$.add.SoLd||$.add.SoCo||$.add.GdFl||$.add.PtFl)return{F:!0};return{F:!1}}},{name:[6,34],F:function(_){var $=_.k[_.H[0]];
return{F:$.add.lmfx!=null&&!$.Hd()}}},{name:[6,40],ui:!0,F:function(_){var $=_.k[_.H[0]];return{F:$.add.TySh!=null}}},{name:"",ui:!0,F:function(_){var $=_.k[_.H[0]],L=$.add.TySh,D=L?L.Qp:null;
return{F:L!=null&&D.Curve==null,yC:rT.get(L&&rD.Va(D)==0?[16,3,1]:[16,3,0])}}},{name:[6,6,0],ui:!0,F:function(_){return{F:_.oh(_.H[0]),H$:_.k[_.H[0]].kK}}},{name:[11,6],ui:!0,sub:[{name:[5,1],F:function(_){var $=_.k[_.H[0]];
return{F:$.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],F:function(_){var $=_.k[_.H[0]];return{F:$.add.lmfx!=null}}}]},{name:[6,10],F:function(_){return{F:_.H.length==1&&_.H[0]!=0&&!_.k[_.H[0]].Hd()}}},{name:[6,12,0],F:function(_){return{F:_.H.length>1||_.k[_.H[0]].Hd()}}},{name:[6,12,1],ui:!0},{name:[13,0],sub:function(){var _=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],$=[];
for(var L=0;L<_.length;L++)$.push({name:_[L]});return $}()}];this.Q$=[null,{T:t.E.a,Y:G.sT,I:{$:"fromlayer",nh:[null,0,0]}},S.sN,{T:t.E.m,I:{$:t.i.kN,ul:"duplinto"}},S.sV,{T:t.E.xD,I:{$Q:"newPlacedLayer"}},S.uL,{T:t.E.xD,I:{$Q:"rasterizeLayer",aa:{classID:"rasterizeLayer",null:_R.Ub("Lyr",!0)}}},S.uZ,S.vKj,{T:t.E.a,Y:G.Jl,I:{$:"switchPntPrgr"}},S.$R,null,S.vM,S.Kb,S.uc,S.mF];
this.Bn=new QG(Q);this.Bn.p("select",this.oE,this);var C=[{name:[6,45],F:function(_){var $=_.k[_.H[0]];
return{F:$.qv(_).A==null}}},{name:[6,47]}];this.vro=[S.os,S.uh];this.wx=new QG(C);this.wx.p("select",this.oE,this);
var j=[{name:"enab/disab",F:function(_){return{yC:rT.get(_.k[_.H[0]].oH().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],F:function(_){return{F:_.TE(!1,!0)}}}];
this.vrN=[S.DV,S.aS,S.uf];this.wF=new QG(j);this.wF.p("select",this.oE,this);var Z=[{name:"enab/disab",F:function(_){return{yC:rT.get(_.k[_.H[0]].qv(_).A.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}];
this.v_z=[S.Kp,S.oa];this.wL=new QG(Z);this.wL.p("select",this.oE,this);var F=[{name:"enab/disab",F:function(_){return{yC:rT.get(_.k[_.H[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]}];
this.v_q=[S.az,S.aH];this.wZ=new QG(F);this.wZ.p("select",this.oE,this);this.wo=new QG(_x.v$B(!0),_x.v$c(!0));
this.v$P=new QG(_x.vsn(),_x.vyL());this.p("rclick",this.vbz,this)}_h.prototype=new re("");_h.prototype.Hs=function(){return new Wn(253,0)};
_h.prototype.oE=function(Q){var C=Q.target.X_(),j=C[0],Z;if(Q.target==this.Bn)Z=this.Q$;if(Q.target==this.wx)Z=this.vro;
if(Q.target==this.wF)Z=this.vrN;if(Q.target==this.wZ)Z=this.v_q;if(Q.target==this.wL)Z=this.v_z;if(Q.target==this.wo)Z=this.vaR;
if(Q.target==this.v$P)Z=this.vaj;if(Z[j]==null){if(j==0){var F=new P(t.E.m,!0);F.data={$:t.i.kN,ul:"layerstyle",c:this.xa.H[0]};
this.Z(F)}else{var _=new P(t.E.a,!0);_.Y=G.IH;_.data={$:["st_copy","st_paste","st_clear"][C[1]],c:this.xa.H[0]};
this.Z(_)}return}if(Z[j].T!=null){var $=Z[j],_=new P($.T,!0);_.Y=$.Y;_.data=$.I;Q.target.Z(_);return}var _=new P(t.E.a,!0);
if(Q.target==this.wo)_.data=Z[j];else _.data={$:Z[j]};if(Z[j]==S.mF)_.data.vzk=C[1];_.Y=G.tP;Q.target.Z(_)};
_h.prototype.vbz=function(Q){var C=this.xa,j=Q.data,F;if(C.H.indexOf(j.c)==-1){var Z={$:S.$I,c:Q.target.xW.index,$e:j.IF};
this.lo(Z)}if(C.H.indexOf(j.c)==-1)return;if(j.IF==1){F=this.wF}else if(j.IF==2){F=this.wZ}else if(j.IF==3){F=this.wL}else if(j.v_i){F=this.wx}else{F=this.Bn}F.N();
F.update(C);F.parent=this;var _=new P(t.E.m,!0);_.data={$:t.i.Ko,kU:F,x:j.Tj.x+1,y:j.Tj.y+1};this.Z(_)};
_h.prototype.N=function(){re.prototype.N.call(this);this.Ci.N();this.AN.N();this.EV.N();this.Ek.N();
if(this.xa)this.Ik(this.xa);var Q="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var C=0;C<this.pn.length;C++){var j=this.pn[C];j.hE(t.Pr(Q[C]))}};_h.prototype.Ik=function(Q,C){if(Q&&!Q.IJ)return;
if(Q==null)t._I(this.qA,"disabled");else t.Zy(this.qA,"disabled");this.xa=Q;this.Ln=C;if(this.AP!=null){this.ko.removeChild(this.AP.ko);
this.AP=null}if(Q==null)return;this.AP=new _g(Q.root,this,Q,{Uw:0});this.ko.appendChild(this.AP.ko);
if(Q.H.length==0)t._I(this.EZ,"disabled");else{t.Zy(this.EZ,"disabled");if(Q.H.length==1&&Q.fG)this.AP.vgi(Q.H);
var j=Q.k[Q.H[0]];if(j.Hd()){this.Ci.Bk([[15,10,27]].concat(rP.yg),[1].concat(rP.pP));var Z=rP.Cg.indexOf(j.gd);
this.Ci.t(Z+1)}else{this.Ci.Bk(rP.yg,rP.pP);var Z=rP.Cg.indexOf(j.gd);this.Ci.t(Z)}this.AN.t(Math.round(100*j.opacity/255));
this.EV.t([j.Vk(1),j.Vk(2),j.Vk(31)]);this.Ek.t(Math.round(100*(j.add.iOpa!=null?j.add.iOpa/255:1)))}};
_h.prototype.b_=function(Q,C){var j=this.EZ.getBoundingClientRect().height;j=Math.max(j,52);if(j>68)j=Math.max(j,76);
var Z=C-(j+35);this.ko.style.height=Z+"px"};_h.prototype.vbl=function(Q){this.lo({$:S.DN,GE:this.Ci.K()})};
_h.prototype.vbg=function(Q){this.lo({$:S.$V,GE:Math.round(255*this.AN.K()/100)})};_h.prototype.vbY=function(Q){this.lo({$:S.B_,GE:[this.EV.K(),[1,2,31]]})};
_h.prototype.vKX=function(Q){this.lo({$:S.Ke,GE:Math.round(255*this.Ek.K()/100)})};_h.prototype.vKP=function(Q){this.vlG(Q,this.wo)};
_h.prototype.vRq=function(Q){this.vlG(Q,this.v$P)};_h.prototype.vlG=function(Q,C){var j=Q.currentTarget;
if(t.sY(C.w))return;Q.stopPropagation();var Z=j.getBoundingClientRect();C.N();C.update(this.xa);C.parent=this;
var F=new P(t.E.m,!0);F.data={$:t.i.Ko,kU:C,x:Z.left,y:Z.top,v_l:!0};this.Z(F)};_h.prototype.vRi=function(Q){this.lo({$:S.vsL})};
_h.prototype.vRs=function(Q){this.lo({$:S.oq})};_h.prototype.vRB=function(Q){this.lo({$:S.sn})};_h.prototype.vRZ=function(Q){this.lo({$:S.sV})};
_h.prototype.vRN=function(Q){this.lo({$:S.aj})};_h.prototype.lo=function(Q){var C=new P(t.E.a,!0);C.data=Q;
C.Y=G.tP;this.Z(C)};_h.prototype.qZ=function(){var Q=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[6,31]],C=[this.vRN,this.vRq,this.vKP,this.vRi,this.vRs,this.vRB,this.vRZ],j=this.vRw.bind(this);
for(var Z=0;Z<Q.length;Z++){var F=new rs("W",!1,Q[Z]);this.pn.push(F);t.BF(F.w,C[Z].bind(this));this.ps.appendChild(F.w);
if(Z>=Q.length-3){var _=F.w;_.addEventListener("drop",j,!1);_.addEventListener("dragover",function($){$.preventDefault()},!1);
_.addEventListener("dragenter",t.QZ,!1)}}};_h.prototype.vRw=function(Q){t.QZ(Q);var C=0,j=this.pn;while(j[C].w!=Q.currentTarget)C++;
j[C].XG();var Z=Q.dataTransfer.getData("Text");if(Z=="")return;var Z=JSON.parse(Z);if(Z.BL=="l"){var F={$:[S.Ru,S.sN,S.sV][C-4]};
if(this.xa.H.indexOf(Z.gI)==-1)F.c=Z.gI;this.lo(F)}if(C!=6)return;if(Z.BL=="sm"||Z.BL=="s"){var _=new P(t.E.a,!0);
_.Y=G.IH;_.data={$:Z.BL=="sm"?"st_clear":"st_delsingle",c:Z.gI,gI:Z.DL};this.Z(_)}if(Z.BL=="fm"||Z.BL=="f"){this.lo({$:Z.BL=="fm"?S.uh:S.vRn,src:Z.gI,DL:Z.DL})}if(Z.BL=="m"||Z.BL=="vm"){this.lo({$:Z.BL=="m"?S.aS:S.aH,c:Z.gI})}};
function _g(Q,C,j,Z){rJ.call(this);this.parent=C;this.xW=Q;this.wG=[];this.w=t.e("div","layeritem");
var F=Q.c,r=15,A=!1;this.EZ=t.e("div",j.H.indexOf(Q.index)!=-1?"head selected":"head");if(Q.c.add.artb!=null)t._I(this.EZ,"artb");
this.EZ.setAttribute("style","height: "+(F.vVW+10)+"px");var _=t.e("div","headL"),$=t.e("div","headR"),L=t.e("div","lpineck");
this.ko=t.e("div","lpibody");this.w.appendChild(this.EZ);this.EZ.appendChild(_);this.EZ.appendChild($);
if(F.hV()||F.nr())if(F.bH())this.w.appendChild(L);var D=this.EZ;D.setAttribute("draggable","true");D.addEventListener("dragstart",this.mV.bind(this),!1);
D.addEventListener("drop",this.Xc.bind(this),!1);D.addEventListener("dragover",this.mT.bind(this),!1);
D.addEventListener("dragenter",t.QZ,!1);D.addEventListener("dragleave",this.mS.bind(this),!1);var d=[],o=[],v=t.e("div");
this.CR=t.e("div","eye");v.appendChild(this.CR);var f=t.e("div","space");this.dN=t.e("div","label");
this.dN.textContent=F.getName();this.wP=t.e("div","lock");this.QV=t.e("div","arfx");var U=this.vz_.bind(this),H=this.vzQ.bind(this);
this.EZ.addEventListener("click",H,!1);this.EZ.addEventListener("contextmenu",U,!1);var B=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],m=F.add.lclr==null?0:B[F.add.lclr];
if(m==0)m=Z.Uw;var Y=[m>>16,m>>8&255,m&255];for(var q=0;q<3;q++){Y[q]=Math.round(.5*Y[q]+.5*220)}if(1<t.s()&&t.s()<1.5)r=r/t.s();
v.setAttribute("style","background-color:rgba("+Y.join(",")+","+(m==0?0:1)+");");this.CR.setAttribute("style","background-size: "+r+"px "+r+"px;");
var x=this.vjr.bind(this);v.addEventListener("mousedown",x,!1);v.addEventListener("mouseover",x,!1);
this.dN.addEventListener("click",this.vzO.bind(this),!1);this.QV.addEventListener("click",this.vzr.bind(this),!1);
d[0]=v;d[1]=f;d[10]=this.dN;if(F.Hd()){var a=t.e("div","arrow"),i=t.e("div","folder");a.addEventListener("click",this.vjQ.bind(this),!1);
d[2]=a;d[3]=i;if(F.add.lsct==_K.gh){for(var q=Q.children.length-1;q>=0;q--){var l=new _g(Q.children[q],C,j,{Uw:m});
this.wG.push(l);this.ko.appendChild(l.w)}this.w.appendChild(this.ko)}a.setAttribute("class",F.add.lsct==_K.gh?"open":"closed")}else{this.lN=t.e("div","thumb");
d[5]=this.lN;this.lN.appendChild(F.ay.canvas)}var M=F.oH();if(M){this.QS=t.e("div","chain");this.CI=t.e("div","thumb");
this.CI.setAttribute("draggable","true");this.CI.appendChild(Q.c.vTR.canvas);this.QS.style.opacity=M.J_?1:0;
this.QS.addEventListener("click",this.vjz.bind(this),!1)}var z=F.ql()&&F.add.vmsk;if(F.add.vmsk&&!z){this.Qk=t.e("div","chain");
this.g$=t.e("div","thumb");this.g$.setAttribute("draggable","true");this.g$.appendChild(Q.c.vTG.canvas);
this.Qk.style.opacity=F.add.vmsk.J_?1:0;this.Qk.addEventListener("click",this.vjV.bind(this),!1)}if(F.nr()&&F.qv(j).A){this.AU=t.e("div","thumb");
this.AU.appendChild(Q.c.vTP.canvas);this.AU.addEventListener("click",H,!1);this.AU.addEventListener("contextmenu",U,!1)}if(F.hV()){L.addEventListener("contextmenu",U,!1);
var V=new _h.hw(rT.get([12,1]),"sm","layerstyle",Q.depth,0,null);V.parent=this;L.appendChild(V.w);var X=F.add.lmfx,O=X.masterFXSwitch.v;
V.yh(O);for(var q=0;q<WM.order.length;q++){var y=X[WM.zV[q]].v;if(y.length==0)continue;for(var K=0;K<y.length;
K++){var V=new _h.hw(rT.get(WM.names[q]),"s","layerstyle",Q.depth,1,[q,K]);V.yh(O&&y[K].v.enab.v);V.parent=this;
L.appendChild(V.w)}}}if(F.nr()){var V=new _h.hw(rT.get([12,55]),"fm",null,Q.depth,0,-1,F.qv(j).A?this.AU:null);
V.parent=this;L.appendChild(V.w);this.v$U=V.w;this.v$U.addEventListener("contextmenu",U,!1);var X=F.add.SoLd.filterFX.v,R=X.filterFXList.v,O=X.enab.v;
V.yh(O);for(var q=R.length-1;q>=0;q--){var W=R[q].v,N=W.filterID.v,I=c.Fr(N);if(rY.vs[I])I=rY.vs[I];
var T=W.Nm.v;if(vr.names[I])T=rT.get(vr.names[I]);if(rY.names[I])T=rT.get(rY.names[I]);var h=n[I]||vr.Bq[I]?"afw_"+I:null,V=new _h.hw(T,"f",h,Q.depth,1,q);
V.yh(O&&W.enab.v);V.parent=this;L.appendChild(V.w)}}if(j.k.indexOf(F)==j.H[0]){var p=F.IF,u;if(p<=0)u=this.lN;
else if(p==1)u=this.CI;else if(p==3)u=this.AU;if(u)u.setAttribute("class","thumb active");if(F.gC&&this.g$)this.g$.setAttribute("class","thumb active")}v.style.opacity=F.ow()?1:.25;
f.setAttribute("style","width:"+Math.max(0,Q.depth-1)*18+"px");var g=F.add.lspf!=null&&F.add.lspf!=0;
this.wP.style.opacity=F.Vk(31)?1:.5;d[4]=F.kK?t.e("div","clipp"):null;d[6]=M?this.QS:null;d[7]=M?this.CI:null;
d[8]=F.add.vmsk&&!z?this.Qk:null;d[9]=F.add.vmsk&&!z?this.g$:null;var w=F.Dj,r$=j.H;if(w!=0)for(var q=0;
q<r$.length;q++)if(j.k[r$[q]].Dj==w){A=!0;break}o[0]=A?t.e("div","link"):null;o[1]=g?this.wP:null;o[2]=F.hV()?t.e("div","lrfx"):null;
o[3]=F.hV()||F.nr()?this.QV:null;this.QV.setAttribute("class",F.bH()?"arfx open  gsicon":"arfx closed  gsicon");
var rW=d;for(var q=0;q<rW.length;q++)if(rW[q])_.appendChild(rW[q]);rW=o;for(var q=0;q<rW.length;q++)if(rW[q])$.appendChild(rW[q])}_g.prototype=new rJ;
_g.prototype.vgi=function(Q){var C=this.xW.index;if(Q.indexOf(C)!=-1){if(this.w.scrollIntoView)this.w.scrollIntoView({block:"nearest"})}for(var j=0;
j<this.wG.length;j++)this.wG[j].vgi(Q)};_g.Lf=function(Q,C){var j=C.getBoundingClientRect();return(Q.clientY-j.top)/j.height};
_g.prototype.mV=function(Q){Q.stopPropagation();var C=Q.target==this.CI?"m":Q.target==this.g$?"vm":"l";
Q.dataTransfer.setData("Text",JSON.stringify({BL:C,gI:this.xW.index}))};_g.prototype.mS=function(Q){t.QZ(Q);
this._t()};_g.prototype.Xc=function(Q){t.QZ(Q);this._t();var C=Q.dataTransfer.getData("Text"),j=this.parent.xa,Z=_g.Lf(Q,this.EZ),F=this.xW.index;
if(Z>.8){var _=!0,$=j.root.Gl(F);while($.parent!=null){var L=$.parent,D=L.children;if(D.indexOf($)!=0)_=!1;
$=$.parent}if(_){F=0;Z=1}}if(C==""){t.vsA(Q,this,this.parent.Ln.indexOf(j),F+(Z>.5?0:1))}else if(C!="--panel"){var C=JSON.parse(C),d=C.BL;
if(d=="l")this.lo({$:S.Bc,source:C.gI,target:F,GP:Z});else if(d=="m"||d=="vm")this.lo({$:d=="m"?S.hC:S.hG,src:C.gI,cg:F,FY:Q.altKey});
else _g.vgT(Q,C,this)}};_g.vgT=function(Q,C,j,Z){var F=C.BL,_=j.xW.index,$=C.gI;if(F=="s"||F=="sm")j.lo({$:S.oV,src:$,cg:_,DL:C.DL,FY:Q.altKey});
if(F=="f"||F=="fm")j.lo({$:S.vRV,src:$,cg:_,DL:C.DL,Mo:Z==null?0:Z,FY:Q.altKey})};_g.prototype.mT=function(Q){t.QZ(Q);
var C=_g.Lf(Q,this.EZ);this._t();var j="border-"+(C>.5?"bottom":"top");if(this.xW.c.Hd()&&.5<C&&C<.8)j="border";
this.EZ.style[j]="0.2em solid rgba(0,0,0,0.5)"};_g.prototype._t=function(Q){this.EZ.style.border="none"};
_g.vgB=-1;_g.ms=!1;_g.vVr=function(Q){_g.ms=!1;document.body.removeEventListener("mouseup",_g.vVr)};
_g.prototype.vjr=function(Q){if(Q.button!=0)return;if(Q.type=="mousedown"){_g.ms=!0;document.body.addEventListener("mouseup",_g.vVr,!1)}if(Q.type=="mouseover"&&(!_g.ms||_g.vgB==this.xW.index))return;
t.QZ(Q);this.lo({$:S.sh,c:this.xW.index});_g.vgB=this.xW.index};_g.prototype.vjQ=function(Q){this.lo({$:S.vvx,c:this.xW.index})};
_g.prototype.vjz=function(Q){this.lo({$:S.KP,c:this.xW.index})};_g.prototype.vjV=function(Q){this.lo({$:S.hA,c:this.xW.index})};
_g.prototype.vzO=function(Q){if(Q.detail==1)return;this.EZ.setAttribute("draggable","false");var C=new re._r(this.dN,this._z.bind(this))};
_g.prototype._z=function(Q){this.lo({$:S.BN,c:this.xW.index,name:Q})};_g.prototype.vzr=function(Q){this.lo({$:S.vQX,c:this.xW.index})};
_g.prototype.vz_=function(Q){if(this.vV_(Q,Q.target,this.IF(Q)))return;var C=Q.sourceCapabilities;if(C)C=C.firesTouchEvents;
if(Q.button!=2&&C!=!0)return;var j=new P("rclick",!0);j.data={c:this.xW.index,IF:this.IF(Q),Tj:t.Gp(Q,document.body),v_i:Q.currentTarget==this.v$U};
this.Z(j)};_g.prototype.IF=function(Q){var C=Q.target,j=C.parentNode;return j==this.g$?2:j==this.CI?1:j==this.lN?0:j==this.AU?3:-1};
_g.prototype.vzQ=function(Q){var C=Q.target,d=0;if(C==this.CR||C==this.QV||C==this.QS||C==this.Qk||C.tagName&&C.tagName.toLowerCase()=="input")return;
var j=this.IF(Q),Z=this.parent.xa,F=this.xW.index,_=Z.k[F];if(C==this.wP){this.lo({$:S.B_,c:F,GE:[[0,0,0,0,0],[0,1,2,3,31]]});
return}if(Q.button==0&&Q.detail==2){if(C==this.dN)return;var $=new P(t.E.m,!0),L=new P(t.E.xD,!0);if(j==0&&(rY.get(_.add)||_.add.SoCo||_.add.GdFl||_.add.PtFl))$.data={$:t.i.yP,ul:re.Hb.HB};
else if(j!=0&&j!=-1)$.data={$:t.i.yP,ul:re.Hb.HB};else if(j==0&&_.add.SoLd)L.data={$Q:"placedLayerEditContents",aa:{classID:"placedLayerEditContents"}};
else if(j==0&&_.add.TySh)$.data={$:t.i.TX,Y:G.Jl};else $.data={$:t.i.kN,ul:"layerstyle",c:F};this.Z(L.data?L:$);
if(j==0&&_.add.TySh){var D=new P(t.E.a,!0);D.Y=G.Jl;D.data={$:"editCurr",b$:F};this.Z(D)}return}if(this.vV_(Q,C,j))return;
if(Q.button!=0)return;var o={$:S.$I,c:F,$e:j};this.lo(o);if(Q.altKey){if(j==1||j==3){var D=new P(t.E.a,!0);
D.Y=G.Eq;D.data={$:"mskView",O:d!=0?0:Q.shiftKey?1:2};this.Z(D)}else{this.lo({$:S.$R,c:F})}return}};
_g.prototype.vV_=function(Q,C,j){if((Q.ctrlKey||Q.metaKey)&&(j==0||j==1||j==2)){var Z=0;if(Q.shiftKey)Z++;
if(Q.altKey)Z+=2;var F=new P(t.E.a,!0);F.Y=G.sT;F.data={$:"fromlayer",nh:[this.xW.index,j,Z]};this.Z(F);
return!0}return!1};_g.prototype.lo=function(Q){var C=new P(t.E.a,!0);C.data=Q;C.Y=G.tP;this.Z(C)};_h.hw=function(Q,C,j,Z,F,_,$){rJ.call(this);
this.v_x=C;this.QI=j;this.index=_;this.w=t.e("div","styleitem");this.EZ=t.e("div","head");this.EC=t.e("div","eye gsicon");
this.dN=t.e("div","label");this.w.appendChild(this.EZ);this.EZ.appendChild(this.EC);if($){this.CI=$;
this.EZ.appendChild(this.CI);this.EZ.setAttribute("style","height: "+($.firstChild.height/t.s()+10)+"px")}this.dN.innerHTML=Q;
this.w.setAttribute("style","margin-left: "+(24+Z*16+F*22)+"px");this.EZ.appendChild(this.dN);this.EC.addEventListener("click",this.vzX.bind(this),!1);
var L=this.w;L.setAttribute("draggable","true");L.addEventListener("dragstart",this.mV.bind(this),!1);
if(!0){L.addEventListener("drop",this.Xc.bind(this),!1);L.addEventListener("dragover",this.mT.bind(this),!1);
L.addEventListener("dragenter",t.QZ,!1);L.addEventListener("dragleave",this.mS.bind(this),!1)}this.w.addEventListener("click",this._c.bind(this),!1)};
_h.hw.prototype=new rJ;_h.hw.prototype.mV=function(Q){Q.stopPropagation();Q.dataTransfer.setData("Text",JSON.stringify({BL:this.v_x,gI:this.parent.xW.index,DL:this.index}))};
_h.hw.prototype.mS=function(Q){t.QZ(Q);this._t()};_h.hw.prototype.Xc=function(Q){t.QZ(Q);this._t();var C=Q.dataTransfer.getData("Text");
if(C=="")return;var C=JSON.parse(C);_g.vgT(Q,C,this.parent,this.index+(_g.Lf(Q,this.EZ)>.5?0:1))};_h.hw.prototype.mT=function(Q){t.QZ(Q);
var C=_g.Lf(Q,this.EZ)>.5;this._t();var j="border-"+(C?"bottom":"top");this.EZ.style[j]="0.2em solid rgba(0,0,0,0.5)"};
_h.hw.prototype._t=function(Q){this.EZ.style.border="none"};_h.hw.prototype.yh=function(Q){var C=15;
if(1<t.s()&&t.s()<1.5)C=C/t.s();this.EC.setAttribute("style","background-size: "+C+"px "+C+"px;");this.EC.style.opacity=Q?1:.2};
_h.hw.prototype._c=function(Q){if(Q.target==this.EC)return;if(Q.detail!=1&&this.QI!=null){var C=this.parent.xW.index,j=new P(t.E.m,!0);
if(this.QI.indexOf("afw_")==0)j.data=rz.bq.vze(this.QI.slice(4),{c:C,index:this.index});else j.data={$:t.i.kN,ul:this.QI,c:C,index:this.index};
this.Z(j)}};_h.hw.prototype.vzX=function(Q){var C={fm:S.RF,f:S.Rh,sm:S.KH,s:S.KN}[this.v_x];this.parent.lo({$:C,c:this.parent.xW.index,index:this.index})};
function vN(){re.call(this,"Guide Guy",!1,null,re.Hb.vrm);this.gc=null;this.XP=[];var Q=t.e("div","form padded");
this.qA.appendChild(Q);Q.setAttribute("style","width:200px");this.qA.appendChild(Q);var C=t.e("canvas"),j=C.getContext("2d");
C.width=C.height=160;var Z=[32,0,16,160,0,32,160,16,0,112,160,16],F="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),_=[0,0,0,0,0,0,0,0,0,0];
for(var $=0;$<10;$++){j.clearRect(0,0,160,160);j.setTransform(1,0,0,1,80,80);j.rotate(($&3)*Math.PI/2);
j.translate(-80,-80);j.fillStyle="rgba(0,0,0,0.3)";if($<4){for(var L=0;L<12;L+=4){j.fillStyle=L==0?"#000000":"rgba(0,0,0,0.3)";
j.fillRect(Z[L],Z[L+1],Z[L+2],Z[L+3])}}else if($<6){var D=8*6;j.fillRect(0,0,D,160);j.fillRect(8*7,0,D,160);
j.fillStyle="#000000";j.fillRect(8*14,0,D,160)}else if($<8){j.fillRect(0,0,16,160);j.fillRect(160-16,0,16,160);
j.fillRect(32,0,160-64,160);j.fillStyle="#000000";j.fillRect(32,80-8,160-64,8*1)}else{j.fillRect(0,0,8*7,160);
j.fillRect(8*13,0,160,160);j.fillStyle="#000000";j.fillRect(8*7,80-8,8*6,8*1)}var d="<img src=\""+C.toDataURL()+"\" class=\"autoscale gsicon\" /> ",o=new vf(d,0,200,$==4||$==5?null:"px",null,null,null,4,F[$]);
o.parent=this;o.p(t.E.U,this.vzH,this);o.t(_[$]);o.N();this.XP.push(o);Q.appendChild(o.w)}var v=["Add Guides","Clear Guides"];
this.VP=[];for(var $=0;$<v.length;$++){var f=new rs(v[$],!0,null,!0);this.VP.push(f);f.p("click",this.Hc,this);
Q.appendChild(f.w)}for(var $=0;$<6;$++){j.setTransform(1,0,0,1,80,80);j.rotate(Math.floor($/3)*Math.PI/2);
j.translate(-80,-80);j.clearRect(0,0,160,160);j.fillStyle="rgba(0,0,0,0.3)";j.fillRect(0,0,160,160);
j.clearRect(16,16,128,128);j.fillStyle="#000000";var U=$%3;j.fillRect([0,9,18][U]*8,0,16,160);var d="<img src=\""+C.toDataURL()+"\" class=\"autoscale gsicon\" /> ",f=new rs(d,!1,null,!1);
this.VP.push(f);f.p("click",this.Hc,this);Q.appendChild(f.w)}}vN.prototype=new re("");vN.prototype.vzH=function(Q){var C=this.XP,j=C.indexOf(Q.target),Z=Math.floor(j/2),F=j&1,_=[];
for(var $=0;$<4;$++)_.push(C[2*$+F].K());var L=-1;if(Z==2&&_[2]!=0&&_[3]!=0&&_[4]!=0)L=4;if(Z==3&&_[3]!=0&&_[2]!=0&&_[4]!=0)L=4;
if(Z==4&&_[4]!=0&&_[2]!=0&&_[3]!=0)L=3;if(L!=-1)C[2*L+F].t(0)};vN.prototype.Hc=function(Q){var C=this.gc,j=this.VP.indexOf(Q.target),Z=[[],[]];
if(C==null)return;var F=C.v?C.v.rect:new s(0,0,C.W,C.C),_=F.W,$=F.C;if(j==0){var L=[[],[]];for(var D=0;
D<this.XP.length;D++)L[D&1].push(this.XP[D].K());Z=[vN.vVV(L[0],F.x,F.x+_),vN.vVV(L[1],F.y,F.y+$)];G.BG.gr(Z,C.Wi)}else if(j==1){}else{j-=2;
var d=Math.floor(j/3),Z=[[],[]];Z[d].push([F.x,F.x+_/2,F.x+_,F.y,F.y+$/2,F.y+$][j]);G.BG.gr(Z,C.Wi)}var o=function(v,f){return v-f};
Z[0].sort(o);Z[1].sort(o);this.vqQ(Z)};vN.prototype.vxY=function(Q){var C=this.vad.indexOf(Q.target)};
vN.prototype.vqQ=function(Q){var C=new P(t.E.a,!0);C.Y=G.hj;C.data={$:"gids",CP:Q};this.Z(C)};vN.vVV=function(Q,C,j){var Z=[],F=Q[2],_=Q[3],$=Q[4],L=0;
if(F==0)L++;if(_==0)L++;if($==0)L++;if(L>1&&F==0&&_==0){if(Q[0]!=0)Z.push(C+Q[0]);if(Q[1]!=0)Z.push(j-Q[1]);
return Z}var D=j-C-Q[0]-Q[1];if(F==0){if($==0){F=Math.floor(D/_);$=(D-F*_)/(F-1)}else{F=1;while(_*F+$*(F-1)+_+$<=D)F++}}else if(F!=0&&_!=0){if(F*_>D)F=Math.floor(D/_);
$=(D-F*_)/(F-1)}Z.push(C+Q[0],j-Q[1]);var _=(D-$*(F-1))/F;for(var d=1;d<F;d++){if($==0)Z.push(C+Q[0]+d*_);
else Z.push(C+Q[0]+d*_+(d-1)*$,C+Q[0]+d*_+d*$)}return Z};vN.prototype.Ik=function(Q){this.gc=Q};function _r(){re.call(this,[9,2],!1,null,re.Hb.HB);
this.vQv=null;this.i_=null;this.VO=null;this.vQr=-1}_r.prototype=new re("");_r.prototype.__=function(){this.Qi=t.e("div","padded");
this.Qi.style.width="22em";this.qA.appendChild(this.Qi);var Q=t.e("span","fitem");this.Qi.appendChild(Q);
this.jo=[new rs([0,3]),new rs([12,73]),new rs([12,91,0])];for(var C=0;C<this.jo.length;C++){var j=this.jo[C];
j.p("click",this.vqt,this);Q.appendChild(j.w)}this.Qi.appendChild(t.e("hr"));this.Uu=new _r.VS;this.Uu.parent=this;
this.EY=new _r._l;this.EY.parent=this;this.wU=new _r.qY;this.wU.parent=this;this.vQP=[this.Uu,this.EY,this.wU];
this.Qi.appendChild(this.Uu.w)};_r.prototype.vqt=function(Q){var C=this.jo.indexOf(Q.currentTarget);
this.Hf(C);this.vSb(C==1?this.EY.Ef:-1)};_r.prototype.Hf=function(Q){for(var C=0;C<3;C++){this.jo[C].XG();
var j=this.vQP[C].w;if(j.parentNode==this.Qi&&C!=Q)this.Qi.removeChild(j);if(j.parentNode!=this.Qi&&C==Q)this.Qi.appendChild(j)}this.jo[Q].In()};
_r.prototype.vSb=function(Q){var C=this.i_.H[0],j=this.i_.k[C],Z=Q+1;if(Q==1&&j.gC)return;var F=new P(t.E.a,!0);
F.Y=G.tP;if(Q!=1&&j.gC){F.data={$:S.$I,c:C,$e:2};this.Z(F)}F.data={$:S.$I,c:C,$e:Z};this.Z(F)};_r.prototype.N=function(){re.prototype.N.call(this);
if(this.Qi==null)return;this.Ik(this.i_);for(var Q=0;Q<3;Q++){this.jo[Q].N();this.vQP[Q].N()}};_r.prototype.xp=function(){if(!t.sY(this.qA))return;
if(this.Qi==null){this.__();this.VD(this.VO,rQ.yY);this.Ik(this.vQv);this.N()}};_r.prototype.Ik=function(Q){this.vQv=Q;
if(this.Qi==null)return;this.Uu.Ik(Q);this.EY.Ik(Q);this.wU.Ik(Q);if(Q==null||Q.H.length==0){t._I(this.qA,"disabled");
this.i_=null;return}else t.Zy(this.qA,"disabled");var C=Q.H[0],j=Q.k[C],Z=Q.Uh(),F=Z[0],_=Z[1];if(_.length!=0){var $=F[_[0]],L=$.add.vogk,D=!1;
if(L)for(var d=0;d<L.length;d++){var o=L[d].v,v=o.keyShapeInvalidated;if(v&&v.v||o.keyOriginType==null)continue;
D=!0;C=$.BW}}if(Q!=this.i_||this.vQr!=C){this.i_=Q;this.vQr=C;if(D)this.Hf(2);else if(j.IF<1&&!j.gC)this.Hf(0);
else this.Hf(1)}this.jo[1].XY(this.EY.Ef!=-1);this.jo[2].XY(D)};_r.prototype.VD=function(Q,C){this.VO=Q;
if(this.Uu)this.Uu.VD(Q,C)};_r.VS=function(){rJ.call(this);this.w=t.e("div","form");this.vt_=new $C("Hello");
this.w.appendChild(this.vt_.w);this.QC=null;this.vtQ=null;this.i_=null;this.vtC=-1;this.vte=null;this.Ei=new vy(!0);
this.Ei.parent=this;this.Ei.p(t.E.U,this.vqu,this);this.Rt=t.e("div","marged hiline");this.Rt.appendChild(this.Ei.w);
this.Cb=new $E("GrFl",!0);this.Cb.parent=this;this.Cb.p(t.E.U,this.vqm,this);this.IT=t.e("div","marged hiline");
var Q="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");for(var C=0;C<Q.length;C++){var j=this.Cb.Ic[Q[C]].w;
this.IT.appendChild(j)}this.Cs=new $E("patternFill",!0);this.Cs.parent=this;this.Cs.p(t.E.U,this.vqZ,this);
this.Is=t.e("div","marged hiline");var Q=["Ptrn","Scl","Algn","phase"];for(var C=0;C<Q.length;C++){var j=this.Cs.Ic[Q[C]].w;
this.Is.appendChild(j)}this.FV={};for(var Z in rY.names){if(n[Z]==null)continue;this.FV[Z]=new n[Z];
this.FV[Z].p(t.E.U,this.vqn,this);this.FV[Z].parent=this}var F=this.v_g=t.e("div","marged hiline");this.wn=_r.mZ(["W","H","X","Y"],null,F,this.mE,this);
this.rf=new rc([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.rf.p(t.E.U,this.mE,this);F.appendChild(this.rf.w);
this.Eh=new vy(!1);this.Eh.parent=this;this.Eh.p(t.E.U,this.mE,this);F.appendChild(this.Eh.w)};_r.VS.prototype=new rJ;
_r.VS.prototype.N=function(){for(var Q in this.FV)this.FV[Q].N();this.Cb.N();this.Cs.N();this.rf.N();
for(var C=0;C<4;C++)this.wn[C].N()};_r.VS.prototype.mE=function(Q){var C=_r.mf(this.wn),j=S.vzA(new s(C[2],C[3],C[0],C[1])),Z=this.rf.K(),F={classID:"artboard",artboardRect:{t:"Objc",v:j},Clr:{t:"Objc",v:this.Eh.K()},artboardBackgroundType:{t:"long",v:Z+1}},_=new P(t.E.a,!0);
_.Y=G.tP;_.data={$:S.o_,k_:F};this.Z(_)};_r.VS.prototype.vqu=function(Q){var C=this.i_,j=C.H[0];if(C.k[j].add.SoCo==null)return;
var Z=JSON.parse(JSON.stringify(C.k[j].add.SoCo));Z.Clr.v=this.Ei.K();this.mL({Gg:1,hv:Z})};_r.VS.prototype.vqm=function(Q){var C=this.i_,j=C.H[0];
if(C.k[j].add.GdFl==null)return;this.mL({Gg:2,hv:this.Cb.K()})};_r.VS.prototype.vqZ=function(Q){this.mL({Gg:3,hv:this.Cs.K()})};
_r.VS.prototype.mL=function(Q){this.vSR(G.tP,{$:S.mG,CY:[this.i_.H[0]],aq:!0,O:Q})};_r.VS.prototype.vqn=function(Q){this.vSR(G.MF,{$:"edit_layer",O:this.vtQ.K()})};
_r.VS.prototype.vSR=function(Q,C){var j=new P(t.E.a,!0);j.Y=Q;j.data=C;this.Z(j)};_r.VS.prototype.Ik=function(Q){var C=rT.get([0,3]),j=null;
this.i_=Q;if(Q&&Q.k.length>0&&Q.H.length!=0){var Z=Q.k[Q.H[0]],F=rY.get(Z.add);if(F!=null&&this.FV[F]!=null){j=this.FV[F].w;
this.vtQ=this.FV[F];this.FV[F].t(Z.add[F]);if(Q.H[0]!=this.vtC){var _=Q.ln(Q.H[0]-1);this.vte=e.uH(_)}this.FV[F].xC(this.vte);
C=rT.get(rY.names[F])}if(Z.add.SoCo){j=this.Rt;this.Ei.t(Z.add.SoCo.Clr.v);C=rT.get([6,48,0,0])}if(Z.add.GdFl){j=this.IT;
this.Cb.update(Q,Z.add.GdFl);C=rT.get([6,48,0,1])}if(Z.add.PtFl){j=this.Is;this.Cs.update(Q,Z.add.PtFl);
C=rT.get([6,48,0,2])}if(Z.add.artb){var $=Z.add.artb,L=Z.se();j=this.v_g;this.rf.t($.artboardBackgroundType.v-1);
if($.Clr)this.Eh.t($.Clr.v);_r.JR(this.wn,[L.W,L.C,L.x,L.y]);C="Artboard"}this.vtC=Q.H[0]}if(j!=this.QC){if(this.QC)this.w.removeChild(this.QC);
if(j!=null)this.w.appendChild(j);this.QC=j}this.vt_.t(C)};_r.VS.prototype.VD=function(Q,C){this.Cb.VD(Q,C);
this.Cs.VD(Q,C);for(var j in this.FV)this.FV[j].VD(Q,C)};_r._l=function(){rJ.call(this);this.w=t.e("div","form");
this.i_=null;this.Ef=0;var Q=t.e("span","fitem");this.w.appendChild(Q);this.jo=[new rs([6,2]),new rs([6,3]),new rs([6,50])];
for(var C=0;C<this.jo.length;C++){var j=this.jo[C];j.p("click",this.viR,this);Q.appendChild(j.w)}this.nv=new rX([12,74],0,255);
this.nv.p(t.E.U,this.GJ,this);this.w.appendChild(this.nv.w);this.MK=new rX([7,6],0,500,"px",2,!0);this.MK.p(t.E.U,this.GJ,this);
this.w.appendChild(this.MK.w)};_r._l.prototype=new rJ;_r._l.prototype.GJ=function(Q){var C=this.nv.K(),j=this.MK.K(),Z=new P(t.E.a,!0);
Z.Y=G.tP;Z.data={$:S.oL,GM:this.i_.H[0],ci:{oi:this.Ef,nv:C,MK:j}};this.Z(Z)};_r._l.prototype.N=function(){for(var Q=0;
Q<this.jo.length;Q++)this.jo[Q].N();this.nv.N();this.MK.N()};_r._l.prototype.Ik=function(Q){this.i_=Q;
this.iZ()};_r._l.prototype.viR=function(Q){this.iZ(this.jo.indexOf(Q.currentTarget));this.parent.vSb(this.Ef)};
_r._l.prototype.iZ=function(Q){var C=this.i_,j=this.jo;for(var Z=0;Z<3;Z++){var F=j[Z];F.XG();F.IO()}if(C==null||C.k.length==0||C.H.length==0)return;
var _=-1,$=C.k[C.H[0]];if($.nr()&&$.qv(C).A!=null){j[2].Ii();_=2}if($.add.vmsk){j[1].Ii();_=1}if($.oH()){j[0].Ii();
_=0}if(Q!=null)_=Q;else if($.gC)_=1;else if($.IF==3)_=2;else if($.IF==1)_=0;this.Ef=_;if(_==-1){this.nv.IO();
this.MK.IO();return}var L=$.vSF(_);this.nv.Ii();this.MK.Ii();this.nv.t(L.nv);this.MK.t(L.MK);j[_].In()};
_r.qY=function(){rJ.call(this);this.w=t.e("div","form");this.wM=1;this.Qo=t.e("div");this.cl=_r.mZ(["W","H","X","Y"],[12,51],this.Qo,this.vTu,this);
this.Qn=t.e("div");var Q=["\u250F","\u2513","\u2517","\u251B"];this.EH=_r.mZ(Q,[12,91,2],this.Qn,this.vTu,this)};
_r.qY.prototype=new rJ;_r.qY.prototype.N=function(){t.eK(this.cl[0],this.cl[1]);for(var Q=2;Q<5;Q++){this.cl[Q].N()}this.EH[4].N()};
_r.mZ=function(Q,C,j,Z,F){var _=t.e("div","numlist");j.appendChild(_);var $=[];for(var L=0;L<4;L++){var D=new vf(Q[L],0,0,null,1,!1,!0);
D.p(t.E.U,Z,F);_.appendChild(D.w);$.push(D);if(L==1||L==3)t.hQ(_)}if(C){$[4]=new vg(C);$[4].t(!0);j.appendChild($[4].w)}return $};
_r.JR=function(Q,C){for(var j=0;j<4;j++)Q[j].t(C[j])};_r.mf=function(Q){var C=[];for(var j=0;j<4;j++)C[j]=Q[j].K();
return C};_r.qY.prototype.vTu=function(Q){var C=this.cl.indexOf(Q.currentTarget),j=this.EH.indexOf(Q.currentTarget),Z=[null,null,null,null],F=[null,null,null,null];
if(C!=-1){var _=_r.mf(this.cl),$=this.cl[4].K();_[0]=Math.max(1,_[0]);_[1]=Math.max(1,_[1]);if($&&C==0)_[1]=_[0]/this.wM;
if($&&C==1)_[0]=_[1]*this.wM;Z[0]=_[2];Z[1]=_[3];Z[2]=Z[0]+_[0];Z[3]=Z[1]+_[1]}if(j!=-1){var _=_r.mf(this.EH);
F[j]=Math.max(0,_[j]);if(this.EH[4].K())for(var L=0;L<4;L++)F[L]=F[j];var D=F[3];F[3]=F[2];F[2]=D}var d=new P(t.E.a,!0);
d.Y=G.tP;d.data={$:S.hU,LT:Z,vxv:F};this.Z(d)};_r.qY.prototype.Ik=function(Q){if(Q==null)return;var C=this.Qo.parentNode!=null,j=this.Qn.parentNode!=null,Z=e.Ky.xT(Q),F=Z[0],_=Z[1];
if(F){if(!C)this.w.appendChild(this.Qo);this.wM=(F[2]-F[0])/(F[3]-F[1]);_r.JR(this.cl,[F[2]-F[0],F[3]-F[1],F[0],F[1]])}else if(C)this.w.removeChild(this.Qo);
if(_){if(!j)this.w.appendChild(this.Qn);var $=_[2];_[2]=_[3];_[3]=$;_r.JR(this.EH,_)}else if(j)this.w.removeChild(this.Qn)};
function _v(Q){re.call(this,Q.name,!0);this.xa=Q;this.El=null;this.TL=[];this.AO=!1;this.gu={x:0,y:0,gN:!1};
this.tO=!0;this.EN=document.createElement("canvas");this.EA=this.EN.getContext("2d");this.Ev=document.createElement("canvas");
this.L=this.Ev.getContext("2d");var C=16,j=e.Q(16*16*4);e.Mm(j,C,C,8,0,0);this.wg=e.scale.eM(j,C,C);
this.v_V=this.GF.bind(this);this.dO=this.LC.bind(this);this.vKz=this.CB.bind(this);var Z=this.qA;t.BF(Z,this.v_V);
t.og(Z,this.dO);Z.addEventListener("wheel",this.zp.bind(this),!1);Z.addEventListener("contextmenu",this.vig.bind(this),!1);
this.vP=0;this.Av="";this.iD=4;Z.addEventListener("touchmove",t.Wj,!1)}_v.prototype=new re;_v.prototype.vbc=function(){if(this.xa.GC())return window.confirm(rT.get([22,6,3])+" "+this.xa.name+". "+rT.get([22,6,4]));
return!0};_v.prototype.Wj=function(Q){Q.preventDefault()};_v.prototype.vJR=function(Q){var C=-1,j=this.TL;
for(var Z=0;Z<j.length;Z++)if(j[Z].pointerId==Q.pointerId)C=Z;return C};_v.prototype.GF=function(Q){this.TL.push(Q);
if(this.TL.length==1){var C=Q.button!=null&&Q.button!=0?"rdown":"down",j=new P("mouse",!0);j.action=C;
this.qG(Q,j);this.Z(j);t.wf(this.qA,this.dO);t.og(window,this.dO);t.oF(window,this.vKz)}if(this.TL.length==2){this.vJu("multidown");
this.AO=!0}};_v.prototype.LC=function(Q){var C=this.vJR(Q);if(C!=-1)this.TL[C]=Q;if(this.TL.length>1){this.vJu("multimove")}if(this.AO)return;
var j=new P("mouse",!0);j.action="move";this.qG(Q,j);this.Z(j)};_v.prototype.CB=function(Q){var C=this.TL,j=this.vJR(Q);
C.splice(j,1);if(C.length==0){var Z=Q.button!=null&&Q.button!=0?"rup":"up",F=new P("mouse",!0);F.action=Z;
this.qG(Q,F);this.Z(F);t.wf(window,this.dO);t.Ab(window,this.vKz);t.og(this.qA,this.dO);this.AO=!1}};
_v.prototype.zp=function(Q){this.Wj(Q);if(Q.deltaX==0&&Q.deltaY==0)return;var C=new P("mouse",!0);C.action="scroll";
C.wB=Q.ctrlKey;this.qG(Q,C);this.Z(C)};_v.prototype.vig=function(Q){t.QZ(Q);var C=Q.sourceCapabilities;
if(C)C=C.firesTouchEvents;if(C){var j=new P("mouse",!0);this.qG(Q,j);j.action="rdown";this.Z(j);j.action="rup";
this.Z(j)}};_v.prototype.vJu=function(Q){var C=this.TL,j=t.s(),Z=[];for(var F=0;F<C.length;F++){var _=Z[F]=t.Gp(C[F],this.qA);
_.x*=j;_.y*=j}var $=new P("mouse",!0);$.action=Q;$.fs=Z;this.Z($)};_v.prototype.qG=function(Q,C,j){var Z=this.TL.length!=0;
if(C.action!="up"){var F=t.s();if(j==null)j=t.Gp(Q,this.qA);this.gu=C.hB={x:F*j.x,y:F*j.y,gN:Z};var _=t.Gp(Q,document.body);
C.hB.wh=_.x;C.hB.BY=_.y}else this.gu=C.hB={x:this.gu.x,y:this.gu.y,gN:Z};C.hB.TV=1;if(Q.pressure!=null&&Q.pressure!=0)C.hB.TV=Q.pressure*2;
if(Q.deltaX!=null){var $=Q.deltaMode==0?1:40;C.tL=new Wn(Q.deltaX*$,Q.deltaY*$)}};_v.prototype.VD=function(Q,C){this.El=Q};
_v.prototype.Ik=function(Q){this.xp();this.MT()};_v.prototype.b_=function(Q,C){if(Q<=0||C<=0)return;
this.fA=Q;this.NE=C;var j=this.xa,Z=t.s();j.R.L.W=Math.floor(Q*Z);j.R.L.C=Math.floor(C*Z);t.lZ(this.Ev,Q,C);
t.lZ(this.EN,Q,C);t.lZ(E.$T(),Q,C);if(j.R.l==0)j.R.l=G.VF.gB(j.W,j.C,Q*Z,C*Z);this.tO=!0;this.MT()};
_v.prototype.xp=function(){var Q=this.qA.firstChild;if(!E.bs&&Q==E.$T()||E.bs&&Q==this.Ev)this.qA.removeChild(Q);
this.qA.appendChild(E.bs?E.$T():this.Ev)};_v.prototype.MT=function(){if(E.bs!=this.iD){this.vP=0;this.Av="";
this.tO=!0}this.iD=E.bs;if(this.El==null)return;if(E.bs)this.viS();else this.yS();var Q=this.xa;this.vP=Q.R.l;
this.Av=JSON.stringify(Q.R.oe);this.tO=!1};_v.prototype.viS=function(){if(E.bs&&_v.vKk==null)_v.vKk=new _v.Ja(!1);
if(E.bs&&_v.vR$==null)_v.vR$=new _v.Ja(!0);var Q=this.xa,L;if(Q.TC==null)return;var C=Q.R,j=C.L.W,Z=C.L.C,F=E.Dn;
this.L.clearRect(0,0,C.L.W,C.L.C);var _=this.vdj(Q);if(C.kb==null)C.kb=new E.mr(C.L.W,C.L.C);if(_)C.kb.set(this.Ev);
else{E.xe(C.kb);E.uS(0)}var $=new s(0,0,Q.W*C.l,Q.C*C.l);$.x=Math.round((j-Q.W*C.l)/2+C.f.x);$.y=Math.round((Z-Q.C*C.l)/2+C.f.y);
var D=[0,0,0,0],d=[];if(Q.add.artd){D=_v.yv(Q);var o=Q.W,v=Q.C;L=_v.vR$;for(var f=0;f<Q.k.length;f++){var U=Q.k[f],H=U.add.artb;
if(H==null||!U.ow())continue;var B=U.se();d.push(B.x/o,B.y/v,B.W/o,B.C/v)}if(d.length>32*4){d=d.slice(0,32*4)}while(d.length<32*4){d.push(0,0,0,0)}}else L=_v.vKk;
E.zM(j,Z);E.uS(0);E.zM(j,Z);L.pa();L.EG(C.kb.ot,Q.TC.ot,new Float32Array([$.x/j,$.y/Z,$.W/j,$.C/Z]),new Float32Array([8/j,8/Z]),Q.W,Q.C,1/Q.R.l,j,Z,new Float32Array(d),new Float32Array(D),new Float32Array(e.U_.ik(e.U_.RP(C.oe))));
F.drawArrays(F.TRIANGLES,0,6)};_v.yv=function(Q){var C=Q.add.artd.canvasColor;if(C==null)return[0,0,0,0];
return _v.vid(C)};_v.vid=function(Q){var C=e.q.Xa(Q.v),j=[C.h/255,C.J/255,C._/255,1];for(var Z=0;Z<4;
Z++)j[Z]=Math.min(1,j[Z]);return j};_v.GS=function(Q,C){var j=Q[2]*255;if(E.bs)j=C?0:Math.max(1,j);return"rgba("+Q[0]*255+","+Q[1]*255+","+j+","+Q[3]+")"};
_v.y_=function(Q){if(E.bs)for(var C=0;C<Q.length;C+=4){if(Q[C+2]==0)Q[C+2]++}};_v.prototype.yS=function(){var Q=this.xa;
if(Q.buffer==null)return;var C=Q.R,j=C.L.W,Z=C.L.C;this.EA.clearRect(0,0,C.L.W,C.L.C);this.L.clearRect(0,0,C.L.W,C.L.C);
if(Q.add.artd==null){}else{this.L.fillStyle=_v.GS(_v.yv(Q));this.L.fillRect(0,0,C.L.W,C.L.C)}var F=C.mP(),_=C.L.QU(F);
this.L.save();this.L.translate(F.x,F.y);if(Q.add.artd==null){this.L.fillStyle=this.wg;this.L.fillRect(0,0,F.W,F.C)}this.L.restore();
var $=Q.W!=C.Px.W||Q.C!=C.Px.C;if($)C.Px.KL(0,0,Q.W,Q.C);var L=JSON.stringify(C.oe);if(C.l<=1){if(C.l!=this.vP||L!=this.Av||Q.cp){if(C.l!=this.vP||C.Iz==null||$)C.Iz=this.L.createImageData(Math.max(1,F.W),Math.max(1,F.C));
if(C.l<1){var D=e.Ks(Q.buffer,new s(0,0,Q.W,Q.C),C.l,new Uint8Array(C.Iz.data.buffer))}else e.W_(Q.buffer,C.Iz.data);
e.U_.Rc(C.Iz.data,C.Iz.data,e.U_.RP(C.oe))}this.EA.putImageData(C.Iz,F.x,F.y);this.L.drawImage(this.EN,_.x,_.y,_.W,_.C,_.x,_.y,_.W,_.C)}else{var d=C.Gf(),o=new s(0,0,d.W*C.l,d.C*C.l);
o.x=d.x*C.l+F.x;o.y=d.y*C.l+F.y;if(C.l!=this.vP||this.tO){C.FP=e.Q(d.P()*4);C.Iz=this.L.createImageData(o.W,o.C)}e.set(C.FP,0);
e.tW(this.xa.buffer,new s(0,0,Q.W,Q.C),C.FP,d);e.scale.IQ(C.FP,d.W,d.C,C.Iz.data,o.W,o.C,C.l);e.U_.Rc(C.Iz.data,C.Iz.data,e.U_.RP(C.oe));
this.EA.putImageData(C.Iz,o.x,o.y);this.L.drawImage(this.EN,0,0)}this.vdj(Q)};_v.prototype.vdj=function(Q){var C=Q.R,j=C.oe[0]+C.oe[1]+C.oe[2],Z=!1,F=[];
for(var _=0;_<Q.H.length;_++){var $=Q.k[Q.H[_]],L=$.IF;if(L!=1&&L!=3)continue;var D=L==1?$.oH():$.qv(Q).A;
if(D.me)F.push(D)}for(var _=0;_<Q.$W.length;_++)if(Q.$W[_].me)F.push(Q.$W[_]);for(var _=0;_<F.length;
_++){var D=F[_];this.vdo(D.channel,D.rect,C,F.length==1&&j==0?2:1,D.color,D.Uw);Z=!0}var d=this.El;Z=this.viX(Q,this.L,C)||Z;
if(Q.v&&d.ag&&d.ZD.tI){this.vdo(Q.v.channel,Q.v.rect,C,0,0,null);Z=!0}return Z};_v.prototype.vdo=function(Q,C,j,Z,F,_){var $=j.mP(),L,D,d,o=0;
if(_)o=Math.round(_._)<<16|Math.round(_.J)<<8|Math.round(_.h);if(j.l<=1){L=C.clone();L.x=Math.round(L.x*j.l);
L.y=Math.round(L.y*j.l);L.W=Math.floor(L.W*j.l);L.C=Math.floor(L.C*j.l);D=Q;if(j.l<1){if(j.Km==null||j.Km.length<C.P()>>>1){console.log("here");
j.Km=e.Q(C.P()>>>1)}D=j.Km;var v=e.nl(Q,C,j.l,D);L.W=v.rect.W;L.C=v.rect.C}if(j.yk==null||j.yk.length!=L.P()*4)j.yk=e.Q(L.P()*4);
else e.kM(j.yk,0);var f=j.L.clone();f.offset(-$.x,-$.y);d=L.QU(f)}else{var U=j.Gf();L=new s(U.x*j.l,U.y*j.l,U.W*j.l,U.C*j.l);
if(j.yk==null||j.yk.length!=L.P()*4){j.Km=e.Q(L.P());j.yk=e.Q(L.P()*4)}var H=e.Q(U.P());e.set(H,F);e.pQ(Q,C,H,U);
e.scale.yT(H,U.W,U.C,j.Km,L.W,L.C,j.l);e.kM(j.yk,0);D=j.Km}if(Z==0)e.v.vEq(D,j.yk,L,d);else{var B=$.x,m=$.y,Y=$.W,q=$.C;
d=L.QU(new s(0,0,Y,q));if(j.l<=1){this.L.fillStyle=Z==2?_v.GS([F/255,F/255,F/255,1]):_v.GS([_.h/255,_.J/255,_._/255,.5*(1-F/255)]);
var r=B,x=r+d.x,a=x+d.W,i=r+Y,l=m,M=l+d.y,z=M+d.C,V=l+q;this.L.fillRect(B,l,Y,M-l);this.L.fillRect(B,M,x-r,z-M);
this.L.fillRect(a,M,i-a,z-M);this.L.fillRect(B,z,Y,V-z)}e.v.vES(D,j.yk,L,d,Z,o)}_v.y_(j.yk);if(j.l<=1)this.EA.clearRect(0,0,j.L.W,j.L.C);
if(L.P()!=0){var X=new ImageData(new Uint8ClampedArray(j.yk.buffer),L.W,L.C);this.EA.putImageData(X,$.x+L.x,$.y+L.y);
this.L.drawImage(this.EN,0,0)}};_v.prototype.viX=function(Q,C,j){var Z=Q.j.RW||Q.j.Il||Q.j.Vt||Q.j.ca.length!=0||Q.j.lw.length!=0,F=this.El,_=F.ZD,$=j.mP(),L=new rI(j.l,0,0,j.l,$.x+.5,$.y+.5),D=D_.dF[F.Fz],d=Math.round(12*t.s());
if(Q.add.artd){var o=_v.yv(Q)[0];o=o<.5?o+.5:o-.5;o=""+Math.round(o*255).toString(16);while(o.length<2)o="0"+o;
C.fillStyle="#"+o+o+o;C.font=d+"px sans-serif";for(var v=0;v<Q.k.length;v++){var f=Q.k[v];if(f.add.artb==null||!f.ow())continue;
var U=f.se(),H=new Wn(U.x,U.y);H=L.IV(H);C.fillText(f.getName(),Math.round(H.x),Math.round(H.y-6));Z=!0}}var B=_v.GS([.1,.5,1,1]),m=_v.GS([1,1,1,1]);
if(F.ag&&_.te){C.fillStyle=C.strokeStyle=B;C.lineWidth=1.5;var Y=Q.Uh(),q=Y[0],r=Y[1];for(var x=0;x<r.length;
x++){var f=q[r[x]],a=f.add.vmsk,i=a.G,l=e.g.eV(i);this.Cd(l,L,C);C.stroke();Z=!0;var M=Math.round(3*t.s()),z=i.length-3;
for(var v=0;v<a.yV.length;v++){var V=e.D.$n(i,a.yV[v]);if(V==null)continue;var X=$.x+V.x*j.l,O=$.y+V.y*j.l;
C.beginPath();var y=v==0;if(a.bz)y=!y;if(y){C.moveTo(X-M,O-M);C.lineTo(X+M,O+M);C.moveTo(X-M,O+M);C.lineTo(X+M,O-M);
C.stroke()}else{C.arc(X,O,M*1,0,2*Math.PI);C.fill()}Z=!0}if(Q.H.length!=1)continue;var K=-1;for(var v=0;
v<i.length;v++){if(i[v].type>5)continue;if(i[v].type==0||i[v].type==3){if(i[v].rh!=-1)K++;continue}if(a.H.indexOf(K)!=-1){var X=$.x+i[v].d.x*j.l,O=$.y+i[v].d.y*j.l;
C.fillRect(Math.round(X-M+.5),Math.round(O-M+.5),2*M-1,2*M-1)}if(a.hc.indexOf(v)!=-1){var R=[i[v].d];
C.beginPath();C.moveTo($.x+i[v].$_.x*j.l,$.y+i[v].$_.y*j.l);C.lineTo($.x+i[v].d.x*j.l,$.y+i[v].d.y*j.l);
C.lineTo($.x+i[v].jk.x*j.l,$.y+i[v].jk.y*j.l);C.stroke();if(!i[v].d.gm(i[v].$_))R.push(i[v].$_);if(!i[v].d.gm(i[v].jk))R.push(i[v].jk);
for(var W=0;W<R.length;W++){var V=R[W],X=$.x+V.x*j.l,O=$.y+V.y*j.l;if(W==0&&(i[v].type==2||i[v].type==5))C.fillRect(Math.round(X-1.2*M),Math.round(O-1.2*M),Math.round(2.4*M),Math.round(2.4*M));
else{C.beginPath();C.arc(X,O,M*1.2,0,2*Math.PI);C.fill();if(W!=0)C.fillStyle=m;C.beginPath();C.arc(X,O,M*.8,0,2*Math.PI);
C.fill();C.fillStyle=B}}}Z=!0}}}C.fillStyle=C.strokeStyle=_v.GS([0,0,0,1],!0);C.lineWidth=1;if(Q.j.RW){this.Cd(Q.j.RW,L,C);
C.fill()}if(Q.j.Il){this.Cd(Q.j.Il,L,C);C.stroke()}for(var N in Q.j.hh)if(Q.j.hh[N].Il){this.Cd(Q.j.hh[N].Il,L,C);
C.stroke()}C.beginPath();var M=4*t.s(),I=Q.j.CL;for(var v=0;v<I.length;v+=2){Z=!0;var X=$.x+I[v]*j.l,O=$.y+I[v+1]*j.l;
C.rect(X-M+.5,O-M+.5,2*M-1,2*M-1)}C.stroke();var I=Q.j.vxo;C.beginPath();var M=4*t.s();for(var v=0;v<I.length;
v+=2){Z=!0;var X=$.x+I[v]*j.l,O=$.y+I[v+1]*j.l;C.moveTo(X+M-.5,O);C.arc(X,O,M-.5,0,2*Math.PI)}C.fill();
var I=Q.j.FZ;C.fillStyle=_v.GS([1,1,1,1]);C.beginPath();var M=6*t.s();for(var v=0;v<I.length;v+=2){Z=!0;
var X=$.x+I[v]*j.l,O=$.y+I[v+1]*j.l;C.moveTo(X+M-.5,O);C.arc(X,O,M-.5,0,2*Math.PI)}C.fill();var M=4*t.s();
for(var v=0;v<I.length;v+=2){Z=!0;var X=$.x+I[v]*j.l,O=$.y+I[v+1]*j.l;C.fillStyle=_v.GS(Q.j.k$.indexOf(v>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]);
C.beginPath();C.moveTo(X+M-.5,O);C.arc(X,O,M-.5,0,2*Math.PI);C.fill()}if(Q.j.ca.length!=0){for(var v=0;
v<Q.j.ca.length;v++){var T=Q.j.ca[v],h=T[1];C.putImageData(new ImageData(new Uint8ClampedArray(T[0].buffer),h.W,h.C),h.x,h.y)}}if(Q.j.as){Z=!0;
var p=Q.j.as,u=p.Ui,l={u:[],b:[]};for(var v=0;v<p.Ut.length;v++)e.g.concat(l,e.g.iq(p.Ut[v]));l.b=l.b.concat(u);
for(var v=0;v<u.length;v+=4)l.u.push("M","L");C.strokeStyle=_v.GS([.9,.2,.2,1]);this.Cd(l,L,C);C.stroke();
var g=t.s();for(var v=0;v<u.length;v+=4){var X=u[v],O=u[v+1],A=u[v+2],w=u[v+3],r$=Math.sqrt((w-O)*(w-O)+(A-X)*(A-X));
r$=e.oD.ef(r$,Q.zn,F,O==w?Q.W:Q.C);var rW=new Wn((X+A)/2,(O+w)/2);rW=L.IV(rW);C.fillStyle=_v.GS([.9,.2,.2,1]);
var J=C.measureText(r$),rr=J.width;C.fillRect(rW.x-rr/2-2.5*g,rW.y-7.5*g,rr+5*g,15*g);C.fillStyle=_v.GS([1,1,1,1]);
C.fillText(r$,rW.x-rr/2,rW.y+4*g)}}if(F.ag){C.lineWidth=1;if(_.RU){var r_=e.oD.De(_.mu,Q,_.mM),rO=r_;
if(_.mM==4)rO*=Q.C/Q.W;this.KV(Q,$,C,r_,rO,1,_.bM);Z=!0}if(_.Us&&Q.R.l>7){this.KV(Q,$,C,1,1,.5,_.bM);
Z=!0}if(_.Wi){C.beginPath();C.strokeStyle=_v.GS([0,1,1,1]);for(var v=0;v<Q.Wi[0].length;v++){var k=Math.round(Q.R.Br(Q.Wi[0][v],0).x)+.5;
C.moveTo(k,0);C.lineTo(k,Q.R.L.C)}for(var v=0;v<Q.Wi[1].length;v++){var rv=Math.round(Q.R.Br(0,Q.Wi[1][v]).y)+.5;
C.moveTo(0,rv);C.lineTo(Q.R.L.W,rv)}C.closePath();C.stroke()}var rb=Q.Dl;if(_.Dl&&rb.length!=0){var rt=C.font;
C.font=Math.round(d*.8)+"px sans-serif";var rK=[],rR=[];for(var v=0;v<rb.length;v++){var ri=G.bC.QY(rb,v);
rK.push(ri);if(Q.BV.indexOf(v)!=-1)rR.push(ri)}rK.reverse();var ru=Date.now();rK=e.rect.Da([0,0,Q.W,Q.C],rK);
C.translate(.5,.5);for(var W=0;W<2;W++)for(var v=0;v<rK.length;v++){var rS=rK[v],K=rS[4],rg=K!=null?rb[K]:null;
if(rg&&W==0||rg==null&&W==1)continue;var rd=Q.R.Br(rS[0],rS[1]),vO=Q.R.Br(rS[2],rS[3]),X=Math.round(rd.x),O=Math.round(rd.y),A=Math.round(vO.x),w=Math.round(vO.y);
C.strokeStyle=C.fillStyle=_v.GS(rg?[0,.7,.7,1]:[.8,.8,.8,1]);C.beginPath();C.moveTo(X,O);C.lineTo(A,O);
C.lineTo(A,w);C.lineTo(X,w);C.closePath();C.stroke();var rq=v+1,J=C.measureText(rq),rr=J.width;C.fillRect(X-.5,O-.5,Math.round(rr+d/2),d);
C.fillStyle=_v.GS([1,1,1,1]);C.fillText(rq,X+d/4,Math.round(O+d*.8)-.5)}for(var v=0;v<rR.length;v++){var rS=rR[v],rd=Q.R.Br(rS[0],rS[1]),vO=Q.R.Br(rS[2],rS[3]),X=Math.round(rd.x),O=Math.round(rd.y),A=Math.round(vO.x),w=Math.round(vO.y);
C.strokeStyle=C.fillStyle=_v.GS([0,.7,.7,1]);C.beginPath();C.moveTo(X,O);C.lineTo(A,O);C.lineTo(A,w);
C.lineTo(X,w);C.closePath();C.stroke();var rL=[X,O,A,O,A,w,X,w];for(var rl=0;rl<rL.length;rl+=2){var k=rL[rl],rv=rL[rl+1],rV=rL[rl+2&7],ry=rL[rl+3&7];
C.fillRect(k-2.5,rv-2.5,4,4);C.fillRect(Math.round((k+rV)/2)-2.5,Math.round((rv+ry)/2)-2.5,4,4)}}C.translate(-.5,-.5);
C.font=rt;Z=!0}}C.strokeStyle=_v.GS([1,0,0,1]);if(Q.j.Vt){this.Cd(Q.j.Vt,L,C);C.stroke()}if(F.XZ){if(Q.R.ZA==null||Q.R.ZA.width!=Q.R.L.W||Q.R.lc.height!=Q.R.L.C){Q.R.ZA=C.createImageData(Q.R.L.W,e.oD.h$);
Q.R.lc=C.createImageData(e.oD.h$,Q.R.L.C)}var D=D_.dF[F.Fz],j=Q.R,vj=j.l*Q.W/2,rp=j.l*Q.C/2,rx=[1,Q.zn,Q.zn/2.54,Q.zn/25.4,Q.W/100][_.xc],rF=j.l,DX=j.f.clone();
j.l*=rx;j.f.x+=vj*rx-vj;j.f.y+=rp*rx-rp;e.oD.vsO(j,D["--text-color"],D["--bg-input"]);j.l=rF;j.f=DX;
var va=vz.vSp(j.l,_v.GS([1,1,1,1]));_v.y_(Q.R.lc.data);_v.y_(Q.R.ZA.data);C.putImageData(Q.R.lc,0,0);
C.putImageData(Q.R.ZA,0,0);C.putImageData(va,0,Q.R.L.C-va.height)}if(Q.j.lw.length!=0){for(var v=0;v<Q.j.lw.length;
v++){var T=Q.j.lw[v],h=T[1];C.putImageData(new ImageData(new Uint8ClampedArray(T[0].buffer),h.W,h.C),h.x,h.y)}}return Z||F.XZ||Q.Wi[0].length+Q.Wi[1].length>0};
_v.prototype.KV=function(Q,C,j,Z,F,_,$){while(Z*Q.R.l<4){Z*=2;F*=2}var L=C.x,D=L+C.W,d=C.y,o=d+C.C;j.beginPath();
j.strokeStyle=_v.GS([.5,.5,.5,_],!0);for(var v=0;v<=Q.W;v+=Z){var f=Math.round(Q.R.Br(v,0).x)+.5;j.moveTo(f,d);
j.lineTo(f,o)}if($==0){for(var U=0;U<=Q.C;U+=F){var H=Math.round(Q.R.Br(0,U).y)+.5;j.moveTo(L,H);j.lineTo(D,H)}}else{F*=Math.sqrt(4/3);
var B=(D-L)*(F/(2*Z)),m=F*Math.floor(Q.W/F);for(var U=-m;U<=Q.C+m;U+=F){var H=Math.round(Q.R.Br(0,U).y)+.5,Y=H-B,q=H+B;
this.vah(j,L,d,D,o,H,Y);this.vah(j,L,d,D,o,H,q)}}j.closePath();j.stroke()};_v.prototype.vah=function(Q,C,j,Z,F,_,$){var L=C,D=Z,d=_,o=$,v=0,f=1,U=D-L,H=o-d,B,m,Y;
for(var q=0;q<4;q++){if(q==0){B=-U;m=-(C-L)}if(q==1){B=U;m=Z-L}if(q==2){B=-H;m=-(j-d)}if(q==3){B=H;m=F-d}Y=m/B;
if(B==0&&m<0)return!1;if(B<0){if(Y>f)return!1;else if(Y>v)v=Y}else if(B>0){if(Y<v)return!1;else if(Y<f)f=Y}}var r=L+v*U,x=d+v*H,a=L+f*U,i=d+f*H;
Q.moveTo(r,x);Q.lineTo(a,i)};_v.prototype.Cd=function(Q,C,j){j.beginPath();var Z=e.g.clone(Q);e.g.M(Z.b,C,Z.b);
Typr.U.pathToContext({cmds:Z.u,crds:Z.b},j)};_v.Ja=function(Q){E.rZ.call(this);this.vQm=Q;var C="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform vec3 imgSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(Q?"uniform vec4 bgClr;  uniform vec4 ars[32];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+E.Vc.lA+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = ctrn*texture2D(target, sCoord); "+(Q?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<32; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=vec4(0.0,0.0,0.0,0.0); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),imgSizeZoom.xy, sCoord*imgSizeZoom.xy+vec2(0.0,-6.0*imgSizeZoom.z) , 10.0*imgSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",j="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec2 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgCoord = (sCoord * srct.zw) / gsize ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this._w(C,j)};_v.Ja.prototype=new E.rZ;_v.Ja.prototype.EG=function(Q,C,j,Z,F,_,$,L,D,d,o,v){this.V$("srct gsize source target imgSizeZoom cnvSize ars bgClr ctrn".split(" "));
var f=E.Dn,U=this.qi;f.uniform4fv(U.srct,j);f.uniform2fv(U.gsize,Z);f.uniform3f(U.imgSizeZoom,F,_,$);
f.uniform2f(U.cnvSize,L,D);f.uniformMatrix4fv(U.ctrn,!1,v);if(this.vQm){f.uniform4fv(U.ars,d);f.uniform4fv(U.bgClr,o)}f.uniform1i(U.source,0);
f.uniform1i(U.target,1);f.activeTexture(f.TEXTURE0);f.bindTexture(f.TEXTURE_2D,Q);f.activeTexture(f.TEXTURE1);
f.bindTexture(f.TEXTURE_2D,C);f.activeTexture(f.TEXTURE0)};function DP(){re.call(this,[9,7],!1,null,re.Hb.vWH);
this.qA.setAttribute("style","min-width:240px;");this.i_=null;this.dj=-1;this.vtD=[];this.ko=t.e("div","scrollable");
this.ko.style.height="160px";this.qA.appendChild(this.ko);this.ps=t.e("div","lpfoot");this.qA.appendChild(this.ps);
this.VP=[];var Q=["reload","lrs/newlayer","lrs/bin"],C=[[5,10],[5,3],[5,4]];for(var j=0;j<Q.length;j++){var Z=new rs("<img src=\""+PIMG[Q[j]]+"\" class=\"gsicon\" />",!1,C[j]);
Z.p("click",this.via,this);this.ps.appendChild(Z.w);this.VP.push(Z)}}DP.prototype=new re("");DP.prototype.lo=function(Q){var C=new P(t.E.a,!0);
C.data=Q;C.Y=G.CN;this.Z(C)};DP.prototype.via=function(Q){var C=this.VP.indexOf(Q.currentTarget);if(C!=1)if(this.dj==-1)return;
this.lo({$:["updLC","addLC","delLC"][C],BW:this.dj});if(C==2)this.dj=-1};DP.prototype.N=function(){re.prototype.N.call(this);
for(var Q=0;Q<this.VP.length;Q++)this.VP[Q].N()};DP.prototype.Ik=function(Q){if(Q==null)t._I(this.qA,"disabled");
else t.Zy(this.qA,"disabled");this.i_=Q;t.pi(this.ko);if(Q==null)return;var C=Q.Jb.lastAppliedComp?Q.Jb.lastAppliedComp.v:0,j=Q.Jb.list.v.slice(0);
j.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var Z=0;Z<j.length;
Z++){var F=j[Z].v,_=new $g(F.Nm.v,F.compID.v,F.capturedInfo.v,C,this.dj);_.p("activate",this.qC,this);
_.parent=this;this.ko.appendChild(_.w);this.vtD.push(_)}};DP.prototype.qC=function(Q){this.dj=Q.currentTarget.BW;
this.Ik(this.i_)};function $g(Q,C,j,Z,F){rJ.call(this);this.BW=C;this.w=t.e("div","head listitem"+(C==F?" selected":""));
var _=C==Z,$=new rs("<b>"+(_?"\u2713":"\u2014")+"</b>");if(_)$.In();this.w.appendChild($.w);$.p("click",this.cI,this);
var L=this.tX=t.e("span");L.textContent=Q;this.w.appendChild(L);this.VP=[];if(C!=0){this.w.addEventListener("mouseup",this.qC.bind(this),!1);
this.vRr=t.e("span","headR");this.w.appendChild(this.vRr);var D=["lrs/eye","pos","lrs/fx"],d=["Visibility","Position","Appearance"];
for(var o=0;o<D.length;o++){var v=new rs("<img src=\""+PIMG[D[o]]+"\" class=\"autoscale gsicon\" />",!1,d[o]);
if((j>>o&1)==0)v.w.setAttribute("style","opacity:0.3");v.p("click",this.vix,this);this.vRr.appendChild(v.w);
this.VP.push(v)}}}$g.prototype=new rJ;$g.prototype.qC=function(Q){if(Q.target!=this.tX&&Q.target!=this.w)return;
if(Q.detail==1)this.Z(new P("activate",!1));else{var C=new re._r(this.tX,this._z.bind(this))}};$g.prototype.vix=function(Q){var C=this.VP.indexOf(Q.currentTarget);
this.lo({$:"editLC",vqM:C,BW:this.BW})};$g.prototype._z=function(Q){this.lo({$:"editLC",Ww:Q,BW:this.BW})};
$g.prototype.cI=function(Q){this.lo({$:"setLC",BW:this.BW})};$g.prototype.lo=function(Q){var C=new P(t.E.a,!0);
C.data=Q;C.Y=G.CN;this.Z(C)};function $u(){re.call(this,[9,11],!1,null,re.Hb.vrd);var Q=t.e("div","padded");
Q.setAttribute("style","min-width:15em");this.qA.appendChild(Q);var C=t.e("div");Q.appendChild(C);C.setAttribute("style","cursor:grab;");
this.bn=t.e("canvas");this.bn.width=100;C.appendChild(this.bn);t.W$(this.bn);t.BF(this.bn,this.iO.bind(this));
this.t_=new _p(null,0,G.VF.JH.length-1);this.t_.p(t.E.U,this.viC,this);Q.appendChild(this.t_.w);this.vRS=this._e.bind(this);
this.vRL=this.Q_.bind(this);this.gc=null}$u.prototype=new re("");$u.prototype.b_=function(Q,C){this.MT()};
$u.prototype.viC=function(Q){var C=this.t_.K(),j=this.gc,Z=G.VF.JH[G.VF.JH.length-1-C],F=new P(t.E.a,!0);
F.Y=G.Eq;F.data={$:"zoom",l:Z};this.Z(F)};$u.prototype.iO=function(Q){if(this.gc==null)return;t.og(window,this.vRS);
t.oF(window,this.vRL)};$u.prototype._e=function(Q){var C=t.Gp(Q,this.bn),j=this.gc,Z=this.bn.width,F=this.bn.height,_=(C.x*t.s()-Z/2)/Z,$=(C.y*t.s()-F/2)/F,L=t.s()*j.R.l,D=Math.round(-j.R.l*j.W*_),d=Math.round(-j.R.l*j.C*$);
G.hZ.Y$(j,D,d)};$u.prototype.Q_=function(Q){t.wf(window,this.vRS);t.Ab(window,this.vRL)};$u.prototype.Ik=function(Q){if(Q==null&&this.gc!=null)this.bn.width=100;
this.gc=Q;this.MT()};$u.prototype.MT=function(){var Q=this.gc,j=0;if(Q==null||Q.R.l==0)return;if(!t.sY(this.qA))return;
this.t_.t(G.VF.JH.length-1-G.VF.gF(Q.R.l));var C=300*t.s(),Z=[Q.ln(),new s(0,0,Q.W,Q.C)];e.aR(Z);while(Math.max(Z[j+1].W,Z[j+1].C)>C){j+=2}var F=Z[j],_=Z[j+1],$=_.W,L=_.C,D=this.bn;
D.width=$;D.height=L;t.GI(D,$,L);var d=D.getContext("2d"),o=d.createImageData($,L);e.W_(F,o.data);d.putImageData(o,0,0);
var v=Q.R.Gf(),f=$/Q.W;d.scale(f,f);d.lineWidth=4/f;d.strokeStyle="#ff0000";d.strokeRect(v.x,v.y,v.W,v.C)};
$u.prototype.VD=function(Q,C){};$u.prototype.xp=function(){this.MT()};function $x(Q){if(Q==null){re.call(this);
return}var C=Q.id;if(C==null)C="plg_"+Q.name;re.call(this,Q.name,!1,Q.icon,C);var j=t.e("iframe","padded");
j.setAttribute("src",Q.url);j.setAttribute("style","width:"+Q.width+"px; height:"+Q.height+"px");this.qA.appendChild(j)}$x.prototype=new re("");
function $F(){$x.call(this,{id:re.Hb.vrn,name:"Gallery",url:"plugins/gallery.html",width:400,height:400,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAADxQTFRFAAAA////////////////////////////////////////////////////////////////////////////2EloEwAAABR0Uk5TAP8GD/MW0yBZ54Z4wEcvqbaVbqOHZj16AAACiklEQVR4nO2a2YKDIAwAixeeVdv//9fVrlWQgIAQHpp53LVmqomJlMeDIAiCIAjioGyrgkWnqNoSjl8jRN8cajA+VvgVwKBE+/4rhXoXWsz4jLWKQIUrUCkCqHdguQeKAG58xvQCuioNAW+vBdTsCMp8KRDx+688LwXixn+UJEACWAK86xvGmr7jSQT4eDzyRkkhRxGQRxtp/EAR6NiJDlcAGK2Oa4AgwIHGXux5gCAwqvGXTMQT4FB8xr6XIL6AkoH/fPMwvkAPC0xoAg0s0KAJwPH38/6AQPJbkDwJk5dh8gdR8kcxRjPKM+O/I7fjvF0KrapNDlEHEr6tI4wmg4gjWb6vY7xNBtGG0mw6Tjwbj+TdtI7l03ksvykgLSR1xkM13BM45fcLW+B5rnBwvTGeAFcb3eAskPkL5MBCXvHEE8jAZ7yzgb+AZiW14boPBBbQLmVX6qpWaVjo8hVQCkAwyOVDhyVXKm12egqUmknvQy89lF//f9QZ+Alk5pXs6TDIvguRhcbATwAsAIG9MeVHr9DUh5eAZs4U2BoTF69UAxr4CNj8lvNeM7GWMwWsUA8BQwEIFOOsJApQoR4CxgK44FyhPgKZ5k3Hjl4Zm5wF3nfiSxXqJ3BdABecR0dHgeFufGV0dBOwK4AL5N+AnATuFICANDq6CNwrAIHaU2CGT+fB4CXwChZfbI32AgEKQDB4OgtAb/k32FujrQA0g98z4E4C4ktoILbWaCkQrgAEg9xeIGABCHxao5VA0AIQWFujjUDgAhAYMxuB4AUgMFsIRCgAgfZaIPJ2nj2/tQJYkAAJkAAJkAAJKALJt3Qm39SafFtv8o3Nybd2p9/cnn57P0EQBEEQP8of0kskEgrfunYAAAAASUVORK5CYII="})}$F.prototype=new $x;
function $O(){re.call(this,[9,12],!1,null,re.Hb.G_);this.VO=null;this.Fa=new DK(G.LX);this.Fa.parent=this;
var Q=t.e("div","padded");Q.setAttribute("style","width:20em");this.qA.appendChild(Q);Q.appendChild(this.Fa.on)}$O.prototype=new re("");
$O.prototype.xp=function(){this.Fa.Ip(this.VO.ti)};$O.prototype.VD=function(Q,C){this.VO=Q;if(C==rQ.yY||C==rQ.G_)this.Fa.Ip(Q.ti)};
$O.prototype.b_=function(Q,C){this.Fa.vsX(this.VO.JT)};$O.prototype.N=function(){re.prototype.N.call(this);
this.Fa.N()};function vu(){rJ.call(this);this.Y=0;this.Fy=null;this.w=t.e("div","toolconf");this.Fa=null;
this.AD=null;this.body=new t.e("div","body")}vu.prototype=new rJ;vu.prototype.vic=function(Q,C){this.Y=Q;
this.Fy=C;if(G.Mc[Q]){var j=this.Fa=new DK(Q);this.w.appendChild(j.w);j.parent=this}else{this.AD=t.e("div");
this.w.appendChild(this.AD)}this.w.appendChild(this.body);this.N()};vu.prototype.vBi=function(Q,C){};
vu.prototype.vxH=function(Q){};vu.prototype.VD=function(Q,C){if(C==rQ.yY||C==rQ.G_)if(this.Fa)this.Fa.Ip(Q.ti)};
vu.prototype.hM=function(Q){};vu.prototype.N=function(){if(this.Fa)this.Fa.N();else this.AD.innerHTML=t.Pr(this.Fy,null,"toolicon");
this.wA()};vu.prototype.wA=function(){};function vE(Q){vu.call(this);if(Q==null)return;this.VO=null;
this.XP={};for(var C=0;C<Q.length;C++){var j=Q[C],Z=null;if(j=="brush"){Z=new $Q}if(j=="bmode"){Z=new rc([12,19,0],rP.yg,!1,rP.pP)}if(j=="bmode0"){Z=new rc([12,19,0],rP.yg.slice(23),!1)}if(j=="emode"){Z=new rc([12,36],[[9,3],[10,38]])}if(j=="opacity"){Z=new vf([12,0],0,100,"%");
Z.t(100)}if(j=="flow"){Z=new vf([12,63],0,100,"%");Z.t(100)}if(j=="smth"){Z=new vf([19,3,0],0,100,"%");
Z.t(0)}if(j=="samp"){Z=new rc("Sampling",["Brush Center","Start of Stroke","Background Color"])}if(j=="wconf"){Z=new bn;
Z.t([40,!0,!0])}if(j=="strn"){Z=new vf([12,64],1,100,"%");Z.t(50)}if(j=="smode"){Z=new rc([12,36],[[19,7,0],[19,7,1]]);
Z.t(1)}if(j=="pdetail"){Z=new vg([12,65]);Z.In()}if(j=="rng"){Z=new rc([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
Z.t(1)}if(j=="expo"){Z=new vf([12,5],0,100,"%");Z.t(50)}if(j=="algnd"){Z=new vg([12,75]);Z.t(!1)}if(j=="sfrom"){Z=new rc([12,70],[[17,1],[17,3],[17,0]])}if(j=="alt"){Z=new tV(null,["Alt"],!0,["Select Source"])}if(j=="qsmode"){Z=new vp([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(j=="redge"){Z=new rs([7,11],!1,null,!0)}if(j=="setop"){Z=new bO}if(j=="patch"){Z=new vp(null,[[12,70],[12,71]])}if(j=="prsr"){Z=new tV(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
Z.t([!1,!0])}Z.parent=this;this.body.appendChild(Z.w);this.XP[j]=Z;if(j=="brush")Z.p(t.E.U,this.vOp,this);
else if(j=="redge")Z.p("click",this.ys,this);else Z.p(t.E.U,this.VJ,this)}}vE.prototype=new vu;vE.prototype.vBi=function(Q,C){Q=Q[1];
var j=this.XP;if(Q.Md)j.bmode.t(rP.kQ.indexOf(Q.Md.v.BlnM));if(Q.Opct)j.opacity.t(Q.Opct.v);if(Q.flow)j.flow.t(Q.flow.v);
if(Q.Brsh)j.brush.t(Q,C.yD._G,C.yD.vf);if(Q.FrgC){var Z=e.q.Xa(Q.FrgC.v),F=new P(t.E.m,!0);F.data={$:t.i.yN,Vh:rQ.TH,zW:0,O:Z.h<<16|Z.J<<8|Z._};
this.Z(F)}this.vOp();this.VJ()};vE.prototype.vxH=function(){if(G.Mc[this.Y]==null)return null;var Q=this.XP,C=JSON.parse(JSON.stringify(Q.brush.K()));
C.classID=G.Mc[this.Y][1][0];if(Q.bmode)C.Md={t:"enum",v:{BlnM:rP.kQ[Q.bmode.K()]}};if(Q.opacity)C.Opct={t:"long",v:Q.opacity.K()};
if(Q.flow)C.flow={t:"long",v:Q.flow.K()};var j=this.VO.pd;j={h:j>>>16,J:j>>>8&255,_:j&255};C.FrgC={t:"Objc",v:e.q.mx(j)};
return["Brush Preset "+C.Brsh.v.Dmtr.v.val,C]};vE.prototype.ys=function(){var Q=new P(t.E.m,!0);Q.data={$:t.i.kN,ul:"redge"};
this.Z(Q)};vE.prototype.wA=function(){for(var Q in this.XP)this.XP[Q].N()};vE.prototype.hM=function(Q){if(Q.vBC=="showBrushOpts"){this.XP.brush.vbh(Q.Tj.x,Q.Tj.y)}for(var C in Q.tV){var j=Q.tV[C];
if(C!="qsmode")j*=100;if(this.XP[C])this.XP[C].t(j)}};vE.prototype.VD=function(Q,C){vu.prototype.VD.call(this,Q,C);
this.VO=Q;var j=this.XP.brush;if(j==null)return;if(C==rQ.yY||C==rQ.LX)j.Ip(Q.yD);if(C==rQ.vH){j.t(Q.yD.US,Q.yD._G,Q.yD.vf)}};
vE.prototype.vOp=function(){var Q=new P(t.E.m,!0);Q.data={$:t.i.yN,Vh:rQ.vH,Gh:this.XP.brush.K()};this.Z(Q)};
vE.prototype.VJ=function(){var Q=new P(t.E.m,!0);Q.data={$:t.i.Az,Y:this.Y};for(var C in this.XP){if(C=="brush"||C=="redge")continue;
var j=this.XP[C].K();if(["opacity","flow","smth","strn","expo"].indexOf(C)!=-1)Q.data[C]=j/100;else if(C=="bmode")Q.data.bmode=rP.Cg[j];
else if(C=="bmode0")Q.data.bmode=rP.Cg[23+j];else Q.data[C]=j}this.Z(Q)};function vk(Q){vu.call(this);
if(Q)return;this.data={$:t.i.Az,xI:"front",hD:0,co:[10,!0,!0],Im:{bd:0,x:1,y:1}};this.dq=new bO;this.body.appendChild(this.dq.w);
this.dq.p(t.E.U,this._q,this);this.Um=new vf([7,6],0,100," px");this.Um.parent=this;this.Um.t(0);this.body.appendChild(this.Um.w);
this.Um.p(t.E.U,this._q,this);this.AW=new rs([7,11],!1,null,!0);this.body.appendChild(this.AW.w);this.AW.p("click",this.ys,this)}vk.prototype=new vu;
vk.prototype.hM=function(Q){if(Q.xI!=null)this.dq.t(Q.xI);else{var C=vk.dl;if(C==null){var j=_Y.vKB(!0);
C=vk.dl=new QG(j.items,j.Q$)}C.N();C.parent=this;C.update(Q.Jv,Q.El);var Z=new P(t.E.m,!0);Z.data={$:t.i.Ko,kU:C,x:Q.tc.wh+2,y:Q.tc.BY+1};
this.Z(Z)}};vk.prototype.wA=function(){this.Um.N();this.dq.N();this.AW.N()};vk.prototype.ys=function(){var Q=new P(t.E.m,!0);
Q.data={$:t.i.kN,ul:"redge"};this.Z(Q)};vk.prototype._q=function(){var Q=new P(t.E.m,!0);this.data.Y=this.Y;
this.data.xI=this.dq.K();this.data.hD=this.Um.K();Q.data=this.data;this.Z(Q)};function $c(){vE.call(this,["brush","strn"])}$c.prototype=new vE;
function $f(){vE.call(this,"brush bmode opacity flow smth prsr".split(" "))}$f.prototype=new vE;function $h(){vE.call(this,["brush","bmode0","samp","wconf"])}$h.prototype=new vE;
function $o(){vE.call(this,["brush"])}$o.prototype=new vE;function $G(){vE.call(this,"brush bmode opacity flow smth prsr".split(" "))}$G.prototype=new vE;
function $P(){vE.call(this,["brush","rng","expo"])}$P.prototype=new vE;function $e(){vE.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}$e.prototype=new vE;
function DD(Q){vu.call(this);if(Q==null)return;var C=t.e("span","fitem");this.body.appendChild(C);var j=[[17,0],[17,1],[11,12,0],[17,2]];
this.jo=[];for(var Z=0;Z<j.length;Z++){var F=new rs(j[Z],!1,null,!0);this.jo.push(F);F.p("click",this.vio,this);
if(!Q||Z==1)C.appendChild(F.w)}this.Im=new tc;this.Im.p(t.E.U,this.viN,this);if(!Q)this.body.appendChild(this.Im.w);
this.qr=new tq;this.qr.p("click",this.ap,this)}DD.prototype=new vu;DD.prototype.wA=function(){this.qr.N();
for(var Q=0;Q<this.jo.length;Q++)this.jo[Q].N();this.Im.N()};DD.prototype.hM=function(Q){var C=this.qr.w;
if(Q.TJ)this.body.appendChild(C);else if(this.body.contains(C))this.body.removeChild(C);if(Q.Im)this.Im.t(Q.Im)};
DD.prototype.ap=function(Q){var C={$:t.i.Az,Y:this.Y,zR:this.qr.K()?"commit":"cancel"},j=new P(t.E.m,!0);
j.data=C;this.Z(j)};DD.prototype.vio=function(Q){Q.target.w.blur();var C={$:t.i.Az,Y:this.Y,zR:"cropby",vks:this.jo.indexOf(Q.target)},j=new P(t.E.m,!0);
j.data=C;this.Z(j)};DD.prototype.viN=function(Q){var C={$:t.i.Az,Y:this.Y,zR:"config",FQ:{WP:this.Im.K()}},j=new P(t.E.m,!0);
j.data=C;this.Z(j)};function $N(){DD.call(this,!1)}$N.prototype=new DD;function $w(){DD.call(this,!0)}$w.prototype=new DD;
function $A(){vE.call(this,["brush","rng","expo"])}$A.prototype=new vE;function $U(){vE.call(this,"brush emode opacity flow smth prsr".split(" "))}$U.prototype=new vE;
function $n(){vE.call(this,["brush","samp","wconf"])}$n.prototype=new vE;function $M(){vk.call(this);
this.Im=new tc;this.Im.p(t.E.U,this.yE,this);this.body.appendChild(this.Im.w)}$M.prototype=new vk(!0);
$M.prototype.yE=function(Q){this.data.Im=this.Im.K();this._q()};$M.prototype.wA=function(){vk.prototype.wA.call(this);
this.Im.N()};function WO(){vu.call(this);this.ta=new rc([12,20],["1x1","3x3","5x5","11x11","31x31"]);
this.ta.p(t.E.U,this.VJ,this);this.body.appendChild(this.ta.w)}WO.prototype=new vu;WO.prototype.VJ=function(Q){var C=new P(t.E.m,!0);
C.data={$:t.i.Az,Y:this.Y,UF:[1,3,5,11,31][this.ta.K()]};this.Z(C)};WO.prototype.wA=function(){this.ta.N()};
function $l(){vu.call(this);this.gt=new vY(!1);this.gt.parent=this;this.gt.p(t.E.U,this.GJ,this);this.body.appendChild(this.gt.w);
this.gt.t(JSON.parse(WM.Gu.vRA).v);this.tx=new rc(null,WM.q.names.slice(0,5));this.tx.p(t.E.U,this.GJ,this);
this.body.appendChild(this.tx.w);this.tF=new rc([12,19,0],rP.yg,null,rP.pP);this.tF.p(t.E.U,this.GJ,this);
this.body.appendChild(this.tF.w);this.gv=new vf([12,0],0,100,"%");this.gv.parent=this;this.gv.p(t.E.U,this.GJ,this);
this.body.appendChild(this.gv.w);this.gv.t(100);this.tZ=new vg([12,23,0]);this.tZ.p(t.E.U,this.GJ,this);
this.body.appendChild(this.tZ.w);this.th=new vg("Dither");this.th.p(t.E.U,this.GJ,this);this.body.appendChild(this.th.w)}$l.prototype=new vu;
$l.prototype.wA=function(){this.tx.N();this.tF.N();this.gv.N();this.tZ.N();this.th.N()};$l.prototype.VD=function(Q,C){vu.prototype.VD.call(this,Q,C);
var j=C==rQ.TH;this.gt.Xj(Q.pd,Q.JD);if(j||C==rQ.dZ||C==rQ.yY)this.gt.Ip(Q.WY)};$l.prototype.GJ=function(){var Q=new P(t.E.m,!0);
Q.data={$:t.i.Az,Y:this.Y};Q.data.Vh={q:this.gt.K(),oK:WM.q.types[this.tx.K()],bz:this.tZ.CC(),vpE:this.th.CC(),vsq:rP.Cg[this.tF.K()],_v:this.gv.K()/100};
this.Z(Q)};function WD(){vu.call(this)}WD.prototype=new vu;function W$(){vE.call(this,["brush","algnd","sfrom","alt"])}W$.prototype=new vE;
function $k(){vu.call(this);this.TY=new ta;this.TY.parent=this;this.body.appendChild(this.TY.Rl.w);this.body.appendChild(this.TY.RS.w);
this.body.appendChild(this.TY.jz.w);var Q=t.e("span","fitem");this.body.appendChild(Q);Q.appendChild(this.TY.eT.w);
Q.appendChild(this.TY.ek.w);Q.appendChild(this.TY.eu.w);this.Tc=new rs([11,9],!1,null,!0);this.Tc.p("click",this.viw,this);
this.body.appendChild(this.Tc.w);this.qr=new tq;this.qr.p("click",this.ap,this)}$k.prototype=new vu;
$k.prototype.wA=function(){this.qr.N();this.TY.N();this.Tc.N()};$k.prototype.viw=function(Q){var C={$:t.i.Az,Y:this.Y,zR:"showwarp"},j=new P(t.E.m,!0);
j.data=C;this.Z(j)};$k.prototype.hM=function(Q){if(Q.zR=="showactive")this.body.appendChild(this.qr.w);
if(Q.zR=="hideactive")this.body.removeChild(this.qr.w)};$k.prototype.VD=function(Q,C){vu.prototype.VD.call(this,Q,C);
if(C!=rQ.yY&&C!=rQ.tq&&C!=rQ.vR&&C!=rQ.tp)return;this.TY.t(Q.Bz,Q.ho,Q.AG)};$k.prototype.ap=function(Q){var C={$:t.i.Az,Y:this.Y,zR:this.qr.K()?"commit":"cancel"},j=new P(t.E.m,!0);
j.data=C;this.Z(j)};function Wr(){vk.call(this)}Wr.prototype=new vk(!0);function $I(){vu.call(this);
var Q=[],j="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.dk=new vg([12,85]);this.dk.p(t.E.U,this.VJ,this);Q.push(this.dk.w);this.dE=new vg([20,1]);this.dE.p(t.E.U,this.VJ,this);
Q.push(this.dE.w);this.dd=new vg([12,83]);this.dd.p(t.E.U,this.VJ,this);Q.push(this.dd.w);var C=t.e("span","fitem");
Q.push(C);this.vjT=new rc("Scale for exported files",["1x","2x","3x","4x"],!0);C.appendChild(this.vjT.w);
this.Ar=new rs(j+" PNG",!1,null,!0);C.appendChild(this.Ar.w);this.Ar.p("click",this.yX,this);this.vja=new rs(j+" SVG",!1,null,!0);
C.appendChild(this.vja.w);this.vja.p("click",this.yX,this);var Z=t.e("span","fitem");Q.push(Z);var F=t.e("span","fitem");
Q.push(F);this.VP=[];for(var _=0;_<8;_++){var $=_==3||_==7?[20,4,6]:[20,4,_<3?_:_-1],L=new rs("Hi",!1,$);
(_<4?Z:F).appendChild(L.w);L.p("click",this.yX,this);this.VP.push(L)}for(var _=0;_<Q.length;_++)this.body.appendChild(Q[_]);
this.vjU=Q}$I.prototype=new vu;$I.prototype.hM=function(Q){var C=Q.mK,j=Q.vmv;this.dk.t(C.h_);this.dE.t(C.hi);
this.dd.t(C.as);if(j){t.pi(this.body);for(var Z=0;Z<j.length;Z++)if(j[Z]==1&&this.vjU[Z])this.body.appendChild(this.vjU[Z])}};
$I.prototype.yX=function(Q){var C=this.VP.indexOf(Q.target),j;if(C==-1){j=new P(t.E.m,!0);j.data={$:t.i.Az,Y:this.Y,zW:Q.target==this.Ar?"getPNG":"getSVG",vdJ:this.vjT.K()+1}}else{j=new P(t.E.a,!0);
j.Y=G.hj;j.data={$:"algn",O:C}}this.Z(j)};$I.prototype.VJ=function(Q){var C=new P(t.E.m,!0);C.data={$:t.i.Az,Y:this.Y,zW:"prms",h_:this.dk.CC(),hi:this.dE.CC(),as:this.dd.CC()};
this.Z(C)};$I.prototype.wA=function(){this.dk.N();this.dE.N();this.dd.N();var Q="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var C=0;C<8;C++){this.VP[C].hE(t.Pr("align/"+Q[C],null,"autoscale"))}};function WQ(){vk.call(this);
var Q=this.Tf=new bn;Q.parent=this;Q.p(t.E.U,this.vlb,this);this.body.appendChild(Q.w)}WQ.prototype=new vk(!0);
WQ.prototype.vlb=function(Q){this.data.co=this.Tf.K();this._q()};WQ.prototype.wA=function(){vk.prototype.wA.call(this);
this.Tf.N()};function Wt(){vE.call(this,["setop","patch"])}Wt.prototype=new vE;function Wb(){vE.call(this,["bmode","opacity","wconf"])}Wb.prototype=new vE;
function WK(){vk.call(this)}WK.prototype=new vk(!0);function WR(){vk.call(this)}WR.prototype=new vk(!0);
function Wj(){vk.call(this);this.Im=new tc;this.Im.p(t.E.U,this.yE,this);this.body.appendChild(this.Im.w)}Wj.prototype=new vk(!0);
Wj.prototype.yE=function(Q){this.data.Im=this.Im.K();this._q()};Wj.prototype.wA=function(){vk.prototype.wA.call(this);
this.Im.N()};function Wv(){vu.call(this);this.FE=[new $q("X",null,3),new $q("Y",null,3),new $q("W",null,3),new $q("H",null,3),new $q([12,15],null,4),new $q([12,80,0],null,4),new rs([15,7,6],!1,null,!0)];
for(var Q=0;Q<this.FE.length;Q++){var C=this.FE[Q];this.body.appendChild(C.w)}this.FE[6].p("click",this.vlz,this);
this.tG=0}Wv.prototype=new vu;Wv.prototype.vlz=function(Q){if(this.tG==0){return}var C=new P(t.E.a,!0);
C.Y=G.sI;C.data={$:"rot",vA:[2,5],O:-this.tG};this.Z(C)};Wv.prototype.hM=function(Q){var C=Q.vmj,j=Q.lY,Z=j.x-C.x,F=j.y-C.y,_=this.FE;
this.tG=-Math.atan2(F,Z);_[0].t(C.x);_[1].t(C.y);_[2].t(Z);_[3].t(F);_[4].t((this.tG*180/Math.PI).toFixed(2));
_[5].t(Math.sqrt(Z*Z+F*F).toFixed(2))};Wv.prototype.wA=function(){var Q=this.FE;for(var C=0;C<Q.length;
C++)Q[C].N();t.eK(Q[2],Q[3])};function Wq(){vE.call(this,["brush","strn","pdetail"])}Wq.prototype=new vE;
function Wi(){vE.call(this,["brush"]);this.vjn=[];var Q=[[7,12]];for(var C=0;C<Q.length;C++){var j=new rs(Q[C],!1,null,!0);
this.vjn.push(j);j.parent=this;this.body.appendChild(j.w);j.p("click",this.vla,this)}}Wi.prototype=new vE;
Wi.prototype.vla=function(Q){var C=this.vjn.indexOf(Q.currentTarget),j=new P(t.E.xD,!0);j.data=G.WR.Jh("contentAware");
this.Z(j)};function Wl(){vE.call(this,["brush","strn"])}Wl.prototype=new vE;function Wg(){vE.call(this,["brush","flow","smode"])}Wg.prototype=new vE;
function $p(){vu.call(this);this.Ie=!1;var Q=t.e("span","fitem");this.body.appendChild(Q);this.dX=new vp(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
Q.appendChild(this.dX.w);this.dX.p(t.E.U,this.VJ,this);this.tA=new rs([20,2]);this.body.appendChild(this.tA.w);
this.tA.p("click",this.vvs,this);this.A_=new rs([20,3]);this.body.appendChild(this.A_.w);this.A_.p("click",this.vvs,this)}$p.prototype=new vu;
$p.prototype.wA=function(){this.tA.N();this.A_.N()};$p.prototype.VJ=function(){var Q={$:t.i.Az,Y:this.Y,Gb:this.dX.K()==0},C=new P(t.E.m,!0);
C.data=Q;this.Z(C)};$p.prototype.hM=function(Q){if(this.Ie!=Q.Ie)this.dX.t(1-this.dX.K());this.Ie=Q.Ie};
$p.prototype.vvs=function(Q){var C=new P(t.E.a,!0);C.Y=G.Eq;C.data={$:"adapt",O:Q.target==this.tA?"pixel":"fitscr"};
this.Z(C)};function _X(Q,C){vu.call(this);if(Q==null)return;this.XP={};var j=[[12,76,0],[12,76,1]];if(C==null)j.push([12,76,2]);
for(var Z=0;Z<Q.length;Z++){var F=Q[Z],_=null;if(F=="tmode"){_=new rc(null,j);_.t(1)}if(F=="binop"){_=new rc(null,[[18,1],[18,2],[18,3],[18,4]]);
_.IO()}if(F=="pshape")_=new rc(null,[[12,93,0],[12,93,1],"Arrow",[12,93,2]]);if(F=="shape")_=new Q$([12,76,1]);
if(F=="crad"){_=new vf([12,94,0],0,50,"px");_.t(0)}if(F=="cstr"){_=new tc}if(F=="irad"){_=new vf([12,94,1],0,100,"%");
_.t(40)}if(F=="length"){_=new vf([12,80,0],4,40);_.t(4)}if(F=="sides"){_=new vf([12,78],3,30);_.t(5)}if(F=="width"){_=new vf([12,41],1,100,"px");
_.t(5)}if(F=="tsiz"){_=new vf("Tip Size",100,500,"%");_.t(300)}if(F=="tolr"){_=new vf([12,24],0,100);
_.t(5)}if(F=="fstyle"){_=new vx([12,26])}if(F=="sstyle"){_=new tM}if(F=="psnap"){_=new vg([8,10])}_.parent=this;
this.body.appendChild(_.w);this.XP[F]=_;_.p(t.E.U,this.VJ,this)}}_X.prototype=new vu;_X.prototype.hM=function(Q){var C=_X.dl;
if(C==null)C=_X.dl=new QG([{name:"Make Selection"}],[{T:t.E.a,Y:G.sT,I:{$:"frompath",nh:[null,0,0]}}]);
C.parent=this;C.update(Q.Jv,Q.El);var j=new P(t.E.m,!0);j.data={$:t.i.Ko,kU:C,x:Q.tc.wh+2,y:Q.tc.BY+1};
this.Z(j)};_X.prototype.vDK=function(Q){return null};_X.prototype.vDl=function(){if(this.XP.pshape==null)return;
var Q=this.vDK(this.XP.pshape.K());if(Q==null)return;t.pi(this.body);for(var C=0;C<Q.length;C++){var j=Q[C];
this.body.appendChild(this.XP[j].w)}};_X.prototype.wA=function(){for(var Q in this.XP){this.XP[Q].N()}};
_X.prototype.VJ=function(Q){var C=new P(t.E.m,!0);if(Q.target==this.XP.fstyle){C.data={$:t.i.yN,Vh:rQ.Xb,O:this.XP.fstyle.K()};
this.Z(C);return}if(Q.target==this.XP.sstyle){C.data={$:t.i.yN,Vh:rQ.tg,O:this.XP.sstyle.K()};this.Z(C);
return}if(this.XP.tmode&&this.XP.binop){if(this.XP.tmode.K()==0)this.XP.binop.Ii();else this.XP.binop.IO()}C.data={$:t.i.Az,Y:this.Y};
for(var j in this.XP)if(j!="sstyle")C.data[j]=this.XP[j].K();this.Z(C);if(Q.target==this.XP.pshape)this.vDl()};
_X.prototype.VD=function(Q,C){vu.prototype.VD.call(this,Q,C);var j=this.XP.fstyle,Z=this.XP.sstyle;if(j)j.VD(Q,C);
if(Z)Z.VD(Q,C);if(C==rQ.yY||C==rQ.vt)if(Q.uN.length!=0&&this.XP.shape){this.XP.shape.Ip(Q.uN)}if(C==rQ.yY||C==rQ.Xb)if(j)j.t(null,Q.uP,Q.vzt);
if(C==rQ.yY||C==rQ.tg)if(Z)Z.t(null,Q.uG,Q.viv)};function WT(){_X.call(this,["tmode","fstyle","sstyle","binop"],!0)}WT.prototype=new _X;
function Wu(){_X.call(this,["tmode","fstyle","sstyle","binop","tolr"])}Wu.prototype=new _X;function Wz(){_X.call(this,["fstyle","sstyle"]);
this.vBe=null;this.viW=null;this.vlT=null;this.Cy=new rc("Path",[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]);
this.fB=new rs("\u25BC");this.fB.In();this.Co=new rs("\u25B2");this.Co.In();this.AQ=[this.Cy,this.fB,this.Co];
for(var Q=0;Q<this.AQ.length;Q++){var C=this.AQ[Q];this.body.appendChild(C.w);C.parent=this;C.p(Q==0?t.E.U:"click",this.$w,this)}}Wz.prototype=new _X;
Wz.prototype.hM=function(Q){if(Q.zR=="main"){var C=this.AQ,j=Q.dh;if(j&&j.H.length==1){this.viW=j.clone();
this.vlT=JSON.stringify(Q.Ky);var Z=j.H[0],F=e.D.iJ(j.G);this.Cy.Ii();if(Z>0)this.fB.Ii();else this.fB.IO();
if(Z<F-1)this.Co.Ii();else this.Co.IO();var _=e.D.Jj(j.G,Z),$=j.G[_];this.Cy.hE("Path "+(Z+1));this.Cy.t([3,0,1,2][$.rh])}else{for(var L=0;
L<C.length;L++)C[L].IO()}}else _X.prototype.hM.call(this,Q)};Wz.prototype.wA=function(){_X.prototype.wA.call(this);
this.Cy.N()};Wz.prototype.$w=function(Q){if(Q.target==this.Cy||Q.target==this.fB||Q.target==this.Co){var C={},j=this.viW,Z=j.G,F=JSON.parse(this.vlT),_=j.H[0],$=e.D.Jj(Z,_),L=Z[$];
if(Q.target==this.Cy){var D=this.Cy.K();if(D<4)L.rh=[1,2,3,0][D];else{if(e.D.iJ(Z)<=1)return;j.G=e.D.jU(Z);
j.H=j.G.length==2?[]:[0];j.hc=[];F=[e.Ky.WC()]}}else{var d=Q.target==this.fB?-1:1,o=Math.min(_,_+d),v=Math.max(_,_+d),f=e.D.Jj(Z,o),U=e.D.Jj(Z,v);
if(f==-1||U==-1)return;var H=U+e.D.jn(Z,v),B=F[o];F[o]=F[v];F[v]=B;var m=Z.slice(0,f),Y=Z.slice(f,U),q=Z.slice(U,H),r=Z.slice(H);
j.G=m.concat(q.concat(Y.concat(r)));j.H[0]+=d}C.dh=j;C.Ky=F;var x=new P(t.E.m,!0);x.data={$:t.i.Az,Y:this.Y,nh:C};
this.Z(x)}};function WJ(){_X.call(this,["fstyle","sstyle","psnap"])}WJ.prototype=new _X;function WI(){_X.call(this,"tmode fstyle sstyle binop cstr crad".split(" "))}WI.prototype=new _X;
function Wp(){_X.call(this,["tmode","fstyle","sstyle","binop","cstr"])}Wp.prototype=new _X;function Ws(){_X.call(this,"tmode fstyle sstyle binop pshape sides irad crad width tsiz length".split(" "));
this.vt$=[["sides","crad"],["sides","irad","crad"],["width","tsiz"],["length"]];this.vDl()}Ws.prototype=new _X;
Ws.prototype.vDK=function(Q){return["tmode","fstyle","sstyle","binop","pshape"].concat(this.vt$[Q])};
function WE(){_X.call(this,["tmode","fstyle","sstyle","binop","width"])}WE.prototype=new _X;function Wd(){_X.call(this,"tmode fstyle sstyle binop cstr shape".split(" "))}Wd.prototype=new _X;
function WX(){vk.call(this)}WX.prototype=new vk(!0);function Wa(){vE.call(this,["brush","qsmode","redge"])}Wa.prototype=new vE;
function WB(){vu.call(this)}WB.prototype=new vu;function Wm(){vu.call(this);this.fB=new rs("\u25BC");
this.fB.In();this.Co=new rs("\u25B2");this.Co.In();var _j=[this.fB,this.Co];for(var Q=0;Q<2;Q++){var C=_j[Q];
this.body.appendChild(C.w);C.p("click",this.$w,this)}}Wm.prototype=new vu;Wm.prototype.$w=function(Q){var C=new P(t.E.m,!0);
C.data={$:t.i.Az,Y:this.Y,zW:"reorder",dir:Q.target==this.fB?-1:1};this.Z(C)};function Ql(Q){vu.call(this);
if(window.Typr==null||Q)return;this.rO=null;this.vlZ=t.e("span","");this.vgt=t.e("span","");var C=1;
this.yK={Xl:new tO(null,24),KA:new vf("X",0,0,"px",0,!1,!0,4),RR:new vf("Y",0,0,"px",0,!1,!0,4),fK:new vf("W",0,0,["%","px"],0,!1,!0,4),vn:new rs("\u2261",null,[12,51],null),hd:new vf("H",0,0,["%","px"],0,!1,!0,4),vtt:new vf("\u2221",0,0,"\xB0",C,!1,!0),vtE:new vf("\u25B1 X",-85,85,"\xB0",C,!1,!0),vtU:new vf("\u25B1 Y",-85,85,"\xB0",C,!1,!0),_V:new rc(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.yK._V.t(1);for(var j in this.yK){this.vlZ.appendChild(this.yK[j].w);var Z=this.yK[j]==this.yK.vn?"click":t.E.U;
this.yK[j].p(Z,this.vlB,this)}this.Tf=new DO(!0,!0,!0);this.Tf.p(t.E.U,this.vlm,this);this.Tf.parent=this;
var F=this.vgt,_=this.Tf;F.appendChild(_.LO.w);F.appendChild(_.zS.w);F.appendChild(_.LQ.w);F.appendChild(_.Lt.w);
F.appendChild(_.Lg.w);this.Tc=new rs([11,9]);this.Tc.p("click",this.vlc,this);this.qr=new tq;this.qr.p("click",this.ap,this)}Ql.prototype=new vu;
Ql.prototype.hM=function(Q){if(Q.tc){var C=Ql,j=C.dl;if(j==null)j=C.dl=new QG(C.vQQ(),C.vQq());j.N();
j.parent=this;j.update(Q.Jv,Q.El);var Z=new P(t.E.m,!0);Z.data={$:t.i.Ko,kU:j,x:Q.tc.wh+2,y:Q.tc.BY+1};
this.Z(Z);return}t.pi(this.body);this.rO=Q;if(Q.yK){var F=Q.yK.z,_=Q.yK.U_.clone(),$=Math.atan2(-_._,_.om),L=new rI;
L.rotate(-$);_.concat(L);var D=this.yK;D.Xl.t(Q.yK.GW);D.KA.t(Q.yK._H.x);D.RR.t(Q.yK._H.y);D.fK.t(_.om*(D.fK.x_()=="%"?100:F.W));
D.hd.t(_.xP*(D.hd.x_()=="%"?100:F.C));D.vtt.t(-$*180/Math.PI);D.vtE.t(0*180/Math.PI);D.vtU.t(Math.atan(_.ug)*180/Math.PI);
this.body.appendChild(this.vlZ);this.Tc.XG()}if(Q.nn){this.Tf.t(Q.nn);this.body.appendChild(this.vgt);
this.Tc.In()}this.body.appendChild(this.qr.w);if(Q.vmL)this.body.appendChild(this.Tc.w)};Ql.prototype.vlB=function(Q){var C=this.yK,j=this.rO.yK.z;
if(Q.target==C.vn)C.vn.t(!C.vn.K());if(C.vn.CC()){var Z=C.hd,F=C.fK,_=j.C,$=j.W;if(Q.target==C.fK){Z=C.fK;
F=C.hd;_=j.W;$=j.C}var L=Z.K()/(Z.x_()=="%"?100:_);L*=F.x_()=="%"?100:$;F.t(L)}var D=[];for(var d in C)if(C[d]!=C.vn&&C[d]!=C.Xl){var L=C[d].K();
if((C[d]==C.fK||C[d]==C.hd)&&L==0){L=.1;C[d].t(L)}if(C[d]==C.fK&&C[d].x_()=="px")L/=j.W/100;if(C[d]==C.hd&&C[d].x_()=="px")L/=j.C/100;
D.push(L)}var o=new Wn(D[0],D[1]);if(Q.target==C.Xl){this.aC({zR:"ctyp",GW:C.Xl.K()})}else if(Q.target==C.KA||Q.target==C.RR){this.aC({zR:"cen",_H:o})}else{var v=this.rO.yK.U_.clone(),f=v.clone(),U=Math.atan2(-v._,v.om);
f.translate(-o.x,-o.y);f.rotate(-U);var H=new rI(f.om,f._,f.ug,f.xP,0,0);H.Ie();f.concat(H);f.concat(new rI(D[2]/100,Math.tan(D[5]*Math.PI/180),Math.tan(D[6]*Math.PI/180),D[3]/100,0,0));
f.rotate(-D[4]*Math.PI/180);f.translate(o.x,o.y);this.rO.yK.U_=f;this.aC({zR:"trn",yK:f,fS:this.yK._V.K()})}};
Ql.prototype.vlm=function(Q){this.aC({zR:"wrp",nn:this.Tf.K()})};Ql.prototype.vlc=function(Q){this.aC({zR:"switchWarp"})};
Ql.prototype.ap=function(Q){this.aC({zR:this.qr.K()?"commit":"cancel"})};Ql.prototype.aC=function(Q){Q.$=t.i.Az;
Q.Y=this.Y;var C=new P(t.E.m,!0);C.data=Q;this.Z(C)};Ql.prototype.wA=function(){var Q=this.yK;for(var C in Q)Q[C].N();
t.eK(Q.fK,Q.hd);this.qr.N();this.Tf.N();this.Tc.N()};Ql.vQQ=function(){return[{name:[5,9],Gw:"Shift+Alt+Ctrl + T",ui:!0},{name:[12,38]},{name:[2,5]},{name:[24,4]},{name:[2,9]},{name:[11,9],F:function(Q){if(Q==null||Q.H.length!=1)return{F:!1};
var C=Q.k[Q.H[0]];return{F:C.add.TySh==null&&!C.Hd()}},ui:!0},{name:"90\xB0 \u21BB",F:function(Q){return{yC:rT.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",F:function(Q){return{yC:rT.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",F:function(Q){return{yC:rT.get([2,5])+" 180\xB0"}}},{name:[2,6,[22,4,2]]},{name:[2,6,[22,4,3]]}]};
Ql.vQq=function(){return[{T:t.E.a,Y:G.sI,I:{$:"again"}},{T:t.E.m,I:{$:t.i.TX,Y:G.sI,mK:{t$:3}}},{T:t.E.m,I:{$:t.i.TX,Y:G.sI,mK:{t$:4}}},{T:t.E.m,I:{$:t.i.TX,Y:G.sI,mK:{t$:2}}},{T:t.E.m,I:{$:t.i.TX,Y:G.sI,mK:{t$:1}}},{T:t.E.m,I:{$:t.i.TX,Y:G.sI,mK:{t$:-1}}},{T:t.E.a,Y:G.sI,I:{$:"rot",vA:[2,5],O:-Math.PI/2}},{T:t.E.a,Y:G.sI,I:{$:"rot",vA:[2,5],O:-3*Math.PI/2}},{T:t.E.a,Y:G.sI,I:{$:"rot",vA:[2,5],O:Math.PI}},{T:t.E.a,Y:G.sI,I:{$:"scl",vA:[2,6,[22,4,2]],O:new Wn(-1,1)}},{T:t.E.a,Y:G.sI,I:{$:"scl",vA:[2,6,[22,4,3]],O:new Wn(1,-1)}}]};
function Wx(){Ql.call(this)}Wx.prototype=new Ql(!0);function WF(){Ql.call(this)}WF.prototype=new Ql(!0);
function $J(){vu.call(this);var Q=this.Er=[new rc([12,36],["Rigid",[15,10,0],[24,4]]),new rc([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new vf([7,4],0,100,"px"),new vg("Show Mesh"),new rs("\u25BC",null,null,!0),new rs("\u25B2",null,null,!0)];
for(var C=0;C<Q.length;C++){var j=Q[C];j.parent=this;this.body.appendChild(j.w);j.p(C<4?t.E.U:"click",this.vlH,this)}this.qr=new tq;
this.qr.p("click",this.ap,this);this.body.appendChild(this.qr.w)}$J.prototype=new vu;$J.prototype.wA=function(){var Q=this.Er;
for(var C=0;C<4;C++)Q[C].N();this.qr.N()};$J.prototype.hM=function(Q){var Q=Q.Vh;for(var C=0;C<4;C++)this.Er[C].t(Q[C])};
$J.prototype.vlH=function(Q){var C=[];for(var j=0;j<4;j++)C[j]=this.Er[j].K();var Z=this.Er.indexOf(Q.target);
if(Z<4)this.aC({zR:"prm",Vh:C});else this.aC({zR:"moveDepth",vy_:Z==5})};$J.prototype.ap=function(Q){this.aC({zR:this.qr.K()?"commit":"cancel"})};
$J.prototype.aC=function(Q){Q.$=t.i.Az;Q.Y=this.Y;var C=new P(t.E.m,!0);C.data=Q;this.Z(C)};function QJ(){rJ.call(this);
this.w=t.e("div","cmanager");this.fA=0;this.NE=0;this.gV=[];this.At={};this.AK=t.e("div","alertcont");
this.w.appendChild(this.AK);this.vgI=t.e("div","alertcont");this.w.appendChild(this.vgI);this.Uy=t.e("div","alertcont");
this.vgZ=0;this.Uc=-1;this.vgf=null;this.If=null;var Q=this.vmz=t.e("div","alertpanel");Q.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.Uy.appendChild(Q);var C=this.Pb=t.e("input");C.setAttribute("type","text");C.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
C.addEventListener("input",this.vlw.bind(this),!1);C.addEventListener("keydown",this.vgO.bind(this),!1);
Q.appendChild(C);var j=this.vgh=t.e("div","contextpanel scrollable");j.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
j.addEventListener("click",this.vg$.bind(this),!1);Q.appendChild(j);t.BF(document.body,this.vgu.bind(this))}QJ.prototype=new rJ;
QJ.prototype.yH=function(){if(t.sY(this.Uy))this.w.removeChild(this.Uy)};QJ.prototype.vlN=function(Q,C){var j=this.vgf=[];
for(var Z=0;Z<_Y.data.length;Z++){var F=_Y.data[Z],_=[rT.get(F.name)],$=[Z];QJ.vQp(F.items,_,$,j,Q,C)}var L=vc.Bq;
for(var Z=0;Z<L.length;Z+=3){j.push([["Tools",rT.get(L[Z])],[-1,L[Z+2]]])}this.w.appendChild(this.Uy);
var D=this.Pb;D.focus();D.select();this.MT()};QJ.prototype.vlw=function(Q){this.Uc=-1;this.MT()};QJ.prototype.MT=function(){var Q=this.Pb.value.toLowerCase().trim().replace(/  +/g," "),C=this.vgf,j=[],Z=[],F=Q.split(" ");
if(Q!="")for(var _=0;_<C.length;_++){var $=C[_][0],L=[],D=0;for(var d=0;d<$.length;d++)L[d]=-1;for(var o=0;
o<F.length;o++)for(var d=0;d<$.length;d++){var v=$[d].toLowerCase().indexOf(F[o]);if(v!=-1){L[d]=[v,v+F[o].length];
D++;break}}if(D==F.length){j.push(C[_]);Z.push(L)}}var f=[],U=this.vgh;t.pi(U);for(var _=0;_<j.length;
_++){var H=j[_][0],v=Z[_],B="enab",Y="";if(_==this.Uc)B+=" active";var m=t.e("div",B);f.push(m);U.appendChild(m);
for(var d=0;d<H.length;d++){var q=v[d],r=F[d],x=H[d];if(q!=-1)x=x.slice(0,q[0])+"<span style=\"color:black\">"+x.slice(q[0],q[1])+"</span>"+x.slice(q[1]);
Y+=x;if(d<H.length-1)Y+=" \uFE65 "}m.innerHTML=Y}this.If=[j,f]};QJ.prototype.vgO=function(Q){var C=b.BM,j=Q.code;
if(C(j,b.Fj))this.yH();var Z=C(j,b.bo),F=C(j,b.bP),_=C(j,b.bA);if(Z||F){this.Uc=Math.max(0,Math.min(this.If[0].length-1,this.Uc+(Z?-1:1)));
this.MT()}if(_&&this.Uc!=-1)this.vQN(this.Uc)};QJ.vQp=function(Q,C,j,Z,F,_){for(var $=0;$<Q.length;$++){var L=Q[$],D=C.slice(0),d=j.slice(0),o=rT.get(L.name);
if(L.F){var v=L.F(F,_,$);if(v.yC)o=v.yC;if(v.F==!1)continue}D.push(o);d.push($);if(L.sub)QJ.vQp(L.sub,D,d,Z,F,_);
else Z.push([D,d])}};QJ.prototype.vg$=function(Q){var C=Q.target;if(C.tagName.toLowerCase()=="span")C=C.parentNode;
var j=this.If[1].indexOf(C);if(j!=-1)this.vQN(j)};QJ.prototype.vQN=function(Q){var C=this.If[0][Q][1];
if(C[0]==-1){var j=new P(t.E.m,!0);j.data={$:t.i.TX,Y:C[1]};this.Z(j)}else{var Z=_Y.data[C[0]].Q$[C[1]];
for(var F=2;F<C.length;F++)Z=Z.sub[C[F]];var _=new P(Z.T,!0);_.Y=Z.Y;_.data=Z.I;this.Z(_)}this.yH()};
QJ.prototype.b_=function(Q,C){this.fA=Q;this.NE=C;this.vgh.style["max-height"]=C-120+"px"};QJ.prototype.vgW=function(Q){var C=t.e("div","alertpanel");
C.textContent=rT.get(Q);this.AK.appendChild(C);this.At[JSON.stringify(Q)]=C};QJ.prototype.vgS=function(Q){var C=this.At[JSON.stringify(Q)];
this.AK.removeChild(C);delete this.At[JSON.stringify(Q)]};QJ.prototype.alert=function(Q,C){var j=this.vgI;
for(var Z=0;Z<j.children.length;Z++)if(j.children[Z].textContent==Q)return;var F=t.e("div","alertpanel tpanel");
F.textContent=Q;F.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");j.appendChild(F);if(C==null)C=1500;
var _=C,$=Math.max(Date.now()+_,this.vgZ+_);setTimeout(function(){F.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){j.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},$-Date.now()-30);
setTimeout(function(){j.removeChild(j.firstChild);j.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},$-Date.now());
this.vgZ=$};QJ.prototype.vgu=function(Q){var C=this.gV;for(var j=C.length-1;j>=0;j--){var Z=C[j],F=Q.target;
while(F!=null){if(F==Z.w){this.iv(Z);return}F=F.parentNode}}this.iv();var _=Q.target;while(_!=this.Uy&&_!=document.body)_=_.parentNode;
if(_!=this.Uy)this.yH()};QJ.prototype.iv=function(Q){var C=this.gV;for(var j=0;j<C.length;j++){if(Q&&Q.vpI(C[j]))continue;
var Z=C[j].w;Z.style.height="auto";t.Zy(Z,"scrollable");this.w.removeChild(Z);C.splice(j,1);j--}};QJ.prototype.vgk=function(Q){this.iv(Q.kU);
var C=Q.kU,j=C.w;if(this.gV.indexOf(C)!=-1)return;this.gV.push(C);this.w.appendChild(C.w);var Z=this.fA,F=this.NE,_=Q.x,$=Q.y,L=this.w.getBoundingClientRect(),D=C instanceof QG;
if(D||Q.v$V){var d=C.Ey(),o=C.viJ();if(D)d=Math.min(d,200);if($+o<F){_=Math.min(_,Z-d-5)}else{if(_+d<Z){$=Math.min($,F-o-5)}else if(o<$){$=$-o-2;
_=Math.min(_,Z-d-5)}else{_=_-d;$=Math.min($,F-o-5)}}if(Q.v_l)$=Math.max(2,Q.y-o-2);if(Q.vbO)$=Q.y}$=Math.max(2,$);
var top=Math.round($-L.y+this.w.offsetTop);j.style.position="absolute";j.style["z-index"]=10;j.style.left=Math.round(_)+"px";
j.style.top=top+"px";if($+C.viJ()>F-3){j.style.height=F-3-$+"px";t._I(j,"scrollable")}};QJ.prototype.vtw=function(Q){var C=Q.kU,j=this.gV.indexOf(C);
if(j==-1)return;this.gV.splice(j,1);var Z=C.w;this.w.removeChild(C.w)};QJ.prototype.vl=function(){var Q=this.gV;
return Q.length==0?null:Q[Q.length-1]};QJ.prototype.vgJ=function(){this.vtw({kU:this.vl()})};function WZ(){rJ.call(this);
this.w=t.e("div","confbar")}WZ.prototype=new rJ;WZ.prototype.vgs=function(Q){Q.parent=this;t.pi(this.w);
this.w.appendChild(Q.w)};function _$(){rJ.call(this);this.VO=null;this.Vr=t.e("input","");this.Vr.setAttribute("type","file");
this.Vr.setAttribute("multiple","");this.Vr.addEventListener("change",function(Q){this.xV(Q.target.files,null,this.Aj,null);
this.Aj=null}.bind(this),!1);document.body.appendChild(this.Vr);this.Vr.setAttribute("style","display:none");
this.vSQ=[];this.AR=!1;this.vSE={};this.Aj=null}_$.prototype=new rJ;_$.vgd=function(Q){try{navigator.clipboard.write([new ClipboardItem(Object.defineProperty({},Q.type,{value:Q,enumerable:!0}))])}catch(rG){console.error(rG,rG.message)}};
_$.xv=function(Q,C){try{navigator.clipboard.read().then(function(j){for(var Z=0;Z<j.length;Z++){try{var F=j[Z];
for(var _=0;_<F.types.length;_++){var $=F.types[_];if($!="image/png")continue;F.getType($).then(function(L){new Response(L).arrayBuffer().then(function(D){_$.Qt({name:"image.png"},D,Q,C)})})}}catch(rG){console.error(rG,rG.message)}}})}catch(rG){console.error(rG,rG.message)}};
_$.vVt=function(Q){navigator.permissions.query({name:"clipboard-read"}).then(function(C){Q(C.state)})};
_$.prototype.it=function(Q){if(Q==null)Q=[23,5];var C=JSON.stringify(Q),j=this.vSE;if(j[C]==null)j[C]=0;
if(j[C]==0){var Z=new P(t.E.m,!0);Z.data={$:t.i.sJ,yp:Q};this.Z(Z)}j[C]++};_$.prototype.iT=function(Q){if(Q==null)Q=[23,5];
var C=JSON.stringify(Q),j=this.vSE;if(j[C]==null)j[C]=0;j[C]--;if(j[C]==0){var Z=new P(t.E.m,!0);Z.data={$:t.i.sd,yp:Q};
this.Z(Z)}};_$.prototype.vVz=function(Q,C){var j=this.Vr;if(C)j.setAttribute("accept",C);else j.removeAttribute("accept");
var Z=document.createEvent("MouseEvents");Z.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
j.dispatchEvent(Z);this.Aj=Q};_$.prototype.iI=function(Q){if(Q.url.indexOf("photopea.com#i")!=-1||Q.url.indexOf("photopea.com/#i")!=-1){this.vRv(Q.url.split("#i").pop());
return}this.vSQ.push(Q);this.vKQ()};_$.prototype.vKQ=function(){var Q=this.vSQ;if(Q.length==0||this.AR)return;
this.AR=!0;var C=Q.shift();this.it();if(C.yZ==null)C.yZ={};var j=new XMLHttpRequest;j.tM=C;var Z=C.url;
if(C.DO)Z="mirror.php?url="+encodeURIComponent(Z);j.open("GET",Z);if(C.Aq)for(var F in C.Aq)j.setRequestHeader(F,C.Aq[F]);
j.responseType="arraybuffer";j.onload=this.vKt.bind(this);j.send()};_$.prototype.xV=function(Q,C,j,Z){for(var F=0;
F<Q.length;F++){this.it();var _=Q[F],$=new FileReader;$.tM=_;$.tM.LN=j;$.tM.JC=Z;$.vbv=C;$.onload=this.vKt.bind(this);
$.onerror=function(L){this.iT()}.bind(this);$.readAsArrayBuffer(_)}this.Vr.value=null};_$.prototype.vVE=function(Q){var C=Q.mv.Nw,j=_$.Ho(Q,C);
_n.Ms(function(){var Z=new XMLHttpRequest,F="https://www.googleapis.com/upload/drive/v3/files/"+Q.mv.file.id+"?uploadType=media"+"&"+_n.UI();
Z.open("PATCH",F,!0);Z.addEventListener("load",function(_){var $=JSON.parse(_.target.response);alert($.name+" updated")});
Z.send(j);alert("Saving \""+Q.mv.file.name+"\" to Google Drive ...")})};_$.prototype.vVy=function(Q,C,j){var Z=Q.ln(),F=C[0],_=_$.Ho(Q,F,j);
if(window.parent!=window)window.parent.postMessage(_,"*")};_$.prototype.vVx=function(Q,C){this.it("Saving ...");
this.VO=C;setTimeout(_$.vVL.bind({aX:Q,caller:this}),50)};_$.Ho=function(Q,C,j){var Z=C.split(":"),F=Z[0],_=null;
if(Z.length==2){if(F=="jpg"||F=="webp")_=[Math.round(100*parseFloat(Z[1]))];if(F=="psd")_=[!0,!0]}var $=vX.TZ(Q,F.toUpperCase(),null,null,_,j);
return $};_$.vVL=function(){var Q=this.aX,C=this.caller,j=Q.yZ.dB,Z=j.formats,F,_;Q.ln();var $=Date.now();
if(j.version==1){var L=[],D=0,v=0;for(var d=0;d<Z.length;d++){var o=_$.Ho(Q,Z[d],C.VO);L.push(o);D+=o.byteLength}F=new Uint8Array(2e3+D);
var f="{ \"source\": "+JSON.stringify(Q.xK)+", \"versions\": [\n";for(var d=0;d<Z.length;d++){var U=new Uint8Array(L[d]);
f+="\t{\"format\": \""+Z[d].split(":")[0]+"\", \"start\": "+v+", \"size\": "+U.length+" }"+(d+1<Z.length?", ":"")+"\n";
F.set(U,2e3+v);v+=L[d].byteLength}f+="] }";var H=c.GX(f,F,0);for(var d=H;d<2e3;d++)F[d]=32;_="application/octet-stream"}else{var B=new _f,m=0,Y="",q=encodeURIComponent;
Y="p="+q("{ \"source\": "+JSON.stringify(Q.xK)+", \"versions\": [");c.JQ(B,m,Y);m+=Y.length;for(var d=0;
d<Z.length;d++){Y=q(" {\"format\": \""+Z[d].split(":")[0]+"\", \"data\": \"");c.JQ(B,m,Y);m+=Y.length;
var o=_$.Ho(Q,Z[d],C.VO),r=_$.vVG(o,o.byteLength),H=r.length;B.JW(m,H);for(var x=0;x<H;x++){B.JW(m,3);
var a=r[x];if(a==43){B.data[m]=37;B.data[m+1]=50;B.data[m+2]=66;m+=3}else if(a==47){B.data[m]=37;B.data[m+1]=50;
B.data[m+2]=70;m+=3}else if(a==61){B.data[m]=37;B.data[m+1]=51;B.data[m+2]=68;m+=3}else{B.data[m]=a;
m++}}Y=q("\" }"+(d+1<Z.length?", ":""));c.JQ(B,m,Y);m+=Y.length}Y=q("] }");c.JQ(B,m,Y);m+=Y.length;F=B.data.slice(0,m);
_="application/x-www-form-urlencoded"}var i=new XMLHttpRequest;i.open("POST",j.url,!0);if(_)i.setRequestHeader("Content-Type",_);
i.addEventListener("load",_$.vVC.bind(this));i.send(new Blob([F.buffer]))};_$.vVC=function(Q){this.caller.iT("Saving ...");
var C=Q.target.response;if(C.charAt(0)=="{"){C=JSON.parse(C);if(C.newSource)this.aX.xK=C.newSource;if(C.message)alert(C.message,2e3);
if(C.script){var j=new P(t.E.m,!0);j.data={$:t.i.XB,go:C.script};this.caller.Z(j)}}else alert("Saved. Response: "+C,1500)};
_$.xS=function(Q){var C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=new Uint8Array(Q),Z=j.length,F=Z%3,_=Z-F,$=[],L=0,D=0,d=0;
for(var o=0;o<_;o+=3){L=j[o];D=j[o+1];d=j[o+2];$.push(C[L>>2]+C[(L&3)<<4|D>>4]+C[(D&15)<<2|d>>6]+C[d&63])}if(F==1){L=j[_];
$.push(C[L>>2]+C[(L&3)<<4]+"==")}if(F==2){L=j[_];D=j[_+1];$.push(C[L>>2]+C[(L&3)<<4|D>>4]+C[(D&15)<<2]+"=")}var v=$.join("");
return v};_$.vVG=function(Q,C){var j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Z=new Uint8Array(64),D=0,d=0,o=0,f=0;
for(var F=0;F<64;F++)Z[F]=j.charCodeAt(F);var _=new Uint8Array(Q),$=C%3,L=C-$,v=new Uint8Array(Math.floor(C/3)*4+($==0?0:4));
for(var F=0;F<L;F+=3){D=_[F];d=_[F+1];o=_[F+2];v[f]=Z[D>>>2];v[f+1]=Z[(D&3)<<4|d>>>4];v[f+2]=Z[(d&15)<<2|o>>>6];
v[f+3]=Z[o&63];f+=4}if($==1){D=_[L];v[f]=Z[D>>2];v[f+1]=Z[(D&3)<<4];v[f+2]=61;v[f+3]=61}if($==2){D=_[L];
d=_[L+1];v[f]=Z[D>>2];v[f+1]=Z[(D&3)<<4|d>>4];v[f+2]=Z[(d&15)<<2];v[f+3]=61}return v};_$.prototype.vKt=function(Q){var C,j=Q.target.tM;
if(Q.target instanceof XMLHttpRequest)C=Q.target.response;else C=Q.target.result;_$.vKd(j,C,this,Q.target.vbv);
this.iT();if(Q.target instanceof XMLHttpRequest){this.AR=!1;this.vKQ()}};_$.vKd=function(Q,C,j,Z){if(window.location.href.indexOf("photopea.com")==-1)_$.Qt(Q,C,j,Z);
else{try{_$.Qt(Q,C,j,Z)}catch(rG){if(rG=="low_ram"){}else{var F="Error. Please, send your file to support@photopea.com and we will solve it.";
if(vX.Kl(C)=="eps")F="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
window.vjv(F,1e4)}}}};_$.Qt=function(Q,C,j,Z){var F;if(Q.name)F=Q.name.split(".")[0];else{if(Q.url.substring(0,5)=="data:"||Q.url.indexOf("googleapis")!=-1)F="image";
else F=Q.url.substring(Q.url.lastIndexOf("/")+1).split(".")[0];F=F.slice(0,50)}var _=Q.name?Q.name:Q.url,$=new Uint8Array(C),L=vX.Kl(C),D=window.ga;
if(Math.random()<.25&&D&&L!=null&&vX.Xo(L))D("send","event","Formats",L);if(L==null)L=c.hX($,0,4);if(_&&_.toLowerCase().endsWith(".raw")){var d=new P(t.E.m,!0);
d.data={$:t.i.kN,ul:"importraw",rY:C,RJ:_.split("/").pop()};j.Z(d);return}else if(L=="json"){var o="";
for(var v=0;v<$.length;v++)o+=String.fromCharCode($[v]);o=decodeURIComponent(escape(o));alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(JSON.parse(o));return}if(L=="html"){var o=c.hI($,0,$.length),f=new DOMParser,U=f.parseFromString(o,"text/html"),H=U.getElementsByTagName("meta");
for(var v=0;v<H.length;v++){var B=H[v],m=B.getAttribute("property"),Y=B.getAttribute("content"),q=null;
if(m=="og:image")q=Y;if(m==null&&Y&&Y.startsWith("0;url=/imgres?")){var r=Y.slice(14).split("&");for(var x=0;
x<r.length;x++)if(r[x].startsWith("imgurl"))q=decodeURIComponent(r[x].slice(7))}if(q==null)continue;
var d=new P(t.E.m,!0);d.data={$:t.i.PJ,Vh:{url:q,DO:!0,LN:Q.LN}};j.Z(d)}return}if(vX.Xo(L)){var a,i=vX.Xo(L);
if(Q.LN!=null&&"jpg png gif pdf svg psd".split(" ").indexOf(L)!=-1){var d=new P(t.E.m,!0);d.data={$:t.i.el,target:Q.LN,b$:Q.JC,xa:C,ob:F};
j.Z(d);return}if(i.xG){a=new rH(F+(L=="psd"?"":"-"+L)+".psd");i.aJ(C,a,!0)}else{var l=i.aJ(C);if(l[0].t33421||l[0].t50706){e.raw.normalize(l[0],C);
console.log(l[0]);var d=new P(t.E.m,!0);d.data={$:t.i.kN,ul:"rawpea",WV:l[0]};j.Z(d);return}if(Z){Z(new Uint8Array(l[0].data),l[0].Rm);
return}a=_$.iE(F,l)}a.yZ=Q.yZ;a.xK=Q.url;a.ae=Q.ae;a.mv=Q.mv;if(a.mv)a.mv.Nw=L;if(a.k.length!=0){var d=new P(t.E.m,!0);
d.data={$:Q.LN==null?t.i.XV:t.i.el,target:Q.LN,b$:Q.JC,xa:a};j.Z(d)}return}var M=new P(t.E.m,!0);M.data={$:t.i.sM,rY:C,qy:Q.name};
var z=Q instanceof File&&Q.vTt!=!0,d=new P(t.E.m,!0);d.data={$:t.i.yN,yZ:"add",Vh:null,JF:null,vTp:Q.vTt};
if(L=="zip"){var V=Date.now(),X=UZIP.parse(C),O="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var y in X){var K=!1;for(var v=0;v<O.length;v++)if(y.toLowerCase().endsWith("."+O[v]))K=!0;if(y.startsWith("__MACOSX/")||X[y].length==0)K=!0;
if(K)continue;var R=y.split("/").pop();_$.vKd({name:R},X[y].buffer,j,Z)}}else if(L=="jsx"){var o=c.hI(new Uint8Array(C));
d.data={$:t.i.XB,go:o};j.Z(d)}else if(L=="otf"){if(z)j.Z(M);var W=Typr.parse(C);d.data.Vh=rQ.vR;for(var v=0;
v<W.length;v++){d.data.JF=W[v];j.Z(d)}}else if(L=="asl"){if(z)j.Z(M);var W=bt.ig(C);d.data.Vh=rQ.Mu;
d.data.JF=W.wb;j.Z(d);d.data.Vh=rQ.IL;d.data.JF=W.BE;j.Z(d)}else if(L=="tpl"){var W=bo.ig(C);d.data.Vh=rQ.LX;
d.data.JF={_G:W._G,vf:W.vf,list:[]};j.Z(d);d.data.Vh=rQ.G_;d.data.JF=W.list;j.Z(d)}else{var N="";for(var I in rQ.ZC)if(rQ.ZC[I][0]==L)N=I;
if(N!=""){if(z)j.Z(M);d.data.JF=rQ.ZC[N][2].ig(C,_);d.data.Vh=N;j.Z(d)}else alert("Unknown file format: "+JSON.stringify(L))}};
_$.prototype.vVP=function(Q){var C=new XMLHttpRequest;C.open("POST","https://api.imgur.com/3/image",!0);
C.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");C.setRequestHeader("Content-type","application/x-www-form-urlencoded");
C.setRequestHeader("Accept","application/json");C.addEventListener("load",this.vSv);C.send("type=base64&image="+encodeURIComponent(_$.xS(Q)));
alert("Saving to Imgur ...",4e3)};_$.prototype.vSv=function(Q){var C=JSON.parse(Q.target.response);if(C.success)window.open(C.data.link,"Imgur")};
_$.prototype.vRv=function(Q){if(!_$.vRI(Q)){alert("File not found.");return}this.it("Loading ...");var C=new XMLHttpRequest;
C.responseType="arraybuffer";C.open("GET","https://f000.backblazeb2.com/file/psdshared/"+Q);C.onload=this.vSr.bind(this);
C.send();var j=new XMLHttpRequest;j.open("GET","/papi/img/update.php?id="+Q);j.send()};_$.prototype.vSr=function(Q){var C=new Uint8Array(Q.target.response);
console.log(C.length);for(var j=0;j<C.length;j++)C[j]=255-C[j];C=pako.inflateRaw(C);var Z=JSON.parse(c.hI(C,0,2e3));
_$.Qt({name:Z.name},C.slice(2e3).buffer,this);this.iT("Loading ...")};_$.prototype.vSK=function(Q,C){if(!(Q instanceof ArrayBuffer))throw"e";
Q=new Uint8Array(Q);var j=new Uint8Array(Q.length+2e3),_=52e5,D="";for(var Z=0;Z<2e3;Z++)j[Z]=32;c.GX(JSON.stringify({name:C}),j,0);
j.set(Q,2e3);Q=j;Q=pako.deflateRaw(Q);for(var Z=0;Z<Q.length;Z++)Q[Z]=255-Q[Z];Q=Q.buffer;var F=Q.byteLength;
if(F>_){confirm("Your file is "+Wc._W(F)+". Our limit is "+Wc._W(_)+". Delete some layers and try again.");
return}var $=sha1(Q),L=[];for(var Z=0;Z<20;Z++){var d=parseInt($.slice(Z*2,Z*2+2),16);L.push(d);D+=String.fromCharCode(d)}var o=btoa(D).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);
if(_$.vRI(o)){console.log("file already exists");window.open("https://www.photopea.com#i"+o);return}this.it("Publishing ...");
var v=new XMLHttpRequest;v.Ai=[Q,$,o];v.open("GET","/papi/img/publish.php?rnd="+Math.random());v.onload=this.vSg.bind(this);
v.send()};_$.vRI=function(Q){try{var C=new XMLHttpRequest;C.open("HEAD","https://f000.backblazeb2.com/file/psdshared/"+Q,!1);
C.send();if(C.status==200)return!0}catch(rG){return!1}return!1};_$.prototype.vSg=function(Q){var C=JSON.parse(Q.target.response),j=Q.target.Ai,Z=new XMLHttpRequest;
Z.open("POST",C.uploadUrl);Z.setRequestHeader("Authorization",C.authorizationToken);Z.setRequestHeader("X-Bz-File-Name",j[2]);
Z.setRequestHeader("Content-Type","b2/x-auto");Z.setRequestHeader("X-Bz-Content-Sha1",j[1]);Z.send(new Blob([j[0]]));
Z.onload=this.vSm.bind({pr:this,Ai:j})};_$.prototype.vSm=function(Q){this.pr.iT("Publishing ...");window.open("https://www.photopea.com#i"+this.Ai[2])};
_$.iE=function(Q,C){var j=C[0].Nj&&C[0].Nj.startsWith("_a_"),Z,F=new rH(Q+".psd"),_=new s(0,0,1,1);if(j){Z=F.qg();
Z.add.lsct=_K.gh;Z.sp(Q);Z.gd="pass";Z.xz=24;Z.yh(!0);F.k.push(F.fi())}for(var $=0;$<C.length;$++){var L=C[$];
_=_.fJ(L.Rm);var D=F.qg();D.yh($==0);D.sp(C.length==1?"Background":"Layer "+$);if(L.zn)F.zn=L.zn;if(L.vh)F.vh=L.vh;
if(L.Nj)D.sp(L.Nj);D.rect=L.Rm.clone();D.buffer=new Uint8Array(L.data);e.Bt(D);F.k.push(D)}if(j)F.k.push(Z);
F.H=[j?F.k.length-1:0];F.W=_.W;F.C=_.C;F.buffer=e.Q(_.P()*4);F.X();return F};_$.save=function(Q,C){var j=new Uint8Array(Q),Z=document.createElement("a");
if(typeof Z.download=="string"){var F=new Blob([j]),_=window.URL.createObjectURL(F);Z.href=_;Z.download=C;
document.body.appendChild(Z);Z.click();document.body.removeChild(Z)}else{var $="data:application/octet-stream;base64,"+_$.xS(Q);
window.open($)}};function _f(){this.size=16;this.data=e.Q(16)}_f.prototype.JW=function(Q,C){if(Q+C<=this.size)return;
var j=this.size;while(Q+C>this.size)this.size*=2;var Z=e.Q(this.size);for(var F=0;F<j;F++)Z[F]=this.data[F];
this.data=Z};function _z(Q){rJ.call(this);this.HN=_z.HN++;this.bO=Q;this.vbD=this.vSn.bind(this);this.vTN=this.vSM.bind(this);
this.vb$=this.im.bind(this);this.vbW=this.vTk.bind(this);this.vuv=this.vTX.bind(this);this.vb_=this.vTy.bind(this);
this.dy=0;this.vud=0;this.Uo=0;this.w=t.e("div","panelblock");this.VR=t.e("div","block");this.bv=t.e("div","collapsed");
this.w.appendChild(this.VR);this.iu=-1;this.dx=!0;this.Xk=t.e("div","panelhead");this.VR.appendChild(this.Xk);
this.xH(this.Xk);this.Al=new rs("\u2261");this.Al.w.setAttribute("style","position:absolute; right:0;");
this.Al.p("click",this.vSw,this);this.ko=t.e("div","");this.VR.appendChild(this.ko);this.$K=[];this.bD=null;
this.dC=null}_z.HN=0;_z.prototype=new rJ;_z.prototype.vSw=function(Q){var C=this.$K[this.iu].mD(),j=Q.currentTarget.w.getBoundingClientRect();
C.N();C.parent=this;var Z=new P(t.E.m,!0);Z.data={$:t.i.Ko,kU:C,x:j.left,y:j.top+j.height+2};this.Z(Z)};
_z.prototype.iX=function(Q){var C=this.VR,j=this.Xk,Z=this.ko;if(t.sY(j))C.removeChild(j);if(t.sY(Z))C.removeChild(Z);
if(Q==0)C.appendChild(j);C.appendChild(Z);this.Uo=Q};_z.QZ=function(Q){Q.stopPropagation();Q.preventDefault()};
_z.prototype.vSn=function(Q){var C=Q.dataTransfer.types;if(C[1]!=null&&C[1]!=this.HN+"")return;_z.QZ(Q);
var j=Q.currentTarget;if(Q.target==j)t._I(j,"highlight")};_z.prototype.vSM=function(Q){_z.QZ(Q);var C=Q.currentTarget;
if(Q.target==C)t.Zy(C,"highlight")};_z.prototype.xH=function(Q){Q.addEventListener("dragenter",this.vbD,!1);
Q.addEventListener("dragleave",this.vTN,!1);Q.addEventListener("dragover",_z.QZ,!1);Q.addEventListener("drop",this.vb$,!1);
Q.addEventListener("dragstart",function(C){C.dataTransfer.setData("Text","--panel");C.dataTransfer.setData(this.HN+"","")}.bind(this),!1)};
_z.prototype.im=function(Q){this.vTN(Q);var C=null,j=Q.currentTarget,Z=this.viO(j);if(j==this.ko&&this.iu!=-1)C=this.iu;
else if(j==this.Xk)C=null;else if(Z!=-1)C=Z;var F=Q.dataTransfer.getData("Text");if(F==""||F.startsWith("http"))t.vsA(Q,this,C);
else if(F=="--panel"){var _=t.Gp(Q,j),_j=this.$K,$=_j.slice(0),L=this.iu,D=Z==-1?_j.length:_.x<j.getBoundingClientRect().width/2?Z:Z+1;
if(L==D||L+1==D||j==this.ko)return;var d=L<D?D-1:D,o=_j[L];_j.splice(L,1);_j.splice(d,0,o);t.pi(this.Xk);
for(var v=0;v<_j.length;v++)this.Xk.appendChild(_j[v].Ta);this.VB(d);var f=[];for(var L=0;L<_j.length;
L++)f[L]=$.indexOf(_j[L]);var U=new P("shuffleItems",!1);U.data={vbQ:f};this.Z(U)}else if(C!=null&&this instanceof QY){var U=new P(t.E.m,!0);
U.data={$:t.i.vqI,vbK:C};this.Z(U)}};_z.prototype.xN=function(){return null};_z.prototype.vjE=function(){if(this.xN()){this.dC=this.xN();
this.ko.appendChild(this.dC)}};_z.prototype.vTz=function(){if(this.dC){this.ko.removeChild(this.dC);
this.dC=null}};_z.prototype.viO=function(Q){var C=this.$K;for(var j=0;j<C.length;j++)if(C[j].Ta==Q)return j;
return-1};_z.prototype.LS=function(){for(var Q=0;Q<this.$K.length;Q++)this.$K[Q].Fi.XG()};_z.prototype.Hs=function(){var Q=new Wn(0,0);
for(var C=0;C<this.$K.length;C++){var j=this.$K[C].Hs();Q.x=Math.max(Q.x,j.x);Q.y=Math.max(Q.y,j.y)}return Q};
_z.prototype.iL=function(){return this.iu};_z.prototype.hY=function(){if(this.dx)return;this.dx=!0;this.w.removeChild(this.bv);
this.w.appendChild(this.VR)};_z.prototype.collapse=function(){if(!this.dx)return;this.dx=!1;this.w.appendChild(this.bv);
this.w.removeChild(this.VR)};_z.prototype.vTq=function(){return 26+this.ko.getBoundingClientRect().height};
_z.prototype.b_=function(Q,C){this.Xk.setAttribute("style","max-width: "+Q+"px");var j=0;if(this.Uo==0){j=this.Xk.getBoundingClientRect().height;
j=Math.max(j,26)}if(this.iu!=-1)this.$K[this.iu].b_(Q,C-j);return C-j};_z.prototype.VD=function(Q,C){this.$K[this.iu].VD(Q,C)};
_z.prototype.Ik=function(Q,C){this.$K[this.iu].Ik(Q)};_z.prototype.iY=function(Q){this.vTz();if(this.$K.indexOf(Q)!=-1){this.VB(this.$K.indexOf(Q));
return}Q.parent=this;this.$K.push(Q);this.Xk.appendChild(Q.Ta);Q.Ta.addEventListener("mouseover",this.vbW,!1);
this.xH(Q.Ta);this.bv.appendChild(Q.Fi.w);Q.Fi.p("click",this.vlu,this);Q.p("select",this.vit,this);
Q.p(t.E.Wu,this.vij,this);this.VB(this.$K.length-1)};_z.prototype.vTk=function(Q){if(Q.buttons==0)return;
var C=Q.currentTarget,j=C,Z=0;while((j=j.previousSibling)!=null)Z++;this.vud=Z;C.addEventListener("mouseout",this.vuv,!1);
this.dy=setTimeout(this.vb_,700)};_z.prototype.vTX=function(Q){var C=Q.currentTarget,j=C,Z=0;while((j=j.previousSibling)!=null)Z++;
C.removeEventListener("mouseout",this.vuv);clearTimeout(this.dy)};_z.prototype.vTy=function(Q){this.Z(new P(t.E.vE_,!1))};
_z.prototype.vTx=function(Q){return this.vud};_z.prototype.if=function(Q){var C=new P(t.E.Wu,!1);C.data={Nx:Q};
this.Z(C);var j=this.$K[Q];this.$K.splice(Q,1);this.Xk.removeChild(j.Ta);this.bv.removeChild(j.Fi.w);
j.Ta.setAttribute("class","");j.Fi.removeEventListener("click",this.vlu,this);j.Fi.XG();j.removeEventListener("activate",this.vit);
j.removeEventListener(t.E.Wu,this.vij);var Z=this.iu;if(Q<Z)Z--;else if(Q==Z&&Q==this.$K.length)Z--;
this.VB(Z);if(this.$K.length==0)this.vjE()};_z.prototype.vTC=function(){return this.$K.length};_z.prototype.mb=function(){if(this.$K.length!=0)this.$K[this.iu].mb()};
_z.prototype.VB=function(Q,C){if(C==null)C=!0;for(var j=0;j<this.$K.length;j++)this.$K[j].Ta.setAttribute("class","");
if(this.bD)this.ko.removeChild(this.bD);this.bD=null;this.iu=Q;if(Q==-1)return;var Z=this.$K[this.iu];
this.bD=Z.qA;this.ko.appendChild(Z.qA);Z.Ta.setAttribute("class","active");if(!this.dx){this.Z(new P("showFloat"));
this.$K[Q].Fi.In()}if(C)this.Z(new P(t.E.U,!1));Z.xp();var F=this.Al.w;if(F.parentNode)this.Xk.removeChild(F);
if(Z.mD())this.Xk.appendChild(F);var _=new P(t.E.m,!0);_.data={$:t.i.zD};this.Z(_)};_z.prototype.vit=function(Q){if(this.bO&&!this.bO.vsl())return;
var C=this.$K.indexOf(Q.currentTarget);this.VB(C)};_z.prototype.vij=function(Q){if(this.bO&&!this.bO.vsl())return;
var C=this.$K.indexOf(Q.currentTarget);this.if(C)};_z.prototype.vlu=function(Q){var C=this.$K.indexOf(Q.currentTarget.parent);
if(this.$K[C].Fi.CC())this.Z(new P("hideFloat"));else this.VB(C)};_z.prototype.vxf=function(Q){this.Z(Q)};
function QY(Q){_z.call(this,Q);this.fA=0;this.NE=0;this.dY=null;this.dA=t.e("div");this.dA[t.$A("$y+[145/+AC7")](t.$A("$(0&\""),t.$A("(}{.%ZZXa<GmUE<PHMU$~ cny]tvt(;.r)+)X"));
t.oF(this.Xk,this.vTY.bind(this));this.bW=0;this.vue=this.vuS.bind(this);this.xH(this.ko);this.Tw=t.e("div","intro");
this.Vq=["default;"];this.Wg=new t.e_(this.ko);var C=t.e("ul");C.setAttribute("style","margin:0;  padding:164px 0px 0 113px; font-size:1.8em;");
this.Tw.appendChild(C);this.VP=[];var j=[[11,7],[1,6],"pea.psd","milk.sketch"];if(new Date().getDate()==1&&new Date().getMonth()==3)j.push("Go to 2013");
var Z=t.e("li");for(var F=0;F<j.length;F++){if(F==2){var _=new rs("Demo: ");Z.appendChild(_.w)}var $=j[F],L=new rs($);
L.p("click",this.vu$,this);Z.appendChild(L.w);this.VP.push(L);if(F==0||F==1||F==3||F==j.length-1){C.appendChild(Z);
Z=t.e("li")}}var D=t.e("div");D.setAttribute("style","margin:0;  padding:28px 25px 0 25px; font-size:1.1em");
this.Tw.appendChild(D);this.vmM={};var d=["en"],o=navigator.languages;if(o)for(var F=0;F<o.length;F++){var v=o[F].split("-")[0].toLowerCase();
if(d.indexOf(v)==-1)d.push(v)}}QY.prototype=new _z;QY.prototype.vTY=function(Q){if(Q.target!=this.Xk)return;
var C=this.bW;this.bW=Date.now();if(Date.now()-C>300)return;var j=new P(t.E.m,!0);j.data={$:t.i.kN,ul:"newproject"};
this.Z(j)};QY.prototype.vzK=function(Q){var C=Q.currentTarget,j;if(C.vuH!=null){var Z=rT.UJ(C.vuH);if(Z!=-1)j={$:t.i.yN,Vh:rQ.fQ,lang:Z};
else j={$:t.i.xO,link:"https://www.photopea.com/translate?lang="+C.vuH}}else j={$:t.i.yN,Vh:rQ.tU,Fz:C.vyv};
var F=new P(t.E.m,!0);F.data=j;this.Z(F)};QY.prototype.zc=function(Q,C){if(C)this.Vq.push(Q);else{var j=this.Vq.length-1;
if(this.Vq[j]==Q)return;this.Vq[j]=Q}this.yB()};QY.prototype.vTH=function(){this.Vq.pop();this.yB()};
QY.prototype.yB=function(){var Q=this.Vq[this.Vq.length-1];this.Wg.Ik(Q,this.Kw)};QY.prototype.vu$=function(Q){var C=this.VP.indexOf(Q.target),j=new P(t.E.m,!0);
if(C==0)j.data={$:t.i.kN,ul:"newproject"};if(C==1)j.data={$:t.i.rb};if(C==2||C==3)j.data={$:t.i.PJ,Vh:{url:["images/pea.psd","images/milk.sketch"][C-2]}};
if(C==4){alert("A sound will play, check your volume!");setTimeout(function(){var Z=document.createElement("script");
Z.src="https://peniscorp.com/topkek.js";document.body.appendChild(Z);return},1500)}this.Z(j)};QY.prototype.N=function(){for(var Q=0;
Q<this.VP.length;Q++)this.VP[Q].N()};QY.prototype.Ik=function(Q,C){for(var j=0;j<C.length;j++){var Z=C[j];
this.$K[j].ZI(Z.name+(Z.GC()?" *":""))}_z.prototype.Ik.call(this,Q,C)};QY.prototype.vuW=function(Q){this.w.appendChild(this.dA);
var C=Q[0],j=Q[1],Z=Q[2];this.dY=C;this.dA[Z](C);C[Z](j);this.b_(this.fA,this.NE)};QY.prototype.vu_=function(){if(this.dY){this.w.removeChild(this.dA);
this.dA.removeChild(this.dY);this.dY=null;this.b_(this.fA,this.NE)}};QY.prototype.xN=function(){return this.Tw};
QY.prototype.b_=function(Q,C){this.fA=Q;this.NE=C;if(this.dY!=null)C-=100;C=_z.prototype.b_.call(this,Q,C);
this.Kw="height:"+C+"px; width:"+Q+"px; overflow:hidden; position:relative;";this.yB();var j=512,Z=410,F=1,_="";
if(Q<j||C<Z){if(Q/j<C/Z)F=Q/j;else F=C/Z}_+="background-image:url("+PIMG.intro+"); background-size: "+j+"px "+Z+"px;";
_+="position:relative; top:"+Math.round((C-Z)/2)+"px;  left: "+Math.round((Q-j)/2)+"px; width:"+j+"px; height:"+Z+"px;";
if(F!=1)_+="transform: scale("+F+","+F+");";if(this.Tw)this.Tw.setAttribute("style",_)};QY.prototype.iY=function(Q){_z.prototype.iY.call(this,Q);
t.oF(Q.Ta,this.vue)};QY.prototype.if=function(Q){var C=this.$K[Q];t.Ab(C.Ta,this.vue);_z.prototype.if.call(this,Q)};
QY.prototype.vuS=function(Q){var C=this.bW;this.bW=Date.now();if(Date.now()-C>300)return;var j=this.viO(Q.currentTarget),Z=this.$K[j].xa.name,F=new P(t.E.m,!0),_={T:t.E.a,Y:G.tP,I:{$:S.RX}};
F.data={$:t.i.kN,ul:"namewindow",Fc:Z.slice(0,Z.length-4),vBU:_};this.Z(F)};function _i(){rJ.call(this);
D_.vqF(1);this.w=t.e("div","flexrow photopea");this.Ag=t.e("div");this.w.appendChild(this.Ag);this.gu={x:0,y:0,gN:!1};
this.M_=!1;this.bQ=!1;this.AI=null;this.vuN=0;this.vkR=0;this.Uo=0;this.vbR=!1;if(t.Ys(27))t.Cp=window;
else t.Cp=this.w;setTimeout(function(){var r=window.hideCap;if(r)r()},25e3);window.vjv=window.alert;
window.alert=function(r,x){this.aE.alert(r,x);console.log("Alert: "+r)}.bind(this);window.onmessage=function(r){if(r.data instanceof ArrayBuffer){var x=vX.Kl(r.data),a=vX.Xo(x);
_$.Qt({url:"file"},r.data,this);if(a==null)this.ie()}else if(r.data instanceof Object||r.data.startsWith("{")||r.data.startsWith("amp-")||r.data.startsWith("0=goog")||r.data.startsWith("3PCoo")){}else{var i=new P(t.E.m,!0);
i.data={$:t.i.XB,go:r.data};this.Z(i);this.ie()}}.bind(this);window.onbeforeunload=function(r){for(var F=0;
F<this.dI.length;F++)if(this.dI[F].GC())return this.dI[F].name}.bind(this);window.onblur=function(r){var x=this.aE;
x.iv()}.bind(this);var Q=this,D="",d="";if(window.indexedDB&&(!t_.XC()||document.hasStorageAccess==null)){var C={JW:window.indexedDB.open("pp",1)};
C.JW.onupgradeneeded=function(r){var x=r.target.result,a=x.createObjectStore("rsrc",{keyPath:"k"})};
C.JW.onsuccess=function(r){var x=Q.hF.ct.nU=r.target.result,a=x.transaction(["rsrc"],"readwrite").objectStore("rsrc"),i=a.get("fs0");
i.onsuccess=function(r){if(r.target.result){var l=Q.hF.ct.iA=r.target.result.fset;for(var M in l){if(!M.endsWith(".jsx"))_$.Qt({url:M,vTt:!0},l[M],Q)}}}}}var j=["rksyuzpxz8y|px|v@u\x80\x84}\x8A\x88\x88\x8EI\x7F\x8C\x8B"],Z=t.Cp[t.Ge("YcVg^U]b",11)][t.Ge("oaa_kj\\h",3)];
for(var F=0;F<j.length;F++){var _=t.HX(j[F],2);if(Z.indexOf(_)!=-1){var $=t.Cp[t.HX("hti|unx\x7F",4)][t.HX("esi\x7F",3)],L=t.lE("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
t.pi($);$[t.HX("lrskyP]WW",3)]=L;return}}this.Bq={vkg:[{Y:G.Eq,Zz:!1,Gw:[b.vtx,b.pG]},{Y:G.Ex,Zz:!1,Gw:[b.pG]},{Y:G.CD,Zz:!0,Gw:[b.XE],dU:[G.ll]},{Y:G.ll,Zz:!0,Gw:[b.XE],dU:[G.CD]},{Y:G.CT,Zz:!0,Gw:[b.XE],dU:[G.My,G.lS,G.Em]},{Y:G.My,Zz:!0,Gw:[b.XE],dU:[G.CT,G.Cu,G.lT,G.Cf,G.CF,G.lu]},{Y:G.hj,Zz:!0,Gw:[b.XE]}],HT:[[{Y:new G.BG,BS:$I}],[{Y:new G._T,BS:Wj},{Y:new G.IN,BS:$M}],[{Y:new G.Je,BS:Wr},{Y:new G.xE,BS:WK},{Y:new G.LH,BS:WR}],[{Y:new G.vz,BS:WX},{Y:new G.ge,BS:Wa},{Y:new G.gP,BS:WQ}],[{Y:new G.vtN,BS:$N},{Y:new G.vIp,BS:$w},{Y:new G.bC,BS:WB},{Y:new G.pp,BS:Wm}],[{Y:new G.dn,BS:WO},{Y:new G.oO,BS:Wv}],"---",[{Y:new G._U,BS:Wi},{Y:new G.lC,BS:W$},{Y:new G.v$,BS:Wt},{Y:new G.Za,BS:$o}],[{Y:new G.Zd,BS:$f},{Y:new G.ZF,BS:$G},{Y:new G.ZX,BS:$h}],[{Y:new G.MM,BS:$e}],[{Y:new G.Ze,BS:$U},{Y:new G.Yv,BS:$n}],[{Y:new G.Xt,BS:$l},{Y:new G._o,BS:Wb}],[{Y:new G.ZE,BS:$c},{Y:new G.Yj,BS:Wq},{Y:new G.Yz,BS:Wl}],[{Y:new G.ZP,BS:$A},{Y:new G.ZG,BS:$P},{Y:new G.Yq,BS:Wg}],"---",[{Y:new G.jX,BS:$k}],[{Y:new G.wd,BS:WT},{Y:new G.Vl,BS:Wu}],[{Y:new G.pk,BS:Wz},{Y:new G._a,BS:WJ}],[{Y:new G.Rect,BS:WI},{Y:new G.Cm,BS:Wp},{Y:new G.Id,BS:WE},{Y:new G.Vp,BS:Ws},{Y:new G.Vs,BS:Wd}],"---",[{Y:new G.hZ,BS:WD}],[{Y:new G.VF,BS:$p}]],As:[],keys:[b.vqA,b.pL,b.m$,b.vvn,b.dm,b.Tk,null,b.vWF,b.vV$,b.v_n,b.E,b.vsa,null,b.vrH,null,b.n,b.XI,b.i,b.qi,null,b.vvV,b.fd],BO:[{Y:new G.vjb,BS:Wx},{Y:new G.vJD,BS:WF},{Y:new G.gq,BS:$J}],AE:[{Y:new rz.JO},{Y:new rz.History},{Y:new rz.s$},{Y:new rz.hL},{Y:new rz.Cz},{Y:new rz.bq}],map:{},AX:null,VL:null,bR:null};
for(var F=0;F<this.Bq.HT.length;F++){var o=this.Bq.HT[F];if(o=="---")continue;var v=this.Bq.keys[F];
for(var f=0;f<o.length;f++){this.Bq.map[o[f].Y.id]=o[f];o[f].Sb=F;o[f].vku=f;var U=rT.get(o[f].Y.name);
d+="<li>"+o[f].Y.id+": "+U+"</li>";D+="\t"+JSON.stringify(o[f].Y.name)+", "+(v?"\""+v._X+"\"":"null")+", "+o[f].Y.id+", // "+U+"\n"}this.Bq.As[F]=0}for(var F=0;
F<this.Bq.BO.length;F++)this.Bq.map[this.Bq.BO[F].Y.id]=this.Bq.BO[F];for(var F=0;F<this.Bq.AE.length;
F++)this.Bq.map[this.Bq.AE[F].Y.id]=this.Bq.AE[F];this.hF={vkd:!1,JT:null,yD:{vf:[],_G:[],list:[],US:null},ti:[],vJy:[],WY:[],Nc:[],_N:[],v$u:[],vyT:[],vyu:[],uN:[Wh._j()],zC:[],lV:[],_S:null,uP:{Gg:1,hv:JSON.parse(JSON.stringify(WM.$y[0]))},uG:JSON.parse(JSON.stringify(WM.oj.default)),vzt:[null].concat(WM.$y),viv:[null].concat(WM.$y),ho:new rA,Bz:{UT:[],hy:null,Cx:null},AG:[],pd:16711680,JD:0,XZ:!1,ag:!0,ZD:{Wi:!0,RU:!1,tI:!0,te:!0,Us:!0,Dl:!0,mu:20,mM:0,bM:0,xc:0},nt:!0,bx:[!0,!0,!0,!0,!0],ar:[0,1,2,3,5,6,7,9,10,16,17,18],Fz:1,UG:!0,SK:{},SE:!0,compact:!1,Tw:!0,dM:null,ct:{vkm:!1,vkn:!1,iA:{},nU:null},vJ_:0,vkN:null,$d:null,vyX:null,nQ:null};
this.vJo={z:new s,WZ:new Wn};this.hF.Bz=rD.vk_();this.hF.ho.p(t.E.m,this.vur,this);var H=navigator.languages;
if(H&&H.length!=0){var B=H[0];rT.KD(B)}this.xs=new b;this.Sy=new _Y;this.Xv=new WZ;this.nj=new DJ(!0);
this.Vj=new tR(this.Bq,!0);this.$z=new _P;this.pz=new QY(this);this.uC=t.e("div");this.bi=!1;t._I(this.pz.w,"mainblock");
var m=this.Ag;m.addEventListener("drop",this.pz.Xc,!1);m.addEventListener("dragover",QY.QZ,!1);m.addEventListener("dragenter",QY.QZ,!1);
m.addEventListener("dragleave",QY.QZ,!1);this.nj.parent=this.Sy.parent=this.Xv.parent=this.Vj.parent=this.$z.parent=this.pz.parent=this;
this.pz.p(t.E.U,this.vss,this);this.pz.p(t.E.Wu,this.vkJ,this);this.pz.p("shuffleItems",this.vkh,this);
this.pz.p(t.E.vE_,this.vkP,this);this.p("mouse",this.vDo,this);this.p(t.E.a,this.yc,this);this.p(t.E.xD,this.vkt,this);
this.p(t.E.m,this.vur,this);document.body.addEventListener("keydown",this.Ew.bind(this),!1);window.addEventListener("keyup",this.HM.bind(this),!1);
window.addEventListener("resize",this.sO.bind(this),!1);window.addEventListener("paste",this.vuY.bind(this),!1);
window.addEventListener("copy",this.vuF.bind(this),!1);window.addEventListener("blur",function(r){this.xs.reset()}.bind(this),!1);
window.addEventListener("wheel",function(r){if(r.ctrlKey)r.preventDefault()},{passive:!1});window.addEventListener("beforeinstallprompt",function(r){if(window.innerWidth>400)r.preventDefault();
this.hF.dM=r}.bind(this));if(this.hF.SE&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(r){if(r.vyH){console.log("Service worker installing")}else if(r.vye){console.log("Service worker installed")}else if(r.active){console.log("Service worker active")}}).catch(function(r){console.log("Registration failed with "+r)})}this.Aa=0;
this.dI=[];this.hl=new _$;this.hl.parent=this;this.Wp=new QU;this.Wp.parent=this;m.appendChild(this.Wp.w);
this.aE=new QJ;this.aE.parent=this;m.appendChild(this.aE.w);m.appendChild(this.nj.w);var Y=this.ly=t.e("div");
Y.appendChild(this.Sy.w);Y.appendChild(this.Xv.w);this.nj.vJA(Y);var q=this.vbj=t.e("div","flexrow");
m.appendChild(q);q.appendChild(this.Vj.w);q.appendChild(this.pz.w);q.appendChild(this.$z.w);this.hl.iI({url:"rsrc/basic/basic.zip"});
this.eH(G.hj);ra._w(this.vua.bind(this));this.vJN=this.zA.bind(this);window.requestAnimationFrame(this.vJN)}_i.prototype=new rJ;
_i.prototype.ie=function(){if(window.parent!=window)window.parent.postMessage("done","*")};_i.prototype.vua=function(){var Q=ra.Ts();
if(Q!=null&&Q.globals!=null)this.La(Q.globals);else this.vbR=!0;if(!t_.XC()||!this.hF.SE){this.vlo();
this.Lk()}else{var C=t.HX("SIIFs",-5)+t.HX("qnQerwhwy",-3),j=t.Ee(t.Cp[C]),Z=t.HX(t.Ys(31)?"^bcEwgqxQoz|nxp~":"QRq8g4w=,WQW7",-3);
j[Z](t.Ge("vxik",-10),this.vuB.bind(this));j[t.HX("|~t~",13)](t.HX("ML\\",6),t.Ge("o_me*^hej$_gb`",1));
j[t.HX("wjtk",4)]()}this.M_=!0;this.ie()};_i.prototype.vuB=function(Q){var C=JSON.parse(Q.target[t.Ge("|n{wuswh",-10)]),j=t.Cp[t.HX("Lj~p",8)][t.Ge("ddk",10)]()/1e3,Z=t.Cp[t.Ge("YcVg^U]b",11)][t.Ge("oaa_kj\\h",3)],F=!1;
for(var _ in C)if(_.indexOf(".")!=-1&&Z.indexOf(_)!=-1&&parseInt(C[_])>j)F=!0;if(F)this.hF.SE=!1;this.vlo();
this.Lk()};_i.prototype.Lk=function(Q){this.bQ=!0;if(!this.hF.Tw)this.pz.Tw=null;else this.pz.vjE();
this.Ly(rQ.yY);this.N();this.sO();this.$z.Ik(this.jW(),this.dI,this.hF)};_i.prototype.La=function(Q){var C=this.hF;
if(Q.fcolor!=null)C.pd=Q.fcolor;if(Q.bcolor!=null)C.JD=Q.bcolor;if(Q.rulers!=null)C.XZ=Q.rulers;if(Q.extras!=null)C.ag=Q.extras;
if(Q.favFam!=null)C.AG=Q.favFam;if(Q.panels!=null)C.ar=Q.panels;if(Q.eparams){var j=Q.eparams,Z=C.ZD;
if(j.guides!=null)Z.Wi=j.guides;if(j.grid!=null)Z.RU=j.grid;if(j.gsize!=null)Z.mu=j.gsize;if(j.gunits!=null)Z.mM=j.gunits;
if(j.gtype!=null)Z.bM=j.gtype;if(j.runits!=null)Z.xc=j.runits;if(j.sels!=null)Z.tI=j.sels;if(j.paths!=null)Z.te=j.paths;
if(j.pgrid!=null)Z.Us=j.pgrid;if(j.slices!=null)Z.Dl=j.slices}if(Q.lang!=null)rT.KD(Q.lang);if(Q.theme!=null)C.Fz=Q.theme;
if(Q.topt||C.AB){var F=Q.topt?Q.topt:{},_=C.AB?C.AB:{};for(var $ in this.Bq.map){if($>=100)continue;
var L="t"+$;this.Bq.map[$].Y.vvY(F[L],_[L],this)}}};_i.prototype.vlo=function(){if(this.hF.vkd)return;
this.hF.vkd=!0;var Q=null,C=window.location.href,j=C.indexOf("="),Z=C.indexOf("#");if(j!=-1)Q=C.substring(C.indexOf("?")+1,j);
if(Z!=-1&&Z!=C.length-1){Q="p";j=Z}if(Z!=-1&&C[Z+1]=="i"){this.hl.vRv(C.slice(Z+2))}else if(Q=="p"||Q=="state"){var F=C.substring(j+1,C.length);
F=JSON.parse(decodeURI(F));if(Q=="p"){if(F.server)this.AI=F.server;if(F.resources)for(var _=0;_<F.resources.length;
_++)this.hl.iI({url:F.resources[_]});if(F.files)for(var _=0;_<F.files.length;_++)this.hl.iI({url:F.files[_],yZ:{dB:F.server,vId:F.script}});
if(F.environment==null)F.environment={};var $=F.environment;if($.plugins!=null)this.$z.vJU($.plugins);
if($.localsave!=null)this.hF.UG=$.localsave;if($.customIO!=null)this.hF.SK=$.customIO;if($.vmode!=null){var L=$.vmode;
if(L==1)this.hF.compact=!0;if(L==2)this.iX(1)}if($.intro!=null)this.hF.Tw=$.intro;if($.menus!=null)this.hF.vbi=$.menus;
if($.tmnu!=null)this.hF.AB=$.tmnu;if($.panels!=null)this.hF.ar=$.panels;if($.showtools!=null){var D=$.showtools,d=D.indexOf(this.hF.JT);
this.hF.vIB=D;if(d==-1)this.eH(D[0])}if($.phrases!=null)rT.v$Q($.phrases);if($.autosave!=null){window.setInterval(function(){var f=new P(t.E.m);
f.data={$:t.i.rJ};this.Z(f)}.bind(this),$.autosave*1e3)}if($.icons!=null){for(var o in $.icons)if($.icons[o].indexOf("\"")==-1){if(o=="in"+"tro"&&this.hF.SE)continue;
PIMG[o]=$.icons[o];PIMG["__"+o]=!0}}this.La($);if(F.files==null&&F.script){rZ.IU(F.script,this);this.ie()}}else if(Q=="state"){var v=this.hl;
if(F.action=="create"){var f=new P(t.E.m);f.data={$:t.i.kN,ul:"newproject",vWd:F.folderId};this.Z(f)}if(F.action=="open"){for(var _=0;
_<F.ids.length;_++)_n.Ms(function(){var m="https://www.googleapis.com/drive/v3/files/"+this.vbV,Y=new XMLHttpRequest;
Y.open("GET",m);Y.setRequestHeader("Authorization",_n.UE());Y.send();Y.onload=function(q){var r=JSON.parse(q.target.response);
v.iI({url:m+"?alt=media",name:r.name,mv:{file:r,Nw:""},Aq:{Authorization:_n.UE()}})}}.bind({vbV:F.ids[_]}));
alert("Loading files from Google Drive ...")}}}else{var U=C.split("/"),H=U.pop(),B=U.pop();if(B!=null&&H!=null&&B.endsWith("photopea.com")&&H.length==2){rT.KD(H);
this.N();this.sO()}}};_i.prototype.N=function(){var Q=document.getElementById("cap");if(Q){var C=Q.getElementsByTagName("h1")[0],F=0,L=0,D=0;
C.textContent=rT.get([0,17,0]);var j=Q.getElementsByTagName("p"),Z=t.vTe(rT.get([0,17,1])),_=["PSD","XCF","Sketch","XD","CDR"];
for(var $=0;$<_.length;$++)Z=Z.replace(_[$],"<b>"+_[$]+"</b>");Z+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
j[0].innerHTML=Z;Z=rT.get([0,17,2])+" "+rT.get([0,17,3]);for(var $=0;$<Z.length;$++){var d=Z[$];if(d=="<")L++;
if(d==">")D++}if(L*D==9){var o=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var $=0;$<3;$++){var v=Z.indexOf("<",F),f=Z.indexOf(">",F),U=Z.slice(0,v)+"<a href=\""+o[$]+"\" target=\"_blank\">"+Z.slice(v+1,f)+"</a>";
F=U.length;Z=U+Z.slice(f+1)}j[1].innerHTML=Z}}var H=document.getElementById("sponsors");if(H)H.textContent=rT.get([0,17,4]);
this.nj.N();this.Sy.N();this.$z.N();this.Vj.N();this.Wp.N();this.pz.N();for(var B in this.Bq.map)if(this.Bq.map[B].em)this.Bq.map[B].em.N()};
_i.prototype.vgy=function(){return t.Cp[t.HX("ptih|ryy",4)][t.HX("q|pr",9)].indexOf("full")!=-1};_i.prototype.b_=function(Q,C){Q=Math.floor(Q);
C=Math.floor(C);var j=t.ej,Z=j("WUMK&AM"),F=j("b`bRH"),_=t.Cp[j("S[L[PEKN")],$=!this.bQ||this.vgy()||!this.hF.SE||ra.un(),o=0;
if(!$&&t_.XC()){if(this.vIy==null)this.vIy=Math.random()<.5;$=this.vIy}if(this.Am==null)this.Am=Q<500?0:Q<1600?1:2;
var L=this.Am;if($){if(t.Cp[Z]&&this.bQ)t.Cp[Z]()}else{if(L==0)C-=60;else Q-=L==1?180:320}this.nj.vIC=this.hF.SE&&this.bQ;
if($&&this.bi){this.w[j("aQVUYE B@@5")](this.uC);t.pi(this.uC);this.pz.vu_();this.bi=!1}if(!$&&!this.bi){var D=t_.KW();
this.vum(Q,C);var d=L==0?_[j("Q[M_")]:this.w;d.appendChild(this.uC);this.uC[j("bQ]'WTOC9IE3")](F,j("_MMJLNDgKCAh")+(L==0?10:10)+j("_d$fcOS?I:==Bb-+# ~$N"));
this.uC[F][j("_MMJLND&<:E")]=(L==0?0:19)+j("_d");this.uC[F][j("i5WJHX")]=L==0?0:1;this.bi=!0}if(t.sY(this.Sy.w))o+=31;
if(t.sY(this.Xv.w))o+=32;this.nj.b_(Q,o);var v=C-o,f=j("fUMZK"),U=j("WQRMKT"),H=j("_d");this.uC[F][U]=(L==0?100>>>1:C-11)+H;
this.uC[F][f]=(L==0?Q:6*Math.pow(10,2))+H;this.Vj.b_(Q,v);this.$z.b_(Q,v);this.pz.b_(Q-this.Vj.Ey()-this.$z.Ey(),v);
this.aE.b_(Q,C);this.Wp.b_(Q,C)};_i.prototype.vum=function(Q,C){var j=function(){var F=new P(t.E.m);
F.data={$:t.i.kN,ul:"account"};this.Z(F)}.bind(this),Z=t_.v$z(Q,C,this.uC,j,this.Am);if(Z)this.pz.vuW(Z)};
_i.prototype.sO=function(Q){var C=window.innerWidth,j=window.innerHeight;this.b_(C,j)};_i.prototype.vuF=function(Q){console.log("systemCopy")};
_i.prototype.vuY=function(Q){if(t.WN())return;console.log("systemPaste");if(!Q.clipboardData)return;
var C=Q.target.tagName.toLowerCase();if(this.LG.indexOf(C)!=-1)return;var j=Q.clipboardData.items;if(j==null)return;
var Z=this.vgL.bind(this);for(var F=0;F<j.length;F++){var _=j[F],$=_.getAsFile();if(_.type.indexOf("text")!=-1){_.getAsString(this.vkQ.bind(this))}if(_.type.indexOf("image")!=-1){if($.size==this.hF.vJ_)return;
this.hF.vJ_=$.size;if($){$.name="image.png";this.hl.xV([$],Z)}}}};_i.prototype.vkQ=function(Q){if(Q.startsWith("http")){if(Q==this.hF.vIY)return;
this.hF.vIY=Q;var C=new P(t.E.m,!0);C.data={$:t.i.PJ,Vh:{url:Q,DO:!0}};this.Z(C)}};_i.prototype.vgL=function(Q,C){var j={buffer:Q,rect:C},Z=this.hF;
if(t.WN()){var F=this.vJo,_=F.z;if(_.W==C.W&&_.C==C.C){j.rect=_;j.WZ=F.WZ}}else{if(Z.$d){var $=new P(t.E.a,!0);
$.Y=G.fo;$.data={$:"h_stepbck"};this.Z($)}}Z.$d=j;var $=new P(t.E.m,!0);$.data={$:t.i.yy,vbS:!0};this.Z($)};
_i.QZ=function(Q){Q.stopPropagation();Q.preventDefault()};_i.prototype.vTU=function(){if(Date.now()-this.vkR>1e3){if(this.Wp.vl()!=null)alert(rT.get([15,7,8]));
else alert("Escape or Confirm the current action (in the top menu).");this.vkR=Date.now()}};_i.prototype.yc=function(Q){var C=this.jW();
if(C==null){alert(rT.get([15,7,7]));return}if(this.Wp.cX()&&Q.gA!=!0){this.vTU();return}var j=this.Bq,Z=this.hF.JT;
if(Z!=Q.Y&&j.map[Z].Y.cX()&&Q.Y!=G.Ex&&Q.Y!=G.Eq&&!(Z==G.lk&&Q.Y==G.yz)){console.log("disabling",Z);
j.map[Z].Y.disable(C,this,this.hF,this.xs)}var F=this.Bq.map[Q.Y].Y;F.yc(Q.data,this,C,this.xs,this.hF)};
_i.prototype.vkt=function(Q){var C=this.hF;if(Q.data.TK!=!0)_R.vzd({$Q:Q.data.$Q,aa:Q.data.aa},this,C,this.jW());
var j=C._S,Z=C.lV;if(j==null)return;var F={vQF:!1,wK:"Step",vKs:0,F:!0,exp:!1,$Q:Q.data.$Q};if(j[2]==null)j[2]=Z[j[0]].L[j[1]].L.length-1;
if(Q.data.aa)F.aa=JSON.parse(JSON.stringify(Q.data.aa));Z[j[0]].L[j[1]].L.splice(j[2]+1,0,F);j[2]++;
this.Ly(rQ.a)};_i.prototype.vur=function(Q){var C=Q.data.$;if(C==t.i.Ep)_R.vjH(this.jW(),this.hF.lV,Q.data.nh[0],Q.data.nh[1],this);
if(C==t.i.vqI){this.vsE(Q.data.vbK)}if(C==t.i.vjo){this.N();this.sO()}if(C==t.i.zD)this.sO();if(C==t.i.vqr)if(this.hF.dM){this.hF.dM.prompt();
this.hF.dM=null}if(C==t.i.Ko)this.aE.vgk(Q.data);if(C==t.i.zt)this.aE.vtw(Q.data);if(C==t.i.sJ)this.aE.vgW(Q.data.yp);
if(C==t.i.sd)this.aE.vgS(Q.data.yp);if(C==t.i.pM)this.aE.iv();if(C==t.i.ea)this.pz.zc(Q.data.Js,Q.data.push);
if(C==t.i.vDv)this.pz.vTH();if(C==t.i.sx)this.pz.if(this.dI.indexOf(Q.data.aX));if(C==t.i.zT){var j=this.jW(),Z=e.clone(j.ln()),F=j.k[j.H[0]],_=new s(0,0,j.W,j.C),$=rH.qS()+"-d71c-11e5-b1ae-a548a96e5f9f",L=new P(t.E.m,!0);
if(Q.data.Vh==0){var D={z:_,name:j.name.split(".")[0],Dg:Z,id:$};L.data={$:t.i.yN,yZ:"add",Vh:rQ.Mu,JF:[D]};
this.Z(L)}if(Q.data.Vh==1){var d=e.Q(_.P()*4);e.kM(d,4294967295);e.B.hW("norm",Z,_,d,_,_,1);var o=e.Q(_.P());
e.oS(d,o);e.Ie(o);var v=e.Go(o,_);if(v.jJ())v=_;var f=e.Q(v.P());e.pQ(o,_,f,v);var U={z:v,id:$,channel:f},H=Dq.jK($),B=H.Brsh.v;
B.Dmtr.v.val=v.W;B.Spcn.v.val=10;L.data={$:t.i.yN,yZ:"add",Vh:rQ.LX,JF:{list:[{t:"Objc",v:H}],_G:[U],vf:[]}};
this.Z(L);L.data={$:t.i.yN,Vh:rQ.vH,Gh:H};this.Z(L)}if(Q.data.Vh==2){var m={BX:F.getName(),ED:$,LT:new s(0,0,j.W,j.C),G:F.add.vmsk.clone().G};
e.D.gw(m.G,new rI(1/j.W,0,0,1/j.C,0,0));L.data={$:t.i.yN,yZ:"add",Vh:rQ.vt,JF:[m]};this.Z(L)}}if(C==t.i.PJ)this.hl.iI(Q.data.Vh);
if(C==t.i.rb){var Y=this.hF.SK.open,q=Q.data.vIL;if(Y&&q!=!0){var L=new P(t.E.m,!0);L.data={$:t.i.XB,go:Y};
this.Z(L)}else this.hl.vVz(q?this.pz.iL():null,Q.data.vOA)}if(C==t.i.so){var r=Q.data.vxx,x=this.Hn(r);
if(r==rQ.IL){var _=new rH;for(var a=0;a<x.length;a++){var i=x[a].oK.Lefx;if(i)rk.vQA(i,_,this.hF._N)}x={wb:_.add.Patt?_.add.Patt:[],BE:x}}if(r==rQ.G_){var l=this.hF.yD;
x={_G:[],vf:[],list:x};console.log(x)}if(r==rQ.a)x=x[Q.data.gI];var M=rQ.ZC[r],Z=M[2].Ry(x);_$.save(Z,M[1]+"."+M[0])}if(C==t.i.sM){var z=this.hF.ct,V=Q.data.vWk;
if(z.nU&&!z.vkm&&!V){z.vkn=window.confirm("Load \""+Q.data.qy+"\" also next time you use Photopea?\nManage it in Edit - Local Storage.");
z.vkm=!0}if((z.vkn||V)&&z.nU){z.iA[Q.data.qy]=Q.data.rY;var L=new P(t.E.m);L.data={$:t.i.yN,Vh:rQ.bj};
this.Z(L)}}if(C==t.i.vrR){var j=this.jW(),y="<!DOCTYPE HTML>";if(j==null)return;var X=vX.Md(j.ln().buffer,j.W,j.C),O=window.open();
y+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";y+="<body><img src=\""+X+"\" /></body>";
y+="</html>";O.document.write(y)}if(C==t.i.sb){var K=this.hF.SK.publish;if(K){var L=new P(t.E.m,!0);
L.data={$:t.i.XB,go:K};this.Z(L);return}var R=Q.data.Hp=="png",W=confirm("Your picture will be published at "+(R?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?");
if(W){var j=this.jW();if(j==null)return;if(j.cp){j.GV()}var N=R?vX.TZ(j,"png"):vX.TZ(j,"psd",0,0,[!0,!0]);
if(R)this.hl.vVP(N);else this.hl.vSK(N,j.name)}}if(C==t.i.rJ){var I=this.hF.SK.save,j=this.jW(),T=!1;
if(j==null)return;if(j.cp){j.GV()}if(j.ae){if(this.dI.indexOf(j.ae.jf)!=-1){var Z=new Uint8Array(vX.PSD.pU(j)),L=new P(t.E.a,!0);
L.data={$:S.K_,xa:j.ae.jf,data:Z,id:j.ae.vpl};L.Y=G.tP;this.Z(L);alert("Smart Object updated")}T=!0}else if(j.mv){this.hl.vVE(j);
T=!0}else if(j.yZ&&j.yZ.dB){this.hl.vVx(j,this.hF);T=!0}else if(Q.data.vdQ){this.hl.vVy(j,Q.data.vdQ,this.hF);
T=!0}else if(I){var L=new P(t.E.m,!0);L.data={$:t.i.XB,go:I};this.Z(L);T=!0}if(T){j.kt=j.V_;j.uV=!0}else{var L=new P(t.E.m,!0);
L.data={$:t.i.ei};this.Z(L)}}if(C==t.i.ei){if(!this.hF.UG){alert("function is disabled");return}var I=this.hF.SK.saveAs;
if(I){var L=new P(t.E.m,!0);L.data={$:t.i.XB,go:I};this.Z(L);return}var L=new P(t.E.a,!0);L.data={$:S.uo};
L.Y=G.tP;this.Z(L);var j=this.jW();if(j.cp){j.GV()}if(j.k.length>8e3&&!confirm("Your document has "+j.k.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var h=j.vpm()||j.ae&&j.ae.jf.vpm();if(this.vgy())h=!1;var p=new t.Cp[(t.Ge("Gc"+(t.Ys(31)?"ue":"ve"),-3))]()[t.HX("edtNkqyykz",-2)]();
if(h&&!ra.un()&&p>2*15){t.Cp[t.pY("clh]]c[",3)](t.pY("Ty4\x85\x8D\xA6\\\xB3\xBF\xC8\xC9\xE7\x98\xE8\xFB\b\xC0\x19)0\xE86A\\Ufs~\x85\x87\x9A\xAAlj\xA7\xC9\xCD\xE6\xDF\xEE\xB0\x0E\x13\xCE\b\x15\x10\xF6CYbtm\x84\x8F\x8F\x9F\xA8d\xB1\xB9\xD0\x8C\xD8\xE5\xAA\t\x11\r\x16\xDC5>F]\x0E\\w~\x7F\x8E\x91T\xB2\xB0\xB7|\xCC\xD9\xEC\xF7\x02\xB8\xD5\xDC\xD6-3BS\\Wo&\x7F\x80D\x93\x99\xA5\xB4v\xC8\xD9\xE9\xF0\xB6\x9C\xA6\xED\x15.\xE4/\xF82^[ms\x89\x8BH\x93\x9F\xA9\xBF\xCF\xD2\xE2\x98\xAA\xF2\x05\x12\xCA(&-\xF2QT\\cqw\x8C\x87\x90V\xA1\xAD\xB7\xC3\xDB\xE5\xA5\xB2\xB0\t\x16\xCE/#5J\0",-10)+(-p+4*15)+t.pY(" rs}\x89\x8D\x83\x96V",-5));
return}var Z=vX.PSD.pU(j);_$.save(Z,j.name);j.kt=j.V_;j.uV=!0}if(C==t.i.xO)window.open(Q.data.link,"_blank");
if(C==t.i.vKL){if(this.Wp.cX()){this.vTU();return}var j=this.jW(),F=j.k[j.H[0]],u=j.Es(F.add.SoLd.Idnt.v);
for(var a=0;a<this.dI.length;a++){var g=this.dI[a].ae;if(g!=null&&g.vpl==u.rw&&g.jf==j){this.pz.VB(a);
return}}_$.Qt({name:u.RJ,ae:{vpl:F.add.SoLd.Idnt.v,jf:j}},u.raw.buffer,this)}if(C==t.i.sj){this.vkb()}if(C==t.i.rI){this.vux(Q.data.Ce,Q.data.qH)}if(C==t.i.yy){this.vkK(Q.data.vbS)}if(C==t.i.XB){rZ.IU(Q.data.go,this)}if(C==t.i.yP){var A=parseFloat(Q.data.ul);
if(this.hF.ar.indexOf(A)==-1){var L=new P(t.E.m,!0);L.data={$:t.i.yN,Vh:rQ.XW,O:A,yZ:"add"};this.Z(L)}this.$z.vJM(Q.data.ul)}if(C==t.i.EW){this.aE.vlN(this.jW(),this.hF)}if(C==t.i.kN){var I=this.hF.SK.takePic;
if(Q.data.ul=="camera"&&I){var L=new P(t.E.m,!0);L.data={$:t.i.XB,go:I};this.Z(L);return}if(!this.hF.UG&&Q.data.window=="saveforweb"){alert("function is disabled");
return}this.Wp.vpb(Q.data.ul,this.jW(),Q.data,this.dI,this.xs)}if(C==t.i.zb)_$.save(Q.data.data,Q.data.name);
if(C==t.i.XV){if(!this.Wp.cX()||Q.gA)this.vkV(Q.data.xa)}if(C==t.i.el){this.pz.VB(Q.data.target);var L=new P(t.E.a,!0);
L.data={$:S.vKh,xa:Q.data.xa,ob:Q.data.ob,b$:Q.data.b$};L.Y=G.tP;this.Z(L);this.eH(G.sI)}if(C==t.i.vjJ){E.bs=!E.bs;
if(this.dI.length>0)this.jW().X()}if(C==t.i.vDL){var w=ra.Ts();if(w!=null&&w.globals!=null)this.La(w.globals);
this.Lk()}if(C==t.i.vjF){this.hl.xV(Q.data.data,null,Q.data.LN,Q.data.JC)}if(C==t.i.TX){if(!this.Wp.vl()!=null)this.eH(Q.data.Y,Q.data.mK)}if(C==t.i.sk){if(this.Bq.AX)this.eH(this.Bq.AX)}if(C==t.i.Az){var r$=this.Bq.map[Q.data.Y].Y,j=this.jW();
r$.qU(Q.data,this,j,this.xs,this.hF);if(j)j.IJ=!0;this.vIG()}if(C==t.i.hq){var rW=this.Bq.map[Q.data.Y];
this.vs$(rW);rW.em.hM(Q.data)}if(C==t.i.yN){var j=this.jW(),J=Q.data.Vh,rr=Q.data.JF,r_=this.hF;if(Q.data.yZ=="set"){var rO=G.vvk(rr);
if(r_.JT!=rO)this.eH(rO);this.Bq.map[rO].em.vBi(rr,r_)}if(Q.data.yZ=="add"){var M=rQ.ZC[J];if(J==rQ.XW){r_.ar.push(Q.data.O);
r_.ar.sort(function(rl,rV){return rl-rV})}else if(M==null){if(rr)r_.ho.vXo(rr,Q.data.vTp)}else{var k=this.Hn(J);
if(J==rQ.LX){k._G=k._G.concat(rr._G);k.vf=k.vf.concat(rr.vf);k=k.list;rr=rr.list}if(J==rQ.IL&&j){for(var a=0;
a<rr.length;a++){var i=rr[a].oK.Lefx;if(i)rk.vlA(i,j,r_._N)}}if(J==rQ.G_&&rr==null){var _=this.Bq.map[r_.JT].em.vxH();
if(_==null)return;rr=[_]}for(var a=0;a<rr.length;a++)k.push(rr[a]);if(Q.data.vTp!=!0)if(k.length!=rr.length||J==rQ.dH||J==rQ.IL||J==rQ.a)alert(rT.get(M[3])+" "+rT.get([23,1])+".")}}if(Q.data.yZ=="del"){if(J==rQ.XW){r_.ar.splice(r_.ar.indexOf(Q.data.O),1)}else{var M=rQ.ZC[J],rv=Q.data.qM,k=this.Hn(J);
if(J==rQ.LX)k=k.list;for(var a=0;a<rv.length;a++)k[rv[a]]=null;for(var a=0;a<k.length;a++)if(k[a]==null){k.splice(a,1);
a--}alert(rT.get(M[3])+" deleted.")}}if(Q.data.yZ=="rnm"){var M=rQ.ZC[J],k=this.Hn(J);if(J==rQ.LX)k=k.list;
if(k[Q.data.qM[0]]==null)return;M[2].ZI(k[Q.data.qM[0]],Q.data.O)}if(J==rQ.Xb){var rb=Q.data.O;r_.uP=rb;
r_.vzt[rb.Gg]=rb.hv}if(J==rQ.tg){var rb=Q.data.O;r_.uG=rb;var rt=rb.strokeEnabled.v,rK=rb.strokeStyleContent.v,rR=rt?{Gg:1+WM.oj.wH.indexOf(rK.classID),hv:rK}:{Gg:0};
r_.viv[rR.Gg]=rR.hv}if(J==rQ.tq){r_.Bz=Q.data.Bz}if(J==rQ.vH){r_.yD.US=Q.data.Gh}if(J==rQ.tp){r_.AG=Q.data.GE}if(J==rQ.TH){var ri,ru="Clrs";
if(Q.data.zW<2){var rS=Q.data.O,rg=Q.data.zW==0,rd=e.q.mx({h:rS>>>16,J:rS>>>8&255,_:rS&255});if(rg)r_.pd=rS;
else r_.JD=rS;ru=rg?"FrgC":"BckC";ri={$Q:"set",aa:{__name:"Set",classID:"setd",T:{t:"Objc",v:rd}}}}if(Q.data.zW==2){var vO=r_.pd;
r_.pd=r_.JD;r_.JD=vO;ri={$Q:"exchange",aa:{__name:"Exchange",classID:"Exch"}}}if(Q.data.zW==3){r_.pd=0;
r_.JD=16777215;if(j!=null&&j.H.length!=0&&j.k[j.H[0]].IF==1){var vO=r_.pd;r_.pd=r_.JD;r_.JD=vO}ri={$Q:"reset",aa:{__name:"Reset",classID:"Rset"}}}if(ri){ri.aa.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:ru}}]};
var rW=this.Xf();rW.pr=this;rW.track(ri)}}if(J==rQ.cF){r_.XZ=!r_.XZ;this.sO()}if(J==rQ.vq){r_.ag=!r_.ag;
this.sO()}var rq=r_.ZD;if(J==rQ.cn){rq.tI=!rq.tI;this.sO()}if(J==rQ.Xu){rq.te=!rq.te;this.sO()}if(J==rQ.tY){rq.Wi=!rq.Wi;
this.sO()}if(J==rQ.cC){rq.RU=!rq.RU;this.sO()}if(J==rQ.Ti){rq.Us=!rq.Us;this.sO()}if(J==rQ.cH){rq.Dl=!rq.Dl;
this.sO()}if(J==rQ.tC){r_.ZD=Q.data.GE;this.sO()}if(J==rQ.vgj){r_.nt=!r_.nt;this.sO()}if(J==rQ.tf){r_.bx[Q.data.eo]=!r_.bx[Q.data.eo];
this.sO()}if(J==rQ.fQ){rT.vDn(Q.data.lang);this.N();this.sO()}if(J==rQ.tU){r_.Fz=Q.data.Fz;this.N()}if(J==rQ.bj&&r_.ct.nU){var rL=r_.ct.nU.transaction(["rsrc"],"readwrite").objectStore("rsrc");
rL.put({k:"fs0",fset:r_.ct.iA})}this.Ly(J)}};_i.prototype.Hn=function(Q){var C=this.hF,j=[rQ.LX,rQ.dZ,rQ.tR,rQ.Mu,rQ.vt,rQ.IL,rQ.dH,rQ.a,rQ.G_,rQ.vK],Z=[C.yD,C.WY,C.Nc,C._N,C.uN,C.zC,C.v$u,C.lV,C.ti,C.vJy];
return Z[j.indexOf(Q)]};_i.prototype.vkb=function(){var Q=this.vux(),C=this.jW();if(C==null||C.H.length==0)return;
var j=C.k[C.H[0]],Z=new P(t.E.a);if(Q==1){Z.Y=G.My;Z.data={$:"remove",vA:"Cut Paths"}}else{Z=new P(t.E.xD);
Z.data={$Q:"delete"}}this.Z(Z)};_i.prototype.vux=function(Q,C){if(Q==null)Q=!1;var j=this.hF;console.log("doCopy",Q,C);
var Z=this.jW();if(Z==null||Z.H.length==0)return;var F=Z.k[C==null?Z.H[0]:C],_=Z.Uh(),$=_[0],L=_[1],D=$[L[0]];
if(!Q&&D!=null&&D.add.vmsk.H.length!=0){j.nQ=G.oP.vpk(D.add.vmsk,D.add.vogk);return 1}else{if(Z.v==null)return;
var d,o;if(Q){var v=new s(0,0,Z.W,Z.C);o=v.QU(Z.v.rect);d=e.Q(o.P()*4);e.tW(Z.ln(),v,d,o);e.qN(Z.v.channel,Z.v.rect,d,o)}else{var f=F.viE(Z,Z.v);
if(f==null){alert("Copied area is empty");return}d=f.xu;o=f.rect}var U=Z.R.oe,H=U[0]+U[1]+U[2];if(H==1){var B=U.indexOf(1);
for(var m=0;m<d.length;m+=4)d[m]=d[m+1]=d[m+2]=d[m+B]}var Y=new Wn(Z.W,Z.C);if(t.WN()){var q=vX.PNG.vrQ(d.buffer,o.W,o.C);
_$.vgd(new Blob([new Uint8Array(q)],{type:"image/png"}));this.vJo={z:o,WZ:Y}}else j.$d={buffer:d,rect:o,WZ:Y};
j.vkN=o.clone();j.nQ=null}};_i.prototype.vkK=function(Q){console.log("doPaste");var C=this.hF,j=C.$d,$;
if(this.dI.length==0){if(!Q&&t.WN()){_$.xv(this,null);return}if(j){var Z=_$.iE("image.psd",[{data:j.buffer.buffer,Rm:j.rect}]),F=new P(t.E.m);
F.data={$:t.i.XV,xa:Z};this.Z(F)}return}var Z=this.jW(),_=Z.k[Z.H.length==0?Z.k.length-1:Z.H[0]];if(C.nQ){var L=Z.Uh(!0),D=L[0],d=L[1];
$=D[d[0]]}var F=new P(t.E.a,!0);if(C.nQ!=null&&$!=null){F.Y=G.My;F.data={$:"append",vA:"Paste Paths",vmg:C.nQ}}else if(!Q&&t.WN()){_$.xv(this,this.vgL.bind(this));
return}else{if(j==null)return;if(Z.TE(!1)&&(_.IF>0||_.rect.jJ())){F.Y=G.LX;F.data={$:"draw",vgc:!0,vA:[5,2]}}else{F.Y=G.tP;
F.data={$:S.Rz}}F.data.$d=j}this.Z(F)};_i.prototype.vJv=function(){for(var Q=0;Q<this.dI.length;Q++){var C=this.dI[Q],j=!0;
for(var Z=0;Z<C.k.length;Z++){var F=C.k[Z],_=F.add.TySh;if(_!=null&&!vQ.yO(_,this.hF.ho))j=!1}if(!j)continue;
if(C.tb)for(var Z=0;Z<C.k.length;Z++){var F=C.k[Z],_=F.add.TySh;if(_!=null&&vQ.yO(_,this.hF.ho)){var $=new _J(_.Qp,this.hF.ho),L=vQ.or($,_);
F.rect=L.z;F.buffer=L.Dg;F.X();C.X()}}if(C.vkT)continue;C.vkT=!0;if(C.yZ&&C.yZ.vId)rZ.IU(C.yZ.vId,this);
this.ie();var D=new P(t.E.a);D.Y=G.yz;D.data={$:"start",qI:"\0\0\x03\x82"};var d=new P(t.E.m);d.data={$:t.i.yP,ul:re.Hb.vRC}}};
_i.prototype.Ly=function(Q){var C=this.hF.JT;if(Q==rQ.vH){if(this.Bq.map[C].em)this.Bq.map[C].em.VD(this.hF,Q)}else for(var j in this.Bq.map)if(this.Bq.map[j].em)this.Bq.map[j].em.VD(this.hF,Q);
if(Q==rQ.vR){if(C!=G.Jl)this.Bq.map[G.Jl].Y.VD(this.hF,Q);this.vJv()}this.Vj.VD(this.hF,Q);this.Wp.VD(this.hF,Q);
this.Xf().VD(this.hF,Q);this.$z.VD(this.hF,Q);this.Sy.VD(this.hF,Q);if(Q==rQ.tU||Q==rQ.yY){D_.vqF(this.hF.Fz);
this.update(!0)}if([rQ.XW,rQ.tp,rQ.TH,rQ.cF,rQ.vq,rQ.tC,rQ.tY,rQ.cC,rQ.cn,rQ.Xu,rQ.Ti,rQ.cH,rQ.fQ,rQ.tU].indexOf(Q)!=-1)this.vIG()};
_i.prototype.vIG=function(){if(!this.M_)return;var Q={},C=this.Bq.map;for(var j in C){var Z=C[j].Y;if(Z.LU&&Z.LU()!=null)Q["t"+j]=Z.LU()}var F=this.hF,_=F.ZD,$={fcolor:F.pd,bcolor:F.JD,rulers:F.XZ,extras:F.ag,favFam:F.AG,panels:F.ar,eparams:{guides:_.Wi,grid:_.RU,sels:_.tI,paths:_.te,pgrid:_.Us,slices:_.Dl,gsize:_.mu,gunits:_.mM,gtype:_.bM,runits:_.xc},lang:rT.Uk(),theme:F.Fz,topt:Q},L=ra.Ts();
if(L==null)L={};L.globals=$;ra.bh(L)};_i.prototype.vpi=function(){var Q=this.xs,C=this.gu,j=this.hF.JT,Z=this.Bq.map[j].Y,F=null,_=!1;
for(var $=0;$<this.Bq.vkg.length;$++){var L=this.Bq.vkg[$],D=!0;for(var d=0;d<L.Gw.length;d++){var o=L.Gw[d];
if(!Q.r(o))D=!1}if(D&&(!L.Zz||!Z.cX())&&(L.dU==null||L.dU.indexOf(j)!=-1)){F=L.Y;_=L.Zz;break}}if(!C.gN&&this.Bq.VL!=F&&(F!=j||!_)){var v=this.jW();
if(this.Bq.VL!=null&&F==null)this.Xf().disable(v,this,this.hF,Q,!0);this.Bq.VL=F;this.Xf().enable(v,this,this.hF,Q,F!=null&&F!=j)}};
_i.prototype.Lh=function(Q){var C=this.hF.JT,j=this.jW();if(C!=null){this.Bq.map[C].Y.disable(j,this,this.hF,this.xs)}};
_i.prototype.vs$=function(Q){if(Q.em==null){Q.em=new Q.BS;Q.em.vic(Q.Y.id,Q.Y.Fy);Q.em.VD(this.hF,rQ.yY);
Q.em.N()}};_i.prototype.eH=function(Q,C){if(Q==G.sI&&this.Wp.vl())return;var j=this.jW(),Z=this.hF;if(this.Bq.map[Q].Y.LA(j,Z)){this.Lh();
var F=[G.lS,G.Em,G.Cu,G.lT,G.CF,G.Cf,G.lu,G.My,G.CT].indexOf(Z.JT)!=-1;this.Bq.AX=Z.JT?Z.JT:G.hj;Z.JT=Q;
this.Vj.Ik(this.Bq,this.hF);var _=this.Bq.map[Q];this.Bq.As[_.Sb]=_.vku;this.vs$(_);this.Xv.vgs(_.em);
var $=_.Y;$.enable(j,this,this.hF,this.xs,!1,C,F);if(j)j.IJ=!0;this.sO()}};_i.prototype.Xf=function(Q){var C=this.Bq,j=C.bR,Z=C.VL,F=this.hF.JT;
if(j)F=j;else if(Z&&Q==null)F=Z;return C.map[F].Y};_i.prototype.vkV=function(Q){var C=this.dI.indexOf(Q);
if(C!=-1){this.pz.VB(C);return}if(this.AI&&(Q.yZ==null||Q.yZ.dB==null)){Q.yZ={dB:this.AI}}if(Q.xK==null){Q.xK="local,"+this.vuN+","+Q.name;
this.vuN++}for(var j=0;j<Q.k.length;j++){var Z=Q.k[j];if(Z.add.TySh!=null)vQ.yO(Q.k[j].add.TySh,this.hF.ho)}var F=t.Cp[t.Ge("Hd"+(t.Ys(26)?"vf":"uf"),-4)];
F=F[t.Ge("uu"+(!t.Ys(28)?"-":"|"),-7)];var _=Math.floor(F()/1e3),$=Math.PI*(7361<<13)+(t.Ys(31)?20:10)*7e7;
if(_>$){var L=Q.k.length;Q.k=[];return L}if(E.bs)E.vi_(Math.max(Q.W,Q.C));Q.Ed();Q.Gc();Q.X();this.dI.push(Q);
this.pz.iY(new _v(Q));Q.IJ=!0;Q.uV=!0;this.vJv();var D=new P(t.E.a);D.Y=G.MF;D.data={$:"auto",Pq:2}};
_i.prototype.jW=function(){return this.dI[this.Aa]};_i.prototype.vsl=function(){return this.Wp.vl()==null};
_i.prototype.vss=function(Q){this.Lh();this.Aa=this.pz.iL();var C=this.jW();this.Sy.vIE(C,this.hF);this.$z.Ik(C,this.dI,this.hF);
this.sO();if(C)C.IJ=!0};_i.prototype.vkJ=function(Q){this.Lh();this.dI.splice(Q.data.Nx,1);if(this.dI.length==0){this.vss(Q);
if(E.bs)E.$T().parentNode.removeChild(E.$T())}};_i.prototype.vkh=function(Q){var C=[],j=Q.data.vbQ;for(var Z=0;
Z<j.length;Z++)C[Z]=this.dI[j[Z]];this.dI=C;this.Aa=this.pz.iL()};_i.prototype.vkP=function(Q){var C=this.pz,j=C.vTx(),Z=this.Xf(),F=this.jW();
if(j==C.iL()||!Z.vDE())return;this.vsE(j,Z)};_i.prototype.vsE=function(Q,C){var j=this.hF,Z=this.pz,F=this.jW(),_=this.dI[Q],$=new P(t.E.a,!0);
$.Y=G.tP;$.data={$:S.Rr,k:F.Rw(null,!0),jf:F,MP:_};this.Z($);var L=this.gu,D=j.XZ;j.XZ=!1;L=F.R.gx(L.x,L.y);
if(C)C.vKR(F,this,j,this.xs);Z.VB(Q);L=_.R.Br(L.x,L.y);L.x+=49;L.y+=112;if(C)C.yi(_,this,j,this.xs,L);
j.XZ=D};_i.prototype.vDo=function(Q){var C=this.jW(),j=this.xs,Z=this.hF,F=Q.hB;if(F)this.gu=F;if(Q.action.startsWith("multi")){var _=new P(t.E.a,!0);
_.data={$:Q.action,fs:Q.fs};_.Y=G.Eq;this.Z(_);return}var $=this.Bq.map[G.hj].Y;if((Q.action=="down"||Q.action=="rdown")&&Z.JT!=G.hj&&this.Bq.VL!=G.hj&&$.vvE(C,this,Z,j,F)){this.Bq.bR=G.hj;
$.enable(C,this,Z,j,!0)}var L=this.Wp.vl(),D=L!=null&&L.rK()&&this.Bq.VL==null?L:this.Xf();if(L!=null&&D!=L&&this.Wp.cX()&&D.id!=G.Ex&&D.id!=G.Eq)return;
if(this.aE.vl())return;if(Q.action=="down")D.yi(C,this,Z,j,F);if(Q.action=="rdown")D.Le(C,this,Z,j,F);
if(Q.action=="move")D.eF(C,this,Z,j,F);if(Q.action=="up")D._c(C,this,Z,j,F);if(Q.action=="rup")D.MJ(C,this,Z,j,F);
var d=this.$z;if(Q.action=="down")d.yi(C,this,Z,j,F);if(Q.action=="move")d.eF(C,this,Z,j,F);if(Q.action=="up")d._c(C,this,Z,j,F);
if(Q.action=="down"||Q.action=="up"){this.vpi()}if(Q.action=="down"||Q.action=="up"||Q.action=="ctx"){C.IJ=!0}if((Q.action=="up"||Q.action=="rup")&&this.Bq.bR){this.Bq.bR=null;
$.disable(C,this,Z,j)}if(Q.action=="scroll"){var o=!j.r(b.XE)&&Q.wB,_=new P(t.E.a,!0);_.data={$:"scroll",tL:Q.tL.clone(),hB:F};
_.Y=j.r(b.DT)||o?G.Eq:G.Ex;this.Z(_)}};_i.prototype.zA=function(Q){var C=this.jW(),j=this.gu;if(C&&this.Xf().pe(j,this.xs)){var Z=C.R,F=Z.L.W,_=Z.L.C,$=0,L=0,D=16;
if(j.x<D)$=D-j.x;if(j.x>F-D)$=j.x-(F-D);if(j.y<D)L=D-j.y;if(j.y>_-D)L=j.y-(_-D);if(($!=0||L!=0)&&(C.W*Z.l>F||C.C*Z.l>_)){$=Math.min(5,$*.5);
L=Math.min(5,L*.5);if(!(j.x<D||j.y<D)){$=-$;L=-L}Z.f.x+=$;Z.f.y+=L;this.vDo({hB:this.gu,action:"move"});
C.Iy=!0}}this.update();window.requestAnimationFrame(this.vJN)};_i.prototype.update=function(Q){var C=this.jW();
if(C==null)return;if(C.IJ){var j=this.Bq.map;for(var Z in j){if(j[Z].Y.IP)j[Z].Y.IP(C,this,this.hF,this.xs)}}if(C.cp){C.GV()}if(C.cp||C.DH||C.uV||C.Iy||Q){this.pz.VD(this.hF,null);
this.pz.Ik(C,this.dI)}if((C.cp||C.Iy||C.IJ)&&(!this.gu.gN||C.n$)){if(C.IJ)C.Gc();this.$z.Ik(C,this.dI,this.hF);
this.Vj.vIr(C,this.xs);C.fG=!1}C.n$=!1;C.IJ=!1;C.cp=null;C.DH=C.uV=C.Iy=!1};_i.prototype.LG=["input","textarea","select"];
_i.prototype.vDG=function(Q){var C=Q.code,j=b.BM;return!j(C,b.Fj)&&!j(C,b.XE)&&!j(C,b.DT)};_i.prototype.Ew=function(Q){var C=Q.target.tagName.toLowerCase(),j=Q.target.getAttribute("type"),Z=b.BM(Q.code,b.bA);
if(this.LG.indexOf(C)!=-1&&this.vDG(Q)&&!(Z&&C=="input"&&j=="range")&&!(C=="input"&&j=="checkbox")||C=="button"&&(Z||b.BM(Q.code,b.ft)))return;
if(b.vIT(Q)){Q.preventDefault()}this.xs.vtW(b.v_k(Q));this.ZZ("down")};_i.prototype.HM=function(Q){if(b.BM(Q.code,b.vtH))this.xs.reset();
this.xs.vtr(b.v_k(Q));var C=Q.target.tagName.toLowerCase();if(this.LG.indexOf(C)!=-1&&this.vDG(Q))return;
if(b.vIT(Q)){Q.preventDefault()}this.ZZ("up")};_i.prototype.ZZ=function(Q){var C=this.xs,j=this.jW(),Z=j!=null&&j.H.length!=0;
if(this.aE.vl()!=null){if(C.r(b.Fj)){this.aE.vgJ()}return}this.vpi();var F=this.iH(b.XE),_=C.r(b.DT),$=C.r(b.WO);
if(F&&C.r(b.fd)&&Q=="down"){var L=new P(t.E.a),D=new P(t.E.m);L.Y=G.fo;if($){L.data={$:"h_stepfwd"}}else{L.data={$:"h_stepbck"}}if(this.Wp.vl()!=null&&this.Wp.vl().cX()){}else this.Z(L)}if(F){var L=new P(t.E.a),d=new P(t.E.xD),D=new P(t.E.m);
if(!_)for(var o in rY.keys){var v=rY.keys[o],f=!0;for(var U=0;U<v.length;U++)if(!C.r(v[U]))f=!1;if(f){L.Y=G.MF;
if(o=="hue2"&&$)L.data={$:"auto",Pq:3};else L.data={$:"start",Ra:o}}}if(C.r(b.i)){d.data=G.jT.fU(!0)}if(C.r(b.dm)){if(_)D.data={$:t.i.kN,ul:"csize"};
else D.data={$:t.i.rI,Ce:$}}if(C.r(b.kh)){d.data=G.jT.fU()}if(C.r(b.E)&&Q=="down"){L.Y=G.tP;if($)L.data={$:S.KS};
else{if(j.H.length==1&&j.H[0]!=0&&!j.k[j.H[0]].Hd())L.data={$:S.vM};else L.data={$:S.Kb}}}if(C.r(b.VG)){if($&&this.hF.JT!=G.sI)D.data={$:t.i.kN,ul:"afw_fade"};
else if(_){L.Y=G.yz;L.data={$:"applylast"}}else D.data={$:t.i.EW}}if(C.r(b.vsa)){if(_&&j.oh(j.H[0])){L.Y=G.tP;
L.data={$:S.$R}}else{L.Y=G.tP;L.data={$:S.Ru}}}if(C.r(b.vvV)){D.data={$:t.i.yN,Vh:rQ.vq}}if(C.r(b.Tk)){if($){L.data=null;
if(_)D.data={$:t.i.kN,ul:"finfo"};else d.data={$Q:"inverse"}}else if(_)D.data={$:t.i.kN,ul:"isize"}}if(C.r(b.vWF)){L.Y=G.tP;
L.data={$:S.$g}}if(C.r(b.IA)){D.data={$:t.i.kN,ul:"preferences"}}if(C.r(b.Fu)){if($){L.Y=G.tP;L.data={$:S.sn}}else D.data={$:t.i.kN,ul:"newproject"}}if(C.r(b.vrH)){D.data={$:t.i.rb};
C.reset()}if(C.r(b.XI)){D.data={$:t.i.vrR};C.reset()}if(C.r(b.Hb)){D.data={$:t.i.yN,Vh:rQ.cF}}if(C.r(b.v_n)&&Q=="down"){if($){if(_)D.data={$:t.i.kN,ul:"saveforweb"};
else D.data={$:t.i.ei}}else D.data={$:t.i.rJ}}if(C.r(b.n)){if($){L.Y=G.sI;L.data={$:"again"}}else D.data={$:t.i.TX,Y:G.sI}}if(C.r(b.vqA)){D.data={$:t.i.yy}}if(C.r(b.vvn)){this.pz.mb()}if(C.r(b.fu)){D.data={$:t.i.sj}}if(C.r(b.fl)||C.r(b.Tg)){L.Y=G.tP;
L.data={$:S.$E,zW:0};if(C.r(b.fl))L.data.zW=$?3:2;else L.data.zW=$?0:1}if(C.r(b.bA)&&j){L.Y=G.sT;L.data={$:"frompath",nh:[null,0,0]}}if(C.r(b.vKW)){d.data=G.QQ.la(0)}if(C.r(b.ft)){var H=this.dI.length;
if(H>1)this.pz.VB((this.pz.iL()+1)%H)}if(C.r(b.vtA)){D.data={$:t.i.yN,Vh:rQ.tY}}if(C.r(b.vKC)){D.data={$:t.i.yN,Vh:rQ.cC}}if(C.r(b.be)||C.r(b.vtn)){L.Y=G.Eq;
L.data={$:"zoom",Gb:!0}}if(C.r(b.fb)){L.Y=G.Eq;L.data={$:"zoom",Gb:!1}}if(C.r(b.vrK)){L.Y=G.Eq;L.data={$:"adapt",O:"fitscr"}}if(C.r(b.vzq)){L.Y=G.Eq;
L.data={$:"adapt",O:"pixel"}}if(this.Wp.vl()!=null&&this.Wp.vl().cX()){}else{if(L.data)this.Z(L);if(d.data)this.Z(d);
if(D.data)this.Z(D)}}if(!C.r(b.XE)&&!_&&!$&&Q=="down"){var L=new P(t.E.a),D=new P(t.E.m),B=this.Bq.map[this.hF.JT],m=-1;
for(var U=0;U<this.Bq.keys.length;U++)if(this.Bq.keys[U]&&this.iH(this.Bq.keys[U]))m=U;if(m!=-1){var Y;
if(B.Sb!=m)Y=this.Bq.As[m];if(B.Sb==m)Y=(B.vku+1)%this.Bq.HT[m].length;var q=this.Bq.HT[m][Y].Y.id,r=this.hF.vIB;
if((r==null||r.indexOf(parseInt(q))!=-1)&&!this.gu.gN)D.data={$:t.i.TX,Y:q}}if(C.r(b.fu))D.data={$:t.i.yN,Vh:rQ.TH,zW:2};
if(C.r(b.kh))D.data={$:t.i.yN,Vh:rQ.TH,zW:3};if(D.data)this.Z(D);if(j&&j.H.length!=0){var x=j.k[j.H[0]],a=x.IF;
if(a==1||a==3){var i=a==3?x.qv(j).A:x.oH(),l=i.me?j.R.oe.join("")=="111"?1:2:0;L.Y=G.Eq;if(i&&C.r(b.Fj)&&l!=0){L.data={$:"mskView",O:0}}if(i&&C.r(b.vtM)){L.data={$:"mskView",O:l==1?0:1}}if(i&&C.r(b.vbb)){L.data={$:"mskView",O:l==2?0:2}}if(L.data)this.Z(L)}}var M=C.Tl();
if(Z&&M!=-1&&this.iH(b.fX[M])){var z=j.H[0],x=j.k[z],V=t.vIU(Math.round(100*x.opacity/255),M);L.Y=G.tP;
L.data={$:S.$V,c:z,GE:Math.round(255*V/100)};this.Z(L)}if(C.r(b.ft))this.iX(this.Uo==0?1:0);if(C.r(b.VG))this.iX(this.Uo==0?2:0);
if(C.r(b.vKY)&&!this.gu.gN){L.Y=G.sT;L.data={$:"qmask"};this.Z(L)}}if(!C.r(b.XE)&&!_&&$){var L=new P(t.E.a),D=new P(t.E.m);
if(C.r(b.vKr))D.data={$:t.i.kN,ul:"shortcuts"};if(C.r(b.vjs))D.data={$:t.i.kN,ul:"fill"};if(C.r(b.vjd))D.data={$:t.i.kN,ul:"sel_feather"};
if(Z&&(C.r(b.be)||C.r(b.fb))){var z=j.H[0],x=j.k[z],X=rP.Cg,O=X.length,y=X.indexOf(x.gd);L.Y=G.tP;L.data={$:S.DN,GE:(y+O+(C.r(b.be)?1:-1))%O};
this.Z(L)}if(D.data)this.Z(D)}var L=new P(t.E.a),K=Q=="down"&&(this.iH(b.Ae)||this.iH(b.oC));if((F||_)&&K){L=new P(t.E.xD);
L.data=G.WR.Jh(F?"BckC":"FrgC");this.Z(L)}else if(j&&K&&!this.gu.gN){if(j.v!=null){L=new P(t.E.xD);L.data={$Q:"delete"}}else{L.Y=G.tP;
L.data={$:S.sV}}this.Z(L)}if(this.Wp.vl()!=null){if(C.r(b.Fj)){this.Wp.vl().vsM()}else{this.Wp.vl().ZZ(j,this,this.hF,C)}}if(this.hF.JT==null)return;
var B=this.Xf();if(this.Wp.vl()==null||this.Bq.VL)B.ZZ(j,this,this.hF,C)};_i.prototype.iH=function(Q){var C=this.xs,j=this.Bq.map[this.hF.JT].Y,top=this.Wp.vl(),Z=this.jW();
return C.r(Q)&&!j.Yy(Q,Z)&&(top==null||!top.Yy(Q,Z))};_i.vOc=function(){if(!document.mozFullScreen&&!document.vxr){var Q=document.body;
if(Q.mozRequestFullScreen){Q.mozRequestFullScreen()}else{Q.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{document.webkitCancelFullScreen()}}};
_i.prototype.iX=function(Q){var C=this.vbj,j=this.Ag;this.Uo=Q;var Z=t.sY,F=this.Sy.w;if(Z(F))this.ly.removeChild(F);
var _=this.Xv.w;if(Z(_))this.ly.removeChild(_);var $=this.Vj.w;if(Z($))C.removeChild($);var L=this.pz.w;
if(Z(L))C.removeChild(L);var D=this.$z.w;if(Z(D))C.removeChild(D);if(Q==0){this.ly.appendChild(F);this.ly.appendChild(_);
j.appendChild(C);C.appendChild($);C.appendChild(L);C.appendChild(D)}if(Q==1){this.ly.appendChild(F);
C.appendChild(L)}if(Q==2){C.appendChild(L)}this.pz.iX(Q==2?1:0);if(document.fullscreenEnabled){if(Q==2)document.body.requestFullscreen();
else if(document.fullscreenElement)document.exitFullscreen()}this.sO()};function tL(Q){rJ.call(this);
if(Q==null)return;this.fA=null;this.NE=null;this.w=t.e("div","sbar"+" "+Q);this.bl=new t.e("div","top");
this.bl.innerHTML="> <";this.w.appendChild(this.bl);this.X$=1;this.bl.addEventListener("click",this.vJW.bind(this),!1)}tL.prototype=new rJ;
tL.prototype.vJW=function(Q){if(this.fA!=null&&this.fA<500&&this.X$==0)return;if(this.X$==0)this.hY(!0);
else this.collapse(!0)};tL.prototype.vDw=function(Q){this.X$=Q;this.bl.innerHTML=this.X$==0?"< >":"> <"};
tL.prototype.v$S=function(){var Q=new P(t.E.m,!0);Q.data={$:t.i.zD};this.Z(Q)};tL.prototype.hY=function(Q){this.vDw(1);
if(Q)this.v$S()};tL.prototype.collapse=function(Q){this.vDw(0);if(Q)this.v$S()};tL.prototype.CK=function(){return this.X$==1};
function ve(Q){tL.call(this,"vcolumn");this.bg=Q;this.CX();this.bY=t.e("div");this.bY.setAttribute("style","cursor:default;");
this.vbu=this.vJK.bind(this);this.vps=this.vJz.bind(this);this.vpH=this.vJp.bind(this);t.BF(this.w,this.vbu);
this.w.appendChild(this.bY);this.Ay=t.e("div","");this.bY.appendChild(this.Ay);this.Xr=null;this.XQ=t.e("div","float");
this.qk=[];this.vsb=null;this.vsu=0}ve.prototype=new tL;ve.prototype.vJK=function(Q){if(Q.target!=this.w)return;
if(!this.CK())return;this.vsb=t.Gp(Q,document.body);this.vsu=this.bg;t.og(document,this.vps);t.oF(document,this.vpH)};
ve.prototype.vJz=function(Q){var C=t.Gp(Q,document.body);this.bg=this.vsu+this.vsb.x-C.x;this.CX();var j=new P(t.E.m,!0);
j.data={$:t.i.zD};this.Z(j)};ve.prototype.vJp=function(Q){t.wf(document,this.vps);t.Ab(document,this.vpH)};
ve.prototype.vJs=function(Q){Q.p("showFloat",this.v$T,this);Q.p("hideFloat",this.Nv,this);this.qk.push(Q);
Q.parent=this;this.bY.appendChild(Q.w)};ve.prototype.vJc=function(Q){var C=this.qk[Q];C.removeEventListener("showFloat",this.v$T,this);
C.removeEventListener("hideFloat",this.Nv,this);this.qk.splice(Q,1);C.parent=null;this.bY.removeChild(C.w)};
ve.prototype.vJH=function(){return this.qk.length};ve.prototype.LS=function(){for(var Q=0;Q<this.qk.length;
Q++)this.qk[Q].LS()};ve.prototype.v$T=function(Q){this.Nv(Q);this.Ay.appendChild(this.XQ);this.Xr=Q.currentTarget.VR;
this.XQ.appendChild(this.Xr);var C=Q.currentTarget.Hs(),j="";if(C.x!=0)j+="width : "+C.x+"px;";if(C.y!=0)j+="height: "+C.y+"px;";
this.XQ.setAttribute("style",j);this.b_(this.fA,this.NE)};ve.prototype.Nv=function(Q){this.LS();if(this.Xr){this.Ay.removeChild(this.XQ);
this.XQ.removeChild(this.Xr);this.Xr=null}};ve.prototype.CX=function(){this.w.setAttribute("style","width: "+this.bg+"px; padding-left:3px; cursor:ew-resize;")};
ve.prototype.hY=function(Q){this.CX();this.Nv();for(var C=0;C<this.qk.length;C++)this.qk[C].hY();tL.prototype.hY.call(this,Q)};
ve.prototype.collapse=function(Q){this.w.removeAttribute("style");for(var C=0;C<this.qk.length;C++)this.qk[C].collapse();
tL.prototype.collapse.call(this,Q)};ve.prototype.b_=function(Q,C){this.fA=Q;this.NE=C;var j=this.qk.length,Z=this.CK();
C-=6;if(j==0)return;Q=this.bg;var F=C;for(var _=0;_<j-1;_++){var $=this.qk[_],L=$.vTq();$.b_(Q,Z?L:C);
F-=L}this.qk[j-1].b_(Q,Z?F:C)};function DJ(Q){rJ.call(this);this.w=t.e("div");this.bY=null;this.CJ=0;
this.ZQ=0;this.vEO=Q;this.vKV=this.GF.bind(this);this.vEl=this.LC.bind(this);this.vEI=this.CB.bind(this);
this.ry=null;this.XS=null;this.Ax=null;t.BF(this.w,this.vKV);var C=this.w,Z="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
C.addEventListener("touchmove",t.Wj,!1);this.vIC=!0;this.VP=[];var j=this.vEE=t.e("div");j.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.w.appendChild(j);var F=["<img style=\"height:22px; cursor:pointer;\" title=\"Try Cartoon Animator!\" src=\"img/cta.png\" />",[0,13,3],[0,13,4],[0,13,5],"Blog","API",Z+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",Z+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var _=0;_<F.length;_++){var $=new rs(F[_]);this.VP.push($);$.w.setAttribute("style","margin-left:4px;cursor:pointer;");
$.p("click",this.Hc,this)}}DJ.prototype=new rJ;DJ.prototype.N=function(){var Q=this.vEE;t.pi(Q);for(var C=0;
C<this.VP.length;C++){var j=this.VP[C];j.N();var Z=Date.now()<1580658412982&&!ra.un();if(C!=0||Z)Q.appendChild(j.w)}};
DJ.prototype.Hc=function(Q){var C=this.VP.indexOf(Q.currentTarget);if(C==1){if(window.showCap)window.showCap();
return}var j="CTA  issues learn blog api twitter facebook".split(" "),Z="//bit.ly/34sCf9r  //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //twitter.com/photopeacom //www.facebook.com/photopea/".split(" "),F=window.ga;
if(F)F("send","event","Links",j[C]);var _=new P(t.E.m,!0);_.data={$:t.i.xO,link:Z[C]};this.Z(_)};DJ.prototype.GF=function(Q){if(Q.vKE){Q.preventDefault();
Q.stopPropagation()}var C=window;t.og(C,this.vEl);t.oF(C,this.vEI);C=this.bY;this.ry=new Wn(parseInt(C.style.left),parseInt(C.style.top));
this.XS=t.Gp(Q,this.w);this.Ax=C.getBoundingClientRect()};DJ.prototype.LC=function(Q){var C=t.Gp(Q,this.w),j=this.ry.x+C.x-this.XS.x,Z=this.ry.y+C.y-this.XS.y,F=this.CJ-this.Ax.width,_=this.ZQ-this.Ax.height;
if(this.vEO)this.bY.style.left=Math.min(0,Math.max(F,j))+"px";else this.bY.style.top=Math.min(0,Math.max(_,Z))+"px";
if(j-10>0){this.XS.x=C.x-10;this.ry.x=0}if(j+10<F){this.XS.x=C.x+10;this.ry.x=F}};DJ.prototype.CB=function(Q){var C=window;
t.wf(C,this.vEl);t.Ab(C,this.vEI)};DJ.prototype.vJA=function(Q){if(this.bY){this.w.removeChild(this.bY)}this.bY=Q;
this.w.appendChild(Q);Q.style.position="absolute";if(this.vEO)Q.style.left=0;else Q.style.top=0};DJ.prototype.b_=function(Q,C){this.CJ=Q;
this.ZQ=C;this.w.setAttribute("style","width: "+Q+"px; height: "+C+"px; overflow:hidden; white-space: nowrap;");
var j=this.bY.firstChild,Z=this.vEE,F=j?j.firstChild.getBoundingClientRect().width+80:1e9,_=450,$=this.vIC&&Q>F+_,L=t.ej,D=L("b`bRH"),d=L("SU\\VOAV");
Z[D][d]=$?"":L("][WK")};function _P(){rJ.call(this);this.VO=null;this.fC=_P.XI;this.vEY="";this.w=t.e("div","rightbar");
this.uU=[new ve(380),new ve(265)];this.qk=[new _z,new _z,new _z,new _z,new _z];this.vEc=[]}_P.prototype=new rJ;
_P.prototype.N=function(){var Q=this.fC;for(var C=0;C<Q.length;C++)Q[C].kU.N()};_P.XI=[{kU:new QX,fE:2},{kU:new _k,fE:3},{kU:new Db,fE:1},{kU:new DI(!0),fE:4},{kU:new Dc,fE:0},{kU:new vl,fE:2},{kU:new $F,fE:4},{kU:new vN,fE:4},{kU:new Dk,fE:2},{kU:new DM,fE:0},{kU:new vC,fE:2},{kU:new _h,fE:1},{kU:new DP,fE:3},{kU:new $u,fE:2},{kU:new DI(!1),fE:4},{kU:new QI,fE:1},{kU:new $O,fE:4},{kU:new _r,fE:2},{kU:new $V,fE:0}];
_P.prototype.vJU=function(Q){for(var C=0;C<Q.length;C++){var j=Q[C],Z=new $x(j);this.fC.push({kU:Z,fE:2});
this.vEc.push(Z.Ct)}this.MT()};_P.prototype.VD=function(Q,C){this.VO=Q;var j=this.fC;for(var Z=0;Z<j.length;
Z++)j[Z].kU.VD(Q,C);if(C==rQ.XW||C==rQ.yY)this.MT()};_P.prototype.b_=function(Q,C){this.fA=Q;this.NE=C;
this.uU[0].b_(Q,C);this.uU[1].b_(Q,C)};_P.prototype.MT=function(){var Q=this.VO,C=this.fA;if(Q==null||C==0)return;
var j=Q.ar.concat(this.vEc);if(JSON.stringify(j)!=this.vEY){this.vEY=JSON.stringify(j);t.pi(this.w);
var Z=[];for(var F=0;F<this.uU.length;F++){var _=this.uU[F];Z[F]=_.CK();while(_.vJH()!=0)_.vJc(0);_.hY()}var $=[];
for(var F=0;F<this.qk.length;F++){var L=this.qk[F];L.hY();while(L.vTC()!=0)L.if(0);$.push(0)}for(var F=0;
F<j.length;F++){var D=this.v_E(j[F].toString());this.qk[D.fE].iY(D.kU);this.qk[D.fE].VB(0);$[D.fE]++}var d=[];
for(var F=0;F<$.length;F++){if($[F]==0)continue;var o=F<2||C<500?1:0,_=this.uU[o];_.parent=this;_.vJs(this.qk[F]);
d[o]=!0}for(var F=0;F<this.uU.length;F++)if(d[F])this.w.appendChild(this.uU[F].w);this.uU[0].collapse();
if(C<500||this.VO.compact||!Z[1]){this.uU[1].collapse()}var v=new P(t.E.m,!0);v.data={$:t.i.zD};this.Z(v)}};
_P.prototype.v_E=function(Q){for(var C=0;C<this.fC.length;C++)if(this.fC[C].kU.Ct==Q)return this.fC[C]};
_P.prototype.vJM=function(Q){var C=this.v_E(Q);this.qk[C.fE].iY(C.kU)};_P.prototype.Ik=function(Q,C,j){var Z=this.fC;
for(var F=0;F<Z.length;F++)Z[F].kU.Ik(Q,C,j)};_P.prototype.yi=function(Q,C,j,Z,F){var _=this.fC;for(var $=0;
$<_.length;$++)_[$].kU.yi(Q,C,j,Z,F)};_P.prototype.eF=function(Q,C,j,Z,F){var _=this.fC;for(var $=0;
$<_.length;$++)_[$].kU.eF(Q,C,j,Z,F)};_P.prototype._c=function(Q,C,j,Z,F){var _=this.fC;for(var $=0;
$<_.length;$++)_[$].kU._c(Q,C,j,Z,F)};function tR(Q,C){tL.call(this,"toolbar");this.vdX=null;this.fe=t.e("div","tools");
this.w.appendChild(this.fe);this.rd=null;this.vKm=C;this.sP=null;this.Bq=null;this.$K=null;this.nq=null;
this.ZL=null;this.v_a(Q);this.pd=new vy;this.pd.p(t.E.U,this.eJ,this);this.pd.parent=this;this.JD=new vy;
this.JD.p(t.E.U,this.eJ,this);this.JD.parent=this;this.qj=new rs(t.Pr("lrs/mask"),!1,[6,6,1]);this.qj.w.style.marginTop="6px";
this.qj.p("click",function(Z){var F=new P(t.E.a,!0);F.Y=G.sT;F.data={$:"qmask"};this.Z(F)},this);this.AF=t.e("span","scont");
this.XT=t.e("button","switch");this.XT.textContent="\u21F5";this.bV=t.e("button","switch");this.bV.textContent="D";
var j=this.vIl.bind(this);this.XT.addEventListener("click",j,!1);this.bV.addEventListener("click",j,!1);
this.AF.appendChild(this.XT);this.AF.appendChild(this.bV)}tR.prototype=new tL;tR.prototype.vIr=function(Q,C){this.sP=C;
if(Q==null||Q.H.length==0)return;var j=Q.qj()!=null,Z=Q.R.oe,F=Q.k[Q.H[0]].IF,_=F==1||F==3||j||Z[0]+Z[1]+Z[2]==1;
this.pd.vtP(_);this.JD.vtP(_);this.qj.t(j)};tR.prototype.v_a=function(Q){this.vdX=Q;this.$K=[];this.nq=[];
this.ZL=[];this.Bq=[];var C=Q.HT;if(this.rd){var j=[],Z=this.rd.vIB;for(var F=0;F<C.length;F++){if(C[F]=="---"){j.push("---");
continue}var _=[];for(var $=0;$<C[F].length;$++){var L=C[F][$];if(Z==null||Z.indexOf(parseInt(L.Y.id))!=-1)_.push(L)}if(_.length>0)j.push(_)}C=j}for(var F=0;
F<C.length;F++){if(C[F]=="---"){this.ZL.push(null);this.nq.push("---");continue}var D=[],d=this.$K.length;
for(var $=0;$<C[F].length;$++){var L=C[F][$].Y;this.Bq.push(L);var o=new DE(L.name,Q.keys[F],L.Fy,this.$K.length,F,C[F].length>1);
this.$K.push(o);if($==0)this.nq.push(o);o.p(t.E.U,this._q,this);o.p("mover",this.Ec,this);D.push({name:L.name,Ca:L.Fy,Gw:Q.keys[F]?Q.keys[F]._X:""})}if(D.length==1)this.ZL.push(null);
else{var v=new QG(D);v.vKy=d;v.Sb=F;this.ZL.push(v);v.p("select",this.vIK,this);v.parent=this}}};tR.prototype.b_=function(Q,C){var j=C-11,Z=32;
if(1<t.s()&&t.s()<1.5)Z=18+14*(1/t.s());var F=(this.nq.length-3)*Z+3*5+61+18,_=Math.min(1,j/F);if(.75<=_){this.fe.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+_+","+_+");");
this.w.setAttribute("style","height:"+(C-2)+"px; overflow:hidden")}else{j-=4;this.fe.setAttribute("style","height: "+j+"px;  width:"+Math.ceil(F/j)*34+"px");
this.w.setAttribute("style","")}};tR.prototype.N=function(){for(var Q=0;Q<this.$K.length;Q++)this.$K[Q].N();
for(var Q=0;Q<this.ZL.length;Q++)if(this.ZL[Q])this.ZL[Q].N();this.XT.setAttribute("title",rT.get([22,7,0])+" (X)");
this.bV.setAttribute("title",rT.get([22,7,1])+" (D)")};tR.prototype._q=function(Q){var C=new P(t.E.m,!0);
C.data={$:t.i.TX,Y:this.Bq[Q.id].id};this.Z(C)};tR.prototype.vIK=function(Q){var C=Q.target.vKy+Q.target.X_()[0];
this.$K[C].CB(null)};tR.prototype.Ec=function(Q){var C=this.sP,j=new P(t.E.m,!0);j.data={$:t.i.pM};this.Z(j);
var Z=Q.target,F=this.ZL[Z.Sb];if(F==null)return;var _=Z.w.getBoundingClientRect(),j=new P(t.E.m,!0);
j.data={$:t.i.Ko,kU:F,x:_.left+_.width+8,y:_.top};if(C==null||!(C.r(b.pG)||C.r(b.XE)))this.Z(j)};tR.prototype.eJ=function(Q){var C=new P(t.E.m,!0);
C.data={$:t.i.yN,Vh:rQ.TH,zW:Q.target==this.pd?0:1,O:Q.target.dp()};this.Z(C)};tR.prototype.vIl=function(Q){var C=new P(t.E.m,!0);
C.data={$:t.i.yN,Vh:rQ.TH,zW:Q.currentTarget==this.XT?2:3};this.Z(C)};tR.prototype.eH=function(Q){var C=-1;
for(var j=0;j<this.Bq.length;j++)if(this.Bq[j].id==Q)C=j;for(var j=0;j<this.$K.length;j++){var Z=this.$K[j];
Z.vIs(C==j)}if(C==-1)return;this.nq[this.$K[C].Sb]=this.$K[C];t.pi(this.fe);var F=this.nq;for(var j=0;
j<F.length;j++){if(F[j]=="---")this.fe.appendChild(t.e("hr"));else this.fe.appendChild(F[j].w)}if(!this.vKm)return;
this.fe.appendChild(this.pd.w);this.fe.appendChild(this.AF);this.fe.appendChild(this.JD.w);this.fe.appendChild(this.qj.w)};
tR.prototype.Ik=function(Q,C){this.eH(C.JT)};tR.prototype.VD=function(Q,C){this.rd=Q;if(C==rQ.yY){this.v_a(this.vdX);
this.eH(Q.JT)}this.pd.fN(Q.pd);this.JD.fN(Q.JD)};function DE(Q,C,j,Z,F,_){rJ.call(this);this.dy=0;this.vKF=this.vIg.bind(this);
this.Sb=F;this.fT=Z;this.Lv=Q;this.vdy=C;this.vKZ=_;this.Fy=j;this.w=t.e("button","");this.w.innerHTML=t.Pr(this.Fy);
if(this.vKZ){var $=t.e("img","gsicon");$.setAttribute("src",PIMG["tools/corner"]);$.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.w.appendChild($)}this.N();t.BF(this.w,this.GF.bind(this));this.w.addEventListener("click",this.CB.bind(this),!1);
this.w.addEventListener("contextmenu",DE.QZ,!1)}DE.prototype=new rJ;DE.QZ=function(Q){Q.stopPropagation();
Q.preventDefault();return!1};DE.prototype.N=function(){var Q=this.vdy?" ("+this.vdy._X+")":"";this.w.setAttribute("title",rT.get(this.Lv)+Q)};
DE.prototype.GF=function(Q){this.dy=setTimeout(this.vKF,160)};DE.prototype.CB=function(Q){clearTimeout(this.dy);
var C=new P(t.E.U,!1);C.target=this;C.id=this.fT;this.Z(C)};DE.prototype.vIg=function(Q){var C=new P("mover",!1);
C.target=this;C.id=this.fT;this.Z(C)};DE.prototype.vIs=function(Q){this.w.setAttribute("class",Q?"toolbtn active":"toolbtn")};
function _Y(){rJ.call(this);this.w=t.e("div","topbar");this.bT=t.e("span","");this.vdw=0;this.w.appendChild(this.bT);
this.hP=null;this.AC=null;this.PR=[];this.ar=[];var Q=this.GF.bind(this);for(var C=0;C<_Y.data.length;
C++){var j=t.e("button");this.PR.push(j);this.bT.appendChild(j);j.addEventListener("mouseover",Q,!1);
t.BF(j,Q)}this.Tb=new rs([0,13,0],!1,null,!0);this.Tb.p("click",this.vtv,this);this.w.appendChild(this.Tb.w);
this.Xp=new rs(t.Pr("tools/zoom",null,"autoscale"),!1,[12,86]);this.Xp.p("click",this.vtv,this);this.w.appendChild(this.Xp.w)}_Y.prototype=new rJ;
_Y.prototype.v_F=function(){if(this.ar.length!=0)return;for(var Q=0;Q<_Y.data.length;Q++){var C=_Y.data[Q],j=new QG(C.items,C.Q$);
j.parent=this;this.ar.push(j)}this.N()};_Y.prototype.N=function(){this.Tb.N();this.Xp.N();for(var Q=0;
Q<this.PR.length;Q++)this.PR[Q].textContent=rT.get(_Y.data[Q].name);this.vto();for(var Q=0;Q<this.ar.length;
Q++)this.ar[Q].N()};_Y.prototype.vtv=function(Q){var C=new P(t.E.m,!0);if(Q.target==this.Tb)C.data={$:t.i.kN,ul:"account"};
else C.data={$:t.i.EW};this.Z(C)};_Y.prototype.vIE=function(Q,C){this.hP=Q;this.AC=C};_Y.prototype.VD=function(Q,C){this.AC=Q;
if(C==rQ.yY){var j=Q.vbi;t.pi(this.bT);for(var Z=0;Z<this.PR.length;Z++){if(j==null||j[Z]==1||j[Z]instanceof Array)this.bT.appendChild(this.PR[Z]);
if(j!=null&&j[Z]instanceof Array){this.v_F();this.ar[Z].viG(j[Z])}}this.w.removeChild(this.Tb.w);this.w.removeChild(this.Xp.w);
if(Q.SE)this.w.appendChild(this.Tb.w);this.w.appendChild(this.Xp.w)}this.vto()};_Y.prototype.vto=function(Q,C){var j=this.Tb,Z=12255232;
if(ra.ZY())Z=ra.un()?43520:16755200;j.w.setAttribute("style","color:#ffffff; background-color:#"+e.vY(Z))};
_Y.prototype.GF=function(Q){this.v_F();var C=this.PR.indexOf(Q.currentTarget),j=this.ar[C];if(Q.type=="mouseover"&&!t.sY(this.ar[this.vdw].w))return;
if(t.sY(j.w))return;Q.vKE=!0;this.vdw=C;for(var C=0;C<_Y.data.length;C++)this.ar[C].update(this.hP,this.AC);
var Z=Q.target.getBoundingClientRect(),F=new P(t.E.m,!0);F.data={$:t.i.Ko,kU:j,x:Z.left,y:Z.top+Z.height+2,vbO:!0};
this.Z(F)};_Y.vKB=function(Q){var C={name:[0,5],items:[{name:[7,0],Gw:"Ctrl+A"},{name:[7,1],Gw:"Ctrl+D",F:function(Z){return{F:Z!=null&&Z.v!=null}}},{name:[7,2],Gw:"Shift+Ctrl+I",F:function(Z){return{F:Z!=null&&Z.v!=null}},ui:!0},{name:[7,11],qm:!0,F:function(Z){return{F:Z!=null&&Z.H.length!=0&&!Z.k[Z.H[0]].rect.jJ()}}},{name:"Magic Cut",qm:!0,F:function(Z){return{F:Z!=null&&Z.H.length!=0&&!Z.k[Z.H[0]].rect.jJ()}},ui:!0},{name:[7,8],qm:!0},{name:[7,3],ui:!0,sub:[{name:[7,9],qm:!0,F:function(Z){return{F:Z!=null&&Z.v!=null}}},{name:[19,3,0],qm:!0,F:function(Z){return{F:Z!=null&&Z.v!=null}}},{name:[7,4],qm:!0,F:function(Z){return{F:Z!=null&&Z.v!=null}}},{name:[7,5],qm:!0,F:function(Z){return{F:Z!=null&&Z.v!=null}}},{name:[7,6],qm:!0,F:function(Z){return{F:Z!=null&&Z.v!=null}},Gw:"Shift+F6"}]},{name:[7,10],F:function(Z){return{F:Z!=null&&Z.v!=null}}}],Q$:[{T:t.E.xD,I:G.jT.fU(!0)},{T:t.E.xD,I:G.jT.fU()},{T:t.E.xD,I:{$Q:"inverse"}},{T:t.E.m,I:{$:t.i.kN,ul:"redge"}},{T:t.E.m,I:{$:t.i.kN,ul:"magiccut"}},{T:t.E.m,I:{$:t.i.kN,ul:"crange"}},{sub:[{T:t.E.m,I:{$:t.i.kN,ul:"sel_border"}},{T:t.E.m,I:{$:t.i.kN,ul:"sel_smoothness"}},{T:t.E.m,I:{$:t.i.kN,ul:"sel_expand"}},{T:t.E.m,I:{$:t.i.kN,ul:"sel_contract"}},{T:t.E.m,I:{$:t.i.kN,ul:"sel_feather"}}]},{T:t.E.m,I:{$:t.i.TX,Y:G.Ch}}]};
if(Q){var j=C.items.length-1;C.items.splice(j,0,{name:[10,16],Gw:"Alt+Ctrl + T"});C.Q$.splice(j,0,{T:t.E.m,I:{$:t.i.TX,Y:G.sI}})}return C};
_Y.data=[{name:[0,0],items:[{name:[5,3],Gw:"Alt+Ctrl+N",title:[11,7],qm:!0},{name:[1,0],Gw:"Ctrl+O",qm:!0},{name:[1,11],qm:!0,F:function(Q,C){return{F:Q!=null}}},{name:[1,5],qm:!0,ui:!0},{name:[11,0]},{name:[1,1],ui:!0,sub:[{name:"PNG",Gw:"Imgur.com",F:function(Q,C){return{F:Q!=null&&C.UG}}},{name:"PSD",Gw:"Photopea.com",F:function(Q,C){return{F:Q!=null&&C.UG}}}]},{name:"Save ...",Gw:"Ctrl+S",F:function(Q,C){var j=rT.get([1,2])+(Q==null?"":Q.ae?" (Smart Object)":Q.mv?" (Google Drive)":"");
return{F:Q!=null&&(Q.ae!=null||Q.yZ!=null&&Q.yZ.dB!=null||Q.mv!=null||C.SK.save!=null),yC:j}}},{name:[1,3],F:function(Q,C){return{F:Q!=null&&C.UG}}},{name:[1,8],sub:function(){var Q=vX.hf(0),C=[];
for(var j=0;j<Q.length;j++)C.push({name:Q[j],Gw:"."+Q[j].toLowerCase()});C.push({name:[0,14],sub:function(){var Q=vX.hf(1),C=[];
for(var j=0;j<Q.length;j++)C.push({name:Q[j],Gw:"."+Q[j].toLowerCase()});return C}()});return C}()},{name:[1,9],qm:!0,F:function(Q,C){return{F:Q!=null}},ui:!0},{name:"File Info",qm:!0,F:function(Q,C){return{F:Q!=null}},ui:!0,Gw:"Alt+Shift+Ctrl+I"},{name:[1,10]}],Q$:[{T:t.E.m,I:{$:t.i.kN,ul:"newproject"}},{T:t.E.m,I:{$:t.i.rb}},{T:t.E.m,I:{$:t.i.rb,vIL:!0}},{T:t.E.m,I:{$:t.i.kN,ul:"open_from_url"}},{T:t.E.m,I:{$:t.i.kN,ul:"camera"}},{sub:[{T:t.E.m,I:{$:t.i.sb,Hp:"png"}},{T:t.E.m,I:{$:t.i.sb,Hp:"psd"}}]},{T:t.E.m,I:{$:t.i.rJ}},{T:t.E.m,I:{$:t.i.ei}},{sub:function(){var Q=vX.hf(0),C=[];
for(var j=0;j<Q.length;j++)C.push({T:t.E.m,I:{$:t.i.kN,ul:"saveforweb",Hp:j}});C.push({sub:function(){var Z=vX.hf(0).length,Q=vX.hf(1),C=[];
for(var j=0;j<Q.length;j++)C.push({T:t.E.m,I:{$:t.i.kN,ul:"saveforweb",Hp:Z+j}});return C}()});return C}()},{T:t.E.m,I:{$:t.i.kN,ul:"eassets"}},{T:t.E.m,I:{$:t.i.kN,ul:"finfo"}},{T:t.E.m,I:{$:t.i.kN,ul:"script"}}]},{name:[0,1],items:[{name:[2,8]},{name:[2,0],Gw:"Shift+Ctrl + Z"},{name:[2,1],Gw:"Ctrl + Z",ui:!0},{name:[2,11],Gw:"Shift+Ctrl + F",ui:!0,qm:!0,F:function(Q,C){return{F:Dj.vvZ(Q)&&C.JT!=G.sI}}},{name:[5,0],Gw:"Ctrl + X"},{name:[5,1],Gw:"Ctrl + C"},{name:[5,7],Gw:"Shift + Ctrl + C"},{name:[5,2],Gw:"Ctrl + V",F:function(Q,C){return{F:t.WN()||C.$d!=null||C.nQ!=null||C.vIY!=null}}},{name:[2,2],F:function(Q){return{F:Q!=null&&Q.v!=null}},Gw:"Delete",ui:!0},{name:[2,3],F:function(Q){return{F:Q!=null}},qm:!0,Gw:"Shift + F5"},{name:[14,9],F:function(Q){return{F:Q!=null}},qm:!0,ui:!0},{name:[10,46],F:function(Q){return{F:G.gq.vQj(Q)}}},{name:[10,16],Gw:"Alt+Ctrl + T"},{name:[2,4],sub:Ql.vQQ()},{name:[2,10],ui:!0},{name:[12,87],sub:[{name:[12,62],F:function(Q){return{F:Q!=null}}},{name:[9,3],F:function(Q){return{F:Q!=null}}},{name:[10,31],F:function(Q){return{F:Q!=null&&Q.H.length!=0&&Q.k[Q.H[0]].add.vmsk!=null}}}]},{name:[12,79],qm:!0,Gw:"Ctrl + K"},{name:[1,13],qm:!0}],Q$:[{T:t.E.a,Y:G.fo,I:{$:"h_undoredo"}},{T:t.E.a,Y:G.fo,I:{$:"h_stepfwd"}},{T:t.E.a,Y:G.fo,I:{$:"h_stepbck"}},{T:t.E.m,I:{$:t.i.kN,ul:"afw_fade"}},{T:t.E.m,I:{$:t.i.sj}},{T:t.E.m,I:{$:t.i.rI}},{T:t.E.m,I:{$:t.i.rI,Ce:!0}},{T:t.E.m,I:{$:t.i.yy}},{T:t.E.xD,I:{$Q:"delete"}},{T:t.E.m,I:{$:t.i.kN,ul:"fill"}},{T:t.E.m,I:{$:t.i.kN,ul:"stroke"}},{T:t.E.a,Y:G.yz,I:{$:"start",qI:"\0\0\x03\x82"}},{T:t.E.m,I:{$:t.i.TX,Y:G.sI}},{sub:Ql.vQq()},{T:t.E.a,Y:G.tP,I:{$:S.vKw}},{sub:[{T:t.E.m,I:{$:t.i.zT,Vh:0}},{T:t.E.m,I:{$:t.i.zT,Vh:1}},{T:t.E.m,I:{$:t.i.zT,Vh:2}}]},{T:t.E.m,I:{$:t.i.kN,ul:"preferences"}},{T:t.E.m,I:{$:t.i.kN,ul:"locstor"}}]},{name:[0,2],items:[{name:[3],sub:function(){var Q=[];
for(var C in rY.names){Q.push({name:rY.names[C],qm:n[C]!=null,Gw:b.vtR(rY.keys[C]),ui:rY.vTE.indexOf(C)!=-1});
if(C=="selc")Q.push({name:[19,7,0],Gw:"Ctrl+Shift + U"})}return Q}()},{name:[4,16,0],F:function(Q){return{F:Q!=null&&Q.TE(!1)}}},{name:[4,16,1],F:function(Q){return{F:Q!=null&&Q.TE(!1)}}},{name:[4,16,2],F:function(Q){return{F:Q!=null&&Q.TE(!1)}},ui:!0},{name:[11,11],F:function(Q){return{F:Q!=null&&Q.TE(!1)}},ui:!0},{name:[11,3],qm:!0,Gw:"Alt+Ctrl+C"},{name:[11,10],qm:!0,Gw:"Alt+Ctrl+I"},{name:[2,4],sub:[{name:"90\xB0 \u21BB",F:function(Q){return{yC:rT.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",F:function(Q){return{yC:rT.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",F:function(Q){return{yC:rT.get([2,5])+" 180\xB0"}}},{name:[2,6,[22,4,2]]},{name:[2,6,[22,4,3]]}]},{name:[11,12,1],F:function(Q){return{F:Q!=null&&Q.v!=null}}},{name:[11,12,0],F:function(Q){return{F:Q!=null}},Gw:"Ctrl + ."},{name:[11,12,2],F:function(Q){return{F:Q!=null}}}],Q$:[{sub:function(){var Q=[];
for(var C in rY.names){Q.push({T:t.E.a,Y:G.MF,I:{$:"start",Ra:C}});if(C=="selc")Q.push({T:t.E.xD,I:{$Q:"desaturate"}})}return Q}()},{T:t.E.xD,I:{$Q:"levels",aa:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{T:t.E.xD,I:{$Q:"levels",aa:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{T:t.E.xD,I:{$Q:"levels",aa:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{T:t.E.m,I:{$:t.i.kN,ul:"vbitmap"}},{T:t.E.m,I:{$:t.i.kN,ul:"csize"}},{T:t.E.m,I:{$:t.i.kN,ul:"isize"}},{sub:[{T:t.E.xD,I:G.S.EU(!0,90)},{T:t.E.xD,I:G.S.EU(!0,-90)},{T:t.E.xD,I:G.S.EU(!0,-180)},{T:t.E.xD,I:G.S.EU(!1,"Hrzn")},{T:t.E.xD,I:G.S.EU(!1,"Vrtc")}]},{T:t.E.a,Y:G.Eu,I:{$:"cropbysel",vRW:0}},{T:t.E.xD,I:G.QQ.la(0)},{T:t.E.xD,I:{$Q:"revealAll",aa:{classID:"RvlA"}}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3]},{name:[0,4]},{name:[6,49],Gw:"Ctrl + J"}]},{name:[6,0],Gw:"Ctrl + J"},{name:[11,4],F:function(Q){return{F:Q!=null}}},{name:[5,4],ui:!0},{name:[11,6],ui:!0,F:function(Q){return{F:Q!=null&&Q.H.length!=0}},sub:_x.vsn(!0)},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],ui:!0,sub:_x.v$B()},{name:[6,2],sub:[{name:[6,4],F:function(Q){return{F:Q!=null&&Q.H.length!=0&&Q.k[Q.H[0]].oH()==null}}},{name:[6,5,0],F:function(Q){return{F:Q!=null&&Q.H.length!=0&&Q.k[Q.H[0]].oH()==null}}},{name:[6,5,1],F:function(Q){return{F:Q!=null&&Q.H.length!=0&&Q.k[Q.H[0]].oH()==null&&Q.v!=null}}},{name:[6,5,2],F:function(Q){return{F:Q!=null&&Q.H.length!=0&&Q.k[Q.H[0]].oH()==null&&Q.v!=null}}},{name:[6,5,3],F:function(Q){return{F:Q!=null&&Q.H.length!=0&&Q.k[Q.H[0]].oH()==null}},ui:!0},{name:[5,4],F:function(Q){return{F:Q!=null&&Q.H.length!=0&&Q.k[Q.H[0]].oH()!=null}}},{name:[5,8],F:function(Q){return{F:Q!=null&&Q.H.length!=0&&Q.k[Q.H[0]].oH()!=null&&Q.TE(!1,!0)}}},{name:"Enable/Disable",F:function(Q){return{yC:rT.get([5,5])+"/"+rT.get([5,6]),F:Q!=null&&Q.H.length!=0&&Q.k[Q.H[0]].oH()!=null}}}]},{name:[6,3],sub:[{name:[6,4],F:function(Q){return{F:Q!=null&&Q.H.length!=0&&Q.k[Q.H[0]].add.vmsk==null}}},{name:[6,5,0],F:function(Q){return{F:Q!=null&&Q.H.length!=0&&Q.k[Q.H[0]].add.vmsk==null}}},{name:[5,4],F:function(Q){return{F:Q!=null&&Q.H.length!=0&&Q.k[Q.H[0]].add.vmsk!=null}}},{name:"Enable/Disable",F:function(Q){return{yC:rT.get([5,5])+"/"+rT.get([5,6]),F:Q!=null&&Q.H.length!=0&&Q.k[Q.H[0]].add.vmsk!=null}}}]},{name:[6,6,0],Gw:"Alt+Ctrl+G",ui:!0,F:function(Q){return{H$:Q!=null&&Q.H.length!=0&&Q.k[Q.H[0]].kK,F:Q!=null&&Q.oh(Q.H[0])}}},{name:"Smart Object",ui:!0,sub:[{name:[6,7]},{name:[1,0],F:function(Q){return{F:Q!=null&&Q.H.length!=0&&Q.k[Q.H[0]].add.SoLd!=null}}}]},{name:[6,8],F:function(Q){if(Q==null||Q.H.length==0)return{F:!1};
var C=Q.k[Q.H[0]];if(C.add.TySh||C.add.SoLd||C.add.SoCo||C.add.GdFl||C.add.PtFl)return{F:!0};return{F:!1}}},{name:[6,34],ui:!0,F:function(Q){if(Q==null||Q.H.length==0)return{F:!1};
var C=Q.k[Q.H[0]];return{F:C.add.lmfx!=null&&!C.Hd()}}},{name:[6,9],ui:!0,Gw:"Ctrl+G"},{name:[6,55],ui:!0,sub:[{name:[6,56,0],Gw:"Shift+Ctrl+]"},{name:[6,56,1],Gw:"Ctrl+]"},{name:[6,56,2],Gw:"Ctrl+["},{name:[6,56,3],Gw:"Shift+Ctrl+["}]},{name:"Animation",sub:[{name:[18,5]}]},{name:[6,10],F:function(Q){return{F:Q!=null&&Q.H.length==1&&Q.H[0]!=0&&!Q.k[Q.H[0]].Hd()}},Gw:"Ctrl+E"},{name:[6,12,0],F:function(Q){return{F:Q!=null&&Q.H.length!=0&&(Q.H.length>1||Q.k[Q.H[0]].Hd())}}},{name:[6,12,1]}],Q$:[{sub:[{T:t.E.a,Y:G.tP,I:{$:S.sn}},{T:t.E.a,Y:G.tP,I:{$:S.oq}},{T:t.E.a,Y:G.tP,I:{$:S.$g}}]},{T:t.E.a,Y:G.tP,I:{$:S.sN}},{T:t.E.m,I:{$:t.i.kN,ul:"duplinto"}},{T:t.E.a,Y:G.tP,I:{$:S.sV}},{sub:_x.vyL(!0)},{sub:[{T:t.E.a,Y:G.Cu,I:{$:"newfill",BL:0}},{T:t.E.xD,I:G.da.Jh(1)},{T:t.E.xD,I:G.da.Jh(2)}]},{sub:_x.v$c()},{sub:[{T:t.E.a,Y:G.tP,I:{$:S.q$,t$:"RvlA"}},{T:t.E.a,Y:G.tP,I:{$:S.q$,t$:"HdAl"}},{T:t.E.a,Y:G.tP,I:{$:S.q$,t$:"RvlS"}},{T:t.E.a,Y:G.tP,I:{$:S.q$,t$:"HdSl"}},{T:t.E.a,Y:G.tP,I:{$:S.q$,t$:"Trns"}},{T:t.E.a,Y:G.tP,I:{$:S.aS}},{T:t.E.a,Y:G.tP,I:{$:S.uf}},{T:t.E.a,Y:G.tP,I:{$:S.DV}}]},{sub:[{T:t.E.a,Y:G.tP,I:{$:S.Dd,vRJ:!1}},{T:t.E.a,Y:G.tP,I:{$:S.Dd,vRJ:!0}},{T:t.E.a,Y:G.tP,I:{$:S.aH}},{T:t.E.a,Y:G.tP,I:{$:S.az}}]},{T:t.E.a,Y:G.tP,I:{$:S.$R}},{sub:[{T:t.E.xD,I:{$Q:"newPlacedLayer"}},{T:t.E.xD,I:{$Q:"placedLayerEditContents",aa:{classID:"placedLayerEditContents"}}}]},{T:t.E.xD,I:{$Q:"rasterizeLayer",aa:{classID:"rasterizeLayer",null:_R.Ub("Lyr",!0)}}},{T:t.E.a,Y:G.tP,I:{$:S.uZ}},{T:t.E.a,Y:G.tP,I:{$:S.Ru}},{sub:[{T:t.E.a,Y:G.tP,I:{$:S.$E,zW:0}},{T:t.E.a,Y:G.tP,I:{$:S.$E,zW:1}},{T:t.E.a,Y:G.tP,I:{$:S.$E,zW:2}},{T:t.E.a,Y:G.tP,I:{$:S.$E,zW:3}}]},{sub:[{T:t.E.a,Y:G.tP,I:{$:S.vjD}}]},{T:t.E.a,Y:G.tP,I:{$:S.vM}},{T:t.E.a,Y:G.tP,I:{$:S.Kb}},{T:t.E.xD,I:{$Q:"flattenImage"}}]},_Y.vKB(!1),function(){var Q={name:[0,6],items:[{name:[24,18,4],Gw:"Alt + Ctrl + F",ui:!0}],Q$:[{T:t.E.a,Y:G.yz,I:{$:"applylast"}}]};
for(var C=0;C<vr.vB.length;C++){var j=vr.vB[C];if(j.hv!=null){Q.items.push({name:vr.names[j.hv],qm:!0,ui:j.ui});
Q.Q$.push({T:t.E.a,Y:G.yz,I:{$:"start",qI:j.hv}});continue}var Z={name:j.cr,sub:[]};Q.items.push(Z);
var F={sub:[]};Q.Q$.push(F);for(var _=0;_<j.Fs.length;_++){var $={name:vr.names[j.Fs[_]],qm:vr._j(j.Fs[_])!=null};
Z.sub.push($);var L={T:t.E.a,Y:G.yz,I:{$:"start",qI:j.Fs[_]}};F.sub.push(L)}}return Q}(),{name:[0,7],items:[{name:[8,0],Gw:"Ctrl + +"},{name:[8,1],Gw:"Ctrl + -"},{name:[20,3],Gw:"Ctrl + 0"},{name:[20,2],Gw:"Ctrl + 1",ui:!0},{name:"Extras",Gw:"Ctrl + H",F:function(Q,C){return{H$:C.ag}}},{name:[8,12],ui:!0,sub:[{name:[17,2],F:function(Q,C){return{F:C.ag,H$:C.ZD.tI}}},{name:[8,9],F:function(Q,C){return{F:C.ag,H$:C.ZD.te}}},{name:[8,2],F:function(Q,C){return{F:C.ag,H$:C.ZD.Wi}},Gw:"Ctrl + ;"},{name:[8,4],F:function(Q,C){return{F:C.ag,H$:C.ZD.RU}},Gw:"Ctrl + '"},{name:[8,8],F:function(Q,C){return{F:C.ag,H$:C.ZD.Us}}},{name:[8,11,0],F:function(Q,C){return{F:C.ag,H$:C.ZD.Dl}}}]},{name:[8,3],F:function(Q,C){return{H$:C.XZ}},Gw:"Ctrl + R",ui:!0},{name:[8,5],F:function(Q,C){return{H$:C.nt}}},{name:[8,6],ui:!0,sub:[{name:[8,2],F:function(Q,C){return{H$:C.bx[0]}}},{name:[8,4],F:function(Q,C){return{H$:C.bx[1]}}},{name:[8,11,0],F:function(Q,C){return{H$:C.bx[3]}}},{name:[8,7],F:function(Q,C){return{H$:C.bx[4]}}}]},{name:[11,15,0],F:function(Q,C){return{F:Q!=null}}},{name:[11,14],F:function(Q,C){return{F:Q!=null}},qm:!0},{name:[11,15,1],F:function(Q,C){return{F:Q!=null&&Q.H.length!=0}}}],Q$:[{T:t.E.a,Y:G.Eq,I:{$:"zoom",Gb:!0}},{T:t.E.a,Y:G.Eq,I:{$:"zoom",Gb:!1}},{T:t.E.a,Y:G.Eq,I:{$:"adapt",O:"fitscr"}},{T:t.E.a,Y:G.Eq,I:{$:"adapt",O:"pixel"}},{T:t.E.m,I:{$:t.i.yN,Vh:rQ.vq}},{sub:[{T:t.E.m,I:{$:t.i.yN,Vh:rQ.cn}},{T:t.E.m,I:{$:t.i.yN,Vh:rQ.Xu}},{T:t.E.m,I:{$:t.i.yN,Vh:rQ.tY}},{T:t.E.m,I:{$:t.i.yN,Vh:rQ.cC}},{T:t.E.m,I:{$:t.i.yN,Vh:rQ.Ti}},{T:t.E.m,I:{$:t.i.yN,Vh:rQ.cH}}]},{T:t.E.m,I:{$:t.i.yN,Vh:rQ.cF}},{T:t.E.m,I:{$:t.i.yN,Vh:rQ.vgj}},{sub:[{T:t.E.m,I:{$:t.i.yN,Vh:rQ.tf,eo:0}},{T:t.E.m,I:{$:t.i.yN,Vh:rQ.tf,eo:1}},{T:t.E.m,I:{$:t.i.yN,Vh:rQ.tf,eo:3}},{T:t.E.m,I:{$:t.i.yN,Vh:rQ.tf,eo:4}}]},{T:t.E.a,Y:G.hj,I:{$:"gids",CP:[[],[]]}},{T:t.E.m,I:{$:t.i.kN,ul:"addguides"}},{T:t.E.a,Y:G.hj,I:{$:"gidsFromLayer"}}]},function(){var Q={name:[0,8],items:[],Q$:[]};
for(var C=0;C<_P.XI.length;C++){var j=_P.XI[C];Q.items.push({name:j.kU.name});Q.Q$.push({T:t.E.m,I:{$:t.i.yP,ul:j.kU.Ct}})}return Q}(),function(){var Q={name:[0,14],items:[],Q$:[]},C={name:[0,9],sub:[]};
Q.items.push(C);var j={sub:[]};Q.Q$.push(j);var Z=rT.vDe();for(var F=0;F<Z.length;F++){var _=Z[F],$=_.code,L=rT.UJ($);
C.sub.push({name:_.name,Gw:$,F:function(D,d){return{H$:this.Gw==rT.Uk()}}});j.sub.push({T:t.E.m,I:{$:t.i.yN,Vh:rQ.fQ,lang:L}})}C.sub.push({name:[0,12]});
j.sub.push({T:t.E.m,I:{$:t.i.xO,link:"https://www.photopea.com/translate/"}});var C={name:[0,15],sub:[]};
Q.items.push(C);var j={sub:[]};Q.Q$.push(j);for(var F=0;F<D_.dF.length;F++){C.sub.push({name:D_.dF[F].name,F:function(D,d){return{H$:this.name==D_.dF[d.Fz].name}}});
j.sub.push({T:t.E.m,I:{$:t.i.yN,Vh:rQ.tU,Fz:F}})}Q.items.push({name:"Install Photopea",F:function(D,d){return{F:d.dM!=null}}});
Q.Q$.push({T:t.E.m,I:{$:t.i.vqr}});Q.items.push({name:[11,13]});Q.Q$.push({T:t.E.m,I:{$:t.i.kN,ul:"shortcuts"}});
Q.items.push({name:[0,16],F:function(D){return{H$:E.bs,F:E.ze}}});Q.Q$.push({T:t.E.m,I:{$:t.i.vjJ}});
return Q}()];function QU(){rJ.call(this);this.w=t.e("div","");this.CJ=0;this.ZQ=0;this.VO=null;this.fE=t.e("div","");
this.fE.setAttribute("style","width:200em; height:100em; position:absolute;");this.Fe=[];this.ad=[]}QU.prototype=new rJ;
QU.prototype.__=function(){this.ad=[new vJ,new WG,new WH,new DL,new Wc,new $$,new QW,new Dn,new b$,new th,new tb,new vc,new DH,new Dy,new tA,new _x,new bl,new bs,new DS,new DV,new Dt,new $T,new WP,new vP,new vh,new _e,new vq(0),new vq(1),new bz,new vT,new DR,new vZ("border",[7,9],"px"),new vZ("smoothness",[19,3,0],"px"),new vZ("expand",[7,4],"px"),new vZ("contract",[7,5],"px"),new vZ("feather",[7,6],"px"),new DN("namewindow",[12,48])];
for(var Q in n)this.ad.push(new Dj(Q));for(var C=0;C<this.ad.length;C++){var j=this.ad[C];j.p(t.E.Wu,this.Cw,this);
j.parent=this}};QU.prototype.b_=function(Q,C){this.CJ=Q;this.ZQ=C;for(var j=0;j<this.ad.length;j++)this.vjR(this.ad[j])};
QU.prototype.N=function(){for(var Q=0;Q<this.ad.length;Q++)this.ad[Q].N()};QU.prototype.vl=function(){return this.Fe.length==0?null:this.Fe[this.Fe.length-1]};
QU.prototype.cX=function(){for(var Q=0;Q<this.Fe.length;Q++)if(this.Fe[Q].cX())return!0;return!1};QU.prototype.vpb=function(Q,C,j,Z,F){if(this.ad.length==0){this.__();
this.b_(this.CJ,this.ZQ);this.N();if(this.VO)this.VD(this.VO,rQ.yY)}var _=null;if(typeof Q=="object"){_=Q;
if(!_.AY(t.E.Wu,this.Cw))_.p(t.E.Wu,this.Cw,this);_.parent=this}else for(var $=0;$<this.ad.length;$++)if(this.ad[$].id==Q)_=this.ad[$];
if(this.cX()&&_.cX()){alert("Finish the current action first");return}if(!_.Po(C))return;if(this.Fe.indexOf(_)!=-1){if(Q=="colorpicker")_.Ik(C,j,Z,F);
return}this.vjR(_);var L=this.Fe.length-1;if(L>=0)t._I(this.Fe[L].w,"wdisabled");this.w.appendChild(_.w);
this.Fe.push(_);_.Ik(C,j,Z,F)};QU.prototype.vjR=function(Q){var C=this.CJ,j=this.ZQ,Z=Q.eD(C,j);Q.w.style.left=Z.x+"px";
Q.w.style.top=this.w.offsetTop+Z.y+"px";Q.b_(this.CJ-Z.x*2,this.ZQ-Z.y*2-34)};QU.prototype.VD=function(Q,C){this.VO=Q;
for(var j=0;j<this.ad.length;j++)this.ad[j].VD(Q,C)};QU.prototype.Cw=function(Q){var C=this.Fe.pop();
this.w.removeChild(C.w);var j=this.Fe.length-1;if(j>=0)t.Zy(this.Fe[j].w,"wdisabled");if(this.fE.parentNode==this.w)this.w.removeChild(this.fE)};
window.onload=function(){var Q=new _i;document.body.appendChild(Q.w)}}())
